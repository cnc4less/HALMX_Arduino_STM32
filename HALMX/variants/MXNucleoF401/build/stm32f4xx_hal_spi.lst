ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 1


   1              		.syntax unified
   2              		.cpu cortex-m4
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 4
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.thumb
  14              		.file	"stm32f4xx_hal_spi.c"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.section	.text.SPI_WaitOnFlagUntilTimeout,"ax",%progbits
  19              		.align	1
  20              		.thumb
  21              		.thumb_func
  23              	SPI_WaitOnFlagUntilTimeout:
  24              	.LFB164:
  25              		.file 1 "Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c"
   1:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
   2:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   ******************************************************************************
   3:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @file    stm32f4xx_hal_spi.c
   4:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @author  MCD Application Team
   5:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @version V1.4.3
   6:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @date    11-December-2015
   7:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief   SPI HAL module driver.
   8:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *    
   9:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *          This file provides firmware functions to manage the following 
  10:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *          functionalities of the Serial Peripheral Interface (SPI) peripheral:
  11:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *           + Initialization and de-initialization functions
  12:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *           + IO operation functions
  13:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *           + Peripheral Control functions 
  14:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *           + Peripheral State functions
  15:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   @verbatim
  16:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   ==============================================================================
  17:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****                         ##### How to use this driver #####
  18:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   ==============================================================================
  19:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     [..]
  20:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       The SPI HAL driver can be used as follows:
  21:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
  22:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       (#) Declare a SPI_HandleTypeDef handle structure, for example:
  23:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           SPI_HandleTypeDef  hspi; 
  24:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
  25:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       (#)Initialize the SPI low level resources by implementing the HAL_SPI_MspInit ()API:
  26:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           (##) Enable the SPIx interface clock 
  27:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           (##) SPI pins configuration
  28:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****               (+++) Enable the clock for the SPI GPIOs 
  29:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****               (+++) Configure these SPI pins as alternate function push-pull
  30:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           (##) NVIC configuration if you need to use interrupt process
  31:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****               (+++) Configure the SPIx interrupt priority
  32:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****               (+++) Enable the NVIC SPI IRQ handle
  33:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           (##) DMA Configuration if you need to use DMA process
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 2


  34:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****               (+++) Declare a DMA_HandleTypeDef handle structure for the transmit or receive stream
  35:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****               (+++) Enable the DMAx interface clock using 
  36:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****               (+++) Configure the DMA handle parameters 
  37:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****               (+++) Configure the DMA Tx or Rx Stream
  38:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****               (+++) Associate the initialized hdma_tx handle to the hspi DMA Tx or Rx handle
  39:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****               (+++) Configure the priority and enable the NVIC for the transfer complete interrupt 
  40:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
  41:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       (#) Program the Mode, Direction , Data size, Baudrate Prescaler, NSS 
  42:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           management, Clock polarity and phase, FirstBit and CRC configuration in the hspi Init str
  43:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
  44:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       (#) Initialize the SPI registers by calling the HAL_SPI_Init() API:
  45:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           (++) This API configures also the low level Hardware GPIO, CLOCK, CORTEX...etc)
  46:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****               by calling the customized HAL_SPI_MspInit() API.
  47:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****      [..]
  48:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        Circular mode restriction:
  49:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       (#) The DMA circular mode cannot be used when the SPI is configured in these modes:
  50:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           (##) Master 2Lines RxOnly
  51:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           (##) Master 1Line Rx
  52:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       (#) The CRC feature is not managed when the DMA circular mode is enabled
  53:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       (#) When the SPI DMA Pause/Stop features are used, we must use the following APIs 
  54:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           the HAL_SPI_DMAPause()/ HAL_SPI_DMAStop() only under the SPI callbacks
  55:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
  56:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
  57:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             
  58:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   @endverbatim
  59:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   ******************************************************************************
  60:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @attention
  61:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *
  62:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * <h2><center>&copy; COPYRIGHT(c) 2015 STMicroelectronics</center></h2>
  63:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *
  64:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * Redistribution and use in source and binary forms, with or without modification,
  65:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * are permitted provided that the following conditions are met:
  66:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *   1. Redistributions of source code must retain the above copyright notice,
  67:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *      this list of conditions and the following disclaimer.
  68:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *   2. Redistributions in binary form must reproduce the above copyright notice,
  69:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *      this list of conditions and the following disclaimer in the documentation
  70:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *      and/or other materials provided with the distribution.
  71:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *   3. Neither the name of STMicroelectronics nor the names of its contributors
  72:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *      may be used to endorse or promote products derived from this software
  73:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *      without specific prior written permission.
  74:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *
  75:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
  76:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
  77:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
  78:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
  79:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
  80:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
  81:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
  82:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
  83:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
  84:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  85:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *
  86:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   ******************************************************************************
  87:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
  88:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
  89:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /* Includes ------------------------------------------------------------------*/
  90:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #include "stm32f4xx_hal.h"
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 3


  91:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
  92:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /** @addtogroup STM32F4xx_HAL_Driver
  93:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @{
  94:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
  95:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
  96:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /** @defgroup SPI SPI 
  97:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief SPI HAL module driver
  98:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @{
  99:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
 100:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 101:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #ifdef HAL_SPI_MODULE_ENABLED
 102:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 103:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /* Private typedef -----------------------------------------------------------*/
 104:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /* Private define ------------------------------------------------------------*/
 105:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #define SPI_TIMEOUT_VALUE  10
 106:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /* Private macro -------------------------------------------------------------*/
 107:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /* Private variables ---------------------------------------------------------*/
 108:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /* Private function prototypes -----------------------------------------------*/
 109:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /** @addtogroup SPI_Private_Functions
 110:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @{
 111:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
 112:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_TxCloseIRQHandler(SPI_HandleTypeDef *hspi);
 113:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_TxISR(SPI_HandleTypeDef *hspi);
 114:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_RxCloseIRQHandler(SPI_HandleTypeDef *hspi);
 115:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_2LinesRxISR(SPI_HandleTypeDef *hspi);
 116:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_RxISR(SPI_HandleTypeDef *hspi);
 117:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_DMAEndTransmitReceive(SPI_HandleTypeDef *hspi); 
 118:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_DMATransmitCplt(DMA_HandleTypeDef *hdma);
 119:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_DMAReceiveCplt(DMA_HandleTypeDef *hdma);
 120:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_DMATransmitReceiveCplt(DMA_HandleTypeDef *hdma);
 121:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_DMAHalfTransmitCplt(DMA_HandleTypeDef *hdma);
 122:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_DMAHalfReceiveCplt(DMA_HandleTypeDef *hdma);
 123:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_DMAHalfTransmitReceiveCplt(DMA_HandleTypeDef *hdma);
 124:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_DMAError(DMA_HandleTypeDef *hdma);
 125:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static HAL_StatusTypeDef SPI_WaitOnFlagUntilTimeout(SPI_HandleTypeDef *hspi, uint32_t Flag, FlagSta
 126:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
 127:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @}
 128:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
 129:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   
 130:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /* Exported functions --------------------------------------------------------*/
 131:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /** @defgroup SPI_Exported_Functions SPI Exported Functions
 132:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @{
 133:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
 134:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 135:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /** @defgroup SPI_Exported_Functions_Group1 Initialization and de-initialization functions 
 136:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****  *  @brief    Initialization and Configuration functions 
 137:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****  *
 138:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** @verbatim
 139:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****  ===============================================================================
 140:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****               ##### Initialization and de-initialization functions #####
 141:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****  ===============================================================================
 142:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     [..]  This subsection provides a set of functions allowing to initialize and 
 143:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           de-initialize the SPIx peripheral:
 144:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 145:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       (+) User must implement HAL_SPI_MspInit() function in which he configures 
 146:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           all related peripherals resources (CLOCK, GPIO, DMA, IT and NVIC ).
 147:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 4


 148:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       (+) Call the function HAL_SPI_Init() to configure the selected device with 
 149:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           the selected configuration:
 150:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         (++) Mode
 151:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         (++) Direction 
 152:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         (++) Data Size
 153:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         (++) Clock Polarity and Phase
 154:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         (++) NSS Management
 155:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         (++) BaudRate Prescaler
 156:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         (++) FirstBit
 157:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         (++) TIMode
 158:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         (++) CRC Calculation
 159:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         (++) CRC Polynomial if CRC enabled
 160:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 161:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       (+) Call the function HAL_SPI_DeInit() to restore the default configuration 
 162:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           of the selected SPIx peripheral.       
 163:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 164:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** @endverbatim
 165:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @{
 166:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
 167:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 168:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
 169:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Initializes the SPI according to the specified parameters 
 170:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *         in the SPI_InitTypeDef and create the associated handle.
 171:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
 172:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *                the configuration information for SPI module.
 173:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval HAL status
 174:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
 175:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Init(SPI_HandleTypeDef *hspi)
 176:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 177:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check the SPI handle allocation */
 178:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi == NULL)
 179:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 180:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     return HAL_ERROR;
 181:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 182:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 183:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check the parameters */
 184:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   assert_param(IS_SPI_MODE(hspi->Init.Mode));
 185:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   assert_param(IS_SPI_DIRECTION_MODE(hspi->Init.Direction));
 186:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   assert_param(IS_SPI_DATASIZE(hspi->Init.DataSize));
 187:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   assert_param(IS_SPI_CPOL(hspi->Init.CLKPolarity));
 188:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   assert_param(IS_SPI_CPHA(hspi->Init.CLKPhase));
 189:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   assert_param(IS_SPI_NSS(hspi->Init.NSS));
 190:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   assert_param(IS_SPI_BAUDRATE_PRESCALER(hspi->Init.BaudRatePrescaler));
 191:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   assert_param(IS_SPI_FIRST_BIT(hspi->Init.FirstBit));
 192:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   assert_param(IS_SPI_TIMODE(hspi->Init.TIMode));
 193:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   assert_param(IS_SPI_CRC_CALCULATION(hspi->Init.CRCCalculation));
 194:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   assert_param(IS_SPI_CRC_POLYNOMIAL(hspi->Init.CRCPolynomial));
 195:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 196:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->State == HAL_SPI_STATE_RESET)
 197:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 198:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Allocate lock resource and initialize it */
 199:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->Lock = HAL_UNLOCKED;
 200:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Init the low level hardware : GPIO, CLOCK, NVIC... */
 201:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     HAL_SPI_MspInit(hspi);
 202:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 203:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   
 204:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_BUSY;
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 5


 205:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 206:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Disable the selected SPI peripheral */
 207:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_SPI_DISABLE(hspi);
 208:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 209:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /*----------------------- SPIx CR1 & CR2 Configuration ---------------------*/
 210:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Configure : SPI Mode, Communication Mode, Data size, Clock polarity and phase, NSS management,
 211:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   Communication speed, First bit and CRC calculation state */
 212:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->Instance->CR1 = (hspi->Init.Mode | hspi->Init.Direction | hspi->Init.DataSize |
 213:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****                          hspi->Init.CLKPolarity | hspi->Init.CLKPhase | (hspi->Init.NSS & SPI_CR1_S
 214:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****                          hspi->Init.BaudRatePrescaler | hspi->Init.FirstBit  | hspi->Init.CRCCalcul
 215:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 216:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Configure : NSS management */
 217:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->Instance->CR2 = (((hspi->Init.NSS >> 16) & SPI_CR2_SSOE) | hspi->Init.TIMode);
 218:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 219:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /*---------------------------- SPIx CRCPOLY Configuration ------------------*/
 220:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Configure : CRC Polynomial */
 221:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->Instance->CRCPR = hspi->Init.CRCPolynomial;
 222:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 223:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Activate the SPI mode (Make sure that I2SMOD bit in I2SCFGR register is reset) */
 224:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->Instance->I2SCFGR &= (uint32_t)(~SPI_I2SCFGR_I2SMOD);
 225:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 226:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->ErrorCode = HAL_SPI_ERROR_NONE;
 227:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_READY;
 228:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   
 229:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   return HAL_OK;
 230:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 231:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 232:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
 233:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  DeInitializes the SPI peripheral 
 234:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
 235:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *                the configuration information for SPI module.
 236:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval HAL status
 237:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
 238:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_DeInit(SPI_HandleTypeDef *hspi)
 239:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 240:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check the SPI handle allocation */
 241:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi == NULL)
 242:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 243:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     return HAL_ERROR;
 244:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 245:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 246:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Disable the SPI Peripheral Clock */
 247:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_SPI_DISABLE(hspi);
 248:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 249:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* DeInit the low level hardware: GPIO, CLOCK, NVIC... */
 250:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   HAL_SPI_MspDeInit(hspi);
 251:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 252:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->ErrorCode = HAL_SPI_ERROR_NONE;
 253:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_RESET;
 254:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 255:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Release Lock */
 256:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
 257:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 258:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   return HAL_OK;
 259:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 260:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 261:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 6


 262:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief SPI MSP Init
 263:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
 264:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *                the configuration information for SPI module.
 265:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
 266:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
 267:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****  __weak void HAL_SPI_MspInit(SPI_HandleTypeDef *hspi)
 268:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****  {
 269:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
 270:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   UNUSED(hspi);
 271:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****    /* NOTE : This function Should not be modified, when the callback is needed,
 272:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             the HAL_SPI_MspInit could be implemented in the user file
 273:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****    */
 274:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 275:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 276:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
 277:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief SPI MSP DeInit
 278:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
 279:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *                the configuration information for SPI module.
 280:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
 281:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
 282:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****  __weak void HAL_SPI_MspDeInit(SPI_HandleTypeDef *hspi)
 283:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 284:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
 285:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   UNUSED(hspi);
 286:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* NOTE : This function Should not be modified, when the callback is needed,
 287:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             the HAL_SPI_MspDeInit could be implemented in the user file
 288:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****    */
 289:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 290:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 291:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
 292:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @}
 293:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
 294:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 295:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /** @defgroup SPI_Exported_Functions_Group2 IO operation functions
 296:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****  *  @brief   Data transfers functions
 297:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****  *
 298:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** @verbatim
 299:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   ==============================================================================
 300:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****                       ##### IO operation functions #####
 301:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****  ===============================================================================
 302:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     This subsection provides a set of functions allowing to manage the SPI
 303:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     data transfers.
 304:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 305:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     [..] The SPI supports master and slave mode :
 306:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 307:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     (#) There are two modes of transfer:
 308:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        (++) Blocking mode: The communication is performed in polling mode.
 309:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             The HAL status of all data processing is returned by the same function
 310:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             after finishing transfer.
 311:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        (++) No-Blocking mode: The communication is performed using Interrupts
 312:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****            or DMA, These APIs return the HAL status.
 313:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****            The end of the data processing will be indicated through the 
 314:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****            dedicated SPI IRQ when using Interrupt mode or the DMA IRQ when 
 315:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****            using DMA mode.
 316:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****            The HAL_SPI_TxCpltCallback(), HAL_SPI_RxCpltCallback() and HAL_SPI_TxRxCpltCallback() us
 317:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****            will be executed respectively at the end of the transmit or Receive process
 318:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****            The HAL_SPI_ErrorCallback()user callback will be executed when a communication error is 
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 7


 319:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 320:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     (#) APIs provided for these 2 transfer modes (Blocking mode or Non blocking mode using either I
 321:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         exist for 1Line (simplex) and 2Lines (full duplex) modes.
 322:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 323:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** @endverbatim
 324:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @{
 325:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
 326:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 327:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
 328:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Transmit an amount of data in blocking mode
 329:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
 330:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *                the configuration information for SPI module.
 331:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  pData: pointer to data buffer
 332:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  Size: amount of data to be sent
 333:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  Timeout: Timeout duration
 334:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval HAL status
 335:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
 336:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Transmit(SPI_HandleTypeDef *hspi, uint8_t *pData, uint16_t Size, uint32_t
 337:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 338:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 339:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->State == HAL_SPI_STATE_READY)
 340:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 341:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((pData == NULL ) || (Size == 0)) 
 342:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 343:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       return  HAL_ERROR;
 344:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 345:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 346:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Check the parameters */
 347:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     assert_param(IS_SPI_DIRECTION_2LINES_OR_1LINE(hspi->Init.Direction));
 348:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 349:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Process Locked */
 350:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_LOCK(hspi);
 351:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 352:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Configure communication */
 353:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_BUSY_TX;
 354:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 355:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 356:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->pTxBuffPtr = pData;
 357:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxXferSize = Size;
 358:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxXferCount = Size;
 359:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 360:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /*Init field not used in handle to zero */
 361:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxISR = 0;
 362:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxISR = 0;
 363:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxXferSize   = 0;
 364:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxXferCount  = 0;
 365:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 366:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Reset CRC Calculation */
 367:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 368:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 369:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       SPI_RESET_CRC(hspi);
 370:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 371:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 372:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.Direction == SPI_DIRECTION_1LINE)
 373:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 374:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Configure communication direction : 1Line */
 375:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       SPI_1LINE_TX(hspi);
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 8


 376:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 377:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 378:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Check if the SPI is already enabled */ 
 379:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((hspi->Instance->CR1 &SPI_CR1_SPE) != SPI_CR1_SPE)
 380:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 381:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Enable SPI peripheral */
 382:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       __HAL_SPI_ENABLE(hspi);
 383:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 384:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 385:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Transmit data in 8 Bit mode */
 386:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.DataSize == SPI_DATASIZE_8BIT)
 387:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 388:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if((hspi->Init.Mode == SPI_MODE_SLAVE)|| (hspi->TxXferCount == 0x01))
 389:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
 390:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->Instance->DR = (*hspi->pTxBuffPtr++);
 391:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->TxXferCount--;
 392:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
 393:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       while(hspi->TxXferCount > 0)
 394:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
 395:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         /* Wait until TXE flag is set to send data */
 396:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         if(SPI_WaitOnFlagUntilTimeout(hspi, SPI_FLAG_TXE, RESET, Timeout) != HAL_OK)
 397:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         { 
 398:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           return HAL_TIMEOUT;
 399:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         }
 400:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->Instance->DR = (*hspi->pTxBuffPtr++);
 401:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->TxXferCount--;
 402:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
 403:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Enable CRC Transmission */
 404:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE) 
 405:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
 406:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->Instance->CR1 |= SPI_CR1_CRCNEXT;
 407:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
 408:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 409:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Transmit data in 16 Bit mode */
 410:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     else
 411:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 412:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if((hspi->Init.Mode == SPI_MODE_SLAVE) || (hspi->TxXferCount == 0x01))
 413:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
 414:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->Instance->DR = *((uint16_t*)hspi->pTxBuffPtr);
 415:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->pTxBuffPtr+=2;
 416:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->TxXferCount--;
 417:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
 418:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       while(hspi->TxXferCount > 0)
 419:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
 420:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         /* Wait until TXE flag is set to send data */
 421:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         if(SPI_WaitOnFlagUntilTimeout(hspi, SPI_FLAG_TXE, RESET, Timeout) != HAL_OK)
 422:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         { 
 423:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           return HAL_TIMEOUT;
 424:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         }
 425:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->Instance->DR = *((uint16_t*)hspi->pTxBuffPtr);
 426:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->pTxBuffPtr+=2;
 427:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->TxXferCount--;
 428:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
 429:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Enable CRC Transmission */
 430:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE) 
 431:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
 432:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->Instance->CR1 |= SPI_CR1_CRCNEXT;
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 9


 433:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
 434:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 435:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 436:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Wait until TXE flag is set to send data */
 437:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(SPI_WaitOnFlagUntilTimeout(hspi, SPI_FLAG_TXE, RESET, Timeout) != HAL_OK)
 438:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 439:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->ErrorCode |= HAL_SPI_ERROR_FLAG;
 440:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       return HAL_TIMEOUT;
 441:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 442:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 443:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Wait until Busy flag is reset before disabling SPI */
 444:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(SPI_WaitOnFlagUntilTimeout(hspi, SPI_FLAG_BSY, SET, Timeout) != HAL_OK)
 445:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     { 
 446:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->ErrorCode |= HAL_SPI_ERROR_FLAG;
 447:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       return HAL_TIMEOUT;
 448:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 449:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****  
 450:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Clear OVERRUN flag in 2 Lines communication mode because received is not read */
 451:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.Direction == SPI_DIRECTION_2LINES)
 452:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 453:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       __HAL_SPI_CLEAR_OVRFLAG(hspi);
 454:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 455:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 456:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY; 
 457:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 458:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Process Unlocked */
 459:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_UNLOCK(hspi);
 460:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 461:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     return HAL_OK;
 462:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 463:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   else
 464:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 465:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     return HAL_BUSY;
 466:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 467:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 468:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 469:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
 470:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Receive an amount of data in blocking mode 
 471:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
 472:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *                the configuration information for SPI module.
 473:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  pData: pointer to data buffer
 474:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  Size: amount of data to be sent
 475:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  Timeout: Timeout duration
 476:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval HAL status
 477:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
 478:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Receive(SPI_HandleTypeDef *hspi, uint8_t *pData, uint16_t Size, uint32_t 
 479:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 480:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __IO uint16_t tmpreg;
 481:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   uint32_t tmp = 0;
 482:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 483:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->State == HAL_SPI_STATE_READY)
 484:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 485:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((pData == NULL ) || (Size == 0)) 
 486:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 487:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       return  HAL_ERROR;
 488:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 489:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 10


 490:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Process Locked */
 491:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_LOCK(hspi);
 492:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 493:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Configure communication */
 494:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->State       = HAL_SPI_STATE_BUSY_RX;
 495:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 496:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 497:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->pRxBuffPtr  = pData;
 498:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxXferSize  = Size;
 499:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxXferCount = Size;
 500:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 501:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /*Init field not used in handle to zero */
 502:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxISR = 0;
 503:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxISR = 0;
 504:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxXferSize   = 0;
 505:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxXferCount  = 0;
 506:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 507:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Configure communication direction : 1Line */
 508:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.Direction == SPI_DIRECTION_1LINE)
 509:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 510:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       SPI_1LINE_RX(hspi);
 511:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 512:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 513:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Reset CRC Calculation */
 514:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 515:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 516:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       SPI_RESET_CRC(hspi);
 517:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 518:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     
 519:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((hspi->Init.Mode == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES))
 520:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 521:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Process Unlocked */
 522:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       __HAL_UNLOCK(hspi);
 523:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 524:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Call transmit-receive function to send Dummy data on Tx line and generate clock on CLK lin
 525:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       return HAL_SPI_TransmitReceive(hspi, pData, pData, Size, Timeout);
 526:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 527:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 528:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Check if the SPI is already enabled */ 
 529:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((hspi->Instance->CR1 &SPI_CR1_SPE) != SPI_CR1_SPE)
 530:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 531:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Enable SPI peripheral */
 532:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       __HAL_SPI_ENABLE(hspi);
 533:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 534:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 535:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Receive data in 8 Bit mode */
 536:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.DataSize == SPI_DATASIZE_8BIT)
 537:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 538:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       while(hspi->RxXferCount > 1)
 539:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
 540:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         /* Wait until RXNE flag is set */
 541:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         if(SPI_WaitOnFlagUntilTimeout(hspi, SPI_FLAG_RXNE, RESET, Timeout) != HAL_OK)
 542:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         { 
 543:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           return HAL_TIMEOUT;
 544:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         }
 545:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 546:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         (*hspi->pRxBuffPtr++) = hspi->Instance->DR;
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 11


 547:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->RxXferCount--;
 548:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
 549:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Enable CRC Transmission */
 550:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE) 
 551:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
 552:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->Instance->CR1 |= SPI_CR1_CRCNEXT;
 553:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
 554:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 555:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Receive data in 16 Bit mode */
 556:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     else
 557:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 558:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       while(hspi->RxXferCount > 1)
 559:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
 560:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         /* Wait until RXNE flag is set to read data */
 561:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         if(SPI_WaitOnFlagUntilTimeout(hspi, SPI_FLAG_RXNE, RESET, Timeout) != HAL_OK)
 562:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         { 
 563:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           return HAL_TIMEOUT;
 564:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         }
 565:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 566:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         *((uint16_t*)hspi->pRxBuffPtr) = hspi->Instance->DR;
 567:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->pRxBuffPtr+=2;
 568:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->RxXferCount--;
 569:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
 570:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Enable CRC Transmission */
 571:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE) 
 572:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
 573:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->Instance->CR1 |= SPI_CR1_CRCNEXT;
 574:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
 575:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 576:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 577:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Wait until RXNE flag is set */
 578:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(SPI_WaitOnFlagUntilTimeout(hspi, SPI_FLAG_RXNE, RESET, Timeout) != HAL_OK)
 579:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     { 
 580:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       return HAL_TIMEOUT;
 581:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 582:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 583:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Receive last data in 8 Bit mode */
 584:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.DataSize == SPI_DATASIZE_8BIT)
 585:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 586:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       (*hspi->pRxBuffPtr++) = hspi->Instance->DR;
 587:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 588:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Receive last data in 16 Bit mode */
 589:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     else
 590:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 591:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       *((uint16_t*)hspi->pRxBuffPtr) = hspi->Instance->DR;
 592:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->pRxBuffPtr+=2;
 593:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 594:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxXferCount--;
 595:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 596:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Wait until RXNE flag is set: CRC Received */
 597:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 598:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 599:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if(SPI_WaitOnFlagUntilTimeout(hspi, SPI_FLAG_RXNE, RESET, Timeout) != HAL_OK)
 600:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
 601:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->ErrorCode |= HAL_SPI_ERROR_CRC;
 602:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         return HAL_TIMEOUT;
 603:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 12


 604:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 605:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Read CRC to Flush RXNE flag */
 606:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       tmpreg = hspi->Instance->DR;
 607:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       UNUSED(tmpreg);
 608:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 609:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     
 610:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((hspi->Init.Mode == SPI_MODE_MASTER)&&((hspi->Init.Direction == SPI_DIRECTION_1LINE)||(hspi-
 611:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 612:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Disable SPI peripheral */
 613:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       __HAL_SPI_DISABLE(hspi);
 614:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 615:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 616:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
 617:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 618:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     tmp = __HAL_SPI_GET_FLAG(hspi, SPI_FLAG_CRCERR);
 619:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Check if CRC error occurred */
 620:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE) && (tmp != RESET))
 621:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {  
 622:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->ErrorCode |= HAL_SPI_ERROR_CRC;
 623:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 624:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Reset CRC Calculation */
 625:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       SPI_RESET_CRC(hspi);
 626:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 627:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Process Unlocked */
 628:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       __HAL_UNLOCK(hspi);
 629:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 630:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       return HAL_ERROR; 
 631:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 632:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 633:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Process Unlocked */
 634:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_UNLOCK(hspi);
 635:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 636:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     return HAL_OK;
 637:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 638:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   else
 639:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 640:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     return HAL_BUSY;
 641:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 642:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 643:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 644:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
 645:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Transmit and Receive an amount of data in blocking mode 
 646:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
 647:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *                the configuration information for SPI module.
 648:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  pTxData: pointer to transmission data buffer
 649:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  pRxData: pointer to reception data buffer to be
 650:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  Size: amount of data to be sent
 651:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  Timeout: Timeout duration
 652:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval HAL status
 653:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
 654:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_TransmitReceive(SPI_HandleTypeDef *hspi, uint8_t *pTxData, uint8_t *pRxDa
 655:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 656:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __IO uint16_t tmpreg;
 657:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   uint32_t tmpstate = 0, tmp = 0;
 658:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   
 659:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   tmpstate = hspi->State; 
 660:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if((tmpstate == HAL_SPI_STATE_READY) || (tmpstate == HAL_SPI_STATE_BUSY_RX))
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 13


 661:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 662:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((pTxData == NULL ) || (pRxData == NULL ) || (Size == 0))
 663:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 664:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       return  HAL_ERROR;
 665:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 666:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 667:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Check the parameters */
 668:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     assert_param(IS_SPI_DIRECTION_2LINES(hspi->Init.Direction));
 669:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 670:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Process Locked */
 671:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_LOCK(hspi);
 672:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****  
 673:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Don't overwrite in case of HAL_SPI_STATE_BUSY_RX */
 674:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->State == HAL_SPI_STATE_READY)
 675:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 676:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->State = HAL_SPI_STATE_BUSY_TX_RX;
 677:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 678:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 679:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****      /* Configure communication */   
 680:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 681:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 682:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->pRxBuffPtr  = pRxData;
 683:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxXferSize  = Size;
 684:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxXferCount = Size;  
 685:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     
 686:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->pTxBuffPtr  = pTxData;
 687:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxXferSize  = Size; 
 688:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxXferCount = Size;
 689:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 690:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /*Init field not used in handle to zero */
 691:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxISR = 0;
 692:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxISR = 0;
 693:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 694:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Reset CRC Calculation */
 695:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 696:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 697:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       SPI_RESET_CRC(hspi);
 698:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 699:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 700:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Check if the SPI is already enabled */ 
 701:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((hspi->Instance->CR1 &SPI_CR1_SPE) != SPI_CR1_SPE)
 702:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 703:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Enable SPI peripheral */
 704:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       __HAL_SPI_ENABLE(hspi);
 705:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 706:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 707:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Transmit and Receive data in 16 Bit mode */
 708:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.DataSize == SPI_DATASIZE_16BIT)
 709:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 710:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if((hspi->Init.Mode == SPI_MODE_SLAVE) || ((hspi->Init.Mode == SPI_MODE_MASTER) && (hspi->TxX
 711:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
 712:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->Instance->DR = *((uint16_t*)hspi->pTxBuffPtr);
 713:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->pTxBuffPtr+=2;
 714:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->TxXferCount--;
 715:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
 716:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if(hspi->TxXferCount == 0)
 717:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 14


 718:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         /* Enable CRC Transmission */
 719:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 720:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         {
 721:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           hspi->Instance->CR1 |= SPI_CR1_CRCNEXT;
 722:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         }
 723:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 724:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         /* Wait until RXNE flag is set */
 725:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         if(SPI_WaitOnFlagUntilTimeout(hspi, SPI_FLAG_RXNE, RESET, Timeout) != HAL_OK)
 726:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         { 
 727:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           return HAL_TIMEOUT;
 728:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         }
 729:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 730:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         *((uint16_t*)hspi->pRxBuffPtr) = hspi->Instance->DR;
 731:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->pRxBuffPtr+=2;
 732:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->RxXferCount--;
 733:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
 734:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       else
 735:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
 736:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         while(hspi->TxXferCount > 0)
 737:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         {
 738:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           /* Wait until TXE flag is set to send data */
 739:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           if(SPI_WaitOnFlagUntilTimeout(hspi, SPI_FLAG_TXE, RESET, Timeout) != HAL_OK)
 740:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           { 
 741:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             return HAL_TIMEOUT;
 742:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           }
 743:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 744:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           hspi->Instance->DR = *((uint16_t*)hspi->pTxBuffPtr);
 745:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           hspi->pTxBuffPtr+=2;
 746:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           hspi->TxXferCount--;
 747:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 748:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           /* Enable CRC Transmission */
 749:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           if((hspi->TxXferCount == 0) && (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE))
 750:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           {
 751:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             hspi->Instance->CR1 |= SPI_CR1_CRCNEXT;
 752:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           }
 753:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 754:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           /* Wait until RXNE flag is set */
 755:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           if(SPI_WaitOnFlagUntilTimeout(hspi, SPI_FLAG_RXNE, RESET, Timeout) != HAL_OK)
 756:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           { 
 757:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             return HAL_TIMEOUT;
 758:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           }
 759:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           
 760:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           *((uint16_t*)hspi->pRxBuffPtr) = hspi->Instance->DR;
 761:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           hspi->pRxBuffPtr+=2;
 762:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           hspi->RxXferCount--;
 763:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         }
 764:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         /* Receive the last byte */
 765:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         if(hspi->Init.Mode == SPI_MODE_SLAVE)
 766:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         {
 767:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           /* Wait until RXNE flag is set */
 768:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           if(SPI_WaitOnFlagUntilTimeout(hspi, SPI_FLAG_RXNE, RESET, Timeout) != HAL_OK)
 769:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           {
 770:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             return HAL_TIMEOUT;
 771:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           }
 772:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           
 773:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           *((uint16_t*)hspi->pRxBuffPtr) = hspi->Instance->DR;
 774:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           hspi->pRxBuffPtr+=2;
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 15


 775:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           hspi->RxXferCount--;
 776:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         }
 777:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
 778:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 779:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Transmit and Receive data in 8 Bit mode */
 780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     else
 781:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 782:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if((hspi->Init.Mode == SPI_MODE_SLAVE) || ((hspi->Init.Mode == SPI_MODE_MASTER) && (hspi->TxX
 783:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
 784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->Instance->DR = (*hspi->pTxBuffPtr++);
 785:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->TxXferCount--;
 786:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
 787:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if(hspi->TxXferCount == 0)
 788:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
 789:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         /* Enable CRC Transmission */
 790:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 791:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         {
 792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           hspi->Instance->CR1 |= SPI_CR1_CRCNEXT;
 793:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         }
 794:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 795:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         /* Wait until RXNE flag is set */
 796:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         if(SPI_WaitOnFlagUntilTimeout(hspi, SPI_FLAG_RXNE, RESET, Timeout) != HAL_OK)
 797:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         {
 798:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           return HAL_TIMEOUT;
 799:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         }
 800:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 801:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         (*hspi->pRxBuffPtr) = hspi->Instance->DR;
 802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->RxXferCount--;
 803:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
 804:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       else
 805:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
 806:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         while(hspi->TxXferCount > 0)
 807:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         {
 808:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           /* Wait until TXE flag is set to send data */
 809:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           if(SPI_WaitOnFlagUntilTimeout(hspi, SPI_FLAG_TXE, RESET, Timeout) != HAL_OK)
 810:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           {
 811:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             return HAL_TIMEOUT;
 812:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           }
 813:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 814:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           hspi->Instance->DR = (*hspi->pTxBuffPtr++);
 815:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           hspi->TxXferCount--;
 816:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 817:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           /* Enable CRC Transmission */
 818:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           if((hspi->TxXferCount == 0) && (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE))
 819:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           {
 820:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             hspi->Instance->CR1 |= SPI_CR1_CRCNEXT;
 821:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           }
 822:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 823:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             /* Wait until RXNE flag is set */
 824:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             if(SPI_WaitOnFlagUntilTimeout(hspi, SPI_FLAG_RXNE, RESET, Timeout) != HAL_OK)
 825:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             {
 826:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****               return HAL_TIMEOUT;
 827:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             }
 828:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             
 829:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             (*hspi->pRxBuffPtr++) = hspi->Instance->DR;
 830:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             hspi->RxXferCount--;
 831:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         }
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 16


 832:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         if(hspi->Init.Mode == SPI_MODE_SLAVE)
 833:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         {
 834:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           /* Wait until RXNE flag is set */
 835:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           if(SPI_WaitOnFlagUntilTimeout(hspi, SPI_FLAG_RXNE, RESET, Timeout) != HAL_OK)
 836:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           {
 837:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             return HAL_TIMEOUT;
 838:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           }
 839:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           
 840:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           (*hspi->pRxBuffPtr++) = hspi->Instance->DR;
 841:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           hspi->RxXferCount--;
 842:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         }
 843:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
 844:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 845:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 846:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Read CRC from DR to close CRC calculation process */
 847:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 848:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 849:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Wait until RXNE flag is set */
 850:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if(SPI_WaitOnFlagUntilTimeout(hspi, SPI_FLAG_RXNE, RESET, Timeout) != HAL_OK)
 851:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
 852:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->ErrorCode |= HAL_SPI_ERROR_CRC;
 853:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         return HAL_TIMEOUT;
 854:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
 855:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Read CRC */
 856:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       tmpreg = hspi->Instance->DR;
 857:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       UNUSED(tmpreg);
 858:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 859:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 860:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Wait until Busy flag is reset before disabling SPI */
 861:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(SPI_WaitOnFlagUntilTimeout(hspi, SPI_FLAG_BSY, SET, Timeout) != HAL_OK)
 862:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 863:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->ErrorCode |= HAL_SPI_ERROR_FLAG;
 864:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       return HAL_TIMEOUT;
 865:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 866:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     
 867:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
 868:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 869:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     tmp = __HAL_SPI_GET_FLAG(hspi, SPI_FLAG_CRCERR);
 870:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Check if CRC error occurred */
 871:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE) && (tmp != RESET))
 872:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 873:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->ErrorCode |= HAL_SPI_ERROR_CRC;
 874:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 875:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Reset CRC Calculation */
 876:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 877:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
 878:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         SPI_RESET_CRC(hspi);
 879:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
 880:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 881:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Process Unlocked */
 882:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       __HAL_UNLOCK(hspi);
 883:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       
 884:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       return HAL_ERROR; 
 885:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 886:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 887:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Process Unlocked */
 888:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_UNLOCK(hspi);
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 17


 889:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 890:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     return HAL_OK;
 891:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 892:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   else
 893:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 894:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     return HAL_BUSY;
 895:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 896:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 897:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 898:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
 899:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Transmit an amount of data in no-blocking mode with Interrupt
 900:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
 901:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *                the configuration information for SPI module.
 902:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  pData: pointer to data buffer
 903:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  Size: amount of data to be sent
 904:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval HAL status
 905:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
 906:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Transmit_IT(SPI_HandleTypeDef *hspi, uint8_t *pData, uint16_t Size)
 907:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 908:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->State == HAL_SPI_STATE_READY)
 909:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 910:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((pData == NULL) || (Size == 0))
 911:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 912:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       return  HAL_ERROR;
 913:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 914:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 915:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Check the parameters */
 916:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     assert_param(IS_SPI_DIRECTION_2LINES_OR_1LINE(hspi->Init.Direction));
 917:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 918:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Process Locked */
 919:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_LOCK(hspi);
 920:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 921:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Configure communication */
 922:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->State        = HAL_SPI_STATE_BUSY_TX;
 923:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->ErrorCode    = HAL_SPI_ERROR_NONE;
 924:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 925:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxISR = &SPI_TxISR;
 926:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->pTxBuffPtr   = pData;
 927:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxXferSize   = Size;
 928:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxXferCount  = Size;
 929:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 930:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /*Init field not used in handle to zero */
 931:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxISR = 0;
 932:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxXferSize   = 0;
 933:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxXferCount  = 0;
 934:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 935:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Configure communication direction : 1Line */
 936:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.Direction == SPI_DIRECTION_1LINE)
 937:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 938:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       SPI_1LINE_TX(hspi);
 939:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 940:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 941:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Reset CRC Calculation */
 942:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 943:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 944:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       SPI_RESET_CRC(hspi);
 945:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 18


 946:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 947:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if (hspi->Init.Direction == SPI_DIRECTION_2LINES)
 948:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 949:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       __HAL_SPI_ENABLE_IT(hspi, (SPI_IT_TXE));
 950:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }else
 951:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 952:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Enable TXE and ERR interrupt */
 953:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       __HAL_SPI_ENABLE_IT(hspi, (SPI_IT_TXE | SPI_IT_ERR));
 954:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 955:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Process Unlocked */
 956:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_UNLOCK(hspi);
 957:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 958:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Check if the SPI is already enabled */ 
 959:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((hspi->Instance->CR1 &SPI_CR1_SPE) != SPI_CR1_SPE)
 960:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 961:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Enable SPI peripheral */
 962:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       __HAL_SPI_ENABLE(hspi);
 963:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 964:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 965:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     return HAL_OK;
 966:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 967:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   else
 968:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 969:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     return HAL_BUSY;
 970:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 971:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 972:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 973:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
 974:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Receive an amount of data in no-blocking mode with Interrupt
 975:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
 976:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *                the configuration information for SPI module.
 977:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  pData: pointer to data buffer
 978:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  Size: amount of data to be sent
 979:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval HAL status
 980:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
 981:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Receive_IT(SPI_HandleTypeDef *hspi, uint8_t *pData, uint16_t Size)
 982:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 983:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->State == HAL_SPI_STATE_READY)
 984:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 985:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((pData == NULL) || (Size == 0)) 
 986:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 987:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       return  HAL_ERROR;
 988:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 989:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 990:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Process Locked */
 991:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_LOCK(hspi);
 992:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 993:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Configure communication */
 994:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->State        = HAL_SPI_STATE_BUSY_RX;
 995:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->ErrorCode    = HAL_SPI_ERROR_NONE;
 996:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 997:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxISR = &SPI_RxISR;
 998:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->pRxBuffPtr   = pData;
 999:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxXferSize   = Size;
1000:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxXferCount  = Size ; 
1001:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1002:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****    /*Init field not used in handle to zero */
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 19


1003:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxISR = 0;
1004:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxXferSize   = 0;
1005:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxXferCount  = 0;
1006:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1007:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Configure communication direction : 1Line */
1008:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.Direction == SPI_DIRECTION_1LINE)
1009:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
1010:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        SPI_1LINE_RX(hspi);
1011:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
1012:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     else if((hspi->Init.Direction == SPI_DIRECTION_2LINES) && (hspi->Init.Mode == SPI_MODE_MASTER))
1013:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
1014:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        /* Process Unlocked */
1015:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        __HAL_UNLOCK(hspi);
1016:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1017:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        /* Call transmit-receive function to send Dummy data on Tx line and generate clock on CLK li
1018:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        return HAL_SPI_TransmitReceive_IT(hspi, pData, pData, Size);
1019:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
1020:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1021:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Reset CRC Calculation */
1022:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
1023:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
1024:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       SPI_RESET_CRC(hspi);
1025:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
1026:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1027:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Enable TXE and ERR interrupt */
1028:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_SPI_ENABLE_IT(hspi, (SPI_IT_RXNE | SPI_IT_ERR));
1029:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1030:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Process Unlocked */
1031:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_UNLOCK(hspi);
1032:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1033:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Note : The SPI must be enabled after unlocking current process 
1034:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****               to avoid the risk of SPI interrupt handle execution before current
1035:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****               process unlock */
1036:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1037:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         /* Check if the SPI is already enabled */ 
1038:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((hspi->Instance->CR1 &SPI_CR1_SPE) != SPI_CR1_SPE)
1039:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
1040:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Enable SPI peripheral */
1041:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       __HAL_SPI_ENABLE(hspi);
1042:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
1043:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1044:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     return HAL_OK;
1045:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1046:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   else
1047:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1048:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     return HAL_BUSY; 
1049:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1050:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
1051:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1052:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
1053:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Transmit and Receive an amount of data in no-blocking mode with Interrupt 
1054:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
1055:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *                the configuration information for SPI module.
1056:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  pTxData: pointer to transmission data buffer
1057:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  pRxData: pointer to reception data buffer to be
1058:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  Size: amount of data to be sent
1059:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval HAL status
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 20


1060:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
1061:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_TransmitReceive_IT(SPI_HandleTypeDef *hspi, uint8_t *pTxData, uint8_t *pR
1062:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
1063:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****  uint32_t tmpstate = 0;
1064:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1065:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****  tmpstate = hspi->State;
1066:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if((tmpstate == HAL_SPI_STATE_READY) || \
1067:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****      ((hspi->Init.Mode == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES) && (tm
1068:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1069:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((pTxData == NULL ) || (pRxData == NULL ) || (Size == 0)) 
1070:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
1071:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       return  HAL_ERROR;
1072:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
1073:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1074:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Check the parameters */
1075:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     assert_param(IS_SPI_DIRECTION_2LINES(hspi->Init.Direction));
1076:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1077:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Process locked */
1078:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_LOCK(hspi);
1079:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1080:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Don't overwrite in case of HAL_SPI_STATE_BUSY_RX */
1081:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->State != HAL_SPI_STATE_BUSY_RX)
1082:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
1083:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->State = HAL_SPI_STATE_BUSY_TX_RX;
1084:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
1085:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1086:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Configure communication */
1087:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->ErrorCode    = HAL_SPI_ERROR_NONE;
1088:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1089:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxISR = &SPI_TxISR;
1090:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->pTxBuffPtr   = pTxData;
1091:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxXferSize   = Size;
1092:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxXferCount  = Size;
1093:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1094:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxISR = &SPI_2LinesRxISR;
1095:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->pRxBuffPtr   = pRxData;
1096:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxXferSize   = Size;
1097:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxXferCount  = Size;
1098:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1099:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Reset CRC Calculation */
1100:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
1101:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
1102:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       SPI_RESET_CRC(hspi);
1103:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
1104:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1105:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Enable TXE, RXNE and ERR interrupt */
1106:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_SPI_ENABLE_IT(hspi, (SPI_IT_TXE | SPI_IT_RXNE | SPI_IT_ERR));
1107:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1108:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Process Unlocked */
1109:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_UNLOCK(hspi);
1110:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1111:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Check if the SPI is already enabled */ 
1112:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((hspi->Instance->CR1 &SPI_CR1_SPE) != SPI_CR1_SPE)
1113:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
1114:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Enable SPI peripheral */
1115:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       __HAL_SPI_ENABLE(hspi);
1116:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 21


1117:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1118:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     return HAL_OK;
1119:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1120:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   else
1121:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1122:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     return HAL_BUSY; 
1123:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1124:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
1125:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1126:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
1127:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Transmit an amount of data in no-blocking mode with DMA
1128:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
1129:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *                the configuration information for SPI module.
1130:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  pData: pointer to data buffer
1131:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  Size: amount of data to be sent
1132:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval HAL status
1133:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
1134:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Transmit_DMA(SPI_HandleTypeDef *hspi, uint8_t *pData, uint16_t Size)
1135:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
1136:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->State == HAL_SPI_STATE_READY)
1137:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1138:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((pData == NULL) || (Size == 0))
1139:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
1140:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       return  HAL_ERROR;
1141:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
1142:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1143:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Check the parameters */
1144:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     assert_param(IS_SPI_DIRECTION_2LINES_OR_1LINE(hspi->Init.Direction));
1145:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1146:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Process Locked */
1147:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_LOCK(hspi);
1148:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1149:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Configure communication */
1150:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->State       = HAL_SPI_STATE_BUSY_TX;
1151:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
1152:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1153:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->pTxBuffPtr  = pData;
1154:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxXferSize  = Size;
1155:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxXferCount = Size;
1156:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1157:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /*Init field not used in handle to zero */
1158:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxISR = 0;
1159:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxISR = 0;
1160:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxXferSize   = 0;
1161:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxXferCount  = 0;
1162:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1163:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Configure communication direction : 1Line */
1164:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.Direction == SPI_DIRECTION_1LINE)
1165:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
1166:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       SPI_1LINE_TX(hspi);
1167:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
1168:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1169:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Reset CRC Calculation */
1170:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
1171:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
1172:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       SPI_RESET_CRC(hspi);
1173:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 22


1174:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1175:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Set the SPI TxDMA Half transfer complete callback */
1176:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->hdmatx->XferHalfCpltCallback = SPI_DMAHalfTransmitCplt;
1177:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     
1178:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Set the SPI TxDMA transfer complete callback */
1179:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->hdmatx->XferCpltCallback = SPI_DMATransmitCplt;
1180:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1181:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Set the DMA error callback */
1182:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->hdmatx->XferErrorCallback = SPI_DMAError;
1183:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1184:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Enable the Tx DMA Stream */
1185:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     HAL_DMA_Start_IT(hspi->hdmatx, (uint32_t)hspi->pTxBuffPtr, (uint32_t)&hspi->Instance->DR, hspi-
1186:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1187:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Process Unlocked */
1188:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_UNLOCK(hspi);
1189:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1190:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Check if the SPI is already enabled */ 
1191:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((hspi->Instance->CR1 &SPI_CR1_SPE) != SPI_CR1_SPE)
1192:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
1193:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Enable SPI peripheral */
1194:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       __HAL_SPI_ENABLE(hspi);
1195:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
1196:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1197:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Enable Tx DMA Request */
1198:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->Instance->CR2 |= SPI_CR2_TXDMAEN;
1199:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1200:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     return HAL_OK;
1201:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1202:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   else
1203:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1204:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     return HAL_BUSY;
1205:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1206:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
1207:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1208:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
1209:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Receive an amount of data in no-blocking mode with DMA 
1210:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
1211:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *         the configuration information for SPI module.
1212:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  pData: pointer to data buffer
1213:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @note  When the CRC feature is enabled the pData Length must be Size + 1. 
1214:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  Size: amount of data to be sent
1215:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval HAL status
1216:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
1217:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Receive_DMA(SPI_HandleTypeDef *hspi, uint8_t *pData, uint16_t Size)
1218:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
1219:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->State == HAL_SPI_STATE_READY)
1220:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1221:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((pData == NULL) || (Size == 0))
1222:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
1223:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       return  HAL_ERROR;
1224:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
1225:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1226:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Process Locked */
1227:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_LOCK(hspi);
1228:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1229:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Configure communication */
1230:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->State       = HAL_SPI_STATE_BUSY_RX;
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 23


1231:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
1232:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1233:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->pRxBuffPtr  = pData;
1234:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxXferSize  = Size;
1235:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxXferCount = Size;
1236:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1237:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /*Init field not used in handle to zero */
1238:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxISR = 0;
1239:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxISR = 0;
1240:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxXferSize   = 0;
1241:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxXferCount  = 0;
1242:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1243:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Configure communication direction : 1Line */
1244:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.Direction == SPI_DIRECTION_1LINE)
1245:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
1246:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        SPI_1LINE_RX(hspi);
1247:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
1248:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     else if((hspi->Init.Direction == SPI_DIRECTION_2LINES)&&(hspi->Init.Mode == SPI_MODE_MASTER))
1249:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
1250:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        /* Process Unlocked */
1251:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        __HAL_UNLOCK(hspi);
1252:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1253:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        /* Call transmit-receive function to send Dummy data on Tx line and generate clock on CLK li
1254:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        return HAL_SPI_TransmitReceive_DMA(hspi, pData, pData, Size);
1255:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
1256:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1257:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Reset CRC Calculation */
1258:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
1259:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
1260:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       SPI_RESET_CRC(hspi);
1261:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
1262:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1263:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Set the SPI RxDMA Half transfer complete callback */
1264:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->hdmarx->XferHalfCpltCallback = SPI_DMAHalfReceiveCplt;
1265:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     
1266:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Set the SPI Rx DMA transfer complete callback */
1267:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->hdmarx->XferCpltCallback = SPI_DMAReceiveCplt;
1268:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1269:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Set the DMA error callback */
1270:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->hdmarx->XferErrorCallback = SPI_DMAError;
1271:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1272:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Enable the Rx DMA Stream */
1273:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     HAL_DMA_Start_IT(hspi->hdmarx, (uint32_t)&hspi->Instance->DR, (uint32_t)hspi->pRxBuffPtr, hspi-
1274:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1275:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Process Unlocked */
1276:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_UNLOCK(hspi);
1277:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1278:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Check if the SPI is already enabled */ 
1279:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((hspi->Instance->CR1 &SPI_CR1_SPE) != SPI_CR1_SPE)
1280:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
1281:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Enable SPI peripheral */
1282:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       __HAL_SPI_ENABLE(hspi);
1283:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
1284:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1285:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Enable Rx DMA Request */  
1286:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->Instance->CR2 |= SPI_CR2_RXDMAEN;
1287:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 24


1288:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     return HAL_OK;
1289:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1290:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   else
1291:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1292:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     return HAL_BUSY;
1293:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1294:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
1295:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1296:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
1297:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Transmit and Receive an amount of data in no-blocking mode with DMA 
1298:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
1299:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *                the configuration information for SPI module.
1300:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  pTxData: pointer to transmission data buffer
1301:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  pRxData: pointer to reception data buffer
1302:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @note  When the CRC feature is enabled the pRxData Length must be Size + 1 
1303:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  Size: amount of data to be sent
1304:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval HAL status
1305:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
1306:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_TransmitReceive_DMA(SPI_HandleTypeDef *hspi, uint8_t *pTxData, uint8_t *p
1307:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
1308:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   uint32_t tmpstate = 0;
1309:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   tmpstate = hspi->State;
1310:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if((tmpstate == HAL_SPI_STATE_READY) || ((hspi->Init.Mode == SPI_MODE_MASTER) && \
1311:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****      (hspi->Init.Direction == SPI_DIRECTION_2LINES) && (tmpstate == HAL_SPI_STATE_BUSY_RX)))
1312:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1313:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((pTxData == NULL ) || (pRxData == NULL ) || (Size == 0))
1314:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
1315:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       return  HAL_ERROR;
1316:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
1317:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1318:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Check the parameters */
1319:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     assert_param(IS_SPI_DIRECTION_2LINES(hspi->Init.Direction));
1320:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     
1321:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Process locked */
1322:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_LOCK(hspi);
1323:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1324:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Don't overwrite in case of HAL_SPI_STATE_BUSY_RX */
1325:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->State != HAL_SPI_STATE_BUSY_RX)
1326:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
1327:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->State = HAL_SPI_STATE_BUSY_TX_RX;
1328:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
1329:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1330:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Configure communication */
1331:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
1332:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1333:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->pTxBuffPtr  = (uint8_t*)pTxData;
1334:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxXferSize  = Size;
1335:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxXferCount = Size;
1336:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1337:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->pRxBuffPtr  = (uint8_t*)pRxData;
1338:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxXferSize  = Size;
1339:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxXferCount = Size;
1340:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1341:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /*Init field not used in handle to zero */
1342:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxISR = 0;
1343:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxISR = 0;
1344:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 25


1345:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Reset CRC Calculation */
1346:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
1347:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
1348:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       SPI_RESET_CRC(hspi);
1349:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
1350:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1351:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Check if we are in Rx only or in Rx/Tx Mode and configure the DMA transfer complete callback
1352:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->State == HAL_SPI_STATE_BUSY_RX)
1353:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
1354:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Set the SPI Rx DMA Half transfer complete callback */
1355:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->hdmarx->XferHalfCpltCallback = SPI_DMAHalfReceiveCplt;
1356:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       
1357:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->hdmarx->XferCpltCallback = SPI_DMAReceiveCplt;
1358:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
1359:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     else
1360:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
1361:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Set the SPI Tx/Rx DMA Half transfer complete callback */
1362:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->hdmarx->XferHalfCpltCallback = SPI_DMAHalfTransmitReceiveCplt;
1363:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   
1364:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->hdmarx->XferCpltCallback = SPI_DMATransmitReceiveCplt;
1365:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
1366:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1367:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Set the DMA error callback */
1368:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->hdmarx->XferErrorCallback = SPI_DMAError;
1369:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1370:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Enable the Rx DMA Stream */
1371:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     HAL_DMA_Start_IT(hspi->hdmarx, (uint32_t)&hspi->Instance->DR, (uint32_t)hspi->pRxBuffPtr, hspi-
1372:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1373:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Enable Rx DMA Request */  
1374:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->Instance->CR2 |= SPI_CR2_RXDMAEN;
1375:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1376:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Set the SPI Tx DMA transfer complete callback as NULL because the communication closing
1377:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     is performed in DMA reception complete callback  */
1378:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->hdmatx->XferCpltCallback = NULL;
1379:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     
1380:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->State == HAL_SPI_STATE_BUSY_TX_RX)
1381:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
1382:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Set the DMA error callback */
1383:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->hdmatx->XferErrorCallback = SPI_DMAError;
1384:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
1385:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     else
1386:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
1387:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->hdmatx->XferErrorCallback = NULL;
1388:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }    
1389:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     
1390:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Enable the Tx DMA Stream */
1391:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     HAL_DMA_Start_IT(hspi->hdmatx, (uint32_t)hspi->pTxBuffPtr, (uint32_t)&hspi->Instance->DR, hspi-
1392:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1393:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Process Unlocked */
1394:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_UNLOCK(hspi);
1395:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1396:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Check if the SPI is already enabled */ 
1397:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((hspi->Instance->CR1 &SPI_CR1_SPE) != SPI_CR1_SPE)
1398:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
1399:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Enable SPI peripheral */
1400:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       __HAL_SPI_ENABLE(hspi);
1401:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 26


1402:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1403:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Enable Tx DMA Request */  
1404:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->Instance->CR2 |= SPI_CR2_TXDMAEN;
1405:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1406:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     return HAL_OK;
1407:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1408:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   else
1409:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1410:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     return HAL_BUSY;
1411:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1412:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
1413:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1414:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
1415:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief Pauses the DMA Transfer.
1416:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
1417:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *                the configuration information for the specified SPI module.
1418:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval HAL status
1419:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
1420:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_DMAPause(SPI_HandleTypeDef *hspi)
1421:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
1422:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Process Locked */
1423:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_LOCK(hspi);
1424:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   
1425:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Disable the SPI DMA Tx & Rx requests */
1426:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->Instance->CR2 &= (uint32_t)(~SPI_CR2_TXDMAEN);
1427:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->Instance->CR2 &= (uint32_t)(~SPI_CR2_RXDMAEN);
1428:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   
1429:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Process Unlocked */
1430:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
1431:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   
1432:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   return HAL_OK; 
1433:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
1434:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1435:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
1436:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief Resumes the DMA Transfer.
1437:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
1438:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *                the configuration information for the specified SPI module.
1439:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval HAL status
1440:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
1441:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_DMAResume(SPI_HandleTypeDef *hspi)
1442:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
1443:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Process Locked */
1444:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_LOCK(hspi);
1445:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   
1446:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Enable the SPI DMA Tx & Rx requests */
1447:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->Instance->CR2 |= SPI_CR2_TXDMAEN;
1448:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->Instance->CR2 |= SPI_CR2_RXDMAEN;
1449:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   
1450:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Process Unlocked */
1451:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
1452:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   
1453:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   return HAL_OK;
1454:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
1455:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1456:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
1457:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief Stops the DMA Transfer.
1458:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 27


1459:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *                the configuration information for the specified SPI module.
1460:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval HAL status
1461:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
1462:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_DMAStop(SPI_HandleTypeDef *hspi)
1463:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
1464:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* The Lock is not implemented on this API to allow the user application
1465:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****      to call the HAL SPI API under callbacks HAL_SPI_TxCpltCallback() or HAL_SPI_RxCpltCallback() o
1466:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****      when calling HAL_DMA_Abort() API the DMA TX/RX Transfer complete interrupt is generated
1467:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****      and the correspond call back is executed HAL_SPI_TxCpltCallback() or HAL_SPI_RxCpltCallback() 
1468:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****      */
1469:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   
1470:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Abort the SPI DMA tx Stream */
1471:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->hdmatx != NULL)
1472:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1473:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     HAL_DMA_Abort(hspi->hdmatx);
1474:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1475:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Abort the SPI DMA rx Stream */
1476:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->hdmarx != NULL)
1477:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1478:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     HAL_DMA_Abort(hspi->hdmarx);
1479:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1480:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   
1481:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Disable the SPI DMA Tx & Rx requests */
1482:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->Instance->CR2 &= (uint32_t)(~SPI_CR2_TXDMAEN);
1483:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->Instance->CR2 &= (uint32_t)(~SPI_CR2_RXDMAEN);
1484:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   
1485:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_READY;
1486:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   
1487:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   return HAL_OK;
1488:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
1489:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1490:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
1491:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  This function handles SPI interrupt request.
1492:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
1493:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *                the configuration information for SPI module.
1494:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval HAL status
1495:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
1496:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** void HAL_SPI_IRQHandler(SPI_HandleTypeDef *hspi)
1497:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
1498:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   uint32_t tmp1 = 0, tmp2 = 0, tmp3 = 0;
1499:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1500:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   tmp1 = __HAL_SPI_GET_FLAG(hspi, SPI_FLAG_RXNE);
1501:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   tmp2 = __HAL_SPI_GET_IT_SOURCE(hspi, SPI_IT_RXNE);
1502:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   tmp3 = __HAL_SPI_GET_FLAG(hspi, SPI_FLAG_OVR);
1503:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* SPI in mode Receiver and Overrun not occurred ---------------------------*/
1504:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if((tmp1 != RESET) && (tmp2 != RESET) && (tmp3 == RESET))
1505:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1506:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxISR(hspi);
1507:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     return;
1508:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   } 
1509:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1510:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   tmp1 = __HAL_SPI_GET_FLAG(hspi, SPI_FLAG_TXE);
1511:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   tmp2 = __HAL_SPI_GET_IT_SOURCE(hspi, SPI_IT_TXE);
1512:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* SPI in mode Transmitter ---------------------------------------------------*/
1513:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if((tmp1 != RESET) && (tmp2 != RESET))
1514:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1515:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxISR(hspi);
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 28


1516:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     return;
1517:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1518:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1519:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(__HAL_SPI_GET_IT_SOURCE(hspi, SPI_IT_ERR) != RESET)
1520:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1521:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* SPI CRC error interrupt occurred ---------------------------------------*/
1522:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_CRCERR) != RESET)
1523:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
1524:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->ErrorCode |= HAL_SPI_ERROR_CRC;
1525:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       __HAL_SPI_CLEAR_CRCERRFLAG(hspi);
1526:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
1527:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* SPI Mode Fault error interrupt occurred --------------------------------*/
1528:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_MODF) != RESET)
1529:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
1530:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->ErrorCode |= HAL_SPI_ERROR_MODF;
1531:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       __HAL_SPI_CLEAR_MODFFLAG(hspi);
1532:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
1533:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     
1534:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* SPI Overrun error interrupt occurred -----------------------------------*/
1535:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_OVR) != RESET)
1536:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
1537:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if(hspi->State != HAL_SPI_STATE_BUSY_TX)
1538:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
1539:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->ErrorCode |= HAL_SPI_ERROR_OVR;
1540:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         __HAL_SPI_CLEAR_OVRFLAG(hspi);      
1541:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
1542:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
1543:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1544:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* SPI Frame error interrupt occurred -------------------------------------*/
1545:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_FRE) != RESET)
1546:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
1547:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->ErrorCode |= HAL_SPI_ERROR_FRE;
1548:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       __HAL_SPI_CLEAR_FREFLAG(hspi);
1549:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
1550:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1551:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Call the Error call Back in case of Errors */
1552:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->ErrorCode!=HAL_SPI_ERROR_NONE)
1553:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
1554:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->State = HAL_SPI_STATE_READY;
1555:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       HAL_SPI_ErrorCallback(hspi);
1556:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
1557:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1558:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
1559:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1560:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
1561:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief Tx Transfer completed callbacks
1562:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
1563:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *                the configuration information for SPI module.
1564:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
1565:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
1566:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** __weak void HAL_SPI_TxCpltCallback(SPI_HandleTypeDef *hspi)
1567:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
1568:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
1569:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   UNUSED(hspi);
1570:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* NOTE : This function Should not be modified, when the callback is needed,
1571:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             the HAL_SPI_TxCpltCallback could be implemented in the user file
1572:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****    */
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 29


1573:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
1574:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1575:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
1576:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief Rx Transfer completed callbacks
1577:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
1578:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *                the configuration information for SPI module.
1579:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
1580:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
1581:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** __weak void HAL_SPI_RxCpltCallback(SPI_HandleTypeDef *hspi)
1582:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
1583:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
1584:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   UNUSED(hspi);
1585:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* NOTE : This function Should not be modified, when the callback is needed,
1586:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             the HAL_SPI_RxCpltCallback() could be implemented in the user file
1587:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****    */
1588:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
1589:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1590:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
1591:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief Tx and Rx Transfer completed callbacks
1592:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
1593:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *                the configuration information for SPI module.
1594:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
1595:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
1596:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** __weak void HAL_SPI_TxRxCpltCallback(SPI_HandleTypeDef *hspi)
1597:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
1598:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
1599:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   UNUSED(hspi);
1600:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* NOTE : This function Should not be modified, when the callback is needed,
1601:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             the HAL_SPI_TxRxCpltCallback() could be implemented in the user file
1602:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****    */
1603:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
1604:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1605:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
1606:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief Tx Half Transfer completed callbacks
1607:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
1608:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *                the configuration information for SPI module.
1609:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
1610:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
1611:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** __weak void HAL_SPI_TxHalfCpltCallback(SPI_HandleTypeDef *hspi)
1612:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
1613:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
1614:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   UNUSED(hspi);
1615:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* NOTE : This function Should not be modified, when the callback is needed,
1616:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             the HAL_SPI_TxHalfCpltCallback could be implemented in the user file
1617:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****    */
1618:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
1619:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1620:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
1621:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief Rx Half Transfer completed callbacks
1622:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
1623:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *                the configuration information for SPI module.
1624:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
1625:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
1626:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** __weak void HAL_SPI_RxHalfCpltCallback(SPI_HandleTypeDef *hspi)
1627:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
1628:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
1629:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   UNUSED(hspi);
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 30


1630:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* NOTE : This function Should not be modified, when the callback is needed,
1631:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             the HAL_SPI_RxHalfCpltCallback() could be implemented in the user file
1632:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****    */
1633:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
1634:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1635:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
1636:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief Tx and Rx Transfer completed callbacks
1637:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
1638:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *                the configuration information for SPI module.
1639:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
1640:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
1641:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** __weak void HAL_SPI_TxRxHalfCpltCallback(SPI_HandleTypeDef *hspi)
1642:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
1643:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
1644:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   UNUSED(hspi);
1645:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* NOTE : This function Should not be modified, when the callback is needed,
1646:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             the HAL_SPI_TxRxHalfCpltCallback() could be implemented in the user file
1647:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****    */
1648:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
1649:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1650:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
1651:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief SPI error callbacks
1652:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
1653:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *                the configuration information for SPI module.
1654:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
1655:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
1656:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****  __weak void HAL_SPI_ErrorCallback(SPI_HandleTypeDef *hspi)
1657:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
1658:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
1659:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   UNUSED(hspi);
1660:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* NOTE : - This function Should not be modified, when the callback is needed,
1661:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             the HAL_SPI_ErrorCallback() could be implemented in the user file.
1662:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             - The ErrorCode parameter in the hspi handle is updated by the SPI processes
1663:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             and user can use HAL_SPI_GetError() API to check the latest error occurred.
1664:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****    */
1665:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
1666:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1667:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
1668:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @}
1669:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
1670:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1671:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /** @defgroup SPI_Exported_Functions_Group3 Peripheral State and Errors functions 
1672:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *  @brief   SPI control functions 
1673:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *
1674:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** @verbatim
1675:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****  ===============================================================================
1676:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****                       ##### Peripheral State and Errors functions #####
1677:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****  ===============================================================================  
1678:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     [..]
1679:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     This subsection provides a set of functions allowing to control the SPI.
1680:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****      (+) HAL_SPI_GetState() API can be helpful to check in run-time the state of the SPI peripheral
1681:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****      (+) HAL_SPI_GetError() check in run-time Errors occurring during communication
1682:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** @endverbatim
1683:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @{
1684:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
1685:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1686:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 31


1687:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Return the SPI state
1688:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
1689:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *                the configuration information for SPI module.
1690:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval HAL state
1691:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
1692:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** HAL_SPI_StateTypeDef HAL_SPI_GetState(SPI_HandleTypeDef *hspi)
1693:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
1694:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   return hspi->State;
1695:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
1696:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1697:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
1698:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Return the SPI error code
1699:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
1700:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *                the configuration information for SPI module.
1701:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval SPI Error Code
1702:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
1703:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** uint32_t HAL_SPI_GetError(SPI_HandleTypeDef *hspi)
1704:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
1705:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   return hspi->ErrorCode;
1706:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
1707:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1708:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
1709:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @}
1710:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
1711:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1712:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /**
1713:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Interrupt Handler to close Tx transfer 
1714:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
1715:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *                the configuration information for SPI module.
1716:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval void
1717:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
1718:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_TxCloseIRQHandler(SPI_HandleTypeDef *hspi)
1719:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
1720:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Wait until TXE flag is set to send data */
1721:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(SPI_WaitOnFlagUntilTimeout(hspi, SPI_FLAG_TXE, RESET, SPI_TIMEOUT_VALUE) != HAL_OK)
1722:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1723:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->ErrorCode |= HAL_SPI_ERROR_FLAG;
1724:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1725:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1726:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Disable TXE interrupt */
1727:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_SPI_DISABLE_IT(hspi, (SPI_IT_TXE ));
1728:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1729:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Disable ERR interrupt if Receive process is finished */
1730:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(__HAL_SPI_GET_IT_SOURCE(hspi, SPI_IT_RXNE) == RESET)
1731:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1732:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_SPI_DISABLE_IT(hspi, (SPI_IT_ERR));
1733:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1734:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Wait until Busy flag is reset before disabling SPI */
1735:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(SPI_WaitOnFlagUntilTimeout(hspi, SPI_FLAG_BSY, SET, SPI_TIMEOUT_VALUE) != HAL_OK)
1736:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
1737:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->ErrorCode |= HAL_SPI_ERROR_FLAG;
1738:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
1739:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1740:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Clear OVERRUN flag in 2 Lines communication mode because received is not read */
1741:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.Direction == SPI_DIRECTION_2LINES)
1742:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
1743:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       __HAL_SPI_CLEAR_OVRFLAG(hspi);
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 32


1744:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
1745:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     
1746:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Check if Errors has been detected during transfer */
1747:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->ErrorCode ==  HAL_SPI_ERROR_NONE)
1748:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
1749:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Check if we are in Tx or in Rx/Tx Mode */
1750:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if(hspi->State == HAL_SPI_STATE_BUSY_TX_RX)
1751:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
1752:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         /* Set state to READY before run the Callback Complete */
1753:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->State = HAL_SPI_STATE_READY;
1754:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         HAL_SPI_TxRxCpltCallback(hspi);
1755:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
1756:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       else
1757:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
1758:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         /* Set state to READY before run the Callback Complete */
1759:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->State = HAL_SPI_STATE_READY;
1760:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         HAL_SPI_TxCpltCallback(hspi);
1761:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
1762:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
1763:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     else
1764:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
1765:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Set state to READY before run the Callback Complete */
1766:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->State = HAL_SPI_STATE_READY;
1767:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Call Error call back in case of Error */
1768:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       HAL_SPI_ErrorCallback(hspi);
1769:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
1770:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1771:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
1772:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1773:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
1774:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Interrupt Handler to transmit amount of data in no-blocking mode 
1775:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
1776:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *                the configuration information for SPI module.
1777:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval void
1778:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
1779:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_TxISR(SPI_HandleTypeDef *hspi)
1780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
1781:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Transmit data in 8 Bit mode */
1782:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->Init.DataSize == SPI_DATASIZE_8BIT)
1783:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->Instance->DR = (*hspi->pTxBuffPtr++);
1785:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1786:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Transmit data in 16 Bit mode */
1787:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   else
1788:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1789:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->Instance->DR = *((uint16_t*)hspi->pTxBuffPtr);
1790:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->pTxBuffPtr+=2;
1791:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferCount--;
1793:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1794:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->TxXferCount == 0)
1795:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1796:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
1797:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
1798:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* calculate and transfer CRC on Tx line */
1799:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->Instance->CR1 |= SPI_CR1_CRCNEXT;
1800:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 33


1801:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SPI_TxCloseIRQHandler(hspi);
1802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1803:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
1804:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1805:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
1806:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Interrupt Handler to close Rx transfer 
1807:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
1808:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *                the configuration information for SPI module.
1809:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval void
1810:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
1811:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_RxCloseIRQHandler(SPI_HandleTypeDef *hspi)
1812:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
1813:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __IO uint16_t tmpreg;
1814:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1815:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
1816:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1817:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Wait until RXNE flag is set to send data */
1818:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(SPI_WaitOnFlagUntilTimeout(hspi, SPI_FLAG_RXNE, RESET, SPI_TIMEOUT_VALUE) != HAL_OK)
1819:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
1820:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->ErrorCode |= HAL_SPI_ERROR_FLAG;
1821:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
1822:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1823:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Read CRC to reset RXNE flag */
1824:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     tmpreg = hspi->Instance->DR;
1825:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     UNUSED(tmpreg);
1826:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1827:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Wait until RXNE flag is set to send data */
1828:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(SPI_WaitOnFlagUntilTimeout(hspi, SPI_FLAG_RXNE, SET, SPI_TIMEOUT_VALUE) != HAL_OK)
1829:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
1830:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->ErrorCode |= HAL_SPI_ERROR_FLAG;
1831:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
1832:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1833:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Check if CRC error occurred */
1834:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_CRCERR) != RESET)
1835:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
1836:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->ErrorCode |= HAL_SPI_ERROR_CRC;
1837:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1838:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Reset CRC Calculation */
1839:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       SPI_RESET_CRC(hspi);
1840:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
1841:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1842:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1843:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Disable RXNE and ERR interrupt */
1844:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_SPI_DISABLE_IT(hspi, (SPI_IT_RXNE));
1845:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1846:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* if Transmit process is finished */
1847:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(__HAL_SPI_GET_IT_SOURCE(hspi, SPI_IT_TXE) == RESET)
1848:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1849:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Disable ERR interrupt */
1850:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_SPI_DISABLE_IT(hspi, (SPI_IT_ERR));
1851:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1852:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((hspi->Init.Mode == SPI_MODE_MASTER)&&((hspi->Init.Direction == SPI_DIRECTION_1LINE)||(hspi-
1853:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
1854:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Disable SPI peripheral */
1855:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       __HAL_SPI_DISABLE(hspi);
1856:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
1857:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 34


1858:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Check if Errors has been detected during transfer */
1859:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->ErrorCode ==  HAL_SPI_ERROR_NONE)
1860:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
1861:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Check if we are in Rx or in Rx/Tx Mode */
1862:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if(hspi->State == HAL_SPI_STATE_BUSY_TX_RX)
1863:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
1864:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         /* Set state to READY before run the Callback Complete */
1865:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->State = HAL_SPI_STATE_READY;
1866:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         HAL_SPI_TxRxCpltCallback(hspi);
1867:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
1868:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       else
1869:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
1870:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         /* Set state to READY before run the Callback Complete */
1871:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->State = HAL_SPI_STATE_READY;
1872:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         HAL_SPI_RxCpltCallback(hspi);
1873:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
1874:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
1875:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     else
1876:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
1877:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Set state to READY before run the Callback Complete */
1878:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->State = HAL_SPI_STATE_READY;
1879:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Call Error call back in case of Error */
1880:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       HAL_SPI_ErrorCallback(hspi);
1881:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
1882:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1883:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
1884:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1885:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
1886:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Interrupt Handler to receive amount of data in 2Lines mode 
1887:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
1888:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *                the configuration information for SPI module.
1889:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval void
1890:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
1891:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_2LinesRxISR(SPI_HandleTypeDef *hspi)
1892:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
1893:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Receive data in 8 Bit mode */
1894:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->Init.DataSize == SPI_DATASIZE_8BIT)
1895:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1896:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     (*hspi->pRxBuffPtr++) = hspi->Instance->DR;
1897:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1898:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Receive data in 16 Bit mode */
1899:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   else
1900:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1901:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     *((uint16_t*)hspi->pRxBuffPtr) = hspi->Instance->DR;
1902:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->pRxBuffPtr+=2;
1903:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1904:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferCount--;
1905:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1906:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->RxXferCount==0)
1907:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1908:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SPI_RxCloseIRQHandler(hspi);
1909:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1910:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
1911:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1912:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
1913:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Interrupt Handler to receive amount of data in no-blocking mode 
1914:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 35


1915:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *                the configuration information for SPI module.
1916:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval void
1917:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
1918:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_RxISR(SPI_HandleTypeDef *hspi)
1919:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
1920:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Receive data in 8 Bit mode */
1921:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->Init.DataSize == SPI_DATASIZE_8BIT)
1922:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1923:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     (*hspi->pRxBuffPtr++) = hspi->Instance->DR;
1924:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1925:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Receive data in 16 Bit mode */
1926:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   else
1927:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1928:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     *((uint16_t*)hspi->pRxBuffPtr) = hspi->Instance->DR;
1929:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->pRxBuffPtr+=2;
1930:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1931:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxXferCount--;
1932:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1933:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Enable CRC Transmission */
1934:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if((hspi->RxXferCount == 1) && (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE))
1935:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1936:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Set CRC Next to calculate CRC on Rx side */
1937:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->Instance->CR1 |= SPI_CR1_CRCNEXT;  
1938:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1939:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1940:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->RxXferCount == 0)
1941:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1942:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SPI_RxCloseIRQHandler(hspi);
1943:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1944:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
1945:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1946:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
1947:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief DMA SPI transmit process complete callback 
1948:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hdma: pointer to a DMA_HandleTypeDef structure that contains
1949:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *                the configuration information for the specified DMA module.
1950:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
1951:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
1952:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_DMATransmitCplt(DMA_HandleTypeDef *hdma)
1953:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
1954:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   SPI_HandleTypeDef* hspi = ( SPI_HandleTypeDef* )((DMA_HandleTypeDef* )hdma)->Parent;
1955:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1956:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* DMA Normal Mode */
1957:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if((hdma->Instance->CR & DMA_SxCR_CIRC) == 0)
1958:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1959:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Wait until TXE flag is set to send data */
1960:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(SPI_WaitOnFlagUntilTimeout(hspi, SPI_FLAG_TXE, RESET, SPI_TIMEOUT_VALUE) != HAL_OK)
1961:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
1962:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->ErrorCode |= HAL_SPI_ERROR_FLAG;
1963:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
1964:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Disable Tx DMA Request */
1965:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->Instance->CR2 &= (uint32_t)(~SPI_CR2_TXDMAEN);
1966:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1967:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Wait until Busy flag is reset before disabling SPI */
1968:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(SPI_WaitOnFlagUntilTimeout(hspi, SPI_FLAG_BSY, SET, SPI_TIMEOUT_VALUE) != HAL_OK)
1969:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
1970:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->ErrorCode |= HAL_SPI_ERROR_FLAG;
1971:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 36


1972:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1973:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxXferCount = 0;
1974:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1975:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
1976:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1977:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1978:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Clear OVERRUN flag in 2 Lines communication mode because received is not read */
1979:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->Init.Direction == SPI_DIRECTION_2LINES)
1980:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1981:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****    __HAL_SPI_CLEAR_OVRFLAG(hspi);
1982:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1983:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1984:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check if Errors has been detected during transfer */
1985:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->ErrorCode != HAL_SPI_ERROR_NONE)
1986:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1987:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     HAL_SPI_ErrorCallback(hspi);
1988:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1989:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   else
1990:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1991:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     HAL_SPI_TxCpltCallback(hspi);
1992:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1993:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
1994:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1995:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
1996:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief DMA SPI receive process complete callback 
1997:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hdma: pointer to a DMA_HandleTypeDef structure that contains
1998:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *                the configuration information for the specified DMA module.
1999:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
2000:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2001:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_DMAReceiveCplt(DMA_HandleTypeDef *hdma)
2002:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
2003:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __IO uint16_t tmpreg;
2004:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   
2005:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   SPI_HandleTypeDef* hspi = ( SPI_HandleTypeDef* )((DMA_HandleTypeDef* )hdma)->Parent;
2006:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* DMA Normal mode */
2007:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if((hdma->Instance->CR & DMA_SxCR_CIRC) == 0)
2008:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
2009:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((hspi->Init.Direction == SPI_DIRECTION_2LINES)&&(hspi->Init.Mode == SPI_MODE_MASTER))
2010:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
2011:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        SPI_DMAEndTransmitReceive(hspi);  
2012:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
2013:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* SPI_DIRECTION_1LINE or SPI_DIRECTION_2LINES_RXONLY */
2014:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     else
2015:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
2016:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if((hspi->Init.Mode == SPI_MODE_MASTER)&&((hspi->Init.Direction == SPI_DIRECTION_1LINE)||(hsp
2017:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
2018:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         /* Disable SPI peripheral */
2019:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         __HAL_SPI_DISABLE(hspi);
2020:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
2021:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       
2022:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Disable Rx DMA Request */
2023:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->Instance->CR2 &= (uint32_t)(~SPI_CR2_RXDMAEN);
2024:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       
2025:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->RxXferCount = 0;
2026:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       
2027:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Reset CRC Calculation */
2028:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 37


2029:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
2030:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         /* Wait until RXNE flag is set to send data */
2031:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         if(SPI_WaitOnFlagUntilTimeout(hspi, SPI_FLAG_RXNE, RESET, SPI_TIMEOUT_VALUE) != HAL_OK)
2032:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         {
2033:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           hspi->ErrorCode |= HAL_SPI_ERROR_FLAG;
2034:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         }
2035:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         
2036:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         /* Read CRC */
2037:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         tmpreg = hspi->Instance->DR;
2038:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         UNUSED(tmpreg);
2039:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         
2040:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         /* Wait until RXNE flag is set */
2041:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         if(SPI_WaitOnFlagUntilTimeout(hspi, SPI_FLAG_RXNE, SET, SPI_TIMEOUT_VALUE) != HAL_OK)
2042:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         {
2043:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           hspi->ErrorCode |= HAL_SPI_ERROR_FLAG;
2044:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         }
2045:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         
2046:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         /* Check if CRC error occurred */
2047:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         if(__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_CRCERR) != RESET)
2048:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         {
2049:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           hspi->ErrorCode |= HAL_SPI_ERROR_CRC;
2050:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           __HAL_SPI_CLEAR_CRCERRFLAG(hspi);
2051:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         }
2052:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
2053:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
2054:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     
2055:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
2056:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     
2057:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Check if Errors has been detected during transfer */
2058:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->ErrorCode != HAL_SPI_ERROR_NONE)
2059:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
2060:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       HAL_SPI_ErrorCallback(hspi);
2061:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
2062:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     else
2063:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
2064:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       HAL_SPI_RxCpltCallback(hspi);
2065:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     } 
2066:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
2067:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   else
2068:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
2069:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     HAL_SPI_RxCpltCallback(hspi);
2070:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
2071:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
2072:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2073:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
2074:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief End DMA SPI transmit receive process 
2075:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
2076:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *                the configuration information for SPI module.
2077:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
2078:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2079:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_DMAEndTransmitReceive(SPI_HandleTypeDef *hspi)   
2080:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
2081:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __IO uint16_t tmpreg;
2082:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   
2083:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Reset CRC Calculation */
2084:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
2085:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 38


2086:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Check if CRC is done on going (RXNE flag set) */
2087:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(SPI_WaitOnFlagUntilTimeout(hspi, SPI_FLAG_RXNE, SET, SPI_TIMEOUT_VALUE) == HAL_OK)
2088:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
2089:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Wait until RXNE flag is set to send data */
2090:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if(SPI_WaitOnFlagUntilTimeout(hspi, SPI_FLAG_RXNE, RESET, SPI_TIMEOUT_VALUE) != HAL_OK)
2091:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
2092:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->ErrorCode |= HAL_SPI_ERROR_FLAG;
2093:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
2094:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
2095:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Read CRC */
2096:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     tmpreg = hspi->Instance->DR;
2097:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     UNUSED(tmpreg);
2098:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     
2099:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Check if CRC error occurred */
2100:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_CRCERR) != RESET)
2101:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
2102:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->ErrorCode |= HAL_SPI_ERROR_CRC;
2103:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       __HAL_SPI_CLEAR_CRCERRFLAG(hspi);
2104:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
2105:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
2106:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   
2107:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Wait until TXE flag is set to send data */
2108:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(SPI_WaitOnFlagUntilTimeout(hspi, SPI_FLAG_TXE, RESET, SPI_TIMEOUT_VALUE) != HAL_OK)
2109:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
2110:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->ErrorCode |= HAL_SPI_ERROR_FLAG;
2111:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
2112:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Disable Tx DMA Request */
2113:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->Instance->CR2 &= (uint32_t)(~SPI_CR2_TXDMAEN);
2114:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   
2115:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Wait until Busy flag is reset before disabling SPI */
2116:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(SPI_WaitOnFlagUntilTimeout(hspi, SPI_FLAG_BSY, SET, SPI_TIMEOUT_VALUE) != HAL_OK)
2117:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
2118:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->ErrorCode |= HAL_SPI_ERROR_FLAG;
2119:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
2120:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   
2121:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Disable Rx DMA Request */
2122:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->Instance->CR2 &= (uint32_t)(~SPI_CR2_RXDMAEN);
2123:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   
2124:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferCount = 0;
2125:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferCount = 0;
2126:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
2127:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2128:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
2129:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief DMA SPI transmit receive process complete callback 
2130:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hdma: pointer to a DMA_HandleTypeDef structure that contains
2131:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *                the configuration information for the specified DMA module.
2132:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
2133:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2134:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_DMATransmitReceiveCplt(DMA_HandleTypeDef *hdma)
2135:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
2136:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   SPI_HandleTypeDef* hspi = ( SPI_HandleTypeDef* )((DMA_HandleTypeDef* )hdma)->Parent;
2137:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if((hdma->Instance->CR & DMA_SxCR_CIRC) == 0)
2138:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   { /**/
2139:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SPI_DMAEndTransmitReceive(hspi);
2140:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     
2141:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
2142:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 39


2143:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Check if Errors has been detected during transfer */
2144:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->ErrorCode != HAL_SPI_ERROR_NONE)
2145:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
2146:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       HAL_SPI_ErrorCallback(hspi);
2147:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
2148:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     else
2149:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
2150:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       HAL_SPI_TxRxCpltCallback(hspi);
2151:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
2152:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
2153:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   else
2154:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
2155:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     HAL_SPI_TxRxCpltCallback(hspi);
2156:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
2157:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
2158:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2159:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
2160:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief DMA SPI half transmit process complete callback 
2161:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hdma: pointer to a DMA_HandleTypeDef structure that contains
2162:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *                the configuration information for the specified DMA module.
2163:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
2164:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2165:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_DMAHalfTransmitCplt(DMA_HandleTypeDef *hdma)
2166:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
2167:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   SPI_HandleTypeDef* hspi = ( SPI_HandleTypeDef* )((DMA_HandleTypeDef* )hdma)->Parent;
2168:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2169:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   HAL_SPI_TxHalfCpltCallback(hspi);
2170:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
2171:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2172:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
2173:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief DMA SPI half receive process complete callback 
2174:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hdma: pointer to a DMA_HandleTypeDef structure that contains
2175:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *                the configuration information for the specified DMA module.
2176:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
2177:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2178:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_DMAHalfReceiveCplt(DMA_HandleTypeDef *hdma)
2179:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
2180:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   SPI_HandleTypeDef* hspi = ( SPI_HandleTypeDef* )((DMA_HandleTypeDef* )hdma)->Parent;
2181:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2182:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   HAL_SPI_RxHalfCpltCallback(hspi);
2183:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
2184:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2185:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
2186:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief DMA SPI Half transmit receive process complete callback 
2187:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hdma: pointer to a DMA_HandleTypeDef structure that contains
2188:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *                the configuration information for the specified DMA module.
2189:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
2190:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2191:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_DMAHalfTransmitReceiveCplt(DMA_HandleTypeDef *hdma)   
2192:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
2193:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   SPI_HandleTypeDef* hspi = ( SPI_HandleTypeDef* )((DMA_HandleTypeDef* )hdma)->Parent;
2194:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2195:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   HAL_SPI_TxRxHalfCpltCallback(hspi);
2196:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
2197:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2198:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
2199:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief DMA SPI communication error callback 
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 40


2200:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hdma: pointer to a DMA_HandleTypeDef structure that contains
2201:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *                the configuration information for the specified DMA module.
2202:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
2203:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2204:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_DMAError(DMA_HandleTypeDef *hdma)
2205:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
2206:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   SPI_HandleTypeDef* hspi = (SPI_HandleTypeDef* )((DMA_HandleTypeDef* )hdma)->Parent;
2207:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferCount = 0;
2208:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferCount = 0;
2209:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->State= HAL_SPI_STATE_READY;
2210:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->ErrorCode |= HAL_SPI_ERROR_DMA;
2211:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   HAL_SPI_ErrorCallback(hspi);
2212:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
2213:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2214:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
2215:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief This function handles SPI Communication Timeout.
2216:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
2217:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *                the configuration information for SPI module.
2218:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  Flag: SPI flag to check
2219:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  Status: Flag status to check: RESET or set
2220:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  Timeout: Timeout duration
2221:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval HAL status
2222:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2223:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static HAL_StatusTypeDef SPI_WaitOnFlagUntilTimeout(SPI_HandleTypeDef *hspi, uint32_t Flag, FlagSta
2224:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
  26              		.loc 1 2224 0
  27              		.cfi_startproc
  28              		@ args = 0, pretend = 0, frame = 0
  29              		@ frame_needed = 0, uses_anonymous_args = 0
  30              	.LVL0:
  31 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
  32              	.LCFI0:
  33              		.cfi_def_cfa_offset 24
  34              		.cfi_offset 4, -24
  35              		.cfi_offset 5, -20
  36              		.cfi_offset 6, -16
  37              		.cfi_offset 7, -12
  38              		.cfi_offset 8, -8
  39              		.cfi_offset 14, -4
  40              		.loc 1 2224 0
  41 0004 0446     		mov	r4, r0
  42 0006 0E46     		mov	r6, r1
  43 0008 9046     		mov	r8, r2
  44 000a 1D46     		mov	r5, r3
2225:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   uint32_t tickstart = 0;
2226:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2227:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Get tick */ 
2228:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   tickstart = HAL_GetTick();
  45              		.loc 1 2228 0
  46 000c FFF7FEFF 		bl	HAL_GetTick
  47              	.LVL1:
  48 0010 0746     		mov	r7, r0
  49              	.LVL2:
2229:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2230:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Wait until flag is set */
2231:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(Status == RESET)
  50              		.loc 1 2231 0
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 41


  51 0012 B8F1000F 		cmp	r8, #0
  52 0016 3AD1     		bne	.L19
  53              	.LVL3:
  54              	.L10:
2232:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
2233:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     while(__HAL_SPI_GET_FLAG(hspi, Flag) == RESET)
  55              		.loc 1 2233 0
  56 0018 2268     		ldr	r2, [r4]
  57              	.L5:
  58              		.loc 1 2233 0 is_stmt 0 discriminator 1
  59 001a 9368     		ldr	r3, [r2, #8]
  60 001c 3340     		ands	r3, r3, r6
  61 001e B342     		cmp	r3, r6
  62 0020 0ED0     		beq	.L21
2234:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
2235:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if(Timeout != HAL_MAX_DELAY)
  63              		.loc 1 2235 0 is_stmt 1
  64 0022 691C     		adds	r1, r5, #1
  65 0024 F9D0     		beq	.L5
2236:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
2237:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         if((Timeout == 0)||((HAL_GetTick() - tickstart ) > Timeout))
  66              		.loc 1 2237 0
  67 0026 7DB1     		cbz	r5, .L18
  68              		.loc 1 2237 0 is_stmt 0 discriminator 1
  69 0028 FFF7FEFF 		bl	HAL_GetTick
  70              	.LVL4:
  71 002c C01B     		subs	r0, r0, r7
  72 002e A842     		cmp	r0, r5
  73 0030 F2D9     		bls	.L10
  74 0032 09E0     		b	.L18
  75              	.L20:
2238:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         {
2239:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           /* Disable the SPI and reset the CRC: the CRC value should be cleared
2240:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****              on both master and slave sides in order to resynchronize the master
2241:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****              and slave for their respective CRC calculation */
2242:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2243:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           /* Disable TXE, RXNE and ERR interrupts for the interrupt process */
2244:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           __HAL_SPI_DISABLE_IT(hspi, (SPI_IT_TXE | SPI_IT_RXNE | SPI_IT_ERR));
2245:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2246:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           /* Disable SPI peripheral */
2247:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           __HAL_SPI_DISABLE(hspi);
2248:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2249:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           /* Reset CRC Calculation */
2250:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
2251:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           {
2252:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             SPI_RESET_CRC(hspi);
2253:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           }
2254:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2255:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           hspi->State= HAL_SPI_STATE_READY;
2256:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2257:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           /* Process Unlocked */
2258:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           __HAL_UNLOCK(hspi);
2259:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2260:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           return HAL_TIMEOUT;
2261:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         }
2262:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
2263:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 42


2264:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
2265:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   else
2266:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
2267:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     while(__HAL_SPI_GET_FLAG(hspi, Flag) != RESET)
2268:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
2269:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if(Timeout != HAL_MAX_DELAY)
  76              		.loc 1 2269 0 is_stmt 1
  77 0034 6B1C     		adds	r3, r5, #1
  78 0036 06D1     		bne	.L25
  79              	.L14:
2267:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     while(__HAL_SPI_GET_FLAG(hspi, Flag) != RESET)
  80              		.loc 1 2267 0 discriminator 1
  81 0038 9368     		ldr	r3, [r2, #8]
  82 003a 3340     		ands	r3, r3, r6
  83 003c B342     		cmp	r3, r6
  84 003e F9D0     		beq	.L20
  85              	.L21:
2270:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
2271:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         if((Timeout == 0)||((HAL_GetTick() - tickstart ) > Timeout))
2272:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         {
2273:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           /* Disable the SPI and reset the CRC: the CRC value should be cleared
2274:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****              on both master and slave sides in order to resynchronize the master
2275:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****              and slave for their respective CRC calculation */
2276:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2277:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           /* Disable TXE, RXNE and ERR interrupts for the interrupt process */
2278:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           __HAL_SPI_DISABLE_IT(hspi, (SPI_IT_TXE | SPI_IT_RXNE | SPI_IT_ERR));
2279:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2280:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           /* Disable SPI peripheral */
2281:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           __HAL_SPI_DISABLE(hspi);
2282:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2283:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           /* Reset CRC Calculation */
2284:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
2285:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           {
2286:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             SPI_RESET_CRC(hspi);
2287:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           }
2288:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2289:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           hspi->State= HAL_SPI_STATE_READY;
2290:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2291:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           /* Process Unlocked */
2292:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           __HAL_UNLOCK(hspi);
2293:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2294:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           return HAL_TIMEOUT;
2295:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         }
2296:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
2297:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
2298:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
2299:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   return HAL_OK;
  86              		.loc 1 2299 0
  87 0040 0020     		movs	r0, #0
  88 0042 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
  89              	.LVL5:
  90              	.L25:
2271:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         if((Timeout == 0)||((HAL_GetTick() - tickstart ) > Timeout))
  91              		.loc 1 2271 0
  92 0046 EDB9     		cbnz	r5, .L15
  93              	.L18:
2278:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           __HAL_SPI_DISABLE_IT(hspi, (SPI_IT_TXE | SPI_IT_RXNE | SPI_IT_ERR));
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 43


  94              		.loc 1 2278 0
  95 0048 2368     		ldr	r3, [r4]
  96 004a 5A68     		ldr	r2, [r3, #4]
  97 004c 22F0E002 		bic	r2, r2, #224
  98 0050 5A60     		str	r2, [r3, #4]
2281:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           __HAL_SPI_DISABLE(hspi);
  99              		.loc 1 2281 0
 100 0052 1A68     		ldr	r2, [r3]
 101 0054 22F04002 		bic	r2, r2, #64
 102 0058 1A60     		str	r2, [r3]
2284:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 103              		.loc 1 2284 0
 104 005a A26A     		ldr	r2, [r4, #40]
 105 005c B2F5005F 		cmp	r2, #8192
 106 0060 07D1     		bne	.L17
2286:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             SPI_RESET_CRC(hspi);
 107              		.loc 1 2286 0
 108 0062 1A68     		ldr	r2, [r3]
 109 0064 22F40052 		bic	r2, r2, #8192
 110 0068 1A60     		str	r2, [r3]
 111 006a 1A68     		ldr	r2, [r3]
 112 006c 42F40052 		orr	r2, r2, #8192
 113 0070 1A60     		str	r2, [r3]
 114              	.L17:
2289:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           hspi->State= HAL_SPI_STATE_READY;
 115              		.loc 1 2289 0
 116 0072 0123     		movs	r3, #1
 117 0074 84F85130 		strb	r3, [r4, #81]
2292:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           __HAL_UNLOCK(hspi);
 118              		.loc 1 2292 0
 119 0078 0023     		movs	r3, #0
 120 007a 84F85030 		strb	r3, [r4, #80]
2294:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           return HAL_TIMEOUT;
 121              		.loc 1 2294 0
 122 007e 0320     		movs	r0, #3
 123 0080 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 124              	.LVL6:
 125              	.L15:
2271:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         if((Timeout == 0)||((HAL_GetTick() - tickstart ) > Timeout))
 126              		.loc 1 2271 0 discriminator 1
 127 0084 FFF7FEFF 		bl	HAL_GetTick
 128              	.LVL7:
 129 0088 C01B     		subs	r0, r0, r7
 130 008a A842     		cmp	r0, r5
 131 008c DCD8     		bhi	.L18
 132              	.L19:
2267:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     while(__HAL_SPI_GET_FLAG(hspi, Flag) != RESET)
 133              		.loc 1 2267 0
 134 008e 2268     		ldr	r2, [r4]
 135 0090 D2E7     		b	.L14
 136              		.cfi_endproc
 137              	.LFE164:
 139              		.section	.text.SPI_DMAEndTransmitReceive,"ax",%progbits
 140              		.align	1
 141              		.thumb
 142              		.thumb_func
 144              	SPI_DMAEndTransmitReceive:
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 44


 145              	.LFB158:
2080:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 146              		.loc 1 2080 0
 147              		.cfi_startproc
 148              		@ args = 0, pretend = 0, frame = 8
 149              		@ frame_needed = 0, uses_anonymous_args = 0
 150              	.LVL8:
2084:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 151              		.loc 1 2084 0
 152 0000 836A     		ldr	r3, [r0, #40]
 153 0002 B3F5005F 		cmp	r3, #8192
2080:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 154              		.loc 1 2080 0
 155 0006 13B5     		push	{r0, r1, r4, lr}
 156              	.LCFI1:
 157              		.cfi_def_cfa_offset 16
 158              		.cfi_offset 0, -16
 159              		.cfi_offset 1, -12
 160              		.cfi_offset 4, -8
 161              		.cfi_offset 14, -4
2080:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 162              		.loc 1 2080 0
 163 0008 0446     		mov	r4, r0
2084:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 164              		.loc 1 2084 0
 165 000a 21D1     		bne	.L28
2087:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(SPI_WaitOnFlagUntilTimeout(hspi, SPI_FLAG_RXNE, SET, SPI_TIMEOUT_VALUE) == HAL_OK)
 166              		.loc 1 2087 0
 167 000c 0121     		movs	r1, #1
 168 000e 0A46     		mov	r2, r1
 169 0010 0A23     		movs	r3, #10
 170 0012 FFF7FEFF 		bl	SPI_WaitOnFlagUntilTimeout
 171              	.LVL9:
 172 0016 0246     		mov	r2, r0
 173 0018 48B9     		cbnz	r0, .L30
2090:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if(SPI_WaitOnFlagUntilTimeout(hspi, SPI_FLAG_RXNE, RESET, SPI_TIMEOUT_VALUE) != HAL_OK)
 174              		.loc 1 2090 0
 175 001a 2046     		mov	r0, r4
 176 001c 0121     		movs	r1, #1
 177 001e 0A23     		movs	r3, #10
 178 0020 FFF7FEFF 		bl	SPI_WaitOnFlagUntilTimeout
 179              	.LVL10:
 180 0024 18B1     		cbz	r0, .L30
2092:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->ErrorCode |= HAL_SPI_ERROR_FLAG;
 181              		.loc 1 2092 0
 182 0026 636D     		ldr	r3, [r4, #84]
 183 0028 43F02003 		orr	r3, r3, #32
 184 002c 6365     		str	r3, [r4, #84]
 185              	.L30:
2096:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     tmpreg = hspi->Instance->DR;
 186              		.loc 1 2096 0
 187 002e 2368     		ldr	r3, [r4]
 188 0030 DA68     		ldr	r2, [r3, #12]
 189 0032 92B2     		uxth	r2, r2
 190 0034 ADF80620 		strh	r2, [sp, #6]	@ movhi
2097:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     UNUSED(tmpreg);
 191              		.loc 1 2097 0
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 45


 192 0038 BDF80620 		ldrh	r2, [sp, #6]
2100:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_CRCERR) != RESET)
 193              		.loc 1 2100 0
 194 003c 9A68     		ldr	r2, [r3, #8]
 195 003e D206     		lsls	r2, r2, #27
 196 0040 06D5     		bpl	.L28
2102:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->ErrorCode |= HAL_SPI_ERROR_CRC;
 197              		.loc 1 2102 0
 198 0042 626D     		ldr	r2, [r4, #84]
 199 0044 42F00202 		orr	r2, r2, #2
 200 0048 6265     		str	r2, [r4, #84]
2103:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       __HAL_SPI_CLEAR_CRCERRFLAG(hspi);
 201              		.loc 1 2103 0
 202 004a 6FF01002 		mvn	r2, #16
 203 004e 9A60     		str	r2, [r3, #8]
 204              	.L28:
2108:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(SPI_WaitOnFlagUntilTimeout(hspi, SPI_FLAG_TXE, RESET, SPI_TIMEOUT_VALUE) != HAL_OK)
 205              		.loc 1 2108 0
 206 0050 2046     		mov	r0, r4
 207 0052 0221     		movs	r1, #2
 208 0054 0022     		movs	r2, #0
 209 0056 0A23     		movs	r3, #10
 210 0058 FFF7FEFF 		bl	SPI_WaitOnFlagUntilTimeout
 211              	.LVL11:
 212 005c 18B1     		cbz	r0, .L33
2110:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->ErrorCode |= HAL_SPI_ERROR_FLAG;
 213              		.loc 1 2110 0
 214 005e 636D     		ldr	r3, [r4, #84]
 215 0060 43F02003 		orr	r3, r3, #32
 216 0064 6365     		str	r3, [r4, #84]
 217              	.L33:
2113:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->Instance->CR2 &= (uint32_t)(~SPI_CR2_TXDMAEN);
 218              		.loc 1 2113 0
 219 0066 2368     		ldr	r3, [r4]
 220 0068 5A68     		ldr	r2, [r3, #4]
 221 006a 22F00202 		bic	r2, r2, #2
 222 006e 5A60     		str	r2, [r3, #4]
2116:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(SPI_WaitOnFlagUntilTimeout(hspi, SPI_FLAG_BSY, SET, SPI_TIMEOUT_VALUE) != HAL_OK)
 223              		.loc 1 2116 0
 224 0070 2046     		mov	r0, r4
 225 0072 8021     		movs	r1, #128
 226 0074 0122     		movs	r2, #1
 227 0076 0A23     		movs	r3, #10
 228 0078 FFF7FEFF 		bl	SPI_WaitOnFlagUntilTimeout
 229              	.LVL12:
 230 007c 18B1     		cbz	r0, .L34
2118:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->ErrorCode |= HAL_SPI_ERROR_FLAG;
 231              		.loc 1 2118 0
 232 007e 636D     		ldr	r3, [r4, #84]
 233 0080 43F02003 		orr	r3, r3, #32
 234 0084 6365     		str	r3, [r4, #84]
 235              	.L34:
2122:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->Instance->CR2 &= (uint32_t)(~SPI_CR2_RXDMAEN);
 236              		.loc 1 2122 0
 237 0086 2368     		ldr	r3, [r4]
 238 0088 5A68     		ldr	r2, [r3, #4]
 239 008a 22F00102 		bic	r2, r2, #1
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 46


 240 008e 5A60     		str	r2, [r3, #4]
2124:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferCount = 0;
 241              		.loc 1 2124 0
 242 0090 0023     		movs	r3, #0
 243 0092 E386     		strh	r3, [r4, #54]	@ movhi
2125:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferCount = 0;
 244              		.loc 1 2125 0
 245 0094 E387     		strh	r3, [r4, #62]	@ movhi
2126:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 246              		.loc 1 2126 0
 247 0096 02B0     		add	sp, sp, #8
 248              		@ sp needed
 249 0098 10BD     		pop	{r4, pc}
 250              		.cfi_endproc
 251              	.LFE158:
 253              		.section	.text.HAL_SPI_MspInit,"ax",%progbits
 254              		.align	1
 255              		.weak	HAL_SPI_MspInit
 256              		.thumb
 257              		.thumb_func
 259              	HAL_SPI_MspInit:
 260              	.LFB127:
 268:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****  {
 261              		.loc 1 268 0
 262              		.cfi_startproc
 263              		@ args = 0, pretend = 0, frame = 0
 264              		@ frame_needed = 0, uses_anonymous_args = 0
 265              		@ link register save eliminated.
 266              	.LVL13:
 267 0000 7047     		bx	lr
 268              		.cfi_endproc
 269              	.LFE127:
 271              		.section	.text.HAL_SPI_Init,"ax",%progbits
 272              		.align	1
 273              		.global	HAL_SPI_Init
 274              		.thumb
 275              		.thumb_func
 277              	HAL_SPI_Init:
 278              	.LFB125:
 176:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 279              		.loc 1 176 0
 280              		.cfi_startproc
 281              		@ args = 0, pretend = 0, frame = 0
 282              		@ frame_needed = 0, uses_anonymous_args = 0
 283              	.LVL14:
 176:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 284              		.loc 1 176 0
 285 0000 10B5     		push	{r4, lr}
 286              	.LCFI2:
 287              		.cfi_def_cfa_offset 8
 288              		.cfi_offset 4, -8
 289              		.cfi_offset 14, -4
 178:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi == NULL)
 290              		.loc 1 178 0
 291 0002 0446     		mov	r4, r0
 292 0004 0028     		cmp	r0, #0
 293 0006 36D0     		beq	.L51
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 47


 196:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->State == HAL_SPI_STATE_RESET)
 294              		.loc 1 196 0
 295 0008 90F85130 		ldrb	r3, [r0, #81]	@ zero_extendqisi2
 296 000c 03F0FF02 		and	r2, r3, #255
 297 0010 1BB9     		cbnz	r3, .L50
 199:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->Lock = HAL_UNLOCKED;
 298              		.loc 1 199 0
 299 0012 80F85020 		strb	r2, [r0, #80]
 201:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     HAL_SPI_MspInit(hspi);
 300              		.loc 1 201 0
 301 0016 FFF7FEFF 		bl	HAL_SPI_MspInit
 302              	.LVL15:
 303              	.L50:
 212:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->Instance->CR1 = (hspi->Init.Mode | hspi->Init.Direction | hspi->Init.DataSize |
 304              		.loc 1 212 0
 305 001a 6168     		ldr	r1, [r4, #4]
 306 001c A068     		ldr	r0, [r4, #8]
 307 001e 0843     		orrs	r0, r0, r1
 308 0020 E168     		ldr	r1, [r4, #12]
 309 0022 0843     		orrs	r0, r0, r1
 310 0024 2169     		ldr	r1, [r4, #16]
 204:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_BUSY;
 311              		.loc 1 204 0
 312 0026 0223     		movs	r3, #2
 212:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->Instance->CR1 = (hspi->Init.Mode | hspi->Init.Direction | hspi->Init.DataSize |
 313              		.loc 1 212 0
 314 0028 0843     		orrs	r0, r0, r1
 213:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****                          hspi->Init.CLKPolarity | hspi->Init.CLKPhase | (hspi->Init.NSS & SPI_CR1_S
 315              		.loc 1 213 0
 316 002a 6169     		ldr	r1, [r4, #20]
 204:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_BUSY;
 317              		.loc 1 204 0
 318 002c 84F85130 		strb	r3, [r4, #81]
 207:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_SPI_DISABLE(hspi);
 319              		.loc 1 207 0
 320 0030 2368     		ldr	r3, [r4]
 213:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****                          hspi->Init.CLKPolarity | hspi->Init.CLKPhase | (hspi->Init.NSS & SPI_CR1_S
 321              		.loc 1 213 0
 322 0032 0843     		orrs	r0, r0, r1
 323 0034 E169     		ldr	r1, [r4, #28]
 207:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_SPI_DISABLE(hspi);
 324              		.loc 1 207 0
 325 0036 1A68     		ldr	r2, [r3]
 213:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****                          hspi->Init.CLKPolarity | hspi->Init.CLKPhase | (hspi->Init.NSS & SPI_CR1_S
 326              		.loc 1 213 0
 327 0038 0843     		orrs	r0, r0, r1
 328 003a 216A     		ldr	r1, [r4, #32]
 207:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_SPI_DISABLE(hspi);
 329              		.loc 1 207 0
 330 003c 22F04002 		bic	r2, r2, #64
 331 0040 1A60     		str	r2, [r3]
 213:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****                          hspi->Init.CLKPolarity | hspi->Init.CLKPhase | (hspi->Init.NSS & SPI_CR1_S
 332              		.loc 1 213 0
 333 0042 0843     		orrs	r0, r0, r1
 334 0044 A269     		ldr	r2, [r4, #24]
 214:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****                          hspi->Init.BaudRatePrescaler | hspi->Init.FirstBit  | hspi->Init.CRCCalcul
 335              		.loc 1 214 0
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 48


 336 0046 A16A     		ldr	r1, [r4, #40]
 337 0048 0143     		orrs	r1, r1, r0
 213:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****                          hspi->Init.CLKPolarity | hspi->Init.CLKPhase | (hspi->Init.NSS & SPI_CR1_S
 338              		.loc 1 213 0
 339 004a 02F40070 		and	r0, r2, #512
 214:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****                          hspi->Init.BaudRatePrescaler | hspi->Init.FirstBit  | hspi->Init.CRCCalcul
 340              		.loc 1 214 0
 341 004e 0143     		orrs	r1, r1, r0
 212:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->Instance->CR1 = (hspi->Init.Mode | hspi->Init.Direction | hspi->Init.DataSize |
 342              		.loc 1 212 0
 343 0050 1960     		str	r1, [r3]
 217:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->Instance->CR2 = (((hspi->Init.NSS >> 16) & SPI_CR2_SSOE) | hspi->Init.TIMode);
 344              		.loc 1 217 0
 345 0052 120C     		lsrs	r2, r2, #16
 346 0054 616A     		ldr	r1, [r4, #36]
 347 0056 02F00402 		and	r2, r2, #4
 348 005a 1143     		orrs	r1, r1, r2
 221:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->Instance->CRCPR = hspi->Init.CRCPolynomial;
 349              		.loc 1 221 0
 350 005c E26A     		ldr	r2, [r4, #44]
 217:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->Instance->CR2 = (((hspi->Init.NSS >> 16) & SPI_CR2_SSOE) | hspi->Init.TIMode);
 351              		.loc 1 217 0
 352 005e 5960     		str	r1, [r3, #4]
 221:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->Instance->CRCPR = hspi->Init.CRCPolynomial;
 353              		.loc 1 221 0
 354 0060 1A61     		str	r2, [r3, #16]
 224:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->Instance->I2SCFGR &= (uint32_t)(~SPI_I2SCFGR_I2SMOD);
 355              		.loc 1 224 0
 356 0062 DA69     		ldr	r2, [r3, #28]
 357 0064 22F40062 		bic	r2, r2, #2048
 358 0068 DA61     		str	r2, [r3, #28]
 226:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->ErrorCode = HAL_SPI_ERROR_NONE;
 359              		.loc 1 226 0
 360 006a 0020     		movs	r0, #0
 227:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_READY;
 361              		.loc 1 227 0
 362 006c 0123     		movs	r3, #1
 226:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->ErrorCode = HAL_SPI_ERROR_NONE;
 363              		.loc 1 226 0
 364 006e 6065     		str	r0, [r4, #84]
 227:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_READY;
 365              		.loc 1 227 0
 366 0070 84F85130 		strb	r3, [r4, #81]
 229:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   return HAL_OK;
 367              		.loc 1 229 0
 368 0074 10BD     		pop	{r4, pc}
 369              	.LVL16:
 370              	.L51:
 180:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     return HAL_ERROR;
 371              		.loc 1 180 0
 372 0076 0120     		movs	r0, #1
 373              	.LVL17:
 230:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 374              		.loc 1 230 0
 375 0078 10BD     		pop	{r4, pc}
 376              		.cfi_endproc
 377              	.LFE125:
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 49


 379              		.section	.text.HAL_SPI_MspDeInit,"ax",%progbits
 380              		.align	1
 381              		.weak	HAL_SPI_MspDeInit
 382              		.thumb
 383              		.thumb_func
 385              	HAL_SPI_MspDeInit:
 386              	.LFB128:
 283:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 387              		.loc 1 283 0
 388              		.cfi_startproc
 389              		@ args = 0, pretend = 0, frame = 0
 390              		@ frame_needed = 0, uses_anonymous_args = 0
 391              		@ link register save eliminated.
 392              	.LVL18:
 393 0000 7047     		bx	lr
 394              		.cfi_endproc
 395              	.LFE128:
 397              		.section	.text.HAL_SPI_DeInit,"ax",%progbits
 398              		.align	1
 399              		.global	HAL_SPI_DeInit
 400              		.thumb
 401              		.thumb_func
 403              	HAL_SPI_DeInit:
 404              	.LFB126:
 239:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 405              		.loc 1 239 0
 406              		.cfi_startproc
 407              		@ args = 0, pretend = 0, frame = 0
 408              		@ frame_needed = 0, uses_anonymous_args = 0
 409              	.LVL19:
 239:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 410              		.loc 1 239 0
 411 0000 10B5     		push	{r4, lr}
 412              	.LCFI3:
 413              		.cfi_def_cfa_offset 8
 414              		.cfi_offset 4, -8
 415              		.cfi_offset 14, -4
 241:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi == NULL)
 416              		.loc 1 241 0
 417 0002 0446     		mov	r4, r0
 418 0004 68B1     		cbz	r0, .L55
 247:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_SPI_DISABLE(hspi);
 419              		.loc 1 247 0
 420 0006 0368     		ldr	r3, [r0]
 421 0008 1A68     		ldr	r2, [r3]
 422 000a 22F04002 		bic	r2, r2, #64
 423 000e 1A60     		str	r2, [r3]
 250:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   HAL_SPI_MspDeInit(hspi);
 424              		.loc 1 250 0
 425 0010 FFF7FEFF 		bl	HAL_SPI_MspDeInit
 426              	.LVL20:
 252:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->ErrorCode = HAL_SPI_ERROR_NONE;
 427              		.loc 1 252 0
 428 0014 0020     		movs	r0, #0
 429 0016 6065     		str	r0, [r4, #84]
 256:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
 430              		.loc 1 256 0
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 50


 431 0018 84F85000 		strb	r0, [r4, #80]
 253:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_RESET;
 432              		.loc 1 253 0
 433 001c 84F85100 		strb	r0, [r4, #81]
 258:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   return HAL_OK;
 434              		.loc 1 258 0
 435 0020 10BD     		pop	{r4, pc}
 436              	.LVL21:
 437              	.L55:
 243:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     return HAL_ERROR;
 438              		.loc 1 243 0
 439 0022 0120     		movs	r0, #1
 440              	.LVL22:
 259:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 441              		.loc 1 259 0
 442 0024 10BD     		pop	{r4, pc}
 443              		.cfi_endproc
 444              	.LFE126:
 446              		.section	.text.HAL_SPI_Transmit,"ax",%progbits
 447              		.align	1
 448              		.global	HAL_SPI_Transmit
 449              		.thumb
 450              		.thumb_func
 452              	HAL_SPI_Transmit:
 453              	.LFB129:
 337:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 454              		.loc 1 337 0
 455              		.cfi_startproc
 456              		@ args = 0, pretend = 0, frame = 8
 457              		@ frame_needed = 0, uses_anonymous_args = 0
 458              	.LVL23:
 459 0000 73B5     		push	{r0, r1, r4, r5, r6, lr}
 460              	.LCFI4:
 461              		.cfi_def_cfa_offset 24
 462              		.cfi_offset 0, -24
 463              		.cfi_offset 1, -20
 464              		.cfi_offset 4, -16
 465              		.cfi_offset 5, -12
 466              		.cfi_offset 6, -8
 467              		.cfi_offset 14, -4
 337:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 468              		.loc 1 337 0
 469 0002 0446     		mov	r4, r0
 339:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->State == HAL_SPI_STATE_READY)
 470              		.loc 1 339 0
 471 0004 90F85100 		ldrb	r0, [r0, #81]	@ zero_extendqisi2
 472              	.LVL24:
 473 0008 C0B2     		uxtb	r0, r0
 474 000a 0128     		cmp	r0, #1
 337:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 475              		.loc 1 337 0
 476 000c 1D46     		mov	r5, r3
 339:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->State == HAL_SPI_STATE_READY)
 477              		.loc 1 339 0
 478 000e 40F0A380 		bne	.L81
 341:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((pData == NULL ) || (Size == 0)) 
 479              		.loc 1 341 0
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 51


 480 0012 0029     		cmp	r1, #0
 481 0014 00F0A180 		beq	.L57
 341:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((pData == NULL ) || (Size == 0)) 
 482              		.loc 1 341 0 is_stmt 0 discriminator 1
 483 0018 002A     		cmp	r2, #0
 484 001a 00F09E80 		beq	.L57
 350:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_LOCK(hspi);
 485              		.loc 1 350 0 is_stmt 1
 486 001e 94F85030 		ldrb	r3, [r4, #80]	@ zero_extendqisi2
 487              	.LVL25:
 488 0022 012B     		cmp	r3, #1
 489 0024 00F09880 		beq	.L81
 353:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_BUSY_TX;
 490              		.loc 1 353 0 discriminator 2
 491 0028 1223     		movs	r3, #18
 492 002a 84F85130 		strb	r3, [r4, #81]
 367:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 493              		.loc 1 367 0 discriminator 2
 494 002e A36A     		ldr	r3, [r4, #40]
 350:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_LOCK(hspi);
 495              		.loc 1 350 0 discriminator 2
 496 0030 84F85000 		strb	r0, [r4, #80]
 367:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 497              		.loc 1 367 0 discriminator 2
 498 0034 B3F5005F 		cmp	r3, #8192
 354:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 499              		.loc 1 354 0 discriminator 2
 500 0038 4FF00000 		mov	r0, #0
 501 003c 6065     		str	r0, [r4, #84]
 361:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxISR = 0;
 502              		.loc 1 361 0 discriminator 2
 503 003e E064     		str	r0, [r4, #76]
 362:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxISR = 0;
 504              		.loc 1 362 0 discriminator 2
 505 0040 A064     		str	r0, [r4, #72]
 363:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxXferSize   = 0;
 506              		.loc 1 363 0 discriminator 2
 507 0042 A087     		strh	r0, [r4, #60]	@ movhi
 364:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxXferCount  = 0;
 508              		.loc 1 364 0 discriminator 2
 509 0044 E087     		strh	r0, [r4, #62]	@ movhi
 356:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->pTxBuffPtr = pData;
 510              		.loc 1 356 0 discriminator 2
 511 0046 2163     		str	r1, [r4, #48]
 357:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxXferSize = Size;
 512              		.loc 1 357 0 discriminator 2
 513 0048 A286     		strh	r2, [r4, #52]	@ movhi
 358:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxXferCount = Size;
 514              		.loc 1 358 0 discriminator 2
 515 004a E286     		strh	r2, [r4, #54]	@ movhi
 516 004c 2068     		ldr	r0, [r4]
 367:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 517              		.loc 1 367 0 discriminator 2
 518 004e 07D1     		bne	.L58
 369:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       SPI_RESET_CRC(hspi);
 519              		.loc 1 369 0
 520 0050 0368     		ldr	r3, [r0]
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 52


 521 0052 23F40053 		bic	r3, r3, #8192
 522 0056 0360     		str	r3, [r0]
 523 0058 0368     		ldr	r3, [r0]
 524 005a 43F40053 		orr	r3, r3, #8192
 525 005e 0360     		str	r3, [r0]
 526              	.L58:
 372:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.Direction == SPI_DIRECTION_1LINE)
 527              		.loc 1 372 0
 528 0060 A368     		ldr	r3, [r4, #8]
 529 0062 B3F5004F 		cmp	r3, #32768
 530 0066 03D1     		bne	.L59
 375:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       SPI_1LINE_TX(hspi);
 531              		.loc 1 375 0
 532 0068 0368     		ldr	r3, [r0]
 533 006a 43F48043 		orr	r3, r3, #16384
 534 006e 0360     		str	r3, [r0]
 535              	.L59:
 379:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((hspi->Instance->CR1 &SPI_CR1_SPE) != SPI_CR1_SPE)
 536              		.loc 1 379 0
 537 0070 0368     		ldr	r3, [r0]
 538 0072 5B06     		lsls	r3, r3, #25
 539 0074 03D4     		bmi	.L60
 382:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       __HAL_SPI_ENABLE(hspi);
 540              		.loc 1 382 0
 541 0076 0368     		ldr	r3, [r0]
 542 0078 43F04003 		orr	r3, r3, #64
 543 007c 0360     		str	r3, [r0]
 544              	.L60:
 386:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.DataSize == SPI_DATASIZE_8BIT)
 545              		.loc 1 386 0
 546 007e E668     		ldr	r6, [r4, #12]
 547 0080 6368     		ldr	r3, [r4, #4]
 548 0082 F6B9     		cbnz	r6, .L61
 388:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if((hspi->Init.Mode == SPI_MODE_SLAVE)|| (hspi->TxXferCount == 0x01))
 549              		.loc 1 388 0
 550 0084 0BB1     		cbz	r3, .L62
 388:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if((hspi->Init.Mode == SPI_MODE_SLAVE)|| (hspi->TxXferCount == 0x01))
 551              		.loc 1 388 0 is_stmt 0 discriminator 1
 552 0086 012A     		cmp	r2, #1
 553 0088 17D1     		bne	.L64
 554              	.L62:
 390:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->Instance->DR = (*hspi->pTxBuffPtr++);
 555              		.loc 1 390 0 is_stmt 1
 556 008a 4B1C     		adds	r3, r1, #1
 557 008c 2363     		str	r3, [r4, #48]
 558 008e 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 559 0090 C360     		str	r3, [r0, #12]
 391:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->TxXferCount--;
 560              		.loc 1 391 0
 561 0092 013A     		subs	r2, r2, #1
 562              	.LVL26:
 563 0094 E286     		strh	r2, [r4, #54]	@ movhi
 564 0096 10E0     		b	.L64
 565              	.LVL27:
 566              	.L66:
 396:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         if(SPI_WaitOnFlagUntilTimeout(hspi, SPI_FLAG_TXE, RESET, Timeout) != HAL_OK)
 567              		.loc 1 396 0
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 53


 568 0098 2046     		mov	r0, r4
 569 009a 0221     		movs	r1, #2
 570 009c 0022     		movs	r2, #0
 571 009e 2B46     		mov	r3, r5
 572 00a0 FFF7FEFF 		bl	SPI_WaitOnFlagUntilTimeout
 573              	.LVL28:
 574 00a4 0028     		cmp	r0, #0
 575 00a6 3DD1     		bne	.L89
 400:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->Instance->DR = (*hspi->pTxBuffPtr++);
 576              		.loc 1 400 0
 577 00a8 236B     		ldr	r3, [r4, #48]
 578 00aa 2268     		ldr	r2, [r4]
 579 00ac 591C     		adds	r1, r3, #1
 580 00ae 2163     		str	r1, [r4, #48]
 581 00b0 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 582 00b2 D360     		str	r3, [r2, #12]
 401:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->TxXferCount--;
 583              		.loc 1 401 0
 584 00b4 E38E     		ldrh	r3, [r4, #54]
 585 00b6 013B     		subs	r3, r3, #1
 586 00b8 E386     		strh	r3, [r4, #54]	@ movhi
 587              	.L64:
 393:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       while(hspi->TxXferCount > 0)
 588              		.loc 1 393 0 discriminator 1
 589 00ba E38E     		ldrh	r3, [r4, #54]
 590 00bc 002B     		cmp	r3, #0
 591 00be EBD1     		bne	.L66
 592 00c0 1CE0     		b	.L92
 593              	.LVL29:
 594              	.L61:
 412:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if((hspi->Init.Mode == SPI_MODE_SLAVE) || (hspi->TxXferCount == 0x01))
 595              		.loc 1 412 0
 596 00c2 0BB1     		cbz	r3, .L69
 412:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if((hspi->Init.Mode == SPI_MODE_SLAVE) || (hspi->TxXferCount == 0x01))
 597              		.loc 1 412 0 is_stmt 0 discriminator 1
 598 00c4 012A     		cmp	r2, #1
 599 00c6 16D1     		bne	.L71
 600              	.L69:
 414:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->Instance->DR = *((uint16_t*)hspi->pTxBuffPtr);
 601              		.loc 1 414 0 is_stmt 1
 602 00c8 31F8023B 		ldrh	r3, [r1], #2
 603              	.LVL30:
 604 00cc C360     		str	r3, [r0, #12]
 416:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->TxXferCount--;
 605              		.loc 1 416 0
 606 00ce 013A     		subs	r2, r2, #1
 607              	.LVL31:
 415:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->pTxBuffPtr+=2;
 608              		.loc 1 415 0
 609 00d0 2163     		str	r1, [r4, #48]
 610              	.LVL32:
 416:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->TxXferCount--;
 611              		.loc 1 416 0
 612 00d2 E286     		strh	r2, [r4, #54]	@ movhi
 613 00d4 0FE0     		b	.L71
 614              	.LVL33:
 615              	.L73:
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 54


 421:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         if(SPI_WaitOnFlagUntilTimeout(hspi, SPI_FLAG_TXE, RESET, Timeout) != HAL_OK)
 616              		.loc 1 421 0
 617 00d6 2046     		mov	r0, r4
 618 00d8 0221     		movs	r1, #2
 619 00da 0022     		movs	r2, #0
 620 00dc 2B46     		mov	r3, r5
 621 00de FFF7FEFF 		bl	SPI_WaitOnFlagUntilTimeout
 622              	.LVL34:
 623 00e2 F8B9     		cbnz	r0, .L89
 425:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->Instance->DR = *((uint16_t*)hspi->pTxBuffPtr);
 624              		.loc 1 425 0
 625 00e4 236B     		ldr	r3, [r4, #48]
 626 00e6 2268     		ldr	r2, [r4]
 627 00e8 33F8021B 		ldrh	r1, [r3], #2
 628 00ec D160     		str	r1, [r2, #12]
 426:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->pTxBuffPtr+=2;
 629              		.loc 1 426 0
 630 00ee 2363     		str	r3, [r4, #48]
 427:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->TxXferCount--;
 631              		.loc 1 427 0
 632 00f0 E38E     		ldrh	r3, [r4, #54]
 633 00f2 013B     		subs	r3, r3, #1
 634 00f4 E386     		strh	r3, [r4, #54]	@ movhi
 635              	.L71:
 418:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       while(hspi->TxXferCount > 0)
 636              		.loc 1 418 0 discriminator 1
 637 00f6 E38E     		ldrh	r3, [r4, #54]
 638 00f8 002B     		cmp	r3, #0
 639 00fa ECD1     		bne	.L73
 640              	.L92:
 430:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE) 
 641              		.loc 1 430 0
 642 00fc A36A     		ldr	r3, [r4, #40]
 643 00fe B3F5005F 		cmp	r3, #8192
 644 0102 04D1     		bne	.L68
 432:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->Instance->CR1 |= SPI_CR1_CRCNEXT;
 645              		.loc 1 432 0
 646 0104 2368     		ldr	r3, [r4]
 647 0106 1A68     		ldr	r2, [r3]
 648 0108 42F48052 		orr	r2, r2, #4096
 649 010c 1A60     		str	r2, [r3]
 650              	.L68:
 437:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(SPI_WaitOnFlagUntilTimeout(hspi, SPI_FLAG_TXE, RESET, Timeout) != HAL_OK)
 651              		.loc 1 437 0
 652 010e 2046     		mov	r0, r4
 653 0110 0221     		movs	r1, #2
 654 0112 0022     		movs	r2, #0
 655 0114 2B46     		mov	r3, r5
 656 0116 FFF7FEFF 		bl	SPI_WaitOnFlagUntilTimeout
 657              	.LVL35:
 658 011a 28B1     		cbz	r0, .L75
 659              	.L90:
 439:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->ErrorCode |= HAL_SPI_ERROR_FLAG;
 660              		.loc 1 439 0
 661 011c 636D     		ldr	r3, [r4, #84]
 662 011e 43F02003 		orr	r3, r3, #32
 663 0122 6365     		str	r3, [r4, #84]
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 55


 664              	.L89:
 440:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       return HAL_TIMEOUT;
 665              		.loc 1 440 0
 666 0124 0320     		movs	r0, #3
 667 0126 18E0     		b	.L57
 668              	.L75:
 444:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(SPI_WaitOnFlagUntilTimeout(hspi, SPI_FLAG_BSY, SET, Timeout) != HAL_OK)
 669              		.loc 1 444 0
 670 0128 2046     		mov	r0, r4
 671 012a 8021     		movs	r1, #128
 672 012c 0122     		movs	r2, #1
 673 012e 2B46     		mov	r3, r5
 674 0130 FFF7FEFF 		bl	SPI_WaitOnFlagUntilTimeout
 675              	.LVL36:
 676 0134 0028     		cmp	r0, #0
 677 0136 F1D1     		bne	.L90
 451:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.Direction == SPI_DIRECTION_2LINES)
 678              		.loc 1 451 0
 679 0138 A368     		ldr	r3, [r4, #8]
 680 013a 33B9     		cbnz	r3, .L77
 681              	.LBB2:
 453:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       __HAL_SPI_CLEAR_OVRFLAG(hspi);
 682              		.loc 1 453 0
 683 013c 2368     		ldr	r3, [r4]
 684 013e 0190     		str	r0, [sp, #4]
 685 0140 DA68     		ldr	r2, [r3, #12]
 686 0142 0192     		str	r2, [sp, #4]
 687 0144 9B68     		ldr	r3, [r3, #8]
 688 0146 0193     		str	r3, [sp, #4]
 689 0148 019B     		ldr	r3, [sp, #4]
 690              	.L77:
 691              	.LBE2:
 456:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY; 
 692              		.loc 1 456 0
 693 014a 0123     		movs	r3, #1
 694 014c 84F85130 		strb	r3, [r4, #81]
 459:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_UNLOCK(hspi);
 695              		.loc 1 459 0
 696 0150 0023     		movs	r3, #0
 697 0152 84F85030 		strb	r3, [r4, #80]
 461:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     return HAL_OK;
 698              		.loc 1 461 0
 699 0156 00E0     		b	.L57
 700              	.LVL37:
 701              	.L81:
 465:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     return HAL_BUSY;
 702              		.loc 1 465 0
 703 0158 0220     		movs	r0, #2
 704              	.LVL38:
 705              	.L57:
 467:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 706              		.loc 1 467 0
 707 015a 02B0     		add	sp, sp, #8
 708              		@ sp needed
 709 015c 70BD     		pop	{r4, r5, r6, pc}
 710              		.cfi_endproc
 711              	.LFE129:
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 56


 713              		.section	.text.HAL_SPI_TransmitReceive,"ax",%progbits
 714              		.align	1
 715              		.global	HAL_SPI_TransmitReceive
 716              		.thumb
 717              		.thumb_func
 719              	HAL_SPI_TransmitReceive:
 720              	.LFB131:
 655:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 721              		.loc 1 655 0
 722              		.cfi_startproc
 723              		@ args = 4, pretend = 0, frame = 8
 724              		@ frame_needed = 0, uses_anonymous_args = 0
 725              	.LVL39:
 726 0000 73B5     		push	{r0, r1, r4, r5, r6, lr}
 727              	.LCFI5:
 728              		.cfi_def_cfa_offset 24
 729              		.cfi_offset 0, -24
 730              		.cfi_offset 1, -20
 731              		.cfi_offset 4, -16
 732              		.cfi_offset 5, -12
 733              		.cfi_offset 6, -8
 734              		.cfi_offset 14, -4
 655:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 735              		.loc 1 655 0
 736 0002 0446     		mov	r4, r0
 659:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   tmpstate = hspi->State; 
 737              		.loc 1 659 0
 738 0004 90F85100 		ldrb	r0, [r0, #81]	@ zero_extendqisi2
 739              	.LVL40:
 655:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 740              		.loc 1 655 0
 741 0008 069D     		ldr	r5, [sp, #24]
 659:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   tmpstate = hspi->State; 
 742              		.loc 1 659 0
 743 000a C0B2     		uxtb	r0, r0
 744              	.LVL41:
 660:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if((tmpstate == HAL_SPI_STATE_READY) || (tmpstate == HAL_SPI_STATE_BUSY_RX))
 745              		.loc 1 660 0
 746 000c 0128     		cmp	r0, #1
 747 000e 02D0     		beq	.L94
 660:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if((tmpstate == HAL_SPI_STATE_READY) || (tmpstate == HAL_SPI_STATE_BUSY_RX))
 748              		.loc 1 660 0 is_stmt 0 discriminator 1
 749 0010 2228     		cmp	r0, #34
 750 0012 40F04081 		bne	.L127
 751              	.L94:
 662:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((pTxData == NULL ) || (pRxData == NULL ) || (Size == 0))
 752              		.loc 1 662 0 is_stmt 1
 753 0016 0029     		cmp	r1, #0
 754 0018 00F03B81 		beq	.L126
 662:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((pTxData == NULL ) || (pRxData == NULL ) || (Size == 0))
 755              		.loc 1 662 0 is_stmt 0 discriminator 1
 756 001c 002A     		cmp	r2, #0
 757 001e 00F03881 		beq	.L126
 758 0022 002B     		cmp	r3, #0
 759 0024 00F03581 		beq	.L126
 671:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_LOCK(hspi);
 760              		.loc 1 671 0 is_stmt 1
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 57


 761 0028 94F85000 		ldrb	r0, [r4, #80]	@ zero_extendqisi2
 762              	.LVL42:
 763 002c 0128     		cmp	r0, #1
 764 002e 00F03281 		beq	.L127
 671:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_LOCK(hspi);
 765              		.loc 1 671 0 is_stmt 0 discriminator 2
 766 0032 0120     		movs	r0, #1
 767 0034 84F85000 		strb	r0, [r4, #80]
 674:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->State == HAL_SPI_STATE_READY)
 768              		.loc 1 674 0 is_stmt 1 discriminator 2
 769 0038 94F85100 		ldrb	r0, [r4, #81]	@ zero_extendqisi2
 695:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 770              		.loc 1 695 0 discriminator 2
 771 003c A66A     		ldr	r6, [r4, #40]
 682:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->pRxBuffPtr  = pRxData;
 772              		.loc 1 682 0 discriminator 2
 773 003e A263     		str	r2, [r4, #56]
 674:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->State == HAL_SPI_STATE_READY)
 774              		.loc 1 674 0 discriminator 2
 775 0040 0128     		cmp	r0, #1
 676:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->State = HAL_SPI_STATE_BUSY_TX_RX;
 776              		.loc 1 676 0 discriminator 2
 777 0042 04BF     		itt	eq
 778 0044 3220     		moveq	r0, #50
 779 0046 84F85100 		strbeq	r0, [r4, #81]
 680:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 780              		.loc 1 680 0 discriminator 2
 781 004a 0020     		movs	r0, #0
 695:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 782              		.loc 1 695 0 discriminator 2
 783 004c B6F5005F 		cmp	r6, #8192
 680:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 784              		.loc 1 680 0 discriminator 2
 785 0050 6065     		str	r0, [r4, #84]
 683:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxXferSize  = Size;
 786              		.loc 1 683 0 discriminator 2
 787 0052 A387     		strh	r3, [r4, #60]	@ movhi
 684:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxXferCount = Size;  
 788              		.loc 1 684 0 discriminator 2
 789 0054 E387     		strh	r3, [r4, #62]	@ movhi
 686:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->pTxBuffPtr  = pTxData;
 790              		.loc 1 686 0 discriminator 2
 791 0056 2163     		str	r1, [r4, #48]
 687:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxXferSize  = Size; 
 792              		.loc 1 687 0 discriminator 2
 793 0058 A386     		strh	r3, [r4, #52]	@ movhi
 688:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxXferCount = Size;
 794              		.loc 1 688 0 discriminator 2
 795 005a E386     		strh	r3, [r4, #54]	@ movhi
 691:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxISR = 0;
 796              		.loc 1 691 0 discriminator 2
 797 005c A064     		str	r0, [r4, #72]
 692:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxISR = 0;
 798              		.loc 1 692 0 discriminator 2
 799 005e E064     		str	r0, [r4, #76]
 800 0060 2268     		ldr	r2, [r4]
 801              	.LVL43:
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 58


 695:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 802              		.loc 1 695 0 discriminator 2
 803 0062 07D1     		bne	.L97
 697:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       SPI_RESET_CRC(hspi);
 804              		.loc 1 697 0
 805 0064 1068     		ldr	r0, [r2]
 806 0066 20F40050 		bic	r0, r0, #8192
 807 006a 1060     		str	r0, [r2]
 808 006c 1068     		ldr	r0, [r2]
 809 006e 40F40050 		orr	r0, r0, #8192
 810 0072 1060     		str	r0, [r2]
 811              	.L97:
 701:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((hspi->Instance->CR1 &SPI_CR1_SPE) != SPI_CR1_SPE)
 812              		.loc 1 701 0
 813 0074 1068     		ldr	r0, [r2]
 814 0076 4006     		lsls	r0, r0, #25
 815 0078 03D4     		bmi	.L98
 704:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       __HAL_SPI_ENABLE(hspi);
 816              		.loc 1 704 0
 817 007a 1068     		ldr	r0, [r2]
 818 007c 40F04000 		orr	r0, r0, #64
 819 0080 1060     		str	r0, [r2]
 820              	.L98:
 708:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.DataSize == SPI_DATASIZE_16BIT)
 821              		.loc 1 708 0
 822 0082 E068     		ldr	r0, [r4, #12]
 823 0084 B0F5006F 		cmp	r0, #2048
 824 0088 6068     		ldr	r0, [r4, #4]
 825 008a 5ED1     		bne	.L99
 710:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if((hspi->Init.Mode == SPI_MODE_SLAVE) || ((hspi->Init.Mode == SPI_MODE_MASTER) && (hspi->TxX
 826              		.loc 1 710 0
 827 008c 20B1     		cbz	r0, .L100
 710:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if((hspi->Init.Mode == SPI_MODE_SLAVE) || ((hspi->Init.Mode == SPI_MODE_MASTER) && (hspi->TxX
 828              		.loc 1 710 0 is_stmt 0 discriminator 1
 829 008e B0F5827F 		cmp	r0, #260
 830 0092 07D1     		bne	.L101
 831 0094 012B     		cmp	r3, #1
 832 0096 05D1     		bne	.L101
 833              	.L100:
 712:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->Instance->DR = *((uint16_t*)hspi->pTxBuffPtr);
 834              		.loc 1 712 0 is_stmt 1
 835 0098 31F8020B 		ldrh	r0, [r1], #2
 836              	.LVL44:
 837 009c D060     		str	r0, [r2, #12]
 714:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->TxXferCount--;
 838              		.loc 1 714 0
 839 009e 013B     		subs	r3, r3, #1
 840              	.LVL45:
 713:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->pTxBuffPtr+=2;
 841              		.loc 1 713 0
 842 00a0 2163     		str	r1, [r4, #48]
 843              	.LVL46:
 714:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->TxXferCount--;
 844              		.loc 1 714 0
 845 00a2 E386     		strh	r3, [r4, #54]	@ movhi
 846              	.LVL47:
 847              	.L101:
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 59


 716:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if(hspi->TxXferCount == 0)
 848              		.loc 1 716 0
 849 00a4 E38E     		ldrh	r3, [r4, #54]
 850 00a6 002B     		cmp	r3, #0
 851 00a8 30D1     		bne	.L103
 719:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 852              		.loc 1 719 0
 853 00aa B6F5005F 		cmp	r6, #8192
 854 00ae 03D1     		bne	.L104
 721:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           hspi->Instance->CR1 |= SPI_CR1_CRCNEXT;
 855              		.loc 1 721 0
 856 00b0 1368     		ldr	r3, [r2]
 857 00b2 43F48053 		orr	r3, r3, #4096
 858 00b6 1360     		str	r3, [r2]
 859              	.L104:
 725:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         if(SPI_WaitOnFlagUntilTimeout(hspi, SPI_FLAG_RXNE, RESET, Timeout) != HAL_OK)
 860              		.loc 1 725 0
 861 00b8 2046     		mov	r0, r4
 862 00ba 0121     		movs	r1, #1
 863 00bc 0022     		movs	r2, #0
 864 00be 37E0     		b	.L145
 865              	.LVL48:
 866              	.L109:
 739:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           if(SPI_WaitOnFlagUntilTimeout(hspi, SPI_FLAG_TXE, RESET, Timeout) != HAL_OK)
 867              		.loc 1 739 0
 868 00c0 2046     		mov	r0, r4
 869 00c2 0221     		movs	r1, #2
 870 00c4 0022     		movs	r2, #0
 871 00c6 2B46     		mov	r3, r5
 872 00c8 FFF7FEFF 		bl	SPI_WaitOnFlagUntilTimeout
 873              	.LVL49:
 874 00cc 0028     		cmp	r0, #0
 875 00ce 40F0BF80 		bne	.L143
 744:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           hspi->Instance->DR = *((uint16_t*)hspi->pTxBuffPtr);
 876              		.loc 1 744 0
 877 00d2 226B     		ldr	r2, [r4, #48]
 878 00d4 2368     		ldr	r3, [r4]
 879 00d6 32F8021B 		ldrh	r1, [r2], #2
 880 00da D960     		str	r1, [r3, #12]
 745:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           hspi->pTxBuffPtr+=2;
 881              		.loc 1 745 0
 882 00dc 2263     		str	r2, [r4, #48]
 746:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           hspi->TxXferCount--;
 883              		.loc 1 746 0
 884 00de E28E     		ldrh	r2, [r4, #54]
 885 00e0 013A     		subs	r2, r2, #1
 886 00e2 92B2     		uxth	r2, r2
 887 00e4 E286     		strh	r2, [r4, #54]	@ movhi
 749:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           if((hspi->TxXferCount == 0) && (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE))
 888              		.loc 1 749 0
 889 00e6 AAB1     		cbz	r2, .L146
 890              	.L108:
 755:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           if(SPI_WaitOnFlagUntilTimeout(hspi, SPI_FLAG_RXNE, RESET, Timeout) != HAL_OK)
 891              		.loc 1 755 0
 892 00e8 2046     		mov	r0, r4
 893 00ea 0121     		movs	r1, #1
 894 00ec 0022     		movs	r2, #0
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 60


 895 00ee 2B46     		mov	r3, r5
 896 00f0 FFF7FEFF 		bl	SPI_WaitOnFlagUntilTimeout
 897              	.LVL50:
 898 00f4 0028     		cmp	r0, #0
 899 00f6 40F0AB80 		bne	.L143
 760:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           *((uint16_t*)hspi->pRxBuffPtr) = hspi->Instance->DR;
 900              		.loc 1 760 0
 901 00fa 2368     		ldr	r3, [r4]
 902 00fc DA68     		ldr	r2, [r3, #12]
 903 00fe A36B     		ldr	r3, [r4, #56]
 904 0100 23F8022B 		strh	r2, [r3], #2	@ movhi
 761:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           hspi->pRxBuffPtr+=2;
 905              		.loc 1 761 0
 906 0104 A363     		str	r3, [r4, #56]
 762:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           hspi->RxXferCount--;
 907              		.loc 1 762 0
 908 0106 E38F     		ldrh	r3, [r4, #62]
 909 0108 013B     		subs	r3, r3, #1
 910 010a E387     		strh	r3, [r4, #62]	@ movhi
 911              	.L103:
 736:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         while(hspi->TxXferCount > 0)
 912              		.loc 1 736 0 discriminator 1
 913 010c E38E     		ldrh	r3, [r4, #54]
 914 010e 002B     		cmp	r3, #0
 915 0110 D6D1     		bne	.L109
 916 0112 08E0     		b	.L147
 917              	.L146:
 749:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           if((hspi->TxXferCount == 0) && (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE))
 918              		.loc 1 749 0 discriminator 1
 919 0114 A26A     		ldr	r2, [r4, #40]
 920 0116 B2F5005F 		cmp	r2, #8192
 921 011a E5D1     		bne	.L108
 751:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             hspi->Instance->CR1 |= SPI_CR1_CRCNEXT;
 922              		.loc 1 751 0
 923 011c 1A68     		ldr	r2, [r3]
 924 011e 42F48052 		orr	r2, r2, #4096
 925 0122 1A60     		str	r2, [r3]
 926 0124 E0E7     		b	.L108
 927              	.L147:
 765:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         if(hspi->Init.Mode == SPI_MODE_SLAVE)
 928              		.loc 1 765 0
 929 0126 6268     		ldr	r2, [r4, #4]
 930 0128 002A     		cmp	r2, #0
 931 012a 70D1     		bne	.L106
 768:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           if(SPI_WaitOnFlagUntilTimeout(hspi, SPI_FLAG_RXNE, RESET, Timeout) != HAL_OK)
 932              		.loc 1 768 0
 933 012c 2046     		mov	r0, r4
 934 012e 0121     		movs	r1, #1
 935              	.LVL51:
 936              	.L145:
 937 0130 2B46     		mov	r3, r5
 938 0132 FFF7FEFF 		bl	SPI_WaitOnFlagUntilTimeout
 939              	.LVL52:
 940 0136 0028     		cmp	r0, #0
 941 0138 40F08A80 		bne	.L143
 773:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           *((uint16_t*)hspi->pRxBuffPtr) = hspi->Instance->DR;
 942              		.loc 1 773 0
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 61


 943 013c 2368     		ldr	r3, [r4]
 944 013e DA68     		ldr	r2, [r3, #12]
 945 0140 A36B     		ldr	r3, [r4, #56]
 946 0142 23F8022B 		strh	r2, [r3], #2	@ movhi
 774:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           hspi->pRxBuffPtr+=2;
 947              		.loc 1 774 0
 948 0146 A363     		str	r3, [r4, #56]
 949 0148 5EE0     		b	.L140
 950              	.LVL53:
 951              	.L99:
 782:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if((hspi->Init.Mode == SPI_MODE_SLAVE) || ((hspi->Init.Mode == SPI_MODE_MASTER) && (hspi->TxX
 952              		.loc 1 782 0
 953 014a 20B1     		cbz	r0, .L111
 782:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if((hspi->Init.Mode == SPI_MODE_SLAVE) || ((hspi->Init.Mode == SPI_MODE_MASTER) && (hspi->TxX
 954              		.loc 1 782 0 is_stmt 0 discriminator 1
 955 014c B0F5827F 		cmp	r0, #260
 956 0150 07D1     		bne	.L112
 957 0152 012B     		cmp	r3, #1
 958 0154 05D1     		bne	.L112
 959              	.L111:
 784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->Instance->DR = (*hspi->pTxBuffPtr++);
 960              		.loc 1 784 0 is_stmt 1
 961 0156 481C     		adds	r0, r1, #1
 962 0158 2063     		str	r0, [r4, #48]
 963 015a 0978     		ldrb	r1, [r1]	@ zero_extendqisi2
 964              	.LVL54:
 965 015c D160     		str	r1, [r2, #12]
 785:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->TxXferCount--;
 966              		.loc 1 785 0
 967 015e 013B     		subs	r3, r3, #1
 968              	.LVL55:
 969 0160 E386     		strh	r3, [r4, #54]	@ movhi
 970              	.LVL56:
 971              	.L112:
 787:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if(hspi->TxXferCount == 0)
 972              		.loc 1 787 0
 973 0162 E38E     		ldrh	r3, [r4, #54]
 974 0164 002B     		cmp	r3, #0
 975 0166 34D1     		bne	.L114
 790:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 976              		.loc 1 790 0
 977 0168 B6F5005F 		cmp	r6, #8192
 978 016c 03D1     		bne	.L115
 792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           hspi->Instance->CR1 |= SPI_CR1_CRCNEXT;
 979              		.loc 1 792 0
 980 016e 1368     		ldr	r3, [r2]
 981 0170 43F48053 		orr	r3, r3, #4096
 982 0174 1360     		str	r3, [r2]
 983              	.L115:
 796:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         if(SPI_WaitOnFlagUntilTimeout(hspi, SPI_FLAG_RXNE, RESET, Timeout) != HAL_OK)
 984              		.loc 1 796 0
 985 0176 2046     		mov	r0, r4
 986 0178 0121     		movs	r1, #1
 987 017a 0022     		movs	r2, #0
 988 017c 2B46     		mov	r3, r5
 989 017e FFF7FEFF 		bl	SPI_WaitOnFlagUntilTimeout
 990              	.LVL57:
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 62


 991 0182 0028     		cmp	r0, #0
 992 0184 64D1     		bne	.L143
 801:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         (*hspi->pRxBuffPtr) = hspi->Instance->DR;
 993              		.loc 1 801 0
 994 0186 A36B     		ldr	r3, [r4, #56]
 995 0188 3BE0     		b	.L141
 996              	.L117:
 809:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           if(SPI_WaitOnFlagUntilTimeout(hspi, SPI_FLAG_TXE, RESET, Timeout) != HAL_OK)
 997              		.loc 1 809 0
 998 018a 2046     		mov	r0, r4
 999 018c 0221     		movs	r1, #2
 1000 018e 0022     		movs	r2, #0
 1001 0190 2B46     		mov	r3, r5
 1002 0192 FFF7FEFF 		bl	SPI_WaitOnFlagUntilTimeout
 1003              	.LVL58:
 1004 0196 0028     		cmp	r0, #0
 1005 0198 5AD1     		bne	.L143
 814:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           hspi->Instance->DR = (*hspi->pTxBuffPtr++);
 1006              		.loc 1 814 0
 1007 019a 226B     		ldr	r2, [r4, #48]
 1008 019c 2368     		ldr	r3, [r4]
 1009 019e 511C     		adds	r1, r2, #1
 1010 01a0 2163     		str	r1, [r4, #48]
 1011 01a2 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 1012 01a4 DA60     		str	r2, [r3, #12]
 815:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           hspi->TxXferCount--;
 1013              		.loc 1 815 0
 1014 01a6 E28E     		ldrh	r2, [r4, #54]
 1015 01a8 013A     		subs	r2, r2, #1
 1016 01aa 92B2     		uxth	r2, r2
 1017 01ac E286     		strh	r2, [r4, #54]	@ movhi
 818:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           if((hspi->TxXferCount == 0) && (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE))
 1018              		.loc 1 818 0
 1019 01ae A2B1     		cbz	r2, .L148
 1020              	.L116:
 824:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             if(SPI_WaitOnFlagUntilTimeout(hspi, SPI_FLAG_RXNE, RESET, Timeout) != HAL_OK)
 1021              		.loc 1 824 0
 1022 01b0 2046     		mov	r0, r4
 1023 01b2 0121     		movs	r1, #1
 1024 01b4 0022     		movs	r2, #0
 1025 01b6 2B46     		mov	r3, r5
 1026 01b8 FFF7FEFF 		bl	SPI_WaitOnFlagUntilTimeout
 1027              	.LVL59:
 1028 01bc 0028     		cmp	r0, #0
 1029 01be 47D1     		bne	.L143
 829:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             (*hspi->pRxBuffPtr++) = hspi->Instance->DR;
 1030              		.loc 1 829 0
 1031 01c0 A36B     		ldr	r3, [r4, #56]
 1032 01c2 5A1C     		adds	r2, r3, #1
 1033 01c4 A263     		str	r2, [r4, #56]
 1034 01c6 2268     		ldr	r2, [r4]
 1035 01c8 D268     		ldr	r2, [r2, #12]
 1036 01ca 1A70     		strb	r2, [r3]
 830:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             hspi->RxXferCount--;
 1037              		.loc 1 830 0
 1038 01cc E38F     		ldrh	r3, [r4, #62]
 1039 01ce 013B     		subs	r3, r3, #1
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 63


 1040 01d0 E387     		strh	r3, [r4, #62]	@ movhi
 1041              	.L114:
 806:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         while(hspi->TxXferCount > 0)
 1042              		.loc 1 806 0 discriminator 1
 1043 01d2 E38E     		ldrh	r3, [r4, #54]
 1044 01d4 002B     		cmp	r3, #0
 1045 01d6 D8D1     		bne	.L117
 1046 01d8 08E0     		b	.L149
 1047              	.L148:
 818:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           if((hspi->TxXferCount == 0) && (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE))
 1048              		.loc 1 818 0 discriminator 1
 1049 01da A26A     		ldr	r2, [r4, #40]
 1050 01dc B2F5005F 		cmp	r2, #8192
 1051 01e0 E6D1     		bne	.L116
 820:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             hspi->Instance->CR1 |= SPI_CR1_CRCNEXT;
 1052              		.loc 1 820 0
 1053 01e2 1A68     		ldr	r2, [r3]
 1054 01e4 42F48052 		orr	r2, r2, #4096
 1055 01e8 1A60     		str	r2, [r3]
 1056 01ea E1E7     		b	.L116
 1057              	.L149:
 832:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         if(hspi->Init.Mode == SPI_MODE_SLAVE)
 1058              		.loc 1 832 0
 1059 01ec 6268     		ldr	r2, [r4, #4]
 1060 01ee 72B9     		cbnz	r2, .L106
 835:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           if(SPI_WaitOnFlagUntilTimeout(hspi, SPI_FLAG_RXNE, RESET, Timeout) != HAL_OK)
 1061              		.loc 1 835 0
 1062 01f0 2046     		mov	r0, r4
 1063 01f2 0121     		movs	r1, #1
 1064 01f4 2B46     		mov	r3, r5
 1065 01f6 FFF7FEFF 		bl	SPI_WaitOnFlagUntilTimeout
 1066              	.LVL60:
 1067 01fa 48BB     		cbnz	r0, .L143
 840:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           (*hspi->pRxBuffPtr++) = hspi->Instance->DR;
 1068              		.loc 1 840 0
 1069 01fc A36B     		ldr	r3, [r4, #56]
 1070 01fe 5A1C     		adds	r2, r3, #1
 1071 0200 A263     		str	r2, [r4, #56]
 1072              	.L141:
 1073 0202 2268     		ldr	r2, [r4]
 1074 0204 D268     		ldr	r2, [r2, #12]
 1075 0206 1A70     		strb	r2, [r3]
 1076              	.L140:
 841:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           hspi->RxXferCount--;
 1077              		.loc 1 841 0
 1078 0208 E38F     		ldrh	r3, [r4, #62]
 1079 020a 013B     		subs	r3, r3, #1
 1080 020c E387     		strh	r3, [r4, #62]	@ movhi
 1081              	.L106:
 847:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 1082              		.loc 1 847 0
 1083 020e A36A     		ldr	r3, [r4, #40]
 1084 0210 B3F5005F 		cmp	r3, #8192
 1085 0214 11D1     		bne	.L119
 850:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if(SPI_WaitOnFlagUntilTimeout(hspi, SPI_FLAG_RXNE, RESET, Timeout) != HAL_OK)
 1086              		.loc 1 850 0
 1087 0216 2046     		mov	r0, r4
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 64


 1088 0218 0121     		movs	r1, #1
 1089 021a 0022     		movs	r2, #0
 1090 021c 2B46     		mov	r3, r5
 1091 021e FFF7FEFF 		bl	SPI_WaitOnFlagUntilTimeout
 1092              	.LVL61:
 1093 0222 18B1     		cbz	r0, .L120
 852:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->ErrorCode |= HAL_SPI_ERROR_CRC;
 1094              		.loc 1 852 0
 1095 0224 636D     		ldr	r3, [r4, #84]
 1096 0226 43F00203 		orr	r3, r3, #2
 1097 022a 10E0     		b	.L142
 1098              	.L120:
 856:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       tmpreg = hspi->Instance->DR;
 1099              		.loc 1 856 0
 1100 022c 2368     		ldr	r3, [r4]
 1101 022e DB68     		ldr	r3, [r3, #12]
 1102 0230 9BB2     		uxth	r3, r3
 1103 0232 ADF80630 		strh	r3, [sp, #6]	@ movhi
 857:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       UNUSED(tmpreg);
 1104              		.loc 1 857 0
 1105 0236 BDF80630 		ldrh	r3, [sp, #6]
 1106              	.L119:
 861:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(SPI_WaitOnFlagUntilTimeout(hspi, SPI_FLAG_BSY, SET, Timeout) != HAL_OK)
 1107              		.loc 1 861 0
 1108 023a 2046     		mov	r0, r4
 1109 023c 8021     		movs	r1, #128
 1110 023e 0122     		movs	r2, #1
 1111 0240 2B46     		mov	r3, r5
 1112 0242 FFF7FEFF 		bl	SPI_WaitOnFlagUntilTimeout
 1113              	.LVL62:
 1114 0246 28B1     		cbz	r0, .L121
 863:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->ErrorCode |= HAL_SPI_ERROR_FLAG;
 1115              		.loc 1 863 0
 1116 0248 636D     		ldr	r3, [r4, #84]
 1117 024a 43F02003 		orr	r3, r3, #32
 1118              	.L142:
 1119 024e 6365     		str	r3, [r4, #84]
 1120              	.L143:
 864:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       return HAL_TIMEOUT;
 1121              		.loc 1 864 0
 1122 0250 0320     		movs	r0, #3
 1123 0252 21E0     		b	.L95
 1124              	.L121:
 871:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE) && (tmp != RESET))
 1125              		.loc 1 871 0
 1126 0254 A16A     		ldr	r1, [r4, #40]
 869:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     tmp = __HAL_SPI_GET_FLAG(hspi, SPI_FLAG_CRCERR);
 1127              		.loc 1 869 0
 1128 0256 2368     		ldr	r3, [r4]
 867:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
 1129              		.loc 1 867 0
 1130 0258 0122     		movs	r2, #1
 1131 025a 84F85120 		strb	r2, [r4, #81]
 871:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE) && (tmp != RESET))
 1132              		.loc 1 871 0
 1133 025e B1F5005F 		cmp	r1, #8192
 869:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     tmp = __HAL_SPI_GET_FLAG(hspi, SPI_FLAG_CRCERR);
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 65


 1134              		.loc 1 869 0
 1135 0262 9D68     		ldr	r5, [r3, #8]
 1136              	.LVL63:
 871:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE) && (tmp != RESET))
 1137              		.loc 1 871 0
 1138 0264 11D1     		bne	.L122
 871:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE) && (tmp != RESET))
 1139              		.loc 1 871 0 is_stmt 0 discriminator 1
 1140 0266 E906     		lsls	r1, r5, #27
 1141 0268 0FD5     		bpl	.L122
 873:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->ErrorCode |= HAL_SPI_ERROR_CRC;
 1142              		.loc 1 873 0 is_stmt 1
 1143 026a 616D     		ldr	r1, [r4, #84]
 1144 026c 41F00201 		orr	r1, r1, #2
 1145 0270 6165     		str	r1, [r4, #84]
 878:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         SPI_RESET_CRC(hspi);
 1146              		.loc 1 878 0
 1147 0272 1968     		ldr	r1, [r3]
 1148 0274 21F40051 		bic	r1, r1, #8192
 1149 0278 1960     		str	r1, [r3]
 1150 027a 1968     		ldr	r1, [r3]
 1151 027c 41F40051 		orr	r1, r1, #8192
 1152 0280 1960     		str	r1, [r3]
 882:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       __HAL_UNLOCK(hspi);
 1153              		.loc 1 882 0
 1154 0282 84F85000 		strb	r0, [r4, #80]
 884:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       return HAL_ERROR; 
 1155              		.loc 1 884 0
 1156 0286 1046     		mov	r0, r2
 1157 0288 06E0     		b	.L95
 1158              	.L122:
 888:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_UNLOCK(hspi);
 1159              		.loc 1 888 0
 1160 028a 0023     		movs	r3, #0
 1161 028c 84F85030 		strb	r3, [r4, #80]
 890:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     return HAL_OK;
 1162              		.loc 1 890 0
 1163 0290 02E0     		b	.L95
 1164              	.LVL64:
 1165              	.L126:
 664:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       return  HAL_ERROR;
 1166              		.loc 1 664 0
 1167 0292 0120     		movs	r0, #1
 1168              	.LVL65:
 1169 0294 00E0     		b	.L95
 1170              	.L127:
 894:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     return HAL_BUSY;
 1171              		.loc 1 894 0
 1172 0296 0220     		movs	r0, #2
 1173              	.LVL66:
 1174              	.L95:
 896:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 1175              		.loc 1 896 0
 1176 0298 02B0     		add	sp, sp, #8
 1177              		@ sp needed
 1178 029a 70BD     		pop	{r4, r5, r6, pc}
 1179              		.cfi_endproc
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 66


 1180              	.LFE131:
 1182              		.section	.text.HAL_SPI_Receive,"ax",%progbits
 1183              		.align	1
 1184              		.global	HAL_SPI_Receive
 1185              		.thumb
 1186              		.thumb_func
 1188              	HAL_SPI_Receive:
 1189              	.LFB130:
 479:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 1190              		.loc 1 479 0
 1191              		.cfi_startproc
 1192              		@ args = 0, pretend = 0, frame = 8
 1193              		@ frame_needed = 0, uses_anonymous_args = 0
 1194              	.LVL67:
 1195 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 1196              	.LCFI6:
 1197              		.cfi_def_cfa_offset 20
 1198              		.cfi_offset 4, -20
 1199              		.cfi_offset 5, -16
 1200              		.cfi_offset 6, -12
 1201              		.cfi_offset 7, -8
 1202              		.cfi_offset 14, -4
 483:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->State == HAL_SPI_STATE_READY)
 1203              		.loc 1 483 0
 1204 0002 90F85150 		ldrb	r5, [r0, #81]	@ zero_extendqisi2
 1205 0006 EDB2     		uxtb	r5, r5
 1206 0008 012D     		cmp	r5, #1
 479:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 1207              		.loc 1 479 0
 1208 000a 85B0     		sub	sp, sp, #20
 1209              	.LCFI7:
 1210              		.cfi_def_cfa_offset 40
 479:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 1211              		.loc 1 479 0
 1212 000c 0446     		mov	r4, r0
 1213 000e 1746     		mov	r7, r2
 1214 0010 1E46     		mov	r6, r3
 483:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->State == HAL_SPI_STATE_READY)
 1215              		.loc 1 483 0
 1216 0012 40F0D980 		bne	.L176
 485:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((pData == NULL ) || (Size == 0)) 
 1217              		.loc 1 485 0
 1218 0016 0029     		cmp	r1, #0
 1219 0018 00F0D780 		beq	.L151
 485:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((pData == NULL ) || (Size == 0)) 
 1220              		.loc 1 485 0 is_stmt 0 discriminator 1
 1221 001c 002A     		cmp	r2, #0
 1222 001e 00F0D480 		beq	.L151
 491:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_LOCK(hspi);
 1223              		.loc 1 491 0 is_stmt 1
 1224 0022 90F85030 		ldrb	r3, [r0, #80]	@ zero_extendqisi2
 1225              	.LVL68:
 1226 0026 012B     		cmp	r3, #1
 1227 0028 00F0CE80 		beq	.L176
 494:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->State       = HAL_SPI_STATE_BUSY_RX;
 1228              		.loc 1 494 0 discriminator 2
 1229 002c 2223     		movs	r3, #34
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 67


 491:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_LOCK(hspi);
 1230              		.loc 1 491 0 discriminator 2
 1231 002e 80F85050 		strb	r5, [r0, #80]
 494:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->State       = HAL_SPI_STATE_BUSY_RX;
 1232              		.loc 1 494 0 discriminator 2
 1233 0032 80F85130 		strb	r3, [r0, #81]
 498:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxXferSize  = Size;
 1234              		.loc 1 498 0 discriminator 2
 1235 0036 A287     		strh	r2, [r4, #60]	@ movhi
 499:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxXferCount = Size;
 1236              		.loc 1 499 0 discriminator 2
 1237 0038 E287     		strh	r2, [r4, #62]	@ movhi
 508:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.Direction == SPI_DIRECTION_1LINE)
 1238              		.loc 1 508 0 discriminator 2
 1239 003a A268     		ldr	r2, [r4, #8]
 1240              	.LVL69:
 497:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->pRxBuffPtr  = pData;
 1241              		.loc 1 497 0 discriminator 2
 1242 003c A163     		str	r1, [r4, #56]
 495:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 1243              		.loc 1 495 0 discriminator 2
 1244 003e 0020     		movs	r0, #0
 1245              	.LVL70:
 508:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.Direction == SPI_DIRECTION_1LINE)
 1246              		.loc 1 508 0 discriminator 2
 1247 0040 B2F5004F 		cmp	r2, #32768
 495:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 1248              		.loc 1 495 0 discriminator 2
 1249 0044 6065     		str	r0, [r4, #84]
 502:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxISR = 0;
 1250              		.loc 1 502 0 discriminator 2
 1251 0046 A064     		str	r0, [r4, #72]
 503:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxISR = 0;
 1252              		.loc 1 503 0 discriminator 2
 1253 0048 E064     		str	r0, [r4, #76]
 504:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxXferSize   = 0;
 1254              		.loc 1 504 0 discriminator 2
 1255 004a A086     		strh	r0, [r4, #52]	@ movhi
 505:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxXferCount  = 0;
 1256              		.loc 1 505 0 discriminator 2
 1257 004c E086     		strh	r0, [r4, #54]	@ movhi
 508:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.Direction == SPI_DIRECTION_1LINE)
 1258              		.loc 1 508 0 discriminator 2
 1259 004e 04D1     		bne	.L152
 510:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       SPI_1LINE_RX(hspi);
 1260              		.loc 1 510 0
 1261 0050 2368     		ldr	r3, [r4]
 1262 0052 1868     		ldr	r0, [r3]
 1263 0054 20F48040 		bic	r0, r0, #16384
 1264 0058 1860     		str	r0, [r3]
 1265              	.L152:
 514:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 1266              		.loc 1 514 0
 1267 005a A36A     		ldr	r3, [r4, #40]
 1268 005c B3F5005F 		cmp	r3, #8192
 1269 0060 08D1     		bne	.L153
 516:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       SPI_RESET_CRC(hspi);
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 68


 1270              		.loc 1 516 0
 1271 0062 2368     		ldr	r3, [r4]
 1272 0064 1868     		ldr	r0, [r3]
 1273 0066 20F40050 		bic	r0, r0, #8192
 1274 006a 1860     		str	r0, [r3]
 1275 006c 1868     		ldr	r0, [r3]
 1276 006e 40F40050 		orr	r0, r0, #8192
 1277 0072 1860     		str	r0, [r3]
 1278              	.L153:
 519:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((hspi->Init.Mode == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES))
 1279              		.loc 1 519 0
 1280 0074 6368     		ldr	r3, [r4, #4]
 1281 0076 B3F5827F 		cmp	r3, #260
 1282 007a 0AD1     		bne	.L154
 519:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((hspi->Init.Mode == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES))
 1283              		.loc 1 519 0 is_stmt 0 discriminator 1
 1284 007c 4AB9     		cbnz	r2, .L154
 522:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       __HAL_UNLOCK(hspi);
 1285              		.loc 1 522 0 is_stmt 1
 1286 007e 84F85020 		strb	r2, [r4, #80]
 525:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       return HAL_SPI_TransmitReceive(hspi, pData, pData, Size, Timeout);
 1287              		.loc 1 525 0
 1288 0082 0096     		str	r6, [sp]
 1289              	.LVL71:
 1290 0084 2046     		mov	r0, r4
 1291 0086 0A46     		mov	r2, r1
 1292 0088 3B46     		mov	r3, r7
 1293 008a FFF7FEFF 		bl	HAL_SPI_TransmitReceive
 1294              	.LVL72:
 1295 008e 0546     		mov	r5, r0
 1296 0090 9BE0     		b	.L151
 1297              	.LVL73:
 1298              	.L154:
 529:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((hspi->Instance->CR1 &SPI_CR1_SPE) != SPI_CR1_SPE)
 1299              		.loc 1 529 0
 1300 0092 2368     		ldr	r3, [r4]
 1301 0094 1A68     		ldr	r2, [r3]
 1302 0096 5006     		lsls	r0, r2, #25
 1303 0098 03D4     		bmi	.L155
 532:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       __HAL_SPI_ENABLE(hspi);
 1304              		.loc 1 532 0
 1305 009a 1A68     		ldr	r2, [r3]
 1306 009c 42F04002 		orr	r2, r2, #64
 1307 00a0 1A60     		str	r2, [r3]
 1308              	.L155:
 536:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.DataSize == SPI_DATASIZE_8BIT)
 1309              		.loc 1 536 0
 1310 00a2 E368     		ldr	r3, [r4, #12]
 1311 00a4 2BBB     		cbnz	r3, .L157
 1312              	.LVL74:
 1313              	.L158:
 538:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       while(hspi->RxXferCount > 1)
 1314              		.loc 1 538 0 discriminator 1
 1315 00a6 E38F     		ldrh	r3, [r4, #62]
 1316 00a8 012B     		cmp	r3, #1
 1317 00aa 25D9     		bls	.L187
 541:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         if(SPI_WaitOnFlagUntilTimeout(hspi, SPI_FLAG_RXNE, RESET, Timeout) != HAL_OK)
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 69


 1318              		.loc 1 541 0
 1319 00ac 2046     		mov	r0, r4
 1320 00ae 0121     		movs	r1, #1
 1321 00b0 0022     		movs	r2, #0
 1322 00b2 3346     		mov	r3, r6
 1323 00b4 FFF7FEFF 		bl	SPI_WaitOnFlagUntilTimeout
 1324              	.LVL75:
 1325 00b8 0028     		cmp	r0, #0
 1326 00ba 4DD1     		bne	.L185
 546:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         (*hspi->pRxBuffPtr++) = hspi->Instance->DR;
 1327              		.loc 1 546 0
 1328 00bc A36B     		ldr	r3, [r4, #56]
 1329 00be 5A1C     		adds	r2, r3, #1
 1330 00c0 A263     		str	r2, [r4, #56]
 1331 00c2 2268     		ldr	r2, [r4]
 1332 00c4 D268     		ldr	r2, [r2, #12]
 1333 00c6 1A70     		strb	r2, [r3]
 547:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->RxXferCount--;
 1334              		.loc 1 547 0
 1335 00c8 E38F     		ldrh	r3, [r4, #62]
 1336 00ca 013B     		subs	r3, r3, #1
 1337 00cc E387     		strh	r3, [r4, #62]	@ movhi
 1338 00ce EAE7     		b	.L158
 1339              	.L164:
 561:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         if(SPI_WaitOnFlagUntilTimeout(hspi, SPI_FLAG_RXNE, RESET, Timeout) != HAL_OK)
 1340              		.loc 1 561 0
 1341 00d0 2046     		mov	r0, r4
 1342 00d2 0121     		movs	r1, #1
 1343 00d4 0022     		movs	r2, #0
 1344 00d6 3346     		mov	r3, r6
 1345 00d8 FFF7FEFF 		bl	SPI_WaitOnFlagUntilTimeout
 1346              	.LVL76:
 1347 00dc 0028     		cmp	r0, #0
 1348 00de 3BD1     		bne	.L185
 566:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         *((uint16_t*)hspi->pRxBuffPtr) = hspi->Instance->DR;
 1349              		.loc 1 566 0
 1350 00e0 2368     		ldr	r3, [r4]
 1351 00e2 DA68     		ldr	r2, [r3, #12]
 1352 00e4 A36B     		ldr	r3, [r4, #56]
 1353 00e6 23F8022B 		strh	r2, [r3], #2	@ movhi
 567:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->pRxBuffPtr+=2;
 1354              		.loc 1 567 0
 1355 00ea A363     		str	r3, [r4, #56]
 568:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->RxXferCount--;
 1356              		.loc 1 568 0
 1357 00ec E38F     		ldrh	r3, [r4, #62]
 1358 00ee 013B     		subs	r3, r3, #1
 1359 00f0 E387     		strh	r3, [r4, #62]	@ movhi
 1360              	.L157:
 558:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       while(hspi->RxXferCount > 1)
 1361              		.loc 1 558 0 discriminator 1
 1362 00f2 E38F     		ldrh	r3, [r4, #62]
 1363 00f4 012B     		cmp	r3, #1
 1364 00f6 EBD8     		bhi	.L164
 1365              	.L187:
 571:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE) 
 1366              		.loc 1 571 0
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 70


 1367 00f8 A36A     		ldr	r3, [r4, #40]
 1368 00fa B3F5005F 		cmp	r3, #8192
 1369 00fe 04D1     		bne	.L162
 573:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->Instance->CR1 |= SPI_CR1_CRCNEXT;
 1370              		.loc 1 573 0
 1371 0100 2368     		ldr	r3, [r4]
 1372 0102 1A68     		ldr	r2, [r3]
 1373 0104 42F48052 		orr	r2, r2, #4096
 1374 0108 1A60     		str	r2, [r3]
 1375              	.L162:
 578:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(SPI_WaitOnFlagUntilTimeout(hspi, SPI_FLAG_RXNE, RESET, Timeout) != HAL_OK)
 1376              		.loc 1 578 0
 1377 010a 2046     		mov	r0, r4
 1378 010c 0121     		movs	r1, #1
 1379 010e 0022     		movs	r2, #0
 1380 0110 3346     		mov	r3, r6
 1381 0112 FFF7FEFF 		bl	SPI_WaitOnFlagUntilTimeout
 1382              	.LVL77:
 1383 0116 0546     		mov	r5, r0
 1384 0118 F0B9     		cbnz	r0, .L185
 584:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.DataSize == SPI_DATASIZE_8BIT)
 1385              		.loc 1 584 0
 1386 011a E168     		ldr	r1, [r4, #12]
 1387 011c 2268     		ldr	r2, [r4]
 1388 011e A36B     		ldr	r3, [r4, #56]
 1389 0120 21B9     		cbnz	r1, .L166
 586:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       (*hspi->pRxBuffPtr++) = hspi->Instance->DR;
 1390              		.loc 1 586 0
 1391 0122 591C     		adds	r1, r3, #1
 1392 0124 D268     		ldr	r2, [r2, #12]
 1393 0126 A163     		str	r1, [r4, #56]
 1394 0128 1A70     		strb	r2, [r3]
 1395 012a 03E0     		b	.L167
 1396              	.L166:
 591:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       *((uint16_t*)hspi->pRxBuffPtr) = hspi->Instance->DR;
 1397              		.loc 1 591 0
 1398 012c D268     		ldr	r2, [r2, #12]
 1399 012e 23F8022B 		strh	r2, [r3], #2	@ movhi
 592:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->pRxBuffPtr+=2;
 1400              		.loc 1 592 0
 1401 0132 A363     		str	r3, [r4, #56]
 1402              	.L167:
 594:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxXferCount--;
 1403              		.loc 1 594 0
 1404 0134 E38F     		ldrh	r3, [r4, #62]
 1405 0136 013B     		subs	r3, r3, #1
 1406 0138 E387     		strh	r3, [r4, #62]	@ movhi
 597:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 1407              		.loc 1 597 0
 1408 013a A36A     		ldr	r3, [r4, #40]
 1409 013c B3F5005F 		cmp	r3, #8192
 1410 0140 13D1     		bne	.L168
 599:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if(SPI_WaitOnFlagUntilTimeout(hspi, SPI_FLAG_RXNE, RESET, Timeout) != HAL_OK)
 1411              		.loc 1 599 0
 1412 0142 2046     		mov	r0, r4
 1413 0144 0121     		movs	r1, #1
 1414 0146 0022     		movs	r2, #0
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 71


 1415 0148 3346     		mov	r3, r6
 1416 014a FFF7FEFF 		bl	SPI_WaitOnFlagUntilTimeout
 1417              	.LVL78:
 1418 014e 28B1     		cbz	r0, .L169
 601:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->ErrorCode |= HAL_SPI_ERROR_CRC;
 1419              		.loc 1 601 0
 1420 0150 636D     		ldr	r3, [r4, #84]
 1421 0152 43F00203 		orr	r3, r3, #2
 1422 0156 6365     		str	r3, [r4, #84]
 1423              	.L185:
 602:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         return HAL_TIMEOUT;
 1424              		.loc 1 602 0
 1425 0158 0325     		movs	r5, #3
 1426 015a 36E0     		b	.L151
 1427              	.L169:
 606:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       tmpreg = hspi->Instance->DR;
 1428              		.loc 1 606 0
 1429 015c 2368     		ldr	r3, [r4]
 1430 015e DB68     		ldr	r3, [r3, #12]
 1431 0160 9BB2     		uxth	r3, r3
 1432 0162 ADF80E30 		strh	r3, [sp, #14]	@ movhi
 607:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       UNUSED(tmpreg);
 1433              		.loc 1 607 0
 1434 0166 BDF80E30 		ldrh	r3, [sp, #14]
 1435              	.L168:
 610:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((hspi->Init.Mode == SPI_MODE_MASTER)&&((hspi->Init.Direction == SPI_DIRECTION_1LINE)||(hspi-
 1436              		.loc 1 610 0
 1437 016a 6368     		ldr	r3, [r4, #4]
 1438 016c B3F5827F 		cmp	r3, #260
 1439 0170 2368     		ldr	r3, [r4]
 1440 0172 0AD1     		bne	.L170
 610:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((hspi->Init.Mode == SPI_MODE_MASTER)&&((hspi->Init.Direction == SPI_DIRECTION_1LINE)||(hspi-
 1441              		.loc 1 610 0 is_stmt 0 discriminator 1
 1442 0174 A268     		ldr	r2, [r4, #8]
 1443 0176 B2F5004F 		cmp	r2, #32768
 1444 017a 02D0     		beq	.L171
 1445 017c B2F5806F 		cmp	r2, #1024
 1446 0180 03D1     		bne	.L170
 1447              	.L171:
 613:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       __HAL_SPI_DISABLE(hspi);
 1448              		.loc 1 613 0 is_stmt 1
 1449 0182 1A68     		ldr	r2, [r3]
 1450 0184 22F04002 		bic	r2, r2, #64
 1451 0188 1A60     		str	r2, [r3]
 1452              	.L170:
 620:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE) && (tmp != RESET))
 1453              		.loc 1 620 0
 1454 018a A16A     		ldr	r1, [r4, #40]
 616:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
 1455              		.loc 1 616 0
 1456 018c 0122     		movs	r2, #1
 1457 018e 84F85120 		strb	r2, [r4, #81]
 620:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE) && (tmp != RESET))
 1458              		.loc 1 620 0
 1459 0192 B1F5005F 		cmp	r1, #8192
 618:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     tmp = __HAL_SPI_GET_FLAG(hspi, SPI_FLAG_CRCERR);
 1460              		.loc 1 618 0
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 72


 1461 0196 9868     		ldr	r0, [r3, #8]
 1462              	.LVL79:
 620:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE) && (tmp != RESET))
 1463              		.loc 1 620 0
 1464 0198 12D1     		bne	.L172
 620:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE) && (tmp != RESET))
 1465              		.loc 1 620 0 is_stmt 0 discriminator 1
 1466 019a C106     		lsls	r1, r0, #27
 1467 019c 10D5     		bpl	.L172
 622:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->ErrorCode |= HAL_SPI_ERROR_CRC;
 1468              		.loc 1 622 0 is_stmt 1
 1469 019e 616D     		ldr	r1, [r4, #84]
 1470 01a0 41F00201 		orr	r1, r1, #2
 1471 01a4 6165     		str	r1, [r4, #84]
 625:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       SPI_RESET_CRC(hspi);
 1472              		.loc 1 625 0
 1473 01a6 1968     		ldr	r1, [r3]
 1474 01a8 21F40051 		bic	r1, r1, #8192
 1475 01ac 1960     		str	r1, [r3]
 1476 01ae 1968     		ldr	r1, [r3]
 1477 01b0 41F40051 		orr	r1, r1, #8192
 1478 01b4 1960     		str	r1, [r3]
 628:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       __HAL_UNLOCK(hspi);
 1479              		.loc 1 628 0
 1480 01b6 0023     		movs	r3, #0
 1481 01b8 84F85030 		strb	r3, [r4, #80]
 630:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       return HAL_ERROR; 
 1482              		.loc 1 630 0
 1483 01bc 1546     		mov	r5, r2
 1484 01be 04E0     		b	.L151
 1485              	.L172:
 634:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_UNLOCK(hspi);
 1486              		.loc 1 634 0
 1487 01c0 0023     		movs	r3, #0
 1488 01c2 84F85030 		strb	r3, [r4, #80]
 636:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     return HAL_OK;
 1489              		.loc 1 636 0
 1490 01c6 00E0     		b	.L151
 1491              	.LVL80:
 1492              	.L176:
 640:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     return HAL_BUSY;
 1493              		.loc 1 640 0
 1494 01c8 0225     		movs	r5, #2
 1495              	.LVL81:
 1496              	.L151:
 642:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 1497              		.loc 1 642 0
 1498 01ca 2846     		mov	r0, r5
 1499 01cc 05B0     		add	sp, sp, #20
 1500              		@ sp needed
 1501 01ce F0BD     		pop	{r4, r5, r6, r7, pc}
 1502              		.cfi_endproc
 1503              	.LFE130:
 1505              		.section	.text.HAL_SPI_Transmit_IT,"ax",%progbits
 1506              		.align	1
 1507              		.global	HAL_SPI_Transmit_IT
 1508              		.thumb
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 73


 1509              		.thumb_func
 1511              	HAL_SPI_Transmit_IT:
 1512              	.LFB132:
 907:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 1513              		.loc 1 907 0
 1514              		.cfi_startproc
 1515              		@ args = 0, pretend = 0, frame = 0
 1516              		@ frame_needed = 0, uses_anonymous_args = 0
 1517              	.LVL82:
 908:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->State == HAL_SPI_STATE_READY)
 1518              		.loc 1 908 0
 1519 0000 90F85130 		ldrb	r3, [r0, #81]	@ zero_extendqisi2
 1520 0004 DBB2     		uxtb	r3, r3
 1521 0006 012B     		cmp	r3, #1
 907:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 1522              		.loc 1 907 0
 1523 0008 10B5     		push	{r4, lr}
 1524              	.LCFI8:
 1525              		.cfi_def_cfa_offset 8
 1526              		.cfi_offset 4, -8
 1527              		.cfi_offset 14, -4
 908:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->State == HAL_SPI_STATE_READY)
 1528              		.loc 1 908 0
 1529 000a 42D1     		bne	.L197
 910:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((pData == NULL) || (Size == 0))
 1530              		.loc 1 910 0
 1531 000c 0029     		cmp	r1, #0
 1532 000e 3ED0     		beq	.L196
 910:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((pData == NULL) || (Size == 0))
 1533              		.loc 1 910 0 is_stmt 0 discriminator 1
 1534 0010 002A     		cmp	r2, #0
 1535 0012 3CD0     		beq	.L196
 919:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_LOCK(hspi);
 1536              		.loc 1 919 0 is_stmt 1
 1537 0014 90F85040 		ldrb	r4, [r0, #80]	@ zero_extendqisi2
 1538 0018 012C     		cmp	r4, #1
 1539 001a 3AD0     		beq	.L197
 927:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxXferSize   = Size;
 1540              		.loc 1 927 0 discriminator 2
 1541 001c 8286     		strh	r2, [r0, #52]	@ movhi
 928:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxXferCount  = Size;
 1542              		.loc 1 928 0 discriminator 2
 1543 001e C286     		strh	r2, [r0, #54]	@ movhi
 936:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.Direction == SPI_DIRECTION_1LINE)
 1544              		.loc 1 936 0 discriminator 2
 1545 0020 8268     		ldr	r2, [r0, #8]
 1546              	.LVL83:
 919:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_LOCK(hspi);
 1547              		.loc 1 919 0 discriminator 2
 1548 0022 80F85030 		strb	r3, [r0, #80]
 922:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->State        = HAL_SPI_STATE_BUSY_TX;
 1549              		.loc 1 922 0 discriminator 2
 1550 0026 1223     		movs	r3, #18
 1551 0028 80F85130 		strb	r3, [r0, #81]
 925:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxISR = &SPI_TxISR;
 1552              		.loc 1 925 0 discriminator 2
 1553 002c 1B4C     		ldr	r4, .L200
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 74


 1554 002e C464     		str	r4, [r0, #76]
 923:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->ErrorCode    = HAL_SPI_ERROR_NONE;
 1555              		.loc 1 923 0 discriminator 2
 1556 0030 0023     		movs	r3, #0
 936:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.Direction == SPI_DIRECTION_1LINE)
 1557              		.loc 1 936 0 discriminator 2
 1558 0032 B2F5004F 		cmp	r2, #32768
 923:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->ErrorCode    = HAL_SPI_ERROR_NONE;
 1559              		.loc 1 923 0 discriminator 2
 1560 0036 4365     		str	r3, [r0, #84]
 931:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxISR = 0;
 1561              		.loc 1 931 0 discriminator 2
 1562 0038 8364     		str	r3, [r0, #72]
 932:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxXferSize   = 0;
 1563              		.loc 1 932 0 discriminator 2
 1564 003a 8387     		strh	r3, [r0, #60]	@ movhi
 933:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxXferCount  = 0;
 1565              		.loc 1 933 0 discriminator 2
 1566 003c C387     		strh	r3, [r0, #62]	@ movhi
 926:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->pTxBuffPtr   = pData;
 1567              		.loc 1 926 0 discriminator 2
 1568 003e 0163     		str	r1, [r0, #48]
 1569 0040 0368     		ldr	r3, [r0]
 936:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.Direction == SPI_DIRECTION_1LINE)
 1570              		.loc 1 936 0 discriminator 2
 1571 0042 03D1     		bne	.L190
 938:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       SPI_1LINE_TX(hspi);
 1572              		.loc 1 938 0
 1573 0044 1968     		ldr	r1, [r3]
 1574              	.LVL84:
 1575 0046 41F48041 		orr	r1, r1, #16384
 1576 004a 1960     		str	r1, [r3]
 1577              	.L190:
 942:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 1578              		.loc 1 942 0
 1579 004c 816A     		ldr	r1, [r0, #40]
 1580 004e B1F5005F 		cmp	r1, #8192
 1581 0052 07D1     		bne	.L191
 944:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       SPI_RESET_CRC(hspi);
 1582              		.loc 1 944 0
 1583 0054 1968     		ldr	r1, [r3]
 1584 0056 21F40051 		bic	r1, r1, #8192
 1585 005a 1960     		str	r1, [r3]
 1586 005c 1968     		ldr	r1, [r3]
 1587 005e 41F40051 		orr	r1, r1, #8192
 1588 0062 1960     		str	r1, [r3]
 1589              	.L191:
 947:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if (hspi->Init.Direction == SPI_DIRECTION_2LINES)
 1590              		.loc 1 947 0
 1591 0064 1AB9     		cbnz	r2, .L192
 949:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       __HAL_SPI_ENABLE_IT(hspi, (SPI_IT_TXE));
 1592              		.loc 1 949 0
 1593 0066 5A68     		ldr	r2, [r3, #4]
 1594 0068 42F08002 		orr	r2, r2, #128
 1595 006c 02E0     		b	.L199
 1596              	.L192:
 953:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       __HAL_SPI_ENABLE_IT(hspi, (SPI_IT_TXE | SPI_IT_ERR));
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 75


 1597              		.loc 1 953 0
 1598 006e 5A68     		ldr	r2, [r3, #4]
 1599 0070 42F0A002 		orr	r2, r2, #160
 1600              	.L199:
 1601 0074 5A60     		str	r2, [r3, #4]
 956:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_UNLOCK(hspi);
 1602              		.loc 1 956 0
 1603 0076 0022     		movs	r2, #0
 1604 0078 80F85020 		strb	r2, [r0, #80]
 959:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((hspi->Instance->CR1 &SPI_CR1_SPE) != SPI_CR1_SPE)
 1605              		.loc 1 959 0
 1606 007c 1868     		ldr	r0, [r3]
 1607              	.LVL85:
 1608 007e 10F04000 		ands	r0, r0, #64
 1609 0082 08D1     		bne	.L198
 962:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       __HAL_SPI_ENABLE(hspi);
 1610              		.loc 1 962 0
 1611 0084 1A68     		ldr	r2, [r3]
 1612 0086 42F04002 		orr	r2, r2, #64
 1613 008a 1A60     		str	r2, [r3]
 1614 008c 10BD     		pop	{r4, pc}
 1615              	.LVL86:
 1616              	.L196:
 912:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       return  HAL_ERROR;
 1617              		.loc 1 912 0
 1618 008e 1846     		mov	r0, r3
 1619              	.LVL87:
 1620 0090 10BD     		pop	{r4, pc}
 1621              	.LVL88:
 1622              	.L197:
 969:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     return HAL_BUSY;
 1623              		.loc 1 969 0
 1624 0092 0220     		movs	r0, #2
 1625              	.LVL89:
 1626 0094 10BD     		pop	{r4, pc}
 1627              	.LVL90:
 1628              	.L198:
 965:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     return HAL_OK;
 1629              		.loc 1 965 0
 1630 0096 1046     		mov	r0, r2
 971:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 1631              		.loc 1 971 0
 1632 0098 10BD     		pop	{r4, pc}
 1633              	.L201:
 1634 009a 00BF     		.align	2
 1635              	.L200:
 1636 009c 00000000 		.word	SPI_TxISR
 1637              		.cfi_endproc
 1638              	.LFE132:
 1640              		.section	.text.HAL_SPI_TransmitReceive_IT,"ax",%progbits
 1641              		.align	1
 1642              		.global	HAL_SPI_TransmitReceive_IT
 1643              		.thumb
 1644              		.thumb_func
 1646              	HAL_SPI_TransmitReceive_IT:
 1647              	.LFB134:
1062:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 76


 1648              		.loc 1 1062 0
 1649              		.cfi_startproc
 1650              		@ args = 0, pretend = 0, frame = 0
 1651              		@ frame_needed = 0, uses_anonymous_args = 0
 1652              	.LVL91:
 1653 0000 30B5     		push	{r4, r5, lr}
 1654              	.LCFI9:
 1655              		.cfi_def_cfa_offset 12
 1656              		.cfi_offset 4, -12
 1657              		.cfi_offset 5, -8
 1658              		.cfi_offset 14, -4
1065:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****  tmpstate = hspi->State;
 1659              		.loc 1 1065 0
 1660 0002 90F85140 		ldrb	r4, [r0, #81]	@ zero_extendqisi2
 1661 0006 E4B2     		uxtb	r4, r4
 1662              	.LVL92:
1066:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if((tmpstate == HAL_SPI_STATE_READY) || \
 1663              		.loc 1 1066 0
 1664 0008 012C     		cmp	r4, #1
 1665 000a 08D0     		beq	.L203
1066:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if((tmpstate == HAL_SPI_STATE_READY) || \
 1666              		.loc 1 1066 0 is_stmt 0 discriminator 1
 1667 000c 4568     		ldr	r5, [r0, #4]
 1668 000e B5F5827F 		cmp	r5, #260
 1669 0012 44D1     		bne	.L213
1067:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****      ((hspi->Init.Mode == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES) && (tm
 1670              		.loc 1 1067 0 is_stmt 1
 1671 0014 8568     		ldr	r5, [r0, #8]
 1672 0016 002D     		cmp	r5, #0
 1673 0018 41D1     		bne	.L213
1067:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****      ((hspi->Init.Mode == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES) && (tm
 1674              		.loc 1 1067 0 is_stmt 0 discriminator 1
 1675 001a 222C     		cmp	r4, #34
 1676 001c 3FD1     		bne	.L213
 1677              	.L203:
1069:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((pTxData == NULL ) || (pRxData == NULL ) || (Size == 0)) 
 1678              		.loc 1 1069 0 is_stmt 1
 1679 001e 0029     		cmp	r1, #0
 1680 0020 3BD0     		beq	.L212
1069:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((pTxData == NULL ) || (pRxData == NULL ) || (Size == 0)) 
 1681              		.loc 1 1069 0 is_stmt 0 discriminator 1
 1682 0022 002A     		cmp	r2, #0
 1683 0024 39D0     		beq	.L212
 1684 0026 002B     		cmp	r3, #0
 1685 0028 37D0     		beq	.L212
1078:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_LOCK(hspi);
 1686              		.loc 1 1078 0 is_stmt 1
 1687 002a 90F85040 		ldrb	r4, [r0, #80]	@ zero_extendqisi2
 1688              	.LVL93:
 1689 002e 012C     		cmp	r4, #1
 1690 0030 35D0     		beq	.L213
1078:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_LOCK(hspi);
 1691              		.loc 1 1078 0 is_stmt 0 discriminator 2
 1692 0032 0124     		movs	r4, #1
 1693 0034 80F85040 		strb	r4, [r0, #80]
1081:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->State != HAL_SPI_STATE_BUSY_RX)
 1694              		.loc 1 1081 0 is_stmt 1 discriminator 2
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 77


 1695 0038 90F85140 		ldrb	r4, [r0, #81]	@ zero_extendqisi2
1091:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxXferSize   = Size;
 1696              		.loc 1 1091 0 discriminator 2
 1697 003c 8386     		strh	r3, [r0, #52]	@ movhi
1081:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->State != HAL_SPI_STATE_BUSY_RX)
 1698              		.loc 1 1081 0 discriminator 2
 1699 003e 222C     		cmp	r4, #34
1083:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->State = HAL_SPI_STATE_BUSY_TX_RX;
 1700              		.loc 1 1083 0 discriminator 2
 1701 0040 18BF     		it	ne
 1702 0042 3224     		movne	r4, #50
1092:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxXferCount  = Size;
 1703              		.loc 1 1092 0 discriminator 2
 1704 0044 C386     		strh	r3, [r0, #54]	@ movhi
1096:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxXferSize   = Size;
 1705              		.loc 1 1096 0 discriminator 2
 1706 0046 8387     		strh	r3, [r0, #60]	@ movhi
1097:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxXferCount  = Size;
 1707              		.loc 1 1097 0 discriminator 2
 1708 0048 C387     		strh	r3, [r0, #62]	@ movhi
1100:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 1709              		.loc 1 1100 0 discriminator 2
 1710 004a 836A     		ldr	r3, [r0, #40]
 1711              	.LVL94:
1083:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->State = HAL_SPI_STATE_BUSY_TX_RX;
 1712              		.loc 1 1083 0 discriminator 2
 1713 004c 18BF     		it	ne
 1714 004e 80F85140 		strbne	r4, [r0, #81]
1087:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->ErrorCode    = HAL_SPI_ERROR_NONE;
 1715              		.loc 1 1087 0 discriminator 2
 1716 0052 0024     		movs	r4, #0
 1717 0054 4465     		str	r4, [r0, #84]
1090:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->pTxBuffPtr   = pTxData;
 1718              		.loc 1 1090 0 discriminator 2
 1719 0056 0163     		str	r1, [r0, #48]
1089:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxISR = &SPI_TxISR;
 1720              		.loc 1 1089 0 discriminator 2
 1721 0058 134C     		ldr	r4, .L221
1094:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxISR = &SPI_2LinesRxISR;
 1722              		.loc 1 1094 0 discriminator 2
 1723 005a 1449     		ldr	r1, .L221+4
 1724              	.LVL95:
1089:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxISR = &SPI_TxISR;
 1725              		.loc 1 1089 0 discriminator 2
 1726 005c C464     		str	r4, [r0, #76]
1100:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 1727              		.loc 1 1100 0 discriminator 2
 1728 005e B3F5005F 		cmp	r3, #8192
1094:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxISR = &SPI_2LinesRxISR;
 1729              		.loc 1 1094 0 discriminator 2
 1730 0062 8164     		str	r1, [r0, #72]
1095:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->pRxBuffPtr   = pRxData;
 1731              		.loc 1 1095 0 discriminator 2
 1732 0064 8263     		str	r2, [r0, #56]
 1733 0066 0368     		ldr	r3, [r0]
1100:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 1734              		.loc 1 1100 0 discriminator 2
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 78


 1735 0068 07D1     		bne	.L206
1102:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       SPI_RESET_CRC(hspi);
 1736              		.loc 1 1102 0
 1737 006a 1A68     		ldr	r2, [r3]
 1738              	.LVL96:
 1739 006c 22F40052 		bic	r2, r2, #8192
 1740 0070 1A60     		str	r2, [r3]
 1741 0072 1A68     		ldr	r2, [r3]
 1742 0074 42F40052 		orr	r2, r2, #8192
 1743 0078 1A60     		str	r2, [r3]
 1744              	.L206:
1106:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_SPI_ENABLE_IT(hspi, (SPI_IT_TXE | SPI_IT_RXNE | SPI_IT_ERR));
 1745              		.loc 1 1106 0
 1746 007a 5A68     		ldr	r2, [r3, #4]
 1747 007c 42F0E002 		orr	r2, r2, #224
 1748 0080 5A60     		str	r2, [r3, #4]
1109:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_UNLOCK(hspi);
 1749              		.loc 1 1109 0
 1750 0082 0022     		movs	r2, #0
 1751 0084 80F85020 		strb	r2, [r0, #80]
1112:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((hspi->Instance->CR1 &SPI_CR1_SPE) != SPI_CR1_SPE)
 1752              		.loc 1 1112 0
 1753 0088 1868     		ldr	r0, [r3]
 1754              	.LVL97:
 1755 008a 10F04000 		ands	r0, r0, #64
 1756 008e 08D1     		bne	.L214
1115:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       __HAL_SPI_ENABLE(hspi);
 1757              		.loc 1 1115 0
 1758 0090 1A68     		ldr	r2, [r3]
 1759 0092 42F04002 		orr	r2, r2, #64
 1760 0096 1A60     		str	r2, [r3]
 1761 0098 30BD     		pop	{r4, r5, pc}
 1762              	.LVL98:
 1763              	.L212:
1071:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       return  HAL_ERROR;
 1764              		.loc 1 1071 0
 1765 009a 0120     		movs	r0, #1
 1766              	.LVL99:
 1767 009c 30BD     		pop	{r4, r5, pc}
 1768              	.LVL100:
 1769              	.L213:
1122:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     return HAL_BUSY; 
 1770              		.loc 1 1122 0
 1771 009e 0220     		movs	r0, #2
 1772              	.LVL101:
 1773 00a0 30BD     		pop	{r4, r5, pc}
 1774              	.LVL102:
 1775              	.L214:
1118:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     return HAL_OK;
 1776              		.loc 1 1118 0
 1777 00a2 1046     		mov	r0, r2
1124:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 1778              		.loc 1 1124 0
 1779 00a4 30BD     		pop	{r4, r5, pc}
 1780              	.L222:
 1781 00a6 00BF     		.align	2
 1782              	.L221:
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 79


 1783 00a8 00000000 		.word	SPI_TxISR
 1784 00ac 00000000 		.word	SPI_2LinesRxISR
 1785              		.cfi_endproc
 1786              	.LFE134:
 1788              		.section	.text.HAL_SPI_Receive_IT,"ax",%progbits
 1789              		.align	1
 1790              		.global	HAL_SPI_Receive_IT
 1791              		.thumb
 1792              		.thumb_func
 1794              	HAL_SPI_Receive_IT:
 1795              	.LFB133:
 982:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 1796              		.loc 1 982 0
 1797              		.cfi_startproc
 1798              		@ args = 0, pretend = 0, frame = 0
 1799              		@ frame_needed = 0, uses_anonymous_args = 0
 1800              	.LVL103:
 1801 0000 70B5     		push	{r4, r5, r6, lr}
 1802              	.LCFI10:
 1803              		.cfi_def_cfa_offset 16
 1804              		.cfi_offset 4, -16
 1805              		.cfi_offset 5, -12
 1806              		.cfi_offset 6, -8
 1807              		.cfi_offset 14, -4
 983:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->State == HAL_SPI_STATE_READY)
 1808              		.loc 1 983 0
 1809 0002 90F85150 		ldrb	r5, [r0, #81]	@ zero_extendqisi2
 1810 0006 EDB2     		uxtb	r5, r5
 1811 0008 012D     		cmp	r5, #1
 982:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 1812              		.loc 1 982 0
 1813 000a 0446     		mov	r4, r0
 1814 000c 1346     		mov	r3, r2
 983:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->State == HAL_SPI_STATE_READY)
 1815              		.loc 1 983 0
 1816 000e 4CD1     		bne	.L231
 985:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((pData == NULL) || (Size == 0)) 
 1817              		.loc 1 985 0
 1818 0010 0029     		cmp	r1, #0
 1819 0012 48D0     		beq	.L230
 985:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((pData == NULL) || (Size == 0)) 
 1820              		.loc 1 985 0 is_stmt 0 discriminator 1
 1821 0014 002A     		cmp	r2, #0
 1822 0016 46D0     		beq	.L230
 991:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_LOCK(hspi);
 1823              		.loc 1 991 0 is_stmt 1
 1824 0018 90F85020 		ldrb	r2, [r0, #80]	@ zero_extendqisi2
 1825              	.LVL104:
 1826 001c 012A     		cmp	r2, #1
 1827 001e 44D0     		beq	.L231
 994:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->State        = HAL_SPI_STATE_BUSY_RX;
 1828              		.loc 1 994 0 discriminator 2
 1829 0020 2222     		movs	r2, #34
 1830 0022 80F85120 		strb	r2, [r0, #81]
 997:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxISR = &SPI_RxISR;
 1831              		.loc 1 997 0 discriminator 2
 1832 0026 234A     		ldr	r2, .L233
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 80


 1833 0028 8264     		str	r2, [r0, #72]
1008:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.Direction == SPI_DIRECTION_1LINE)
 1834              		.loc 1 1008 0 discriminator 2
 1835 002a 8268     		ldr	r2, [r0, #8]
 991:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_LOCK(hspi);
 1836              		.loc 1 991 0 discriminator 2
 1837 002c 80F85050 		strb	r5, [r0, #80]
1008:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.Direction == SPI_DIRECTION_1LINE)
 1838              		.loc 1 1008 0 discriminator 2
 1839 0030 B2F5004F 		cmp	r2, #32768
 995:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->ErrorCode    = HAL_SPI_ERROR_NONE;
 1840              		.loc 1 995 0 discriminator 2
 1841 0034 4FF00005 		mov	r5, #0
 1842 0038 4565     		str	r5, [r0, #84]
 998:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->pRxBuffPtr   = pData;
 1843              		.loc 1 998 0 discriminator 2
 1844 003a A163     		str	r1, [r4, #56]
 999:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxXferSize   = Size;
 1845              		.loc 1 999 0 discriminator 2
 1846 003c 8387     		strh	r3, [r0, #60]	@ movhi
1000:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxXferCount  = Size ; 
 1847              		.loc 1 1000 0 discriminator 2
 1848 003e C387     		strh	r3, [r0, #62]	@ movhi
1003:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxISR = 0;
 1849              		.loc 1 1003 0 discriminator 2
 1850 0040 C564     		str	r5, [r0, #76]
1004:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxXferSize   = 0;
 1851              		.loc 1 1004 0 discriminator 2
 1852 0042 8586     		strh	r5, [r0, #52]	@ movhi
1005:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxXferCount  = 0;
 1853              		.loc 1 1005 0 discriminator 2
 1854 0044 C586     		strh	r5, [r0, #54]	@ movhi
1008:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.Direction == SPI_DIRECTION_1LINE)
 1855              		.loc 1 1008 0 discriminator 2
 1856 0046 05D1     		bne	.L225
1010:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        SPI_1LINE_RX(hspi);
 1857              		.loc 1 1010 0
 1858 0048 0368     		ldr	r3, [r0]
 1859 004a 1A68     		ldr	r2, [r3]
 1860 004c 22F48042 		bic	r2, r2, #16384
 1861 0050 1A60     		str	r2, [r3]
 1862 0052 0BE0     		b	.L226
 1863              	.L225:
1012:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     else if((hspi->Init.Direction == SPI_DIRECTION_2LINES) && (hspi->Init.Mode == SPI_MODE_MASTER))
 1864              		.loc 1 1012 0
 1865 0054 52B9     		cbnz	r2, .L226
1012:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     else if((hspi->Init.Direction == SPI_DIRECTION_2LINES) && (hspi->Init.Mode == SPI_MODE_MASTER))
 1866              		.loc 1 1012 0 is_stmt 0 discriminator 1
 1867 0056 4568     		ldr	r5, [r0, #4]
 1868 0058 B5F5827F 		cmp	r5, #260
 1869 005c 06D1     		bne	.L226
1015:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        __HAL_UNLOCK(hspi);
 1870              		.loc 1 1015 0 is_stmt 1
 1871 005e 80F85020 		strb	r2, [r0, #80]
1050:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 1872              		.loc 1 1050 0
 1873 0062 BDE87040 		pop	{r4, r5, r6, lr}
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 81


1018:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        return HAL_SPI_TransmitReceive_IT(hspi, pData, pData, Size);
 1874              		.loc 1 1018 0
 1875 0066 0A46     		mov	r2, r1
 1876 0068 FFF7FEBF 		b	HAL_SPI_TransmitReceive_IT
 1877              	.LVL105:
 1878              	.L226:
1022:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 1879              		.loc 1 1022 0
 1880 006c A36A     		ldr	r3, [r4, #40]
 1881 006e B3F5005F 		cmp	r3, #8192
 1882 0072 2368     		ldr	r3, [r4]
 1883 0074 07D1     		bne	.L227
1024:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       SPI_RESET_CRC(hspi);
 1884              		.loc 1 1024 0
 1885 0076 1A68     		ldr	r2, [r3]
 1886 0078 22F40052 		bic	r2, r2, #8192
 1887 007c 1A60     		str	r2, [r3]
 1888 007e 1A68     		ldr	r2, [r3]
 1889 0080 42F40052 		orr	r2, r2, #8192
 1890 0084 1A60     		str	r2, [r3]
 1891              	.L227:
1028:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_SPI_ENABLE_IT(hspi, (SPI_IT_RXNE | SPI_IT_ERR));
 1892              		.loc 1 1028 0
 1893 0086 5A68     		ldr	r2, [r3, #4]
 1894 0088 42F06002 		orr	r2, r2, #96
 1895 008c 5A60     		str	r2, [r3, #4]
1038:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((hspi->Instance->CR1 &SPI_CR1_SPE) != SPI_CR1_SPE)
 1896              		.loc 1 1038 0
 1897 008e 1868     		ldr	r0, [r3]
 1898              	.LVL106:
1031:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_UNLOCK(hspi);
 1899              		.loc 1 1031 0
 1900 0090 0022     		movs	r2, #0
1038:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((hspi->Instance->CR1 &SPI_CR1_SPE) != SPI_CR1_SPE)
 1901              		.loc 1 1038 0
 1902 0092 10F04000 		ands	r0, r0, #64
1031:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_UNLOCK(hspi);
 1903              		.loc 1 1031 0
 1904 0096 84F85020 		strb	r2, [r4, #80]
1038:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((hspi->Instance->CR1 &SPI_CR1_SPE) != SPI_CR1_SPE)
 1905              		.loc 1 1038 0
 1906 009a 08D1     		bne	.L232
1041:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       __HAL_SPI_ENABLE(hspi);
 1907              		.loc 1 1041 0
 1908 009c 1A68     		ldr	r2, [r3]
 1909 009e 42F04002 		orr	r2, r2, #64
 1910 00a2 1A60     		str	r2, [r3]
 1911 00a4 70BD     		pop	{r4, r5, r6, pc}
 1912              	.LVL107:
 1913              	.L230:
 987:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       return  HAL_ERROR;
 1914              		.loc 1 987 0
 1915 00a6 2846     		mov	r0, r5
 1916              	.LVL108:
 1917 00a8 70BD     		pop	{r4, r5, r6, pc}
 1918              	.LVL109:
 1919              	.L231:
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 82


1048:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     return HAL_BUSY; 
 1920              		.loc 1 1048 0
 1921 00aa 0220     		movs	r0, #2
 1922              	.LVL110:
 1923 00ac 70BD     		pop	{r4, r5, r6, pc}
 1924              	.LVL111:
 1925              	.L232:
1044:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     return HAL_OK;
 1926              		.loc 1 1044 0
 1927 00ae 1046     		mov	r0, r2
1050:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 1928              		.loc 1 1050 0
 1929 00b0 70BD     		pop	{r4, r5, r6, pc}
 1930              	.LVL112:
 1931              	.L234:
 1932 00b2 00BF     		.align	2
 1933              	.L233:
 1934 00b4 00000000 		.word	SPI_RxISR
 1935              		.cfi_endproc
 1936              	.LFE133:
 1938              		.section	.text.HAL_SPI_Transmit_DMA,"ax",%progbits
 1939              		.align	1
 1940              		.global	HAL_SPI_Transmit_DMA
 1941              		.thumb
 1942              		.thumb_func
 1944              	HAL_SPI_Transmit_DMA:
 1945              	.LFB135:
1135:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 1946              		.loc 1 1135 0
 1947              		.cfi_startproc
 1948              		@ args = 0, pretend = 0, frame = 0
 1949              		@ frame_needed = 0, uses_anonymous_args = 0
 1950              	.LVL113:
 1951 0000 38B5     		push	{r3, r4, r5, lr}
 1952              	.LCFI11:
 1953              		.cfi_def_cfa_offset 16
 1954              		.cfi_offset 3, -16
 1955              		.cfi_offset 4, -12
 1956              		.cfi_offset 5, -8
 1957              		.cfi_offset 14, -4
1135:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 1958              		.loc 1 1135 0
 1959 0002 0446     		mov	r4, r0
1136:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->State == HAL_SPI_STATE_READY)
 1960              		.loc 1 1136 0
 1961 0004 90F85100 		ldrb	r0, [r0, #81]	@ zero_extendqisi2
 1962              	.LVL114:
 1963 0008 C0B2     		uxtb	r0, r0
 1964 000a 0128     		cmp	r0, #1
1135:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 1965              		.loc 1 1135 0
 1966 000c 1346     		mov	r3, r2
1136:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->State == HAL_SPI_STATE_READY)
 1967              		.loc 1 1136 0
 1968 000e 47D1     		bne	.L243
1138:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((pData == NULL) || (Size == 0))
 1969              		.loc 1 1138 0
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 83


 1970 0010 0029     		cmp	r1, #0
 1971 0012 46D0     		beq	.L236
1138:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((pData == NULL) || (Size == 0))
 1972              		.loc 1 1138 0 is_stmt 0 discriminator 1
 1973 0014 002A     		cmp	r2, #0
 1974 0016 44D0     		beq	.L236
1147:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_LOCK(hspi);
 1975              		.loc 1 1147 0 is_stmt 1
 1976 0018 94F85020 		ldrb	r2, [r4, #80]	@ zero_extendqisi2
 1977              	.LVL115:
 1978 001c 012A     		cmp	r2, #1
 1979 001e 3FD0     		beq	.L243
1150:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->State       = HAL_SPI_STATE_BUSY_TX;
 1980              		.loc 1 1150 0 discriminator 2
 1981 0020 1222     		movs	r2, #18
 1982 0022 84F85120 		strb	r2, [r4, #81]
1164:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.Direction == SPI_DIRECTION_1LINE)
 1983              		.loc 1 1164 0 discriminator 2
 1984 0026 A268     		ldr	r2, [r4, #8]
1147:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_LOCK(hspi);
 1985              		.loc 1 1147 0 discriminator 2
 1986 0028 84F85000 		strb	r0, [r4, #80]
1164:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.Direction == SPI_DIRECTION_1LINE)
 1987              		.loc 1 1164 0 discriminator 2
 1988 002c B2F5004F 		cmp	r2, #32768
1151:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 1989              		.loc 1 1151 0 discriminator 2
 1990 0030 4FF00000 		mov	r0, #0
 1991 0034 6065     		str	r0, [r4, #84]
1153:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->pTxBuffPtr  = pData;
 1992              		.loc 1 1153 0 discriminator 2
 1993 0036 2163     		str	r1, [r4, #48]
1154:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxXferSize  = Size;
 1994              		.loc 1 1154 0 discriminator 2
 1995 0038 A386     		strh	r3, [r4, #52]	@ movhi
1155:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxXferCount = Size;
 1996              		.loc 1 1155 0 discriminator 2
 1997 003a E386     		strh	r3, [r4, #54]	@ movhi
1158:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxISR = 0;
 1998              		.loc 1 1158 0 discriminator 2
 1999 003c E064     		str	r0, [r4, #76]
1159:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxISR = 0;
 2000              		.loc 1 1159 0 discriminator 2
 2001 003e A064     		str	r0, [r4, #72]
1160:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxXferSize   = 0;
 2002              		.loc 1 1160 0 discriminator 2
 2003 0040 A087     		strh	r0, [r4, #60]	@ movhi
1161:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxXferCount  = 0;
 2004              		.loc 1 1161 0 discriminator 2
 2005 0042 E087     		strh	r0, [r4, #62]	@ movhi
 2006 0044 2568     		ldr	r5, [r4]
1164:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.Direction == SPI_DIRECTION_1LINE)
 2007              		.loc 1 1164 0 discriminator 2
 2008 0046 03D1     		bne	.L237
1166:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       SPI_1LINE_TX(hspi);
 2009              		.loc 1 1166 0
 2010 0048 2A68     		ldr	r2, [r5]
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 84


 2011 004a 42F48042 		orr	r2, r2, #16384
 2012 004e 2A60     		str	r2, [r5]
 2013              	.L237:
1170:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 2014              		.loc 1 1170 0
 2015 0050 A26A     		ldr	r2, [r4, #40]
 2016 0052 B2F5005F 		cmp	r2, #8192
 2017 0056 07D1     		bne	.L238
1172:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       SPI_RESET_CRC(hspi);
 2018              		.loc 1 1172 0
 2019 0058 2A68     		ldr	r2, [r5]
 2020 005a 22F40052 		bic	r2, r2, #8192
 2021 005e 2A60     		str	r2, [r5]
 2022 0060 2A68     		ldr	r2, [r5]
 2023 0062 42F40052 		orr	r2, r2, #8192
 2024 0066 2A60     		str	r2, [r5]
 2025              	.L238:
1176:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->hdmatx->XferHalfCpltCallback = SPI_DMAHalfTransmitCplt;
 2026              		.loc 1 1176 0
 2027 0068 206C     		ldr	r0, [r4, #64]
 2028 006a 0E4A     		ldr	r2, .L244
 2029 006c 0264     		str	r2, [r0, #64]
1179:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->hdmatx->XferCpltCallback = SPI_DMATransmitCplt;
 2030              		.loc 1 1179 0
 2031 006e 0E4A     		ldr	r2, .L244+4
 2032 0070 C263     		str	r2, [r0, #60]
1182:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->hdmatx->XferErrorCallback = SPI_DMAError;
 2033              		.loc 1 1182 0
 2034 0072 0E4A     		ldr	r2, .L244+8
 2035 0074 8264     		str	r2, [r0, #72]
1185:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     HAL_DMA_Start_IT(hspi->hdmatx, (uint32_t)hspi->pTxBuffPtr, (uint32_t)&hspi->Instance->DR, hspi-
 2036              		.loc 1 1185 0
 2037 0076 05F10C02 		add	r2, r5, #12
 2038 007a FFF7FEFF 		bl	HAL_DMA_Start_IT
 2039              	.LVL116:
1188:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_UNLOCK(hspi);
 2040              		.loc 1 1188 0
 2041 007e 0023     		movs	r3, #0
 2042 0080 84F85030 		strb	r3, [r4, #80]
1191:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((hspi->Instance->CR1 &SPI_CR1_SPE) != SPI_CR1_SPE)
 2043              		.loc 1 1191 0
 2044 0084 2368     		ldr	r3, [r4]
 2045 0086 1A68     		ldr	r2, [r3]
 2046 0088 5206     		lsls	r2, r2, #25
 2047 008a 03D4     		bmi	.L239
1194:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       __HAL_SPI_ENABLE(hspi);
 2048              		.loc 1 1194 0
 2049 008c 1A68     		ldr	r2, [r3]
 2050 008e 42F04002 		orr	r2, r2, #64
 2051 0092 1A60     		str	r2, [r3]
 2052              	.L239:
1198:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->Instance->CR2 |= SPI_CR2_TXDMAEN;
 2053              		.loc 1 1198 0
 2054 0094 5A68     		ldr	r2, [r3, #4]
 2055 0096 42F00202 		orr	r2, r2, #2
 2056 009a 5A60     		str	r2, [r3, #4]
1200:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     return HAL_OK;
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 85


 2057              		.loc 1 1200 0
 2058 009c 0020     		movs	r0, #0
 2059 009e 38BD     		pop	{r3, r4, r5, pc}
 2060              	.LVL117:
 2061              	.L243:
1204:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     return HAL_BUSY;
 2062              		.loc 1 1204 0
 2063 00a0 0220     		movs	r0, #2
 2064              	.L236:
1206:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 2065              		.loc 1 1206 0
 2066 00a2 38BD     		pop	{r3, r4, r5, pc}
 2067              	.LVL118:
 2068              	.L245:
 2069              		.align	2
 2070              	.L244:
 2071 00a4 00000000 		.word	SPI_DMAHalfTransmitCplt
 2072 00a8 00000000 		.word	SPI_DMATransmitCplt
 2073 00ac 00000000 		.word	SPI_DMAError
 2074              		.cfi_endproc
 2075              	.LFE135:
 2077              		.section	.text.HAL_SPI_TransmitReceive_DMA,"ax",%progbits
 2078              		.align	1
 2079              		.global	HAL_SPI_TransmitReceive_DMA
 2080              		.thumb
 2081              		.thumb_func
 2083              	HAL_SPI_TransmitReceive_DMA:
 2084              	.LFB137:
1307:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 2085              		.loc 1 1307 0
 2086              		.cfi_startproc
 2087              		@ args = 0, pretend = 0, frame = 0
 2088              		@ frame_needed = 0, uses_anonymous_args = 0
 2089              	.LVL119:
 2090 0000 70B5     		push	{r4, r5, r6, lr}
 2091              	.LCFI12:
 2092              		.cfi_def_cfa_offset 16
 2093              		.cfi_offset 4, -16
 2094              		.cfi_offset 5, -12
 2095              		.cfi_offset 6, -8
 2096              		.cfi_offset 14, -4
1307:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 2097              		.loc 1 1307 0
 2098 0002 0446     		mov	r4, r0
1309:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   tmpstate = hspi->State;
 2099              		.loc 1 1309 0
 2100 0004 90F85100 		ldrb	r0, [r0, #81]	@ zero_extendqisi2
 2101              	.LVL120:
 2102 0008 C0B2     		uxtb	r0, r0
 2103              	.LVL121:
1310:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if((tmpstate == HAL_SPI_STATE_READY) || ((hspi->Init.Mode == SPI_MODE_MASTER) && \
 2104              		.loc 1 1310 0
 2105 000a 0128     		cmp	r0, #1
 2106 000c 08D0     		beq	.L247
1310:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if((tmpstate == HAL_SPI_STATE_READY) || ((hspi->Init.Mode == SPI_MODE_MASTER) && \
 2107              		.loc 1 1310 0 is_stmt 0 discriminator 1
 2108 000e 6568     		ldr	r5, [r4, #4]
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 86


 2109 0010 B5F5827F 		cmp	r5, #260
 2110 0014 66D1     		bne	.L262
 2111 0016 A568     		ldr	r5, [r4, #8]
 2112 0018 002D     		cmp	r5, #0
 2113 001a 63D1     		bne	.L262
1311:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****      (hspi->Init.Direction == SPI_DIRECTION_2LINES) && (tmpstate == HAL_SPI_STATE_BUSY_RX)))
 2114              		.loc 1 1311 0 is_stmt 1
 2115 001c 2228     		cmp	r0, #34
 2116 001e 61D1     		bne	.L262
 2117              	.L247:
1313:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((pTxData == NULL ) || (pRxData == NULL ) || (Size == 0))
 2118              		.loc 1 1313 0
 2119 0020 0029     		cmp	r1, #0
 2120 0022 5DD0     		beq	.L261
1313:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((pTxData == NULL ) || (pRxData == NULL ) || (Size == 0))
 2121              		.loc 1 1313 0 is_stmt 0 discriminator 1
 2122 0024 002A     		cmp	r2, #0
 2123 0026 5BD0     		beq	.L261
 2124 0028 002B     		cmp	r3, #0
 2125 002a 59D0     		beq	.L261
1322:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_LOCK(hspi);
 2126              		.loc 1 1322 0 is_stmt 1
 2127 002c 94F85000 		ldrb	r0, [r4, #80]	@ zero_extendqisi2
 2128              	.LVL122:
 2129 0030 0128     		cmp	r0, #1
 2130 0032 57D0     		beq	.L262
1322:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_LOCK(hspi);
 2131              		.loc 1 1322 0 is_stmt 0 discriminator 2
 2132 0034 0120     		movs	r0, #1
 2133 0036 84F85000 		strb	r0, [r4, #80]
1325:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->State != HAL_SPI_STATE_BUSY_RX)
 2134              		.loc 1 1325 0 is_stmt 1 discriminator 2
 2135 003a 94F85100 		ldrb	r0, [r4, #81]	@ zero_extendqisi2
1333:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->pTxBuffPtr  = (uint8_t*)pTxData;
 2136              		.loc 1 1333 0 discriminator 2
 2137 003e 2163     		str	r1, [r4, #48]
1325:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->State != HAL_SPI_STATE_BUSY_RX)
 2138              		.loc 1 1325 0 discriminator 2
 2139 0040 2228     		cmp	r0, #34
1346:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 2140              		.loc 1 1346 0 discriminator 2
 2141 0042 A16A     		ldr	r1, [r4, #40]
 2142              	.LVL123:
1334:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxXferSize  = Size;
 2143              		.loc 1 1334 0 discriminator 2
 2144 0044 A386     		strh	r3, [r4, #52]	@ movhi
1327:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->State = HAL_SPI_STATE_BUSY_TX_RX;
 2145              		.loc 1 1327 0 discriminator 2
 2146 0046 1CBF     		itt	ne
 2147 0048 3220     		movne	r0, #50
 2148 004a 84F85100 		strbne	r0, [r4, #81]
1331:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 2149              		.loc 1 1331 0 discriminator 2
 2150 004e 0020     		movs	r0, #0
1346:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 2151              		.loc 1 1346 0 discriminator 2
 2152 0050 B1F5005F 		cmp	r1, #8192
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 87


1331:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 2153              		.loc 1 1331 0 discriminator 2
 2154 0054 6065     		str	r0, [r4, #84]
1335:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxXferCount = Size;
 2155              		.loc 1 1335 0 discriminator 2
 2156 0056 E386     		strh	r3, [r4, #54]	@ movhi
1337:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->pRxBuffPtr  = (uint8_t*)pRxData;
 2157              		.loc 1 1337 0 discriminator 2
 2158 0058 A263     		str	r2, [r4, #56]
1338:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxXferSize  = Size;
 2159              		.loc 1 1338 0 discriminator 2
 2160 005a A387     		strh	r3, [r4, #60]	@ movhi
1339:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxXferCount = Size;
 2161              		.loc 1 1339 0 discriminator 2
 2162 005c E387     		strh	r3, [r4, #62]	@ movhi
1342:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxISR = 0;
 2163              		.loc 1 1342 0 discriminator 2
 2164 005e A064     		str	r0, [r4, #72]
1343:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxISR = 0;
 2165              		.loc 1 1343 0 discriminator 2
 2166 0060 E064     		str	r0, [r4, #76]
 2167 0062 2168     		ldr	r1, [r4]
1346:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 2168              		.loc 1 1346 0 discriminator 2
 2169 0064 07D1     		bne	.L250
1348:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       SPI_RESET_CRC(hspi);
 2170              		.loc 1 1348 0
 2171 0066 0868     		ldr	r0, [r1]
 2172 0068 20F40050 		bic	r0, r0, #8192
 2173 006c 0860     		str	r0, [r1]
 2174 006e 0868     		ldr	r0, [r1]
 2175 0070 40F40050 		orr	r0, r0, #8192
 2176 0074 0860     		str	r0, [r1]
 2177              	.L250:
1352:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->State == HAL_SPI_STATE_BUSY_RX)
 2178              		.loc 1 1352 0
 2179 0076 94F85100 		ldrb	r0, [r4, #81]	@ zero_extendqisi2
 2180 007a 2228     		cmp	r0, #34
 2181 007c 606C     		ldr	r0, [r4, #68]
 2182 007e 03D1     		bne	.L251
1355:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->hdmarx->XferHalfCpltCallback = SPI_DMAHalfReceiveCplt;
 2183              		.loc 1 1355 0
 2184 0080 194D     		ldr	r5, .L270
 2185 0082 0564     		str	r5, [r0, #64]
1357:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->hdmarx->XferCpltCallback = SPI_DMAReceiveCplt;
 2186              		.loc 1 1357 0
 2187 0084 194D     		ldr	r5, .L270+4
 2188 0086 02E0     		b	.L269
 2189              	.L251:
1362:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->hdmarx->XferHalfCpltCallback = SPI_DMAHalfTransmitReceiveCplt;
 2190              		.loc 1 1362 0
 2191 0088 194D     		ldr	r5, .L270+8
 2192 008a 0564     		str	r5, [r0, #64]
1364:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->hdmarx->XferCpltCallback = SPI_DMATransmitReceiveCplt;
 2193              		.loc 1 1364 0
 2194 008c 194D     		ldr	r5, .L270+12
 2195              	.L269:
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 88


1368:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->hdmarx->XferErrorCallback = SPI_DMAError;
 2196              		.loc 1 1368 0
 2197 008e 1A4E     		ldr	r6, .L270+16
1364:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->hdmarx->XferCpltCallback = SPI_DMATransmitReceiveCplt;
 2198              		.loc 1 1364 0
 2199 0090 C563     		str	r5, [r0, #60]
 2200              	.LVL124:
1368:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->hdmarx->XferErrorCallback = SPI_DMAError;
 2201              		.loc 1 1368 0
 2202 0092 8664     		str	r6, [r0, #72]
1371:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     HAL_DMA_Start_IT(hspi->hdmarx, (uint32_t)&hspi->Instance->DR, (uint32_t)hspi->pRxBuffPtr, hspi-
 2203              		.loc 1 1371 0
 2204 0094 0C31     		adds	r1, r1, #12
 2205 0096 FFF7FEFF 		bl	HAL_DMA_Start_IT
 2206              	.LVL125:
1374:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->Instance->CR2 |= SPI_CR2_RXDMAEN;
 2207              		.loc 1 1374 0
 2208 009a 2268     		ldr	r2, [r4]
1378:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->hdmatx->XferCpltCallback = NULL;
 2209              		.loc 1 1378 0
 2210 009c 206C     		ldr	r0, [r4, #64]
1374:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->Instance->CR2 |= SPI_CR2_RXDMAEN;
 2211              		.loc 1 1374 0
 2212 009e 5368     		ldr	r3, [r2, #4]
1391:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     HAL_DMA_Start_IT(hspi->hdmatx, (uint32_t)hspi->pTxBuffPtr, (uint32_t)&hspi->Instance->DR, hspi-
 2213              		.loc 1 1391 0
 2214 00a0 216B     		ldr	r1, [r4, #48]
1374:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->Instance->CR2 |= SPI_CR2_RXDMAEN;
 2215              		.loc 1 1374 0
 2216 00a2 43F00103 		orr	r3, r3, #1
 2217 00a6 5360     		str	r3, [r2, #4]
1380:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->State == HAL_SPI_STATE_BUSY_TX_RX)
 2218              		.loc 1 1380 0
 2219 00a8 94F85130 		ldrb	r3, [r4, #81]	@ zero_extendqisi2
1378:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->hdmatx->XferCpltCallback = NULL;
 2220              		.loc 1 1378 0
 2221 00ac 0025     		movs	r5, #0
1383:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->hdmatx->XferErrorCallback = SPI_DMAError;
 2222              		.loc 1 1383 0
 2223 00ae 322B     		cmp	r3, #50
 2224 00b0 18BF     		it	ne
 2225 00b2 2E46     		movne	r6, r5
1391:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     HAL_DMA_Start_IT(hspi->hdmatx, (uint32_t)hspi->pTxBuffPtr, (uint32_t)&hspi->Instance->DR, hspi-
 2226              		.loc 1 1391 0
 2227 00b4 0C32     		adds	r2, r2, #12
 2228 00b6 E38E     		ldrh	r3, [r4, #54]
1378:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->hdmatx->XferCpltCallback = NULL;
 2229              		.loc 1 1378 0
 2230 00b8 C563     		str	r5, [r0, #60]
1383:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->hdmatx->XferErrorCallback = SPI_DMAError;
 2231              		.loc 1 1383 0
 2232 00ba 8664     		str	r6, [r0, #72]
1391:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     HAL_DMA_Start_IT(hspi->hdmatx, (uint32_t)hspi->pTxBuffPtr, (uint32_t)&hspi->Instance->DR, hspi-
 2233              		.loc 1 1391 0
 2234 00bc FFF7FEFF 		bl	HAL_DMA_Start_IT
 2235              	.LVL126:
1397:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((hspi->Instance->CR1 &SPI_CR1_SPE) != SPI_CR1_SPE)
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 89


 2236              		.loc 1 1397 0
 2237 00c0 2368     		ldr	r3, [r4]
1394:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_UNLOCK(hspi);
 2238              		.loc 1 1394 0
 2239 00c2 84F85050 		strb	r5, [r4, #80]
1397:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((hspi->Instance->CR1 &SPI_CR1_SPE) != SPI_CR1_SPE)
 2240              		.loc 1 1397 0
 2241 00c6 1A68     		ldr	r2, [r3]
 2242 00c8 5206     		lsls	r2, r2, #25
 2243 00ca 03D4     		bmi	.L255
1400:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       __HAL_SPI_ENABLE(hspi);
 2244              		.loc 1 1400 0
 2245 00cc 1A68     		ldr	r2, [r3]
 2246 00ce 42F04002 		orr	r2, r2, #64
 2247 00d2 1A60     		str	r2, [r3]
 2248              	.L255:
1404:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->Instance->CR2 |= SPI_CR2_TXDMAEN;
 2249              		.loc 1 1404 0
 2250 00d4 5A68     		ldr	r2, [r3, #4]
 2251 00d6 42F00202 		orr	r2, r2, #2
 2252 00da 5A60     		str	r2, [r3, #4]
1406:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     return HAL_OK;
 2253              		.loc 1 1406 0
 2254 00dc 0020     		movs	r0, #0
 2255 00de 70BD     		pop	{r4, r5, r6, pc}
 2256              	.LVL127:
 2257              	.L261:
1315:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       return  HAL_ERROR;
 2258              		.loc 1 1315 0
 2259 00e0 0120     		movs	r0, #1
 2260              	.LVL128:
 2261 00e2 70BD     		pop	{r4, r5, r6, pc}
 2262              	.LVL129:
 2263              	.L262:
1410:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     return HAL_BUSY;
 2264              		.loc 1 1410 0
 2265 00e4 0220     		movs	r0, #2
1412:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 2266              		.loc 1 1412 0
 2267 00e6 70BD     		pop	{r4, r5, r6, pc}
 2268              	.LVL130:
 2269              	.L271:
 2270              		.align	2
 2271              	.L270:
 2272 00e8 00000000 		.word	SPI_DMAHalfReceiveCplt
 2273 00ec 00000000 		.word	SPI_DMAReceiveCplt
 2274 00f0 00000000 		.word	SPI_DMAHalfTransmitReceiveCplt
 2275 00f4 00000000 		.word	SPI_DMATransmitReceiveCplt
 2276 00f8 00000000 		.word	SPI_DMAError
 2277              		.cfi_endproc
 2278              	.LFE137:
 2280              		.section	.text.HAL_SPI_Receive_DMA,"ax",%progbits
 2281              		.align	1
 2282              		.global	HAL_SPI_Receive_DMA
 2283              		.thumb
 2284              		.thumb_func
 2286              	HAL_SPI_Receive_DMA:
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 90


 2287              	.LFB136:
1218:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 2288              		.loc 1 1218 0
 2289              		.cfi_startproc
 2290              		@ args = 0, pretend = 0, frame = 0
 2291              		@ frame_needed = 0, uses_anonymous_args = 0
 2292              	.LVL131:
 2293 0000 1346     		mov	r3, r2
1219:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->State == HAL_SPI_STATE_READY)
 2294              		.loc 1 1219 0
 2295 0002 90F85120 		ldrb	r2, [r0, #81]	@ zero_extendqisi2
 2296              	.LVL132:
 2297 0006 D2B2     		uxtb	r2, r2
 2298 0008 012A     		cmp	r2, #1
1218:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 2299              		.loc 1 1218 0
 2300 000a 70B5     		push	{r4, r5, r6, lr}
 2301              	.LCFI13:
 2302              		.cfi_def_cfa_offset 16
 2303              		.cfi_offset 4, -16
 2304              		.cfi_offset 5, -12
 2305              		.cfi_offset 6, -8
 2306              		.cfi_offset 14, -4
1218:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 2307              		.loc 1 1218 0
 2308 000c 0446     		mov	r4, r0
 2309 000e 0E46     		mov	r6, r1
1219:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->State == HAL_SPI_STATE_READY)
 2310              		.loc 1 1219 0
 2311 0010 56D1     		bne	.L281
1221:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((pData == NULL) || (Size == 0))
 2312              		.loc 1 1221 0
 2313 0012 0029     		cmp	r1, #0
 2314 0014 52D0     		beq	.L280
1221:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((pData == NULL) || (Size == 0))
 2315              		.loc 1 1221 0 is_stmt 0 discriminator 1
 2316 0016 002B     		cmp	r3, #0
 2317 0018 50D0     		beq	.L280
1227:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_LOCK(hspi);
 2318              		.loc 1 1227 0 is_stmt 1
 2319 001a 90F85050 		ldrb	r5, [r0, #80]	@ zero_extendqisi2
 2320 001e 012D     		cmp	r5, #1
 2321 0020 4ED0     		beq	.L281
1227:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_LOCK(hspi);
 2322              		.loc 1 1227 0 is_stmt 0 discriminator 2
 2323 0022 80F85020 		strb	r2, [r0, #80]
1230:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->State       = HAL_SPI_STATE_BUSY_RX;
 2324              		.loc 1 1230 0 is_stmt 1 discriminator 2
 2325 0026 2222     		movs	r2, #34
 2326 0028 80F85120 		strb	r2, [r0, #81]
1244:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.Direction == SPI_DIRECTION_1LINE)
 2327              		.loc 1 1244 0 discriminator 2
 2328 002c 8268     		ldr	r2, [r0, #8]
1231:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 2329              		.loc 1 1231 0 discriminator 2
 2330 002e 0025     		movs	r5, #0
1244:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.Direction == SPI_DIRECTION_1LINE)
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 91


 2331              		.loc 1 1244 0 discriminator 2
 2332 0030 B2F5004F 		cmp	r2, #32768
1231:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 2333              		.loc 1 1231 0 discriminator 2
 2334 0034 4565     		str	r5, [r0, #84]
1233:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->pRxBuffPtr  = pData;
 2335              		.loc 1 1233 0 discriminator 2
 2336 0036 A163     		str	r1, [r4, #56]
1234:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxXferSize  = Size;
 2337              		.loc 1 1234 0 discriminator 2
 2338 0038 8387     		strh	r3, [r0, #60]	@ movhi
1235:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxXferCount = Size;
 2339              		.loc 1 1235 0 discriminator 2
 2340 003a C387     		strh	r3, [r0, #62]	@ movhi
1238:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxISR = 0;
 2341              		.loc 1 1238 0 discriminator 2
 2342 003c 8564     		str	r5, [r0, #72]
1239:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxISR = 0;
 2343              		.loc 1 1239 0 discriminator 2
 2344 003e C564     		str	r5, [r0, #76]
1240:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxXferSize   = 0;
 2345              		.loc 1 1240 0 discriminator 2
 2346 0040 8586     		strh	r5, [r0, #52]	@ movhi
1241:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxXferCount  = 0;
 2347              		.loc 1 1241 0 discriminator 2
 2348 0042 C586     		strh	r5, [r0, #54]	@ movhi
1244:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.Direction == SPI_DIRECTION_1LINE)
 2349              		.loc 1 1244 0 discriminator 2
 2350 0044 05D1     		bne	.L274
1246:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        SPI_1LINE_RX(hspi);
 2351              		.loc 1 1246 0
 2352 0046 0268     		ldr	r2, [r0]
 2353 0048 1168     		ldr	r1, [r2]
 2354              	.LVL133:
 2355 004a 21F48041 		bic	r1, r1, #16384
 2356 004e 1160     		str	r1, [r2]
 2357 0050 0BE0     		b	.L275
 2358              	.LVL134:
 2359              	.L274:
1248:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     else if((hspi->Init.Direction == SPI_DIRECTION_2LINES)&&(hspi->Init.Mode == SPI_MODE_MASTER))
 2360              		.loc 1 1248 0
 2361 0052 52B9     		cbnz	r2, .L275
1248:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     else if((hspi->Init.Direction == SPI_DIRECTION_2LINES)&&(hspi->Init.Mode == SPI_MODE_MASTER))
 2362              		.loc 1 1248 0 is_stmt 0 discriminator 1
 2363 0054 4568     		ldr	r5, [r0, #4]
 2364 0056 B5F5827F 		cmp	r5, #260
 2365 005a 06D1     		bne	.L275
1251:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        __HAL_UNLOCK(hspi);
 2366              		.loc 1 1251 0 is_stmt 1
 2367 005c 80F85020 		strb	r2, [r0, #80]
1294:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 2368              		.loc 1 1294 0
 2369 0060 BDE87040 		pop	{r4, r5, r6, lr}
1254:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        return HAL_SPI_TransmitReceive_DMA(hspi, pData, pData, Size);
 2370              		.loc 1 1254 0
 2371 0064 0A46     		mov	r2, r1
 2372 0066 FFF7FEBF 		b	HAL_SPI_TransmitReceive_DMA
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 92


 2373              	.LVL135:
 2374              	.L275:
1258:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 2375              		.loc 1 1258 0
 2376 006a A26A     		ldr	r2, [r4, #40]
 2377 006c 2168     		ldr	r1, [r4]
 2378 006e B2F5005F 		cmp	r2, #8192
 2379 0072 07D1     		bne	.L276
1260:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       SPI_RESET_CRC(hspi);
 2380              		.loc 1 1260 0
 2381 0074 0A68     		ldr	r2, [r1]
 2382 0076 22F40052 		bic	r2, r2, #8192
 2383 007a 0A60     		str	r2, [r1]
 2384 007c 0A68     		ldr	r2, [r1]
 2385 007e 42F40052 		orr	r2, r2, #8192
 2386 0082 0A60     		str	r2, [r1]
 2387              	.L276:
1264:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->hdmarx->XferHalfCpltCallback = SPI_DMAHalfReceiveCplt;
 2388              		.loc 1 1264 0
 2389 0084 606C     		ldr	r0, [r4, #68]
 2390              	.LVL136:
 2391 0086 0F4A     		ldr	r2, .L282
 2392 0088 0264     		str	r2, [r0, #64]
1267:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->hdmarx->XferCpltCallback = SPI_DMAReceiveCplt;
 2393              		.loc 1 1267 0
 2394 008a 0F4A     		ldr	r2, .L282+4
 2395 008c C263     		str	r2, [r0, #60]
1270:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->hdmarx->XferErrorCallback = SPI_DMAError;
 2396              		.loc 1 1270 0
 2397 008e 0F4A     		ldr	r2, .L282+8
 2398 0090 8264     		str	r2, [r0, #72]
1273:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     HAL_DMA_Start_IT(hspi->hdmarx, (uint32_t)&hspi->Instance->DR, (uint32_t)hspi->pRxBuffPtr, hspi-
 2399              		.loc 1 1273 0
 2400 0092 0C31     		adds	r1, r1, #12
 2401 0094 3246     		mov	r2, r6
 2402 0096 FFF7FEFF 		bl	HAL_DMA_Start_IT
 2403              	.LVL137:
1276:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_UNLOCK(hspi);
 2404              		.loc 1 1276 0
 2405 009a 0023     		movs	r3, #0
 2406 009c 84F85030 		strb	r3, [r4, #80]
1279:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((hspi->Instance->CR1 &SPI_CR1_SPE) != SPI_CR1_SPE)
 2407              		.loc 1 1279 0
 2408 00a0 2368     		ldr	r3, [r4]
 2409 00a2 1A68     		ldr	r2, [r3]
 2410 00a4 5206     		lsls	r2, r2, #25
 2411 00a6 03D4     		bmi	.L277
1282:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       __HAL_SPI_ENABLE(hspi);
 2412              		.loc 1 1282 0
 2413 00a8 1A68     		ldr	r2, [r3]
 2414 00aa 42F04002 		orr	r2, r2, #64
 2415 00ae 1A60     		str	r2, [r3]
 2416              	.L277:
1286:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->Instance->CR2 |= SPI_CR2_RXDMAEN;
 2417              		.loc 1 1286 0
 2418 00b0 5A68     		ldr	r2, [r3, #4]
 2419 00b2 42F00102 		orr	r2, r2, #1
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 93


 2420 00b6 5A60     		str	r2, [r3, #4]
1288:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     return HAL_OK;
 2421              		.loc 1 1288 0
 2422 00b8 0020     		movs	r0, #0
 2423 00ba 70BD     		pop	{r4, r5, r6, pc}
 2424              	.LVL138:
 2425              	.L280:
1223:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       return  HAL_ERROR;
 2426              		.loc 1 1223 0
 2427 00bc 1046     		mov	r0, r2
 2428              	.LVL139:
 2429 00be 70BD     		pop	{r4, r5, r6, pc}
 2430              	.LVL140:
 2431              	.L281:
1292:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     return HAL_BUSY;
 2432              		.loc 1 1292 0
 2433 00c0 0220     		movs	r0, #2
 2434              	.LVL141:
1294:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 2435              		.loc 1 1294 0
 2436 00c2 70BD     		pop	{r4, r5, r6, pc}
 2437              	.LVL142:
 2438              	.L283:
 2439              		.align	2
 2440              	.L282:
 2441 00c4 00000000 		.word	SPI_DMAHalfReceiveCplt
 2442 00c8 00000000 		.word	SPI_DMAReceiveCplt
 2443 00cc 00000000 		.word	SPI_DMAError
 2444              		.cfi_endproc
 2445              	.LFE136:
 2447              		.section	.text.HAL_SPI_DMAPause,"ax",%progbits
 2448              		.align	1
 2449              		.global	HAL_SPI_DMAPause
 2450              		.thumb
 2451              		.thumb_func
 2453              	HAL_SPI_DMAPause:
 2454              	.LFB138:
1421:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 2455              		.loc 1 1421 0
 2456              		.cfi_startproc
 2457              		@ args = 0, pretend = 0, frame = 0
 2458              		@ frame_needed = 0, uses_anonymous_args = 0
 2459              		@ link register save eliminated.
 2460              	.LVL143:
1423:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_LOCK(hspi);
 2461              		.loc 1 1423 0
 2462 0000 90F85030 		ldrb	r3, [r0, #80]	@ zero_extendqisi2
 2463 0004 012B     		cmp	r3, #1
 2464 0006 0DD0     		beq	.L286
1426:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->Instance->CR2 &= (uint32_t)(~SPI_CR2_TXDMAEN);
 2465              		.loc 1 1426 0 discriminator 2
 2466 0008 0368     		ldr	r3, [r0]
 2467 000a 5A68     		ldr	r2, [r3, #4]
 2468 000c 22F00202 		bic	r2, r2, #2
 2469 0010 5A60     		str	r2, [r3, #4]
1427:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->Instance->CR2 &= (uint32_t)(~SPI_CR2_RXDMAEN);
 2470              		.loc 1 1427 0 discriminator 2
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 94


 2471 0012 5A68     		ldr	r2, [r3, #4]
 2472 0014 22F00102 		bic	r2, r2, #1
 2473 0018 5A60     		str	r2, [r3, #4]
1430:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
 2474              		.loc 1 1430 0 discriminator 2
 2475 001a 0023     		movs	r3, #0
 2476 001c 80F85030 		strb	r3, [r0, #80]
1432:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   return HAL_OK; 
 2477              		.loc 1 1432 0 discriminator 2
 2478 0020 1846     		mov	r0, r3
 2479              	.LVL144:
 2480 0022 7047     		bx	lr
 2481              	.LVL145:
 2482              	.L286:
1423:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_LOCK(hspi);
 2483              		.loc 1 1423 0
 2484 0024 0220     		movs	r0, #2
 2485              	.LVL146:
1433:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 2486              		.loc 1 1433 0
 2487 0026 7047     		bx	lr
 2488              		.cfi_endproc
 2489              	.LFE138:
 2491              		.section	.text.HAL_SPI_DMAResume,"ax",%progbits
 2492              		.align	1
 2493              		.global	HAL_SPI_DMAResume
 2494              		.thumb
 2495              		.thumb_func
 2497              	HAL_SPI_DMAResume:
 2498              	.LFB139:
1442:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 2499              		.loc 1 1442 0
 2500              		.cfi_startproc
 2501              		@ args = 0, pretend = 0, frame = 0
 2502              		@ frame_needed = 0, uses_anonymous_args = 0
 2503              		@ link register save eliminated.
 2504              	.LVL147:
1444:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_LOCK(hspi);
 2505              		.loc 1 1444 0
 2506 0000 90F85030 		ldrb	r3, [r0, #80]	@ zero_extendqisi2
 2507 0004 012B     		cmp	r3, #1
 2508 0006 0DD0     		beq	.L289
1447:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->Instance->CR2 |= SPI_CR2_TXDMAEN;
 2509              		.loc 1 1447 0 discriminator 2
 2510 0008 0368     		ldr	r3, [r0]
 2511 000a 5A68     		ldr	r2, [r3, #4]
 2512 000c 42F00202 		orr	r2, r2, #2
 2513 0010 5A60     		str	r2, [r3, #4]
1448:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->Instance->CR2 |= SPI_CR2_RXDMAEN;
 2514              		.loc 1 1448 0 discriminator 2
 2515 0012 5A68     		ldr	r2, [r3, #4]
 2516 0014 42F00102 		orr	r2, r2, #1
 2517 0018 5A60     		str	r2, [r3, #4]
1451:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
 2518              		.loc 1 1451 0 discriminator 2
 2519 001a 0023     		movs	r3, #0
 2520 001c 80F85030 		strb	r3, [r0, #80]
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 95


1453:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   return HAL_OK;
 2521              		.loc 1 1453 0 discriminator 2
 2522 0020 1846     		mov	r0, r3
 2523              	.LVL148:
 2524 0022 7047     		bx	lr
 2525              	.LVL149:
 2526              	.L289:
1444:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_LOCK(hspi);
 2527              		.loc 1 1444 0
 2528 0024 0220     		movs	r0, #2
 2529              	.LVL150:
1454:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 2530              		.loc 1 1454 0
 2531 0026 7047     		bx	lr
 2532              		.cfi_endproc
 2533              	.LFE139:
 2535              		.section	.text.HAL_SPI_DMAStop,"ax",%progbits
 2536              		.align	1
 2537              		.global	HAL_SPI_DMAStop
 2538              		.thumb
 2539              		.thumb_func
 2541              	HAL_SPI_DMAStop:
 2542              	.LFB140:
1463:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 2543              		.loc 1 1463 0
 2544              		.cfi_startproc
 2545              		@ args = 0, pretend = 0, frame = 0
 2546              		@ frame_needed = 0, uses_anonymous_args = 0
 2547              	.LVL151:
 2548 0000 10B5     		push	{r4, lr}
 2549              	.LCFI14:
 2550              		.cfi_def_cfa_offset 8
 2551              		.cfi_offset 4, -8
 2552              		.cfi_offset 14, -4
1463:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 2553              		.loc 1 1463 0
 2554 0002 0446     		mov	r4, r0
1471:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->hdmatx != NULL)
 2555              		.loc 1 1471 0
 2556 0004 006C     		ldr	r0, [r0, #64]
 2557              	.LVL152:
 2558 0006 08B1     		cbz	r0, .L291
1473:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     HAL_DMA_Abort(hspi->hdmatx);
 2559              		.loc 1 1473 0
 2560 0008 FFF7FEFF 		bl	HAL_DMA_Abort
 2561              	.LVL153:
 2562              	.L291:
1476:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->hdmarx != NULL)
 2563              		.loc 1 1476 0
 2564 000c 606C     		ldr	r0, [r4, #68]
 2565 000e 08B1     		cbz	r0, .L292
1478:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     HAL_DMA_Abort(hspi->hdmarx);
 2566              		.loc 1 1478 0
 2567 0010 FFF7FEFF 		bl	HAL_DMA_Abort
 2568              	.LVL154:
 2569              	.L292:
1482:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->Instance->CR2 &= (uint32_t)(~SPI_CR2_TXDMAEN);
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 96


 2570              		.loc 1 1482 0
 2571 0014 2368     		ldr	r3, [r4]
 2572 0016 5A68     		ldr	r2, [r3, #4]
 2573 0018 22F00202 		bic	r2, r2, #2
 2574 001c 5A60     		str	r2, [r3, #4]
1483:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->Instance->CR2 &= (uint32_t)(~SPI_CR2_RXDMAEN);
 2575              		.loc 1 1483 0
 2576 001e 5A68     		ldr	r2, [r3, #4]
 2577 0020 22F00102 		bic	r2, r2, #1
 2578 0024 5A60     		str	r2, [r3, #4]
1485:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_READY;
 2579              		.loc 1 1485 0
 2580 0026 0123     		movs	r3, #1
 2581 0028 84F85130 		strb	r3, [r4, #81]
1488:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 2582              		.loc 1 1488 0
 2583 002c 0020     		movs	r0, #0
 2584 002e 10BD     		pop	{r4, pc}
 2585              		.cfi_endproc
 2586              	.LFE140:
 2588              		.section	.text.HAL_SPI_TxCpltCallback,"ax",%progbits
 2589              		.align	1
 2590              		.weak	HAL_SPI_TxCpltCallback
 2591              		.thumb
 2592              		.thumb_func
 2594              	HAL_SPI_TxCpltCallback:
 2595              	.LFB142:
1567:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 2596              		.loc 1 1567 0
 2597              		.cfi_startproc
 2598              		@ args = 0, pretend = 0, frame = 0
 2599              		@ frame_needed = 0, uses_anonymous_args = 0
 2600              		@ link register save eliminated.
 2601              	.LVL155:
 2602 0000 7047     		bx	lr
 2603              		.cfi_endproc
 2604              	.LFE142:
 2606              		.section	.text.HAL_SPI_RxCpltCallback,"ax",%progbits
 2607              		.align	1
 2608              		.weak	HAL_SPI_RxCpltCallback
 2609              		.thumb
 2610              		.thumb_func
 2612              	HAL_SPI_RxCpltCallback:
 2613              	.LFB143:
1582:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 2614              		.loc 1 1582 0
 2615              		.cfi_startproc
 2616              		@ args = 0, pretend = 0, frame = 0
 2617              		@ frame_needed = 0, uses_anonymous_args = 0
 2618              		@ link register save eliminated.
 2619              	.LVL156:
 2620 0000 7047     		bx	lr
 2621              		.cfi_endproc
 2622              	.LFE143:
 2624              		.section	.text.HAL_SPI_TxRxCpltCallback,"ax",%progbits
 2625              		.align	1
 2626              		.weak	HAL_SPI_TxRxCpltCallback
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 97


 2627              		.thumb
 2628              		.thumb_func
 2630              	HAL_SPI_TxRxCpltCallback:
 2631              	.LFB144:
1597:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 2632              		.loc 1 1597 0
 2633              		.cfi_startproc
 2634              		@ args = 0, pretend = 0, frame = 0
 2635              		@ frame_needed = 0, uses_anonymous_args = 0
 2636              		@ link register save eliminated.
 2637              	.LVL157:
 2638 0000 7047     		bx	lr
 2639              		.cfi_endproc
 2640              	.LFE144:
 2642              		.section	.text.HAL_SPI_TxHalfCpltCallback,"ax",%progbits
 2643              		.align	1
 2644              		.weak	HAL_SPI_TxHalfCpltCallback
 2645              		.thumb
 2646              		.thumb_func
 2648              	HAL_SPI_TxHalfCpltCallback:
 2649              	.LFB145:
1612:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 2650              		.loc 1 1612 0
 2651              		.cfi_startproc
 2652              		@ args = 0, pretend = 0, frame = 0
 2653              		@ frame_needed = 0, uses_anonymous_args = 0
 2654              		@ link register save eliminated.
 2655              	.LVL158:
 2656 0000 7047     		bx	lr
 2657              		.cfi_endproc
 2658              	.LFE145:
 2660              		.section	.text.SPI_DMAHalfTransmitCplt,"ax",%progbits
 2661              		.align	1
 2662              		.thumb
 2663              		.thumb_func
 2665              	SPI_DMAHalfTransmitCplt:
 2666              	.LFB160:
2166:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 2667              		.loc 1 2166 0
 2668              		.cfi_startproc
 2669              		@ args = 0, pretend = 0, frame = 0
 2670              		@ frame_needed = 0, uses_anonymous_args = 0
 2671              	.LVL159:
2166:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 2672              		.loc 1 2166 0
 2673 0000 08B5     		push	{r3, lr}
 2674              	.LCFI15:
 2675              		.cfi_def_cfa_offset 8
 2676              		.cfi_offset 3, -8
 2677              		.cfi_offset 14, -4
2169:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   HAL_SPI_TxHalfCpltCallback(hspi);
 2678              		.loc 1 2169 0
 2679 0002 806B     		ldr	r0, [r0, #56]
 2680              	.LVL160:
 2681 0004 FFF7FEFF 		bl	HAL_SPI_TxHalfCpltCallback
 2682              	.LVL161:
 2683 0008 08BD     		pop	{r3, pc}
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 98


 2684              		.cfi_endproc
 2685              	.LFE160:
 2687              		.section	.text.HAL_SPI_RxHalfCpltCallback,"ax",%progbits
 2688              		.align	1
 2689              		.weak	HAL_SPI_RxHalfCpltCallback
 2690              		.thumb
 2691              		.thumb_func
 2693              	HAL_SPI_RxHalfCpltCallback:
 2694              	.LFB146:
1627:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 2695              		.loc 1 1627 0
 2696              		.cfi_startproc
 2697              		@ args = 0, pretend = 0, frame = 0
 2698              		@ frame_needed = 0, uses_anonymous_args = 0
 2699              		@ link register save eliminated.
 2700              	.LVL162:
 2701 0000 7047     		bx	lr
 2702              		.cfi_endproc
 2703              	.LFE146:
 2705              		.section	.text.SPI_DMAHalfReceiveCplt,"ax",%progbits
 2706              		.align	1
 2707              		.thumb
 2708              		.thumb_func
 2710              	SPI_DMAHalfReceiveCplt:
 2711              	.LFB161:
2179:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 2712              		.loc 1 2179 0
 2713              		.cfi_startproc
 2714              		@ args = 0, pretend = 0, frame = 0
 2715              		@ frame_needed = 0, uses_anonymous_args = 0
 2716              	.LVL163:
2179:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 2717              		.loc 1 2179 0
 2718 0000 08B5     		push	{r3, lr}
 2719              	.LCFI16:
 2720              		.cfi_def_cfa_offset 8
 2721              		.cfi_offset 3, -8
 2722              		.cfi_offset 14, -4
2182:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   HAL_SPI_RxHalfCpltCallback(hspi);
 2723              		.loc 1 2182 0
 2724 0002 806B     		ldr	r0, [r0, #56]
 2725              	.LVL164:
 2726 0004 FFF7FEFF 		bl	HAL_SPI_RxHalfCpltCallback
 2727              	.LVL165:
 2728 0008 08BD     		pop	{r3, pc}
 2729              		.cfi_endproc
 2730              	.LFE161:
 2732              		.section	.text.HAL_SPI_TxRxHalfCpltCallback,"ax",%progbits
 2733              		.align	1
 2734              		.weak	HAL_SPI_TxRxHalfCpltCallback
 2735              		.thumb
 2736              		.thumb_func
 2738              	HAL_SPI_TxRxHalfCpltCallback:
 2739              	.LFB147:
1642:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 2740              		.loc 1 1642 0
 2741              		.cfi_startproc
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 99


 2742              		@ args = 0, pretend = 0, frame = 0
 2743              		@ frame_needed = 0, uses_anonymous_args = 0
 2744              		@ link register save eliminated.
 2745              	.LVL166:
 2746 0000 7047     		bx	lr
 2747              		.cfi_endproc
 2748              	.LFE147:
 2750              		.section	.text.SPI_DMAHalfTransmitReceiveCplt,"ax",%progbits
 2751              		.align	1
 2752              		.thumb
 2753              		.thumb_func
 2755              	SPI_DMAHalfTransmitReceiveCplt:
 2756              	.LFB162:
2192:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 2757              		.loc 1 2192 0
 2758              		.cfi_startproc
 2759              		@ args = 0, pretend = 0, frame = 0
 2760              		@ frame_needed = 0, uses_anonymous_args = 0
 2761              	.LVL167:
2192:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 2762              		.loc 1 2192 0
 2763 0000 08B5     		push	{r3, lr}
 2764              	.LCFI17:
 2765              		.cfi_def_cfa_offset 8
 2766              		.cfi_offset 3, -8
 2767              		.cfi_offset 14, -4
2195:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   HAL_SPI_TxRxHalfCpltCallback(hspi);
 2768              		.loc 1 2195 0
 2769 0002 806B     		ldr	r0, [r0, #56]
 2770              	.LVL168:
 2771 0004 FFF7FEFF 		bl	HAL_SPI_TxRxHalfCpltCallback
 2772              	.LVL169:
 2773 0008 08BD     		pop	{r3, pc}
 2774              		.cfi_endproc
 2775              	.LFE162:
 2777              		.section	.text.HAL_SPI_ErrorCallback,"ax",%progbits
 2778              		.align	1
 2779              		.weak	HAL_SPI_ErrorCallback
 2780              		.thumb
 2781              		.thumb_func
 2783              	HAL_SPI_ErrorCallback:
 2784              	.LFB148:
1657:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 2785              		.loc 1 1657 0
 2786              		.cfi_startproc
 2787              		@ args = 0, pretend = 0, frame = 0
 2788              		@ frame_needed = 0, uses_anonymous_args = 0
 2789              		@ link register save eliminated.
 2790              	.LVL170:
 2791 0000 7047     		bx	lr
 2792              		.cfi_endproc
 2793              	.LFE148:
 2795              		.section	.text.SPI_TxISR,"ax",%progbits
 2796              		.align	1
 2797              		.thumb
 2798              		.thumb_func
 2800              	SPI_TxISR:
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 100


 2801              	.LFB152:
1780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 2802              		.loc 1 1780 0
 2803              		.cfi_startproc
 2804              		@ args = 0, pretend = 0, frame = 8
 2805              		@ frame_needed = 0, uses_anonymous_args = 0
 2806              	.LVL171:
1780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 2807              		.loc 1 1780 0
 2808 0000 13B5     		push	{r0, r1, r4, lr}
 2809              	.LCFI18:
 2810              		.cfi_def_cfa_offset 16
 2811              		.cfi_offset 0, -16
 2812              		.cfi_offset 1, -12
 2813              		.cfi_offset 4, -8
 2814              		.cfi_offset 14, -4
1782:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->Init.DataSize == SPI_DATASIZE_8BIT)
 2815              		.loc 1 1782 0
 2816 0002 C168     		ldr	r1, [r0, #12]
 2817 0004 0368     		ldr	r3, [r0]
 2818 0006 026B     		ldr	r2, [r0, #48]
1780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 2819              		.loc 1 1780 0
 2820 0008 0446     		mov	r4, r0
1782:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->Init.DataSize == SPI_DATASIZE_8BIT)
 2821              		.loc 1 1782 0
 2822 000a 21B9     		cbnz	r1, .L310
1784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->Instance->DR = (*hspi->pTxBuffPtr++);
 2823              		.loc 1 1784 0
 2824 000c 511C     		adds	r1, r2, #1
 2825 000e 0163     		str	r1, [r0, #48]
 2826 0010 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 2827 0012 DA60     		str	r2, [r3, #12]
 2828 0014 03E0     		b	.L311
 2829              	.L310:
1789:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->Instance->DR = *((uint16_t*)hspi->pTxBuffPtr);
 2830              		.loc 1 1789 0
 2831 0016 32F8021B 		ldrh	r1, [r2], #2
 2832 001a D960     		str	r1, [r3, #12]
1790:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->pTxBuffPtr+=2;
 2833              		.loc 1 1790 0
 2834 001c 0263     		str	r2, [r0, #48]
 2835              	.L311:
1792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferCount--;
 2836              		.loc 1 1792 0
 2837 001e E28E     		ldrh	r2, [r4, #54]
 2838 0020 013A     		subs	r2, r2, #1
 2839 0022 92B2     		uxth	r2, r2
 2840 0024 E286     		strh	r2, [r4, #54]	@ movhi
1794:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->TxXferCount == 0)
 2841              		.loc 1 1794 0
 2842 0026 002A     		cmp	r2, #0
 2843 0028 49D1     		bne	.L309
 2844              	.LVL172:
 2845              	.LBB8:
 2846              	.LBB9:
1796:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 101


 2847              		.loc 1 1796 0
 2848 002a A26A     		ldr	r2, [r4, #40]
 2849 002c B2F5005F 		cmp	r2, #8192
 2850 0030 03D1     		bne	.L314
1799:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->Instance->CR1 |= SPI_CR1_CRCNEXT;
 2851              		.loc 1 1799 0
 2852 0032 1A68     		ldr	r2, [r3]
 2853 0034 42F48052 		orr	r2, r2, #4096
 2854 0038 1A60     		str	r2, [r3]
 2855              	.L314:
 2856              	.LVL173:
 2857              	.LBB10:
 2858              	.LBB11:
1721:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(SPI_WaitOnFlagUntilTimeout(hspi, SPI_FLAG_TXE, RESET, SPI_TIMEOUT_VALUE) != HAL_OK)
 2859              		.loc 1 1721 0
 2860 003a 2046     		mov	r0, r4
 2861              	.LVL174:
 2862 003c 0221     		movs	r1, #2
 2863 003e 0022     		movs	r2, #0
 2864 0040 0A23     		movs	r3, #10
 2865 0042 FFF7FEFF 		bl	SPI_WaitOnFlagUntilTimeout
 2866              	.LVL175:
 2867 0046 18B1     		cbz	r0, .L315
1723:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->ErrorCode |= HAL_SPI_ERROR_FLAG;
 2868              		.loc 1 1723 0
 2869 0048 636D     		ldr	r3, [r4, #84]
 2870 004a 43F02003 		orr	r3, r3, #32
 2871 004e 6365     		str	r3, [r4, #84]
 2872              	.L315:
1727:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_SPI_DISABLE_IT(hspi, (SPI_IT_TXE ));
 2873              		.loc 1 1727 0
 2874 0050 2368     		ldr	r3, [r4]
 2875 0052 5A68     		ldr	r2, [r3, #4]
 2876 0054 22F08002 		bic	r2, r2, #128
 2877 0058 5A60     		str	r2, [r3, #4]
1730:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(__HAL_SPI_GET_IT_SOURCE(hspi, SPI_IT_RXNE) == RESET)
 2878              		.loc 1 1730 0
 2879 005a 5A68     		ldr	r2, [r3, #4]
 2880 005c 5206     		lsls	r2, r2, #25
 2881 005e 2ED4     		bmi	.L309
1732:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_SPI_DISABLE_IT(hspi, (SPI_IT_ERR));
 2882              		.loc 1 1732 0
 2883 0060 5A68     		ldr	r2, [r3, #4]
 2884 0062 22F02002 		bic	r2, r2, #32
 2885 0066 5A60     		str	r2, [r3, #4]
1735:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(SPI_WaitOnFlagUntilTimeout(hspi, SPI_FLAG_BSY, SET, SPI_TIMEOUT_VALUE) != HAL_OK)
 2886              		.loc 1 1735 0
 2887 0068 2046     		mov	r0, r4
 2888 006a 8021     		movs	r1, #128
 2889 006c 0122     		movs	r2, #1
 2890 006e 0A23     		movs	r3, #10
 2891 0070 FFF7FEFF 		bl	SPI_WaitOnFlagUntilTimeout
 2892              	.LVL176:
 2893 0074 18B1     		cbz	r0, .L317
1737:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->ErrorCode |= HAL_SPI_ERROR_FLAG;
 2894              		.loc 1 1737 0
 2895 0076 636D     		ldr	r3, [r4, #84]
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 102


 2896 0078 43F02003 		orr	r3, r3, #32
 2897 007c 6365     		str	r3, [r4, #84]
 2898              	.L317:
1741:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.Direction == SPI_DIRECTION_2LINES)
 2899              		.loc 1 1741 0
 2900 007e A368     		ldr	r3, [r4, #8]
 2901 0080 33B9     		cbnz	r3, .L318
 2902              	.LBB12:
1743:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       __HAL_SPI_CLEAR_OVRFLAG(hspi);
 2903              		.loc 1 1743 0
 2904 0082 0193     		str	r3, [sp, #4]
 2905 0084 2368     		ldr	r3, [r4]
 2906 0086 DA68     		ldr	r2, [r3, #12]
 2907 0088 0192     		str	r2, [sp, #4]
 2908 008a 9B68     		ldr	r3, [r3, #8]
 2909 008c 0193     		str	r3, [sp, #4]
 2910 008e 019B     		ldr	r3, [sp, #4]
 2911              	.L318:
 2912              	.LBE12:
1747:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->ErrorCode ==  HAL_SPI_ERROR_NONE)
 2913              		.loc 1 1747 0
 2914 0090 636D     		ldr	r3, [r4, #84]
 2915 0092 73B9     		cbnz	r3, .L319
1750:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if(hspi->State == HAL_SPI_STATE_BUSY_TX_RX)
 2916              		.loc 1 1750 0
 2917 0094 94F85130 		ldrb	r3, [r4, #81]	@ zero_extendqisi2
 2918 0098 322B     		cmp	r3, #50
 2919 009a 4FF00103 		mov	r3, #1
1753:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->State = HAL_SPI_STATE_READY;
 2920              		.loc 1 1753 0
 2921 009e 84F85130 		strb	r3, [r4, #81]
1754:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         HAL_SPI_TxRxCpltCallback(hspi);
 2922              		.loc 1 1754 0
 2923 00a2 2046     		mov	r0, r4
1750:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if(hspi->State == HAL_SPI_STATE_BUSY_TX_RX)
 2924              		.loc 1 1750 0
 2925 00a4 02D1     		bne	.L320
 2926              	.LVL177:
1754:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         HAL_SPI_TxRxCpltCallback(hspi);
 2927              		.loc 1 1754 0
 2928 00a6 FFF7FEFF 		bl	HAL_SPI_TxRxCpltCallback
 2929              	.LVL178:
 2930 00aa 08E0     		b	.L309
 2931              	.LVL179:
 2932              	.L320:
1760:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         HAL_SPI_TxCpltCallback(hspi);
 2933              		.loc 1 1760 0
 2934 00ac FFF7FEFF 		bl	HAL_SPI_TxCpltCallback
 2935              	.LVL180:
 2936 00b0 05E0     		b	.L309
 2937              	.L319:
1766:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->State = HAL_SPI_STATE_READY;
 2938              		.loc 1 1766 0
 2939 00b2 0123     		movs	r3, #1
 2940 00b4 84F85130 		strb	r3, [r4, #81]
1768:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       HAL_SPI_ErrorCallback(hspi);
 2941              		.loc 1 1768 0
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 103


 2942 00b8 2046     		mov	r0, r4
 2943 00ba FFF7FEFF 		bl	HAL_SPI_ErrorCallback
 2944              	.LVL181:
 2945              	.L309:
 2946              	.LBE11:
 2947              	.LBE10:
 2948              	.LBE9:
 2949              	.LBE8:
1803:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 2950              		.loc 1 1803 0
 2951 00be 02B0     		add	sp, sp, #8
 2952              		@ sp needed
 2953 00c0 10BD     		pop	{r4, pc}
 2954              		.cfi_endproc
 2955              	.LFE152:
 2957              		.section	.text.SPI_RxCloseIRQHandler,"ax",%progbits
 2958              		.align	1
 2959              		.thumb
 2960              		.thumb_func
 2962              	SPI_RxCloseIRQHandler:
 2963              	.LFB153:
1812:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 2964              		.loc 1 1812 0
 2965              		.cfi_startproc
 2966              		@ args = 0, pretend = 0, frame = 8
 2967              		@ frame_needed = 0, uses_anonymous_args = 0
 2968              	.LVL182:
1815:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 2969              		.loc 1 1815 0
 2970 0000 836A     		ldr	r3, [r0, #40]
 2971 0002 B3F5005F 		cmp	r3, #8192
1812:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 2972              		.loc 1 1812 0
 2973 0006 13B5     		push	{r0, r1, r4, lr}
 2974              	.LCFI19:
 2975              		.cfi_def_cfa_offset 16
 2976              		.cfi_offset 0, -16
 2977              		.cfi_offset 1, -12
 2978              		.cfi_offset 4, -8
 2979              		.cfi_offset 14, -4
1812:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 2980              		.loc 1 1812 0
 2981 0008 0446     		mov	r4, r0
1815:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 2982              		.loc 1 1815 0
 2983 000a 2BD1     		bne	.L329
1818:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(SPI_WaitOnFlagUntilTimeout(hspi, SPI_FLAG_RXNE, RESET, SPI_TIMEOUT_VALUE) != HAL_OK)
 2984              		.loc 1 1818 0
 2985 000c 0121     		movs	r1, #1
 2986 000e 0022     		movs	r2, #0
 2987 0010 0A23     		movs	r3, #10
 2988 0012 FFF7FEFF 		bl	SPI_WaitOnFlagUntilTimeout
 2989              	.LVL183:
 2990 0016 18B1     		cbz	r0, .L330
1820:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->ErrorCode |= HAL_SPI_ERROR_FLAG;
 2991              		.loc 1 1820 0
 2992 0018 636D     		ldr	r3, [r4, #84]
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 104


 2993 001a 43F02003 		orr	r3, r3, #32
 2994 001e 6365     		str	r3, [r4, #84]
 2995              	.L330:
1824:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     tmpreg = hspi->Instance->DR;
 2996              		.loc 1 1824 0
 2997 0020 2368     		ldr	r3, [r4]
 2998 0022 DB68     		ldr	r3, [r3, #12]
 2999 0024 9BB2     		uxth	r3, r3
 3000 0026 ADF80630 		strh	r3, [sp, #6]	@ movhi
1828:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(SPI_WaitOnFlagUntilTimeout(hspi, SPI_FLAG_RXNE, SET, SPI_TIMEOUT_VALUE) != HAL_OK)
 3001              		.loc 1 1828 0
 3002 002a 0121     		movs	r1, #1
1825:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     UNUSED(tmpreg);
 3003              		.loc 1 1825 0
 3004 002c BDF80630 		ldrh	r3, [sp, #6]
1828:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(SPI_WaitOnFlagUntilTimeout(hspi, SPI_FLAG_RXNE, SET, SPI_TIMEOUT_VALUE) != HAL_OK)
 3005              		.loc 1 1828 0
 3006 0030 2046     		mov	r0, r4
 3007 0032 0A46     		mov	r2, r1
 3008 0034 0A23     		movs	r3, #10
 3009 0036 FFF7FEFF 		bl	SPI_WaitOnFlagUntilTimeout
 3010              	.LVL184:
 3011 003a 18B1     		cbz	r0, .L331
1830:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->ErrorCode |= HAL_SPI_ERROR_FLAG;
 3012              		.loc 1 1830 0
 3013 003c 636D     		ldr	r3, [r4, #84]
 3014 003e 43F02003 		orr	r3, r3, #32
 3015 0042 6365     		str	r3, [r4, #84]
 3016              	.L331:
1834:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_CRCERR) != RESET)
 3017              		.loc 1 1834 0
 3018 0044 2368     		ldr	r3, [r4]
 3019 0046 9A68     		ldr	r2, [r3, #8]
 3020 0048 D106     		lsls	r1, r2, #27
 3021 004a 0BD5     		bpl	.L329
1836:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->ErrorCode |= HAL_SPI_ERROR_CRC;
 3022              		.loc 1 1836 0
 3023 004c 626D     		ldr	r2, [r4, #84]
 3024 004e 42F00202 		orr	r2, r2, #2
 3025 0052 6265     		str	r2, [r4, #84]
1839:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       SPI_RESET_CRC(hspi);
 3026              		.loc 1 1839 0
 3027 0054 1A68     		ldr	r2, [r3]
 3028 0056 22F40052 		bic	r2, r2, #8192
 3029 005a 1A60     		str	r2, [r3]
 3030 005c 1A68     		ldr	r2, [r3]
 3031 005e 42F40052 		orr	r2, r2, #8192
 3032 0062 1A60     		str	r2, [r3]
 3033              	.L329:
1844:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_SPI_DISABLE_IT(hspi, (SPI_IT_RXNE));
 3034              		.loc 1 1844 0
 3035 0064 2368     		ldr	r3, [r4]
 3036 0066 5A68     		ldr	r2, [r3, #4]
 3037 0068 22F04002 		bic	r2, r2, #64
 3038 006c 5A60     		str	r2, [r3, #4]
1847:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(__HAL_SPI_GET_IT_SOURCE(hspi, SPI_IT_TXE) == RESET)
 3039              		.loc 1 1847 0
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 105


 3040 006e 5A68     		ldr	r2, [r3, #4]
 3041 0070 1206     		lsls	r2, r2, #24
 3042 0072 29D4     		bmi	.L327
1850:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_SPI_DISABLE_IT(hspi, (SPI_IT_ERR));
 3043              		.loc 1 1850 0
 3044 0074 5A68     		ldr	r2, [r3, #4]
 3045 0076 22F02002 		bic	r2, r2, #32
 3046 007a 5A60     		str	r2, [r3, #4]
1852:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((hspi->Init.Mode == SPI_MODE_MASTER)&&((hspi->Init.Direction == SPI_DIRECTION_1LINE)||(hspi-
 3047              		.loc 1 1852 0
 3048 007c 6268     		ldr	r2, [r4, #4]
 3049 007e B2F5827F 		cmp	r2, #260
 3050 0082 0AD1     		bne	.L334
1852:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((hspi->Init.Mode == SPI_MODE_MASTER)&&((hspi->Init.Direction == SPI_DIRECTION_1LINE)||(hspi-
 3051              		.loc 1 1852 0 is_stmt 0 discriminator 1
 3052 0084 A268     		ldr	r2, [r4, #8]
 3053 0086 B2F5004F 		cmp	r2, #32768
 3054 008a 02D0     		beq	.L335
 3055 008c B2F5806F 		cmp	r2, #1024
 3056 0090 03D1     		bne	.L334
 3057              	.L335:
1855:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       __HAL_SPI_DISABLE(hspi);
 3058              		.loc 1 1855 0 is_stmt 1
 3059 0092 1A68     		ldr	r2, [r3]
 3060 0094 22F04002 		bic	r2, r2, #64
 3061 0098 1A60     		str	r2, [r3]
 3062              	.L334:
1859:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->ErrorCode ==  HAL_SPI_ERROR_NONE)
 3063              		.loc 1 1859 0
 3064 009a 636D     		ldr	r3, [r4, #84]
 3065 009c 73B9     		cbnz	r3, .L336
1862:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if(hspi->State == HAL_SPI_STATE_BUSY_TX_RX)
 3066              		.loc 1 1862 0
 3067 009e 94F85130 		ldrb	r3, [r4, #81]	@ zero_extendqisi2
 3068 00a2 322B     		cmp	r3, #50
 3069 00a4 4FF00103 		mov	r3, #1
1865:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->State = HAL_SPI_STATE_READY;
 3070              		.loc 1 1865 0
 3071 00a8 84F85130 		strb	r3, [r4, #81]
1866:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         HAL_SPI_TxRxCpltCallback(hspi);
 3072              		.loc 1 1866 0
 3073 00ac 2046     		mov	r0, r4
1862:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if(hspi->State == HAL_SPI_STATE_BUSY_TX_RX)
 3074              		.loc 1 1862 0
 3075 00ae 02D1     		bne	.L337
 3076              	.LVL185:
1866:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         HAL_SPI_TxRxCpltCallback(hspi);
 3077              		.loc 1 1866 0
 3078 00b0 FFF7FEFF 		bl	HAL_SPI_TxRxCpltCallback
 3079              	.LVL186:
 3080 00b4 08E0     		b	.L327
 3081              	.LVL187:
 3082              	.L337:
1872:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         HAL_SPI_RxCpltCallback(hspi);
 3083              		.loc 1 1872 0
 3084 00b6 FFF7FEFF 		bl	HAL_SPI_RxCpltCallback
 3085              	.LVL188:
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 106


 3086 00ba 05E0     		b	.L327
 3087              	.L336:
1878:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->State = HAL_SPI_STATE_READY;
 3088              		.loc 1 1878 0
 3089 00bc 0123     		movs	r3, #1
 3090 00be 84F85130 		strb	r3, [r4, #81]
1880:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       HAL_SPI_ErrorCallback(hspi);
 3091              		.loc 1 1880 0
 3092 00c2 2046     		mov	r0, r4
 3093 00c4 FFF7FEFF 		bl	HAL_SPI_ErrorCallback
 3094              	.LVL189:
 3095              	.L327:
1883:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 3096              		.loc 1 1883 0
 3097 00c8 02B0     		add	sp, sp, #8
 3098              		@ sp needed
 3099 00ca 10BD     		pop	{r4, pc}
 3100              		.cfi_endproc
 3101              	.LFE153:
 3103              		.section	.text.SPI_RxISR,"ax",%progbits
 3104              		.align	1
 3105              		.thumb
 3106              		.thumb_func
 3108              	SPI_RxISR:
 3109              	.LFB155:
1919:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 3110              		.loc 1 1919 0
 3111              		.cfi_startproc
 3112              		@ args = 0, pretend = 0, frame = 0
 3113              		@ frame_needed = 0, uses_anonymous_args = 0
 3114              		@ link register save eliminated.
 3115              	.LVL190:
1921:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->Init.DataSize == SPI_DATASIZE_8BIT)
 3116              		.loc 1 1921 0
 3117 0000 C168     		ldr	r1, [r0, #12]
 3118 0002 836B     		ldr	r3, [r0, #56]
 3119 0004 0268     		ldr	r2, [r0]
 3120 0006 21B9     		cbnz	r1, .L351
1923:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     (*hspi->pRxBuffPtr++) = hspi->Instance->DR;
 3121              		.loc 1 1923 0
 3122 0008 591C     		adds	r1, r3, #1
 3123 000a D268     		ldr	r2, [r2, #12]
 3124 000c 8163     		str	r1, [r0, #56]
 3125 000e 1A70     		strb	r2, [r3]
 3126 0010 03E0     		b	.L352
 3127              	.L351:
1928:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     *((uint16_t*)hspi->pRxBuffPtr) = hspi->Instance->DR;
 3128              		.loc 1 1928 0
 3129 0012 D268     		ldr	r2, [r2, #12]
 3130 0014 23F8022B 		strh	r2, [r3], #2	@ movhi
1929:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->pRxBuffPtr+=2;
 3131              		.loc 1 1929 0
 3132 0018 8363     		str	r3, [r0, #56]
 3133              	.L352:
1931:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxXferCount--;
 3134              		.loc 1 1931 0
 3135 001a C38F     		ldrh	r3, [r0, #62]
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 107


 3136 001c 013B     		subs	r3, r3, #1
 3137 001e 9BB2     		uxth	r3, r3
1934:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if((hspi->RxXferCount == 1) && (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE))
 3138              		.loc 1 1934 0
 3139 0020 012B     		cmp	r3, #1
1931:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxXferCount--;
 3140              		.loc 1 1931 0
 3141 0022 C387     		strh	r3, [r0, #62]	@ movhi
1934:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if((hspi->RxXferCount == 1) && (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE))
 3142              		.loc 1 1934 0
 3143 0024 09D1     		bne	.L353
1934:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if((hspi->RxXferCount == 1) && (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE))
 3144              		.loc 1 1934 0 is_stmt 0 discriminator 1
 3145 0026 836A     		ldr	r3, [r0, #40]
 3146 0028 B3F5005F 		cmp	r3, #8192
 3147 002c 08D1     		bne	.L350
1937:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->Instance->CR1 |= SPI_CR1_CRCNEXT;  
 3148              		.loc 1 1937 0 is_stmt 1
 3149 002e 0368     		ldr	r3, [r0]
 3150 0030 1A68     		ldr	r2, [r3]
 3151 0032 42F48052 		orr	r2, r2, #4096
 3152 0036 1A60     		str	r2, [r3]
 3153 0038 7047     		bx	lr
 3154              	.L353:
1940:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->RxXferCount == 0)
 3155              		.loc 1 1940 0
 3156 003a 0BB9     		cbnz	r3, .L350
1942:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SPI_RxCloseIRQHandler(hspi);
 3157              		.loc 1 1942 0
 3158 003c FFF7FEBF 		b	SPI_RxCloseIRQHandler
 3159              	.LVL191:
 3160              	.L350:
 3161 0040 7047     		bx	lr
 3162              		.cfi_endproc
 3163              	.LFE155:
 3165              		.section	.text.SPI_2LinesRxISR,"ax",%progbits
 3166              		.align	1
 3167              		.thumb
 3168              		.thumb_func
 3170              	SPI_2LinesRxISR:
 3171              	.LFB154:
1892:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 3172              		.loc 1 1892 0
 3173              		.cfi_startproc
 3174              		@ args = 0, pretend = 0, frame = 0
 3175              		@ frame_needed = 0, uses_anonymous_args = 0
 3176              		@ link register save eliminated.
 3177              	.LVL192:
1894:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->Init.DataSize == SPI_DATASIZE_8BIT)
 3178              		.loc 1 1894 0
 3179 0000 C168     		ldr	r1, [r0, #12]
 3180 0002 836B     		ldr	r3, [r0, #56]
 3181 0004 0268     		ldr	r2, [r0]
 3182 0006 21B9     		cbnz	r1, .L357
1896:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     (*hspi->pRxBuffPtr++) = hspi->Instance->DR;
 3183              		.loc 1 1896 0
 3184 0008 591C     		adds	r1, r3, #1
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 108


 3185 000a D268     		ldr	r2, [r2, #12]
 3186 000c 8163     		str	r1, [r0, #56]
 3187 000e 1A70     		strb	r2, [r3]
 3188 0010 03E0     		b	.L358
 3189              	.L357:
1901:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     *((uint16_t*)hspi->pRxBuffPtr) = hspi->Instance->DR;
 3190              		.loc 1 1901 0
 3191 0012 D268     		ldr	r2, [r2, #12]
 3192 0014 23F8022B 		strh	r2, [r3], #2	@ movhi
1902:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->pRxBuffPtr+=2;
 3193              		.loc 1 1902 0
 3194 0018 8363     		str	r3, [r0, #56]
 3195              	.L358:
1904:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferCount--;
 3196              		.loc 1 1904 0
 3197 001a C38F     		ldrh	r3, [r0, #62]
 3198 001c 013B     		subs	r3, r3, #1
 3199 001e 9BB2     		uxth	r3, r3
 3200 0020 C387     		strh	r3, [r0, #62]	@ movhi
1906:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->RxXferCount==0)
 3201              		.loc 1 1906 0
 3202 0022 0BB9     		cbnz	r3, .L356
1908:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SPI_RxCloseIRQHandler(hspi);
 3203              		.loc 1 1908 0
 3204 0024 FFF7FEBF 		b	SPI_RxCloseIRQHandler
 3205              	.LVL193:
 3206              	.L356:
 3207 0028 7047     		bx	lr
 3208              		.cfi_endproc
 3209              	.LFE154:
 3211              		.section	.text.SPI_DMAError,"ax",%progbits
 3212              		.align	1
 3213              		.thumb
 3214              		.thumb_func
 3216              	SPI_DMAError:
 3217              	.LFB163:
2205:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 3218              		.loc 1 2205 0
 3219              		.cfi_startproc
 3220              		@ args = 0, pretend = 0, frame = 0
 3221              		@ frame_needed = 0, uses_anonymous_args = 0
 3222              	.LVL194:
2206:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   SPI_HandleTypeDef* hspi = (SPI_HandleTypeDef* )((DMA_HandleTypeDef* )hdma)->Parent;
 3223              		.loc 1 2206 0
 3224 0000 806B     		ldr	r0, [r0, #56]
 3225              	.LVL195:
2205:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 3226              		.loc 1 2205 0
 3227 0002 08B5     		push	{r3, lr}
 3228              	.LCFI20:
 3229              		.cfi_def_cfa_offset 8
 3230              		.cfi_offset 3, -8
 3231              		.cfi_offset 14, -4
2207:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferCount = 0;
 3232              		.loc 1 2207 0
 3233 0004 0023     		movs	r3, #0
 3234 0006 C386     		strh	r3, [r0, #54]	@ movhi
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 109


2208:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferCount = 0;
 3235              		.loc 1 2208 0
 3236 0008 C387     		strh	r3, [r0, #62]	@ movhi
2209:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->State= HAL_SPI_STATE_READY;
 3237              		.loc 1 2209 0
 3238 000a 0123     		movs	r3, #1
 3239 000c 80F85130 		strb	r3, [r0, #81]
2210:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->ErrorCode |= HAL_SPI_ERROR_DMA;
 3240              		.loc 1 2210 0
 3241 0010 436D     		ldr	r3, [r0, #84]
 3242 0012 43F01003 		orr	r3, r3, #16
 3243 0016 4365     		str	r3, [r0, #84]
2211:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   HAL_SPI_ErrorCallback(hspi);
 3244              		.loc 1 2211 0
 3245 0018 FFF7FEFF 		bl	HAL_SPI_ErrorCallback
 3246              	.LVL196:
 3247 001c 08BD     		pop	{r3, pc}
 3248              		.cfi_endproc
 3249              	.LFE163:
 3251              		.section	.text.SPI_DMATransmitCplt,"ax",%progbits
 3252              		.align	1
 3253              		.thumb
 3254              		.thumb_func
 3256              	SPI_DMATransmitCplt:
 3257              	.LFB156:
1953:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 3258              		.loc 1 1953 0
 3259              		.cfi_startproc
 3260              		@ args = 0, pretend = 0, frame = 8
 3261              		@ frame_needed = 0, uses_anonymous_args = 0
 3262              	.LVL197:
1957:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if((hdma->Instance->CR & DMA_SxCR_CIRC) == 0)
 3263              		.loc 1 1957 0
 3264 0000 0368     		ldr	r3, [r0]
 3265 0002 1A68     		ldr	r2, [r3]
 3266 0004 12F48072 		ands	r2, r2, #256
1953:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 3267              		.loc 1 1953 0
 3268 0008 13B5     		push	{r0, r1, r4, lr}
 3269              	.LCFI21:
 3270              		.cfi_def_cfa_offset 16
 3271              		.cfi_offset 0, -16
 3272              		.cfi_offset 1, -12
 3273              		.cfi_offset 4, -8
 3274              		.cfi_offset 14, -4
1954:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   SPI_HandleTypeDef* hspi = ( SPI_HandleTypeDef* )((DMA_HandleTypeDef* )hdma)->Parent;
 3275              		.loc 1 1954 0
 3276 000a 846B     		ldr	r4, [r0, #56]
 3277              	.LVL198:
1957:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if((hdma->Instance->CR & DMA_SxCR_CIRC) == 0)
 3278              		.loc 1 1957 0
 3279 000c 1ED1     		bne	.L362
1960:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(SPI_WaitOnFlagUntilTimeout(hspi, SPI_FLAG_TXE, RESET, SPI_TIMEOUT_VALUE) != HAL_OK)
 3280              		.loc 1 1960 0
 3281 000e 2046     		mov	r0, r4
 3282              	.LVL199:
 3283 0010 0221     		movs	r1, #2
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 110


 3284 0012 0A23     		movs	r3, #10
 3285 0014 FFF7FEFF 		bl	SPI_WaitOnFlagUntilTimeout
 3286              	.LVL200:
 3287 0018 18B1     		cbz	r0, .L363
1962:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->ErrorCode |= HAL_SPI_ERROR_FLAG;
 3288              		.loc 1 1962 0
 3289 001a 636D     		ldr	r3, [r4, #84]
 3290 001c 43F02003 		orr	r3, r3, #32
 3291 0020 6365     		str	r3, [r4, #84]
 3292              	.L363:
1965:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->Instance->CR2 &= (uint32_t)(~SPI_CR2_TXDMAEN);
 3293              		.loc 1 1965 0
 3294 0022 2368     		ldr	r3, [r4]
 3295 0024 5A68     		ldr	r2, [r3, #4]
 3296 0026 22F00202 		bic	r2, r2, #2
 3297 002a 5A60     		str	r2, [r3, #4]
1968:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(SPI_WaitOnFlagUntilTimeout(hspi, SPI_FLAG_BSY, SET, SPI_TIMEOUT_VALUE) != HAL_OK)
 3298              		.loc 1 1968 0
 3299 002c 2046     		mov	r0, r4
 3300 002e 8021     		movs	r1, #128
 3301 0030 0122     		movs	r2, #1
 3302 0032 0A23     		movs	r3, #10
 3303 0034 FFF7FEFF 		bl	SPI_WaitOnFlagUntilTimeout
 3304              	.LVL201:
 3305 0038 18B1     		cbz	r0, .L364
1970:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->ErrorCode |= HAL_SPI_ERROR_FLAG;
 3306              		.loc 1 1970 0
 3307 003a 636D     		ldr	r3, [r4, #84]
 3308 003c 43F02003 		orr	r3, r3, #32
 3309 0040 6365     		str	r3, [r4, #84]
 3310              	.L364:
1973:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxXferCount = 0;
 3311              		.loc 1 1973 0
 3312 0042 0023     		movs	r3, #0
 3313 0044 E386     		strh	r3, [r4, #54]	@ movhi
1975:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
 3314              		.loc 1 1975 0
 3315 0046 0123     		movs	r3, #1
 3316 0048 84F85130 		strb	r3, [r4, #81]
 3317              	.L362:
1979:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->Init.Direction == SPI_DIRECTION_2LINES)
 3318              		.loc 1 1979 0
 3319 004c A368     		ldr	r3, [r4, #8]
 3320 004e 33B9     		cbnz	r3, .L365
 3321              	.LBB13:
1981:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****    __HAL_SPI_CLEAR_OVRFLAG(hspi);
 3322              		.loc 1 1981 0
 3323 0050 0193     		str	r3, [sp, #4]
 3324 0052 2368     		ldr	r3, [r4]
 3325 0054 DA68     		ldr	r2, [r3, #12]
 3326 0056 0192     		str	r2, [sp, #4]
 3327 0058 9B68     		ldr	r3, [r3, #8]
 3328 005a 0193     		str	r3, [sp, #4]
 3329 005c 019B     		ldr	r3, [sp, #4]
 3330              	.L365:
 3331              	.LBE13:
1985:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->ErrorCode != HAL_SPI_ERROR_NONE)
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 111


 3332              		.loc 1 1985 0
 3333 005e 636D     		ldr	r3, [r4, #84]
1987:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     HAL_SPI_ErrorCallback(hspi);
 3334              		.loc 1 1987 0
 3335 0060 2046     		mov	r0, r4
1985:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->ErrorCode != HAL_SPI_ERROR_NONE)
 3336              		.loc 1 1985 0
 3337 0062 13B1     		cbz	r3, .L366
 3338              	.LVL202:
1987:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     HAL_SPI_ErrorCallback(hspi);
 3339              		.loc 1 1987 0
 3340 0064 FFF7FEFF 		bl	HAL_SPI_ErrorCallback
 3341              	.LVL203:
 3342 0068 01E0     		b	.L361
 3343              	.LVL204:
 3344              	.L366:
1991:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     HAL_SPI_TxCpltCallback(hspi);
 3345              		.loc 1 1991 0
 3346 006a FFF7FEFF 		bl	HAL_SPI_TxCpltCallback
 3347              	.LVL205:
 3348              	.L361:
1993:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 3349              		.loc 1 1993 0
 3350 006e 02B0     		add	sp, sp, #8
 3351              		@ sp needed
 3352 0070 10BD     		pop	{r4, pc}
 3353              		.cfi_endproc
 3354              	.LFE156:
 3356              		.section	.text.SPI_DMAReceiveCplt,"ax",%progbits
 3357              		.align	1
 3358              		.thumb
 3359              		.thumb_func
 3361              	SPI_DMAReceiveCplt:
 3362              	.LFB157:
2002:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 3363              		.loc 1 2002 0
 3364              		.cfi_startproc
 3365              		@ args = 0, pretend = 0, frame = 8
 3366              		@ frame_needed = 0, uses_anonymous_args = 0
 3367              	.LVL206:
2007:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if((hdma->Instance->CR & DMA_SxCR_CIRC) == 0)
 3368              		.loc 1 2007 0
 3369 0000 0368     		ldr	r3, [r0]
 3370 0002 1B68     		ldr	r3, [r3]
2002:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 3371              		.loc 1 2002 0
 3372 0004 13B5     		push	{r0, r1, r4, lr}
 3373              	.LCFI22:
 3374              		.cfi_def_cfa_offset 16
 3375              		.cfi_offset 0, -16
 3376              		.cfi_offset 1, -12
 3377              		.cfi_offset 4, -8
 3378              		.cfi_offset 14, -4
2007:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if((hdma->Instance->CR & DMA_SxCR_CIRC) == 0)
 3379              		.loc 1 2007 0
 3380 0006 D905     		lsls	r1, r3, #23
2005:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   SPI_HandleTypeDef* hspi = ( SPI_HandleTypeDef* )((DMA_HandleTypeDef* )hdma)->Parent;
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 112


 3381              		.loc 1 2005 0
 3382 0008 846B     		ldr	r4, [r0, #56]
 3383              	.LVL207:
2007:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if((hdma->Instance->CR & DMA_SxCR_CIRC) == 0)
 3384              		.loc 1 2007 0
 3385 000a 51D4     		bmi	.L375
2009:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((hspi->Init.Direction == SPI_DIRECTION_2LINES)&&(hspi->Init.Mode == SPI_MODE_MASTER))
 3386              		.loc 1 2009 0
 3387 000c A268     		ldr	r2, [r4, #8]
 3388 000e 6368     		ldr	r3, [r4, #4]
 3389 0010 32B9     		cbnz	r2, .L376
2009:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((hspi->Init.Direction == SPI_DIRECTION_2LINES)&&(hspi->Init.Mode == SPI_MODE_MASTER))
 3390              		.loc 1 2009 0 is_stmt 0 discriminator 1
 3391 0012 B3F5827F 		cmp	r3, #260
 3392 0016 03D1     		bne	.L376
2011:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        SPI_DMAEndTransmitReceive(hspi);  
 3393              		.loc 1 2011 0 is_stmt 1
 3394 0018 2046     		mov	r0, r4
 3395              	.LVL208:
 3396 001a FFF7FEFF 		bl	SPI_DMAEndTransmitReceive
 3397              	.LVL209:
 3398 001e 3EE0     		b	.L377
 3399              	.LVL210:
 3400              	.L376:
2016:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if((hspi->Init.Mode == SPI_MODE_MASTER)&&((hspi->Init.Direction == SPI_DIRECTION_1LINE)||(hsp
 3401              		.loc 1 2016 0
 3402 0020 B3F5827F 		cmp	r3, #260
 3403 0024 2368     		ldr	r3, [r4]
 3404 0026 09D1     		bne	.L378
2016:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if((hspi->Init.Mode == SPI_MODE_MASTER)&&((hspi->Init.Direction == SPI_DIRECTION_1LINE)||(hsp
 3405              		.loc 1 2016 0 is_stmt 0 discriminator 1
 3406 0028 B2F5004F 		cmp	r2, #32768
 3407 002c 02D0     		beq	.L379
 3408 002e B2F5806F 		cmp	r2, #1024
 3409 0032 03D1     		bne	.L378
 3410              	.L379:
2019:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         __HAL_SPI_DISABLE(hspi);
 3411              		.loc 1 2019 0 is_stmt 1
 3412 0034 1A68     		ldr	r2, [r3]
 3413 0036 22F04002 		bic	r2, r2, #64
 3414 003a 1A60     		str	r2, [r3]
 3415              	.L378:
2023:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->Instance->CR2 &= (uint32_t)(~SPI_CR2_RXDMAEN);
 3416              		.loc 1 2023 0
 3417 003c 5A68     		ldr	r2, [r3, #4]
 3418 003e 22F00102 		bic	r2, r2, #1
 3419 0042 5A60     		str	r2, [r3, #4]
2028:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 3420              		.loc 1 2028 0
 3421 0044 A36A     		ldr	r3, [r4, #40]
2025:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->RxXferCount = 0;
 3422              		.loc 1 2025 0
 3423 0046 0022     		movs	r2, #0
2028:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 3424              		.loc 1 2028 0
 3425 0048 B3F5005F 		cmp	r3, #8192
2025:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->RxXferCount = 0;
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 113


 3426              		.loc 1 2025 0
 3427 004c E287     		strh	r2, [r4, #62]	@ movhi
2028:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 3428              		.loc 1 2028 0
 3429 004e 26D1     		bne	.L377
2031:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         if(SPI_WaitOnFlagUntilTimeout(hspi, SPI_FLAG_RXNE, RESET, SPI_TIMEOUT_VALUE) != HAL_OK)
 3430              		.loc 1 2031 0
 3431 0050 2046     		mov	r0, r4
 3432              	.LVL211:
 3433 0052 0121     		movs	r1, #1
 3434 0054 0A23     		movs	r3, #10
 3435 0056 FFF7FEFF 		bl	SPI_WaitOnFlagUntilTimeout
 3436              	.LVL212:
 3437 005a 18B1     		cbz	r0, .L381
2033:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           hspi->ErrorCode |= HAL_SPI_ERROR_FLAG;
 3438              		.loc 1 2033 0
 3439 005c 636D     		ldr	r3, [r4, #84]
 3440 005e 43F02003 		orr	r3, r3, #32
 3441 0062 6365     		str	r3, [r4, #84]
 3442              	.L381:
2037:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         tmpreg = hspi->Instance->DR;
 3443              		.loc 1 2037 0
 3444 0064 2368     		ldr	r3, [r4]
 3445 0066 DB68     		ldr	r3, [r3, #12]
 3446 0068 9BB2     		uxth	r3, r3
 3447 006a ADF80630 		strh	r3, [sp, #6]	@ movhi
2041:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         if(SPI_WaitOnFlagUntilTimeout(hspi, SPI_FLAG_RXNE, SET, SPI_TIMEOUT_VALUE) != HAL_OK)
 3448              		.loc 1 2041 0
 3449 006e 0121     		movs	r1, #1
2038:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         UNUSED(tmpreg);
 3450              		.loc 1 2038 0
 3451 0070 BDF80630 		ldrh	r3, [sp, #6]
2041:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         if(SPI_WaitOnFlagUntilTimeout(hspi, SPI_FLAG_RXNE, SET, SPI_TIMEOUT_VALUE) != HAL_OK)
 3452              		.loc 1 2041 0
 3453 0074 2046     		mov	r0, r4
 3454 0076 0A46     		mov	r2, r1
 3455 0078 0A23     		movs	r3, #10
 3456 007a FFF7FEFF 		bl	SPI_WaitOnFlagUntilTimeout
 3457              	.LVL213:
 3458 007e 18B1     		cbz	r0, .L382
2043:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           hspi->ErrorCode |= HAL_SPI_ERROR_FLAG;
 3459              		.loc 1 2043 0
 3460 0080 636D     		ldr	r3, [r4, #84]
 3461 0082 43F02003 		orr	r3, r3, #32
 3462 0086 6365     		str	r3, [r4, #84]
 3463              	.L382:
2047:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         if(__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_CRCERR) != RESET)
 3464              		.loc 1 2047 0
 3465 0088 2368     		ldr	r3, [r4]
 3466 008a 9A68     		ldr	r2, [r3, #8]
 3467 008c D206     		lsls	r2, r2, #27
 3468 008e 06D5     		bpl	.L377
2049:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           hspi->ErrorCode |= HAL_SPI_ERROR_CRC;
 3469              		.loc 1 2049 0
 3470 0090 626D     		ldr	r2, [r4, #84]
 3471 0092 42F00202 		orr	r2, r2, #2
 3472 0096 6265     		str	r2, [r4, #84]
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 114


2050:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           __HAL_SPI_CLEAR_CRCERRFLAG(hspi);
 3473              		.loc 1 2050 0
 3474 0098 6FF01002 		mvn	r2, #16
 3475 009c 9A60     		str	r2, [r3, #8]
 3476              	.L377:
2055:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
 3477              		.loc 1 2055 0
 3478 009e 0123     		movs	r3, #1
 3479 00a0 84F85130 		strb	r3, [r4, #81]
2058:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->ErrorCode != HAL_SPI_ERROR_NONE)
 3480              		.loc 1 2058 0
 3481 00a4 636D     		ldr	r3, [r4, #84]
2060:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       HAL_SPI_ErrorCallback(hspi);
 3482              		.loc 1 2060 0
 3483 00a6 2046     		mov	r0, r4
2058:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->ErrorCode != HAL_SPI_ERROR_NONE)
 3484              		.loc 1 2058 0
 3485 00a8 1BB1     		cbz	r3, .L398
 3486              	.LVL214:
2060:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       HAL_SPI_ErrorCallback(hspi);
 3487              		.loc 1 2060 0
 3488 00aa FFF7FEFF 		bl	HAL_SPI_ErrorCallback
 3489              	.LVL215:
 3490 00ae 02E0     		b	.L374
 3491              	.LVL216:
 3492              	.L375:
2069:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     HAL_SPI_RxCpltCallback(hspi);
 3493              		.loc 1 2069 0
 3494 00b0 2046     		mov	r0, r4
 3495              	.LVL217:
 3496              	.L398:
 3497 00b2 FFF7FEFF 		bl	HAL_SPI_RxCpltCallback
 3498              	.LVL218:
 3499              	.L374:
2071:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 3500              		.loc 1 2071 0
 3501 00b6 02B0     		add	sp, sp, #8
 3502              		@ sp needed
 3503 00b8 10BD     		pop	{r4, pc}
 3504              		.cfi_endproc
 3505              	.LFE157:
 3507              		.section	.text.SPI_DMATransmitReceiveCplt,"ax",%progbits
 3508              		.align	1
 3509              		.thumb
 3510              		.thumb_func
 3512              	SPI_DMATransmitReceiveCplt:
 3513              	.LFB159:
2135:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 3514              		.loc 1 2135 0
 3515              		.cfi_startproc
 3516              		@ args = 0, pretend = 0, frame = 0
 3517              		@ frame_needed = 0, uses_anonymous_args = 0
 3518              	.LVL219:
2137:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if((hdma->Instance->CR & DMA_SxCR_CIRC) == 0)
 3519              		.loc 1 2137 0
 3520 0000 0368     		ldr	r3, [r0]
 3521 0002 1B68     		ldr	r3, [r3]
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 115


2135:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 3522              		.loc 1 2135 0
 3523 0004 10B5     		push	{r4, lr}
 3524              	.LCFI23:
 3525              		.cfi_def_cfa_offset 8
 3526              		.cfi_offset 4, -8
 3527              		.cfi_offset 14, -4
2136:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   SPI_HandleTypeDef* hspi = ( SPI_HandleTypeDef* )((DMA_HandleTypeDef* )hdma)->Parent;
 3528              		.loc 1 2136 0
 3529 0006 846B     		ldr	r4, [r0, #56]
 3530              	.LVL220:
2137:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if((hdma->Instance->CR & DMA_SxCR_CIRC) == 0)
 3531              		.loc 1 2137 0
 3532 0008 DB05     		lsls	r3, r3, #23
2139:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SPI_DMAEndTransmitReceive(hspi);
 3533              		.loc 1 2139 0
 3534 000a 2046     		mov	r0, r4
 3535              	.LVL221:
2137:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if((hdma->Instance->CR & DMA_SxCR_CIRC) == 0)
 3536              		.loc 1 2137 0
 3537 000c 0AD4     		bmi	.L400
2139:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SPI_DMAEndTransmitReceive(hspi);
 3538              		.loc 1 2139 0
 3539 000e FFF7FEFF 		bl	SPI_DMAEndTransmitReceive
 3540              	.LVL222:
2141:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
 3541              		.loc 1 2141 0
 3542 0012 0123     		movs	r3, #1
 3543 0014 84F85130 		strb	r3, [r4, #81]
2144:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->ErrorCode != HAL_SPI_ERROR_NONE)
 3544              		.loc 1 2144 0
 3545 0018 636D     		ldr	r3, [r4, #84]
2146:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       HAL_SPI_ErrorCallback(hspi);
 3546              		.loc 1 2146 0
 3547 001a 2046     		mov	r0, r4
2144:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->ErrorCode != HAL_SPI_ERROR_NONE)
 3548              		.loc 1 2144 0
 3549 001c 13B1     		cbz	r3, .L400
2146:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       HAL_SPI_ErrorCallback(hspi);
 3550              		.loc 1 2146 0
 3551 001e FFF7FEFF 		bl	HAL_SPI_ErrorCallback
 3552              	.LVL223:
 3553 0022 10BD     		pop	{r4, pc}
 3554              	.LVL224:
 3555              	.L400:
2155:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     HAL_SPI_TxRxCpltCallback(hspi);
 3556              		.loc 1 2155 0
 3557 0024 FFF7FEFF 		bl	HAL_SPI_TxRxCpltCallback
 3558              	.LVL225:
 3559 0028 10BD     		pop	{r4, pc}
 3560              		.cfi_endproc
 3561              	.LFE159:
 3563              		.section	.text.HAL_SPI_IRQHandler,"ax",%progbits
 3564              		.align	1
 3565              		.global	HAL_SPI_IRQHandler
 3566              		.thumb
 3567              		.thumb_func
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 116


 3569              	HAL_SPI_IRQHandler:
 3570              	.LFB141:
1497:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 3571              		.loc 1 1497 0
 3572              		.cfi_startproc
 3573              		@ args = 0, pretend = 0, frame = 16
 3574              		@ frame_needed = 0, uses_anonymous_args = 0
 3575              	.LVL226:
 3576 0000 30B5     		push	{r4, r5, lr}
 3577              	.LCFI24:
 3578              		.cfi_def_cfa_offset 12
 3579              		.cfi_offset 4, -12
 3580              		.cfi_offset 5, -8
 3581              		.cfi_offset 14, -4
1500:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   tmp1 = __HAL_SPI_GET_FLAG(hspi, SPI_FLAG_RXNE);
 3582              		.loc 1 1500 0
 3583 0002 0368     		ldr	r3, [r0]
 3584 0004 9D68     		ldr	r5, [r3, #8]
 3585              	.LVL227:
1501:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   tmp2 = __HAL_SPI_GET_IT_SOURCE(hspi, SPI_IT_RXNE);
 3586              		.loc 1 1501 0
 3587 0006 5C68     		ldr	r4, [r3, #4]
 3588              	.LVL228:
1502:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   tmp3 = __HAL_SPI_GET_FLAG(hspi, SPI_FLAG_OVR);
 3589              		.loc 1 1502 0
 3590 0008 9968     		ldr	r1, [r3, #8]
 3591              	.LVL229:
1504:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if((tmp1 != RESET) && (tmp2 != RESET) && (tmp3 == RESET))
 3592              		.loc 1 1504 0
 3593 000a ED07     		lsls	r5, r5, #31
 3594              	.LVL230:
1497:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 3595              		.loc 1 1497 0
 3596 000c 85B0     		sub	sp, sp, #20
 3597              	.LCFI25:
 3598              		.cfi_def_cfa_offset 32
1497:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 3599              		.loc 1 1497 0
 3600 000e 0246     		mov	r2, r0
1504:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if((tmp1 != RESET) && (tmp2 != RESET) && (tmp3 == RESET))
 3601              		.loc 1 1504 0
 3602 0010 05D5     		bpl	.L404
1504:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if((tmp1 != RESET) && (tmp2 != RESET) && (tmp3 == RESET))
 3603              		.loc 1 1504 0 is_stmt 0 discriminator 1
 3604 0012 6406     		lsls	r4, r4, #25
 3605              	.LVL231:
 3606 0014 03D5     		bpl	.L404
 3607 0016 4D06     		lsls	r5, r1, #25
 3608 0018 01D4     		bmi	.L404
1506:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxISR(hspi);
 3609              		.loc 1 1506 0 is_stmt 1
 3610 001a 836C     		ldr	r3, [r0, #72]
 3611 001c 07E0     		b	.L443
 3612              	.L404:
1510:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   tmp1 = __HAL_SPI_GET_FLAG(hspi, SPI_FLAG_TXE);
 3613              		.loc 1 1510 0
 3614 001e 9868     		ldr	r0, [r3, #8]
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 117


 3615              	.LVL232:
1511:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   tmp2 = __HAL_SPI_GET_IT_SOURCE(hspi, SPI_IT_TXE);
 3616              		.loc 1 1511 0
 3617 0020 5968     		ldr	r1, [r3, #4]
 3618              	.LVL233:
1513:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if((tmp1 != RESET) && (tmp2 != RESET))
 3619              		.loc 1 1513 0
 3620 0022 8407     		lsls	r4, r0, #30
 3621 0024 05D5     		bpl	.L406
1513:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if((tmp1 != RESET) && (tmp2 != RESET))
 3622              		.loc 1 1513 0 is_stmt 0 discriminator 1
 3623 0026 0806     		lsls	r0, r1, #24
 3624              	.LVL234:
 3625 0028 03D5     		bpl	.L406
1515:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxISR(hspi);
 3626              		.loc 1 1515 0 is_stmt 1
 3627 002a D36C     		ldr	r3, [r2, #76]
 3628 002c 1046     		mov	r0, r2
 3629              	.LVL235:
 3630              	.L443:
 3631 002e 9847     		blx	r3
 3632              	.LVL236:
1516:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     return;
 3633              		.loc 1 1516 0
 3634 0030 42E0     		b	.L403
 3635              	.LVL237:
 3636              	.L406:
1519:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(__HAL_SPI_GET_IT_SOURCE(hspi, SPI_IT_ERR) != RESET)
 3637              		.loc 1 1519 0
 3638 0032 5968     		ldr	r1, [r3, #4]
 3639              	.LVL238:
 3640 0034 8906     		lsls	r1, r1, #26
 3641 0036 3FD5     		bpl	.L403
1522:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_CRCERR) != RESET)
 3642              		.loc 1 1522 0
 3643 0038 9968     		ldr	r1, [r3, #8]
 3644 003a CD06     		lsls	r5, r1, #27
 3645 003c 06D5     		bpl	.L408
1524:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->ErrorCode |= HAL_SPI_ERROR_CRC;
 3646              		.loc 1 1524 0
 3647 003e 516D     		ldr	r1, [r2, #84]
 3648 0040 41F00201 		orr	r1, r1, #2
 3649 0044 5165     		str	r1, [r2, #84]
1525:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       __HAL_SPI_CLEAR_CRCERRFLAG(hspi);
 3650              		.loc 1 1525 0
 3651 0046 6FF01001 		mvn	r1, #16
 3652 004a 9960     		str	r1, [r3, #8]
 3653              	.L408:
1528:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_MODF) != RESET)
 3654              		.loc 1 1528 0
 3655 004c 9968     		ldr	r1, [r3, #8]
 3656 004e 8C06     		lsls	r4, r1, #26
 3657 0050 0CD5     		bpl	.L409
1530:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->ErrorCode |= HAL_SPI_ERROR_MODF;
 3658              		.loc 1 1530 0
 3659 0052 516D     		ldr	r1, [r2, #84]
 3660 0054 41F00101 		orr	r1, r1, #1
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 118


 3661 0058 5165     		str	r1, [r2, #84]
 3662              	.LBB14:
1531:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       __HAL_SPI_CLEAR_MODFFLAG(hspi);
 3663              		.loc 1 1531 0
 3664 005a 0021     		movs	r1, #0
 3665 005c 0191     		str	r1, [sp, #4]
 3666 005e 9968     		ldr	r1, [r3, #8]
 3667 0060 0191     		str	r1, [sp, #4]
 3668 0062 1968     		ldr	r1, [r3]
 3669 0064 21F04001 		bic	r1, r1, #64
 3670 0068 1960     		str	r1, [r3]
 3671 006a 0199     		ldr	r1, [sp, #4]
 3672              	.L409:
 3673              	.LBE14:
1535:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_OVR) != RESET)
 3674              		.loc 1 1535 0
 3675 006c 9968     		ldr	r1, [r3, #8]
 3676 006e 4806     		lsls	r0, r1, #25
 3677 0070 0ED5     		bpl	.L410
1537:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if(hspi->State != HAL_SPI_STATE_BUSY_TX)
 3678              		.loc 1 1537 0
 3679 0072 92F85110 		ldrb	r1, [r2, #81]	@ zero_extendqisi2
 3680 0076 1229     		cmp	r1, #18
 3681 0078 0AD0     		beq	.L410
1539:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->ErrorCode |= HAL_SPI_ERROR_OVR;
 3682              		.loc 1 1539 0
 3683 007a 516D     		ldr	r1, [r2, #84]
 3684 007c 41F00401 		orr	r1, r1, #4
 3685 0080 5165     		str	r1, [r2, #84]
 3686              	.LBB15:
1540:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         __HAL_SPI_CLEAR_OVRFLAG(hspi);      
 3687              		.loc 1 1540 0
 3688 0082 0021     		movs	r1, #0
 3689 0084 0291     		str	r1, [sp, #8]
 3690 0086 D968     		ldr	r1, [r3, #12]
 3691 0088 0291     		str	r1, [sp, #8]
 3692 008a 9968     		ldr	r1, [r3, #8]
 3693 008c 0291     		str	r1, [sp, #8]
 3694 008e 0299     		ldr	r1, [sp, #8]
 3695              	.L410:
 3696              	.LBE15:
1545:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_FRE) != RESET)
 3697              		.loc 1 1545 0
 3698 0090 9968     		ldr	r1, [r3, #8]
 3699 0092 C905     		lsls	r1, r1, #23
 3700 0094 08D5     		bpl	.L411
1547:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->ErrorCode |= HAL_SPI_ERROR_FRE;
 3701              		.loc 1 1547 0
 3702 0096 516D     		ldr	r1, [r2, #84]
 3703 0098 41F00801 		orr	r1, r1, #8
 3704 009c 5165     		str	r1, [r2, #84]
 3705              	.LBB16:
1548:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       __HAL_SPI_CLEAR_FREFLAG(hspi);
 3706              		.loc 1 1548 0
 3707 009e 0021     		movs	r1, #0
 3708 00a0 0391     		str	r1, [sp, #12]
 3709 00a2 9B68     		ldr	r3, [r3, #8]
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 119


 3710 00a4 0393     		str	r3, [sp, #12]
 3711 00a6 039B     		ldr	r3, [sp, #12]
 3712              	.L411:
 3713              	.LBE16:
1552:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->ErrorCode!=HAL_SPI_ERROR_NONE)
 3714              		.loc 1 1552 0
 3715 00a8 536D     		ldr	r3, [r2, #84]
 3716 00aa 2BB1     		cbz	r3, .L403
1554:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->State = HAL_SPI_STATE_READY;
 3717              		.loc 1 1554 0
 3718 00ac 0123     		movs	r3, #1
 3719 00ae 82F85130 		strb	r3, [r2, #81]
1555:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       HAL_SPI_ErrorCallback(hspi);
 3720              		.loc 1 1555 0
 3721 00b2 1046     		mov	r0, r2
 3722 00b4 FFF7FEFF 		bl	HAL_SPI_ErrorCallback
 3723              	.LVL239:
 3724              	.L403:
1558:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 3725              		.loc 1 1558 0
 3726 00b8 05B0     		add	sp, sp, #20
 3727              		@ sp needed
 3728 00ba 30BD     		pop	{r4, r5, pc}
 3729              		.cfi_endproc
 3730              	.LFE141:
 3732              		.section	.text.HAL_SPI_GetState,"ax",%progbits
 3733              		.align	1
 3734              		.global	HAL_SPI_GetState
 3735              		.thumb
 3736              		.thumb_func
 3738              	HAL_SPI_GetState:
 3739              	.LFB149:
1693:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 3740              		.loc 1 1693 0
 3741              		.cfi_startproc
 3742              		@ args = 0, pretend = 0, frame = 0
 3743              		@ frame_needed = 0, uses_anonymous_args = 0
 3744              		@ link register save eliminated.
 3745              	.LVL240:
1694:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   return hspi->State;
 3746              		.loc 1 1694 0
 3747 0000 90F85100 		ldrb	r0, [r0, #81]	@ zero_extendqisi2
 3748              	.LVL241:
1695:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 3749              		.loc 1 1695 0
 3750 0004 7047     		bx	lr
 3751              		.cfi_endproc
 3752              	.LFE149:
 3754              		.section	.text.HAL_SPI_GetError,"ax",%progbits
 3755              		.align	1
 3756              		.global	HAL_SPI_GetError
 3757              		.thumb
 3758              		.thumb_func
 3760              	HAL_SPI_GetError:
 3761              	.LFB150:
1704:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 3762              		.loc 1 1704 0
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 120


 3763              		.cfi_startproc
 3764              		@ args = 0, pretend = 0, frame = 0
 3765              		@ frame_needed = 0, uses_anonymous_args = 0
 3766              		@ link register save eliminated.
 3767              	.LVL242:
1705:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   return hspi->ErrorCode;
 3768              		.loc 1 1705 0
 3769 0000 406D     		ldr	r0, [r0, #84]
 3770              	.LVL243:
1706:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 3771              		.loc 1 1706 0
 3772 0002 7047     		bx	lr
 3773              		.cfi_endproc
 3774              	.LFE150:
 3776              		.text
 3777              	.Letext0:
 3778              		.file 2 "/Users/Arethusa/Library/Arduino15/packages/arduino/tools/arm-none-eabi-gcc/4.8.3-2014q1/a
 3779              		.file 3 "/Users/Arethusa/Library/Arduino15/packages/arduino/tools/arm-none-eabi-gcc/4.8.3-2014q1/a
 3780              		.file 4 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f401xe.h"
 3781              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f4xx.h"
 3782              		.file 6 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 3783              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 3784              		.file 8 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_spi.h"
 3785              		.file 9 "Drivers/CMSIS/Include/core_cm4.h"
 3786              		.file 10 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 121


DEFINED SYMBOLS
                            *ABS*:0000000000000000 stm32f4xx_hal_spi.c
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:19     .text.SPI_WaitOnFlagUntilTimeout:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:23     .text.SPI_WaitOnFlagUntilTimeout:0000000000000000 SPI_WaitOnFlagUntilTimeout
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:140    .text.SPI_DMAEndTransmitReceive:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:144    .text.SPI_DMAEndTransmitReceive:0000000000000000 SPI_DMAEndTransmitReceive
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:254    .text.HAL_SPI_MspInit:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:259    .text.HAL_SPI_MspInit:0000000000000000 HAL_SPI_MspInit
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:272    .text.HAL_SPI_Init:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:277    .text.HAL_SPI_Init:0000000000000000 HAL_SPI_Init
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:380    .text.HAL_SPI_MspDeInit:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:385    .text.HAL_SPI_MspDeInit:0000000000000000 HAL_SPI_MspDeInit
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:398    .text.HAL_SPI_DeInit:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:403    .text.HAL_SPI_DeInit:0000000000000000 HAL_SPI_DeInit
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:447    .text.HAL_SPI_Transmit:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:452    .text.HAL_SPI_Transmit:0000000000000000 HAL_SPI_Transmit
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:714    .text.HAL_SPI_TransmitReceive:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:719    .text.HAL_SPI_TransmitReceive:0000000000000000 HAL_SPI_TransmitReceive
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:1183   .text.HAL_SPI_Receive:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:1188   .text.HAL_SPI_Receive:0000000000000000 HAL_SPI_Receive
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:1506   .text.HAL_SPI_Transmit_IT:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:1511   .text.HAL_SPI_Transmit_IT:0000000000000000 HAL_SPI_Transmit_IT
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:1636   .text.HAL_SPI_Transmit_IT:000000000000009c $d
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:2800   .text.SPI_TxISR:0000000000000000 SPI_TxISR
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:1641   .text.HAL_SPI_TransmitReceive_IT:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:1646   .text.HAL_SPI_TransmitReceive_IT:0000000000000000 HAL_SPI_TransmitReceive_IT
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:1783   .text.HAL_SPI_TransmitReceive_IT:00000000000000a8 $d
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:3170   .text.SPI_2LinesRxISR:0000000000000000 SPI_2LinesRxISR
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:1789   .text.HAL_SPI_Receive_IT:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:1794   .text.HAL_SPI_Receive_IT:0000000000000000 HAL_SPI_Receive_IT
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:1934   .text.HAL_SPI_Receive_IT:00000000000000b4 $d
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:3108   .text.SPI_RxISR:0000000000000000 SPI_RxISR
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:1939   .text.HAL_SPI_Transmit_DMA:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:1944   .text.HAL_SPI_Transmit_DMA:0000000000000000 HAL_SPI_Transmit_DMA
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:2071   .text.HAL_SPI_Transmit_DMA:00000000000000a4 $d
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:2665   .text.SPI_DMAHalfTransmitCplt:0000000000000000 SPI_DMAHalfTransmitCplt
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:3256   .text.SPI_DMATransmitCplt:0000000000000000 SPI_DMATransmitCplt
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:3216   .text.SPI_DMAError:0000000000000000 SPI_DMAError
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:2078   .text.HAL_SPI_TransmitReceive_DMA:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:2083   .text.HAL_SPI_TransmitReceive_DMA:0000000000000000 HAL_SPI_TransmitReceive_DMA
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:2272   .text.HAL_SPI_TransmitReceive_DMA:00000000000000e8 $d
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:2710   .text.SPI_DMAHalfReceiveCplt:0000000000000000 SPI_DMAHalfReceiveCplt
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:3361   .text.SPI_DMAReceiveCplt:0000000000000000 SPI_DMAReceiveCplt
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:2755   .text.SPI_DMAHalfTransmitReceiveCplt:0000000000000000 SPI_DMAHalfTransmitReceiveCplt
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:3512   .text.SPI_DMATransmitReceiveCplt:0000000000000000 SPI_DMATransmitReceiveCplt
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:2281   .text.HAL_SPI_Receive_DMA:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:2286   .text.HAL_SPI_Receive_DMA:0000000000000000 HAL_SPI_Receive_DMA
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:2441   .text.HAL_SPI_Receive_DMA:00000000000000c4 $d
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:2448   .text.HAL_SPI_DMAPause:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:2453   .text.HAL_SPI_DMAPause:0000000000000000 HAL_SPI_DMAPause
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:2492   .text.HAL_SPI_DMAResume:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:2497   .text.HAL_SPI_DMAResume:0000000000000000 HAL_SPI_DMAResume
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:2536   .text.HAL_SPI_DMAStop:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:2541   .text.HAL_SPI_DMAStop:0000000000000000 HAL_SPI_DMAStop
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:2589   .text.HAL_SPI_TxCpltCallback:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:2594   .text.HAL_SPI_TxCpltCallback:0000000000000000 HAL_SPI_TxCpltCallback
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:2607   .text.HAL_SPI_RxCpltCallback:0000000000000000 $t
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s 			page 122


/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:2612   .text.HAL_SPI_RxCpltCallback:0000000000000000 HAL_SPI_RxCpltCallback
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:2625   .text.HAL_SPI_TxRxCpltCallback:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:2630   .text.HAL_SPI_TxRxCpltCallback:0000000000000000 HAL_SPI_TxRxCpltCallback
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:2643   .text.HAL_SPI_TxHalfCpltCallback:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:2648   .text.HAL_SPI_TxHalfCpltCallback:0000000000000000 HAL_SPI_TxHalfCpltCallback
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:2661   .text.SPI_DMAHalfTransmitCplt:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:2688   .text.HAL_SPI_RxHalfCpltCallback:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:2693   .text.HAL_SPI_RxHalfCpltCallback:0000000000000000 HAL_SPI_RxHalfCpltCallback
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:2706   .text.SPI_DMAHalfReceiveCplt:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:2733   .text.HAL_SPI_TxRxHalfCpltCallback:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:2738   .text.HAL_SPI_TxRxHalfCpltCallback:0000000000000000 HAL_SPI_TxRxHalfCpltCallback
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:2751   .text.SPI_DMAHalfTransmitReceiveCplt:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:2778   .text.HAL_SPI_ErrorCallback:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:2783   .text.HAL_SPI_ErrorCallback:0000000000000000 HAL_SPI_ErrorCallback
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:2796   .text.SPI_TxISR:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:2958   .text.SPI_RxCloseIRQHandler:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:2962   .text.SPI_RxCloseIRQHandler:0000000000000000 SPI_RxCloseIRQHandler
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:3104   .text.SPI_RxISR:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:3166   .text.SPI_2LinesRxISR:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:3212   .text.SPI_DMAError:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:3252   .text.SPI_DMATransmitCplt:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:3357   .text.SPI_DMAReceiveCplt:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:3508   .text.SPI_DMATransmitReceiveCplt:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:3564   .text.HAL_SPI_IRQHandler:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:3569   .text.HAL_SPI_IRQHandler:0000000000000000 HAL_SPI_IRQHandler
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:3733   .text.HAL_SPI_GetState:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:3738   .text.HAL_SPI_GetState:0000000000000000 HAL_SPI_GetState
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:3755   .text.HAL_SPI_GetError:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cc9kZa14.s:3760   .text.HAL_SPI_GetError:0000000000000000 HAL_SPI_GetError
                     .debug_frame:0000000000000010 $d

UNDEFINED SYMBOLS
HAL_GetTick
HAL_DMA_Start_IT
HAL_DMA_Abort
