ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 1


   1              		.syntax unified
   2              		.cpu cortex-m4
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 4
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.thumb
  14              		.file	"stm32f4xx_hal_sd.c"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.section	.text.SD_CmdResp2Error,"ax",%progbits
  19              		.align	1
  20              		.thumb
  21              		.thumb_func
  23              	SD_CmdResp2Error:
  24              	.LFB164:
  25              		.file 1 "Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c"
   1:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
   2:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   ******************************************************************************
   3:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @file    stm32f4xx_hal_sd.c
   4:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @author  MCD Application Team
   5:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @version V1.4.3
   6:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @date    11-December-2015
   7:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief   SD card HAL module driver.
   8:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *          This file provides firmware functions to manage the following 
   9:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *          functionalities of the Secure Digital (SD) peripheral:
  10:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *           + Initialization and de-initialization functions
  11:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *           + IO operation functions
  12:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *           + Peripheral Control functions 
  13:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *           + Peripheral State functions
  14:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         
  15:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   @verbatim
  16:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   ==============================================================================
  17:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                         ##### How to use this driver #####
  18:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   ==============================================================================
  19:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   [..]
  20:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     This driver implements a high level communication layer for read and write from/to 
  21:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     this memory. The needed STM32 hardware resources (SDIO and GPIO) are performed by 
  22:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     the user in HAL_SD_MspInit() function (MSP layer).                             
  23:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     Basically, the MSP layer configuration should be the same as we provide in the 
  24:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     examples.
  25:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     You can easily tailor this configuration according to hardware resources.
  26:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
  27:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   [..]
  28:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     This driver is a generic layered driver for SDIO memories which uses the HAL 
  29:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO driver functions to interface with SD and uSD cards devices. 
  30:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     It is used as follows:
  31:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****  
  32:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (#)Initialize the SDIO low level resources by implement the HAL_SD_MspInit() API:
  33:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         (##) Enable the SDIO interface clock using __HAL_RCC_SDIO_CLK_ENABLE(); 
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 2


  34:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         (##) SDIO pins configuration for SD card
  35:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             (+++) Enable the clock for the SDIO GPIOs using the functions __HAL_RCC_GPIOx_CLK_ENABL
  36:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             (+++) Configure these SDIO pins as alternate function pull-up using HAL_GPIO_Init()
  37:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                   and according to your pin assignment;
  38:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         (##) DMA Configuration if you need to use DMA process (HAL_SD_ReadBlocks_DMA()
  39:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****              and HAL_SD_WriteBlocks_DMA() APIs).
  40:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             (+++) Enable the DMAx interface clock using __HAL_RCC_DMAx_CLK_ENABLE(); 
  41:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             (+++) Configure the DMA using the function HAL_DMA_Init() with predeclared and filled. 
  42:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         (##) NVIC configuration if you need to use interrupt process when using DMA transfer.
  43:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             (+++) Configure the SDIO and DMA interrupt priorities using functions
  44:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                   HAL_NVIC_SetPriority(); DMA priority is superior to SDIO's priority
  45:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             (+++) Enable the NVIC DMA and SDIO IRQs using function HAL_NVIC_EnableIRQ()
  46:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             (+++) SDIO interrupts are managed using the macros __HAL_SD_SDIO_ENABLE_IT() 
  47:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                   and __HAL_SD_SDIO_DISABLE_IT() inside the communication process.
  48:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             (+++) SDIO interrupts pending bits are managed using the macros __HAL_SD_SDIO_GET_IT()
  49:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                   and __HAL_SD_SDIO_CLEAR_IT()
  50:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (#) At this stage, you can perform SD read/write/erase operations after SD card initialization 
  51:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
  52:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****          
  53:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *** SD Card Initialization and configuration ***
  54:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   ================================================    
  55:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   [..]
  56:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     To initialize the SD Card, use the HAL_SD_Init() function.  It Initializes 
  57:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     the SD Card and put it into Standby State (Ready for data transfer). 
  58:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     This function provide the following operations:
  59:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
  60:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (#) Apply the SD Card initialization process at 400KHz and check the SD Card 
  61:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         type (Standard Capacity or High Capacity). You can change or adapt this 
  62:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         frequency by adjusting the "ClockDiv" field. 
  63:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         The SD Card frequency (SDIO_CK) is computed as follows:
  64:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
  65:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****            SDIO_CK = SDIOCLK / (ClockDiv + 2)
  66:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
  67:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         In initialization mode and according to the SD Card standard, 
  68:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         make sure that the SDIO_CK frequency doesn't exceed 400KHz.
  69:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
  70:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (#) Get the SD CID and CSD data. All these information are managed by the SDCardInfo 
  71:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         structure. This structure provide also ready computed SD Card capacity 
  72:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         and Block size.
  73:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         
  74:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         -@- These information are stored in SD handle structure in case of future use.  
  75:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
  76:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (#) Configure the SD Card Data transfer frequency. By Default, the card transfer 
  77:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         frequency is set to 24MHz. You can change or adapt this frequency by adjusting 
  78:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         the "ClockDiv" field.
  79:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         In transfer mode and according to the SD Card standard, make sure that the 
  80:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         SDIO_CK frequency doesn't exceed 25MHz and 50MHz in High-speed mode switch.
  81:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         To be able to use a frequency higher than 24MHz, you should use the SDIO 
  82:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         peripheral in bypass mode. Refer to the corresponding reference manual 
  83:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         for more details.
  84:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
  85:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (#) Select the corresponding SD Card according to the address read with the step 2.
  86:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
  87:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (#) Configure the SD Card in wide bus mode: 4-bits data.
  88:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
  89:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *** SD Card Read operation ***
  90:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   ==============================
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 3


  91:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   [..] 
  92:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (+) You can read from SD card in polling mode by using function HAL_SD_ReadBlocks(). 
  93:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         This function support only 512-bytes block length (the block size should be 
  94:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         chosen as 512 bytes).
  95:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         You can choose either one block read operation or multiple block read operation 
  96:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         by adjusting the "NumberOfBlocks" parameter.
  97:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
  98:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (+) You can read from SD card in DMA mode by using function HAL_SD_ReadBlocks_DMA().
  99:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         This function support only 512-bytes block length (the block size should be 
 100:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         chosen as 512 bytes).
 101:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         You can choose either one block read operation or multiple block read operation 
 102:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         by adjusting the "NumberOfBlocks" parameter.
 103:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         After this, you have to call the function HAL_SD_CheckReadOperation(), to insure
 104:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         that the read transfer is done correctly in both DMA and SD sides.
 105:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 106:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *** SD Card Write operation ***
 107:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   =============================== 
 108:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   [..] 
 109:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (+) You can write to SD card in polling mode by using function HAL_SD_WriteBlocks(). 
 110:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         This function support only 512-bytes block length (the block size should be 
 111:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         chosen as 512 bytes).
 112:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         You can choose either one block read operation or multiple block read operation 
 113:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         by adjusting the "NumberOfBlocks" parameter.
 114:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 115:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (+) You can write to SD card in DMA mode by using function HAL_SD_WriteBlocks_DMA().
 116:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         This function support only 512-bytes block length (the block size should be 
 117:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         chosen as 512 byte).
 118:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         You can choose either one block read operation or multiple block read operation 
 119:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         by adjusting the "NumberOfBlocks" parameter.
 120:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         After this, you have to call the function HAL_SD_CheckWriteOperation(), to insure
 121:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         that the write transfer is done correctly in both DMA and SD sides.  
 122:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 123:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *** SD card status ***
 124:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   ====================== 
 125:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   [..]
 126:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (+) At any time, you can check the SD Card status and get the SD card state 
 127:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         by using the HAL_SD_GetStatus() function. This function checks first if the 
 128:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         SD card is still connected and then get the internal SD Card transfer state.     
 129:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (+) You can also get the SD card SD Status register by using the HAL_SD_SendSDStatus() 
 130:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         function.    
 131:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 132:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *** SD HAL driver macros list ***
 133:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   ==================================
 134:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   [..]
 135:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     Below the list of most used macros in SD HAL driver.
 136:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 137:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (+) __HAL_SD_SDIO_ENABLE : Enable the SD device
 138:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (+) __HAL_SD_SDIO_DISABLE : Disable the SD device
 139:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (+) __HAL_SD_SDIO_DMA_ENABLE: Enable the SDIO DMA transfer
 140:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (+) __HAL_SD_SDIO_DMA_DISABLE: Disable the SDIO DMA transfer
 141:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (+) __HAL_SD_SDIO_ENABLE_IT: Enable the SD device interrupt
 142:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (+) __HAL_SD_SDIO_DISABLE_IT: Disable the SD device interrupt
 143:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (+) __HAL_SD_SDIO_GET_FLAG:Check whether the specified SD flag is set or not
 144:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (+) __HAL_SD_SDIO_CLEAR_FLAG: Clear the SD's pending flags
 145:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
 146:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (@) You can refer to the SD HAL driver header file for more useful macros 
 147:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 4


 148:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   @endverbatim
 149:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   ******************************************************************************
 150:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @attention
 151:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *
 152:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * <h2><center>&copy; COPYRIGHT(c) 2015 STMicroelectronics</center></h2>
 153:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *
 154:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * Redistribution and use in source and binary forms, with or without modification,
 155:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * are permitted provided that the following conditions are met:
 156:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *   1. Redistributions of source code must retain the above copyright notice,
 157:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *      this list of conditions and the following disclaimer.
 158:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *   2. Redistributions in binary form must reproduce the above copyright notice,
 159:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *      this list of conditions and the following disclaimer in the documentation
 160:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *      and/or other materials provided with the distribution.
 161:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *   3. Neither the name of STMicroelectronics nor the names of its contributors
 162:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *      may be used to endorse or promote products derived from this software
 163:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *      without specific prior written permission.
 164:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *
 165:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 166:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 167:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 168:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
 169:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
 170:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
 171:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
 172:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
 173:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 174:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 175:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *
 176:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   ******************************************************************************
 177:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */ 
 178:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 179:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /* Includes ------------------------------------------------------------------*/
 180:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #include "stm32f4xx_hal.h"
 181:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 182:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #ifdef HAL_SD_MODULE_ENABLED
 183:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #if defined(STM32F405xx) || defined(STM32F415xx) || defined(STM32F407xx) || defined(STM32F417xx) ||
 184:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     defined(STM32F427xx) || defined(STM32F437xx) || defined(STM32F429xx) || defined(STM32F439xx) ||
 185:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     defined(STM32F401xC) || defined(STM32F401xE) || defined(STM32F411xE) || defined(STM32F446xx) ||
 186:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     defined(STM32F469xx) || defined(STM32F479xx)
 187:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /** @addtogroup STM32F4xx_HAL_Driver
 188:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @{
 189:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 190:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 191:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /** @addtogroup SD 
 192:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @{
 193:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 194:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 195:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /* Private typedef -----------------------------------------------------------*/
 196:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /* Private define ------------------------------------------------------------*/
 197:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /** @addtogroup SD_Private_Defines
 198:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @{
 199:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 200:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /** 
 201:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  SDIO Data block size 
 202:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */ 
 203:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define DATA_BLOCK_SIZE                  ((uint32_t)(9 << 4))
 204:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /** 
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 5


 205:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  SDIO Static flags, Timeout, FIFO Address  
 206:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 207:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SDIO_STATIC_FLAGS               ((uint32_t)(SDIO_FLAG_CCRCFAIL | SDIO_FLAG_DCRCFAIL | SDIO_
 208:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                                     SDIO_FLAG_DTIMEOUT | SDIO_FLAG_TXUNDERR | SDIO_
 209:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                                     SDIO_FLAG_CMDREND  | SDIO_FLAG_CMDSENT  | SDIO_
 210:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                                     SDIO_FLAG_DBCKEND))  
 211:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 212:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SDIO_CMD0TIMEOUT                ((uint32_t)0x00010000)
 213:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 214:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /** 
 215:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Mask for errors Card Status R1 (OCR Register) 
 216:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 217:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_OCR_ADDR_OUT_OF_RANGE        ((uint32_t)0x80000000)
 218:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_OCR_ADDR_MISALIGNED          ((uint32_t)0x40000000)
 219:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_OCR_BLOCK_LEN_ERR            ((uint32_t)0x20000000)
 220:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_OCR_ERASE_SEQ_ERR            ((uint32_t)0x10000000)
 221:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_OCR_BAD_ERASE_PARAM          ((uint32_t)0x08000000)
 222:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_OCR_WRITE_PROT_VIOLATION     ((uint32_t)0x04000000)
 223:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_OCR_LOCK_UNLOCK_FAILED       ((uint32_t)0x01000000)
 224:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_OCR_COM_CRC_FAILED           ((uint32_t)0x00800000)
 225:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_OCR_ILLEGAL_CMD              ((uint32_t)0x00400000)
 226:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_OCR_CARD_ECC_FAILED          ((uint32_t)0x00200000)
 227:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_OCR_CC_ERROR                 ((uint32_t)0x00100000)
 228:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_OCR_GENERAL_UNKNOWN_ERROR    ((uint32_t)0x00080000)
 229:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_OCR_STREAM_READ_UNDERRUN     ((uint32_t)0x00040000)
 230:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_OCR_STREAM_WRITE_OVERRUN     ((uint32_t)0x00020000)
 231:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_OCR_CID_CSD_OVERWRITE       ((uint32_t)0x00010000)
 232:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_OCR_WP_ERASE_SKIP            ((uint32_t)0x00008000)
 233:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_OCR_CARD_ECC_DISABLED        ((uint32_t)0x00004000)
 234:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_OCR_ERASE_RESET              ((uint32_t)0x00002000)
 235:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_OCR_AKE_SEQ_ERROR            ((uint32_t)0x00000008)
 236:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_OCR_ERRORBITS                ((uint32_t)0xFDFFE008)
 237:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 238:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /** 
 239:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Masks for R6 Response 
 240:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 241:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_R6_GENERAL_UNKNOWN_ERROR     ((uint32_t)0x00002000)
 242:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_R6_ILLEGAL_CMD               ((uint32_t)0x00004000)
 243:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_R6_COM_CRC_FAILED            ((uint32_t)0x00008000)
 244:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 245:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_VOLTAGE_WINDOW_SD            ((uint32_t)0x80100000)
 246:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_HIGH_CAPACITY                ((uint32_t)0x40000000)
 247:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_STD_CAPACITY                 ((uint32_t)0x00000000)
 248:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_CHECK_PATTERN                ((uint32_t)0x000001AA)
 249:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 250:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_MAX_VOLT_TRIAL               ((uint32_t)0x0000FFFF)
 251:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_ALLZERO                      ((uint32_t)0x00000000)
 252:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 253:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_WIDE_BUS_SUPPORT             ((uint32_t)0x00040000)
 254:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_SINGLE_BUS_SUPPORT           ((uint32_t)0x00010000)
 255:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_CARD_LOCKED                  ((uint32_t)0x02000000)
 256:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 257:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_DATATIMEOUT                  ((uint32_t)0xFFFFFFFF)
 258:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_0TO7BITS                     ((uint32_t)0x000000FF)
 259:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_8TO15BITS                    ((uint32_t)0x0000FF00)
 260:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_16TO23BITS                   ((uint32_t)0x00FF0000)
 261:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_24TO31BITS                   ((uint32_t)0xFF000000)
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 6


 262:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_MAX_DATA_LENGTH              ((uint32_t)0x01FFFFFF)
 263:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 264:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_HALFFIFO                     ((uint32_t)0x00000008)
 265:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_HALFFIFOBYTES                ((uint32_t)0x00000020)
 266:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 267:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /** 
 268:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Command Class Supported 
 269:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 270:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_CCCC_LOCK_UNLOCK             ((uint32_t)0x00000080)
 271:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_CCCC_WRITE_PROT              ((uint32_t)0x00000040)
 272:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_CCCC_ERASE                   ((uint32_t)0x00000020)
 273:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 274:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /** 
 275:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Following commands are SD Card Specific commands.
 276:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         SDIO_APP_CMD should be sent before sending these commands. 
 277:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 278:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_SDIO_SEND_IF_COND            ((uint32_t)SD_CMD_HS_SEND_EXT_CSD)
 279:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 280:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
 281:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @}
 282:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 283:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 284:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /* Private macro -------------------------------------------------------------*/
 285:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /* Private variables ---------------------------------------------------------*/
 286:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /* Private function prototypes -----------------------------------------------*/
 287:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /** @addtogroup SD_Private_Functions_Prototypes
 288:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @{
 289:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 290:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_Initialize_Cards(SD_HandleTypeDef *hsd);
 291:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_Select_Deselect(SD_HandleTypeDef *hsd, uint64_t addr);
 292:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_PowerON(SD_HandleTypeDef *hsd); 
 293:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_PowerOFF(SD_HandleTypeDef *hsd);
 294:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_SendStatus(SD_HandleTypeDef *hsd, uint32_t *pCardStatus);
 295:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_CardStateTypedef SD_GetState(SD_HandleTypeDef *hsd);
 296:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_IsCardProgramming(SD_HandleTypeDef *hsd, uint8_t *pStatus);
 297:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_CmdError(SD_HandleTypeDef *hsd);
 298:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_CmdResp1Error(SD_HandleTypeDef *hsd, uint8_t SD_CMD);
 299:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_CmdResp7Error(SD_HandleTypeDef *hsd);
 300:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_CmdResp3Error(SD_HandleTypeDef *hsd);
 301:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_CmdResp2Error(SD_HandleTypeDef *hsd);
 302:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_CmdResp6Error(SD_HandleTypeDef *hsd, uint8_t SD_CMD, uint16_t *pRCA);
 303:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_WideBus_Enable(SD_HandleTypeDef *hsd);
 304:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_WideBus_Disable(SD_HandleTypeDef *hsd);
 305:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_FindSCR(SD_HandleTypeDef *hsd, uint32_t *pSCR);  
 306:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static void SD_DMA_RxCplt(DMA_HandleTypeDef *hdma);
 307:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static void SD_DMA_RxError(DMA_HandleTypeDef *hdma);
 308:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static void SD_DMA_TxCplt(DMA_HandleTypeDef *hdma);
 309:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static void SD_DMA_TxError(DMA_HandleTypeDef *hdma);
 310:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
 311:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @}
 312:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 313:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /* Exported functions --------------------------------------------------------*/
 314:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /** @addtogroup SD_Exported_Functions
 315:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @{
 316:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 317:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 318:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /** @addtogroup SD_Exported_Functions_Group1
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 7


 319:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****  *  @brief   Initialization and de-initialization functions 
 320:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****  *
 321:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** @verbatim  
 322:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   ==============================================================================
 323:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           ##### Initialization and de-initialization functions #####
 324:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   ==============================================================================
 325:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   [..]  
 326:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     This section provides functions allowing to initialize/de-initialize the SD
 327:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     card device to be ready for use.
 328:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
 329:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****  
 330:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** @endverbatim
 331:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @{
 332:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 333:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 334:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
 335:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Initializes the SD card according to the specified parameters in the 
 336:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             SD_HandleTypeDef and create the associated handle.
 337:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
 338:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  SDCardInfo: HAL_SD_CardInfoTypedef structure for SD card information   
 339:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval HAL SD error state
 340:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 341:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** HAL_SD_ErrorTypedef HAL_SD_Init(SD_HandleTypeDef *hsd, HAL_SD_CardInfoTypedef *SDCardInfo)
 342:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** { 
 343:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __IO HAL_SD_ErrorTypedef errorstate = SD_OK;
 344:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SD_InitTypeDef tmpinit;
 345:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 346:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Allocate lock resource and initialize it */
 347:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->Lock = HAL_UNLOCKED;
 348:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Initialize the low level hardware (MSP) */
 349:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_MspInit(hsd);
 350:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 351:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Default SDIO peripheral configuration for SD card initialization */
 352:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmpinit.ClockEdge           = SDIO_CLOCK_EDGE_RISING;
 353:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmpinit.ClockBypass         = SDIO_CLOCK_BYPASS_DISABLE;
 354:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmpinit.ClockPowerSave      = SDIO_CLOCK_POWER_SAVE_DISABLE;
 355:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmpinit.BusWide             = SDIO_BUS_WIDE_1B;
 356:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmpinit.HardwareFlowControl = SDIO_HARDWARE_FLOW_CONTROL_DISABLE;
 357:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmpinit.ClockDiv            = SDIO_INIT_CLK_DIV;
 358:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 359:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Initialize SDIO peripheral interface with default configuration */
 360:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_Init(hsd->Instance, tmpinit);
 361:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 362:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Identify card operating voltage */
 363:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_PowerON(hsd); 
 364:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 365:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != SD_OK)     
 366:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 367:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 368:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 369:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 370:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Initialize the present SDIO card(s) and put them in idle state */
 371:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_Initialize_Cards(hsd);
 372:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 373:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (errorstate != SD_OK)
 374:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 375:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 8


 376:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 377:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 378:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Read CSD/CID MSD registers */
 379:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = HAL_SD_Get_CardInfo(hsd, SDCardInfo);
 380:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 381:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (errorstate == SD_OK)
 382:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 383:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Select the Card */
 384:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_Select_Deselect(hsd, (uint32_t)(((uint32_t)SDCardInfo->RCA) << 16));
 385:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 386:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 387:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Configure SDIO peripheral interface */
 388:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_Init(hsd->Instance, hsd->Init);   
 389:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 390:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
 391:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 392:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 393:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
 394:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  De-Initializes the SD card.
 395:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
 396:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval HAL status
 397:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 398:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_DeInit(SD_HandleTypeDef *hsd)
 399:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 400:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 401:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Set SD power state to off */ 
 402:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SD_PowerOFF(hsd);
 403:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 404:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* De-Initialize the MSP layer */
 405:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_MspDeInit(hsd);
 406:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 407:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return HAL_OK;
 408:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 409:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 410:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 411:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
 412:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Initializes the SD MSP.
 413:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
 414:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval None
 415:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 416:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** __weak void HAL_SD_MspInit(SD_HandleTypeDef *hsd)
 417:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 418:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
 419:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   UNUSED(hsd);
 420:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* NOTE : This function Should not be modified, when the callback is needed,
 421:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             the HAL_SD_MspInit could be implemented in the user file
 422:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****    */
 423:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 424:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 425:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
 426:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  De-Initialize SD MSP.
 427:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
 428:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval None
 429:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 430:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** __weak void HAL_SD_MspDeInit(SD_HandleTypeDef *hsd)
 431:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 432:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 9


 433:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   UNUSED(hsd);
 434:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* NOTE : This function Should not be modified, when the callback is needed,
 435:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             the HAL_SD_MspDeInit could be implemented in the user file
 436:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****    */
 437:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 438:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 439:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
 440:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @}
 441:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 442:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 443:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /** @addtogroup SD_Exported_Functions_Group2
 444:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****  *  @brief   Data transfer functions 
 445:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****  *
 446:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** @verbatim   
 447:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   ==============================================================================
 448:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                         ##### IO operation functions #####
 449:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   ==============================================================================  
 450:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   [..]
 451:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     This subsection provides a set of functions allowing to manage the data 
 452:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     transfer from/to SD card.
 453:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 454:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** @endverbatim
 455:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @{
 456:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 457:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 458:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
 459:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Reads block(s) from a specified address in a card. The Data transfer 
 460:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         is managed by polling mode.  
 461:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
 462:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  pReadBuffer: pointer to the buffer that will contain the received data
 463:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  ReadAddr: Address from where data is to be read  
 464:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  BlockSize: SD card Data block size 
 465:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @note   BlockSize must be 512 bytes.
 466:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  NumberOfBlocks: Number of SD blocks to read   
 467:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
 468:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 469:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** HAL_SD_ErrorTypedef HAL_SD_ReadBlocks(SD_HandleTypeDef *hsd, uint32_t *pReadBuffer, uint64_t ReadAd
 470:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 471:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef  sdio_cmdinitstructure;
 472:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataInitTypeDef sdio_datainitstructure;
 473:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
 474:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t count = 0, *tempbuff = (uint32_t *)pReadBuffer;
 475:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 476:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Initialize data control register */
 477:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->Instance->DCTRL = 0;
 478:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 479:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (hsd->CardType == HIGH_CAPACITY_SD_CARD)
 480:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 481:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     BlockSize = 512;
 482:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     ReadAddr /= 512;
 483:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 484:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 485:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Set Block Size for Card */ 
 486:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = (uint32_t) BlockSize;
 487:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SET_BLOCKLEN;
 488:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 489:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 10


 490:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 491:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 492:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 493:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check for error conditions */
 494:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_CmdResp1Error(hsd, SD_CMD_SET_BLOCKLEN);
 495:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 496:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (errorstate != SD_OK)
 497:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 498:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 499:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 500:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 501:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Configure the SD DPSM (Data Path State Machine) */
 502:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataTimeOut   = SD_DATATIMEOUT;
 503:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataLength    = NumberOfBlocks * BlockSize;
 504:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataBlockSize = DATA_BLOCK_SIZE;
 505:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferDir   = SDIO_TRANSFER_DIR_TO_SDIO;
 506:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
 507:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DPSM          = SDIO_DPSM_ENABLE;
 508:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataConfig(hsd->Instance, &sdio_datainitstructure);
 509:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 510:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(NumberOfBlocks > 1)
 511:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 512:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Send CMD18 READ_MULT_BLOCK with argument data address */
 513:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex = SD_CMD_READ_MULT_BLOCK;
 514:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 515:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
 516:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 517:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Send CMD17 READ_SINGLE_BLOCK */
 518:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex = SD_CMD_READ_SINGLE_BLOCK;    
 519:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 520:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 521:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = (uint32_t)ReadAddr;
 522:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 523:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 524:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Read block(s) in polling mode */
 525:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(NumberOfBlocks > 1)
 526:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 527:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Check for error conditions */
 528:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CmdResp1Error(hsd, SD_CMD_READ_MULT_BLOCK);
 529:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 530:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if (errorstate != SD_OK)
 531:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 532:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return errorstate;
 533:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 534:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 535:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Poll on SDIO flags */
 536:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #ifdef SDIO_STA_STBITERR
 537:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     while(!__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXOVERR | SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTIMEOUT 
 538:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
 539:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     while(!__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXOVERR | SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTIMEOUT 
 540:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* SDIO_STA_STBITERR */
 541:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 542:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXFIFOHF))
 543:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 544:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         /* Read data from SDIO Rx FIFO */
 545:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         for (count = 0; count < 8; count++)
 546:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         {
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 11


 547:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           *(tempbuff + count) = SDIO_ReadFIFO(hsd->Instance);
 548:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         }
 549:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         
 550:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         tempbuff += 8;
 551:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
 552:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }      
 553:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 554:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
 555:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 556:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Check for error conditions */
 557:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CmdResp1Error(hsd, SD_CMD_READ_SINGLE_BLOCK); 
 558:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 559:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if (errorstate != SD_OK)
 560:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 561:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return errorstate;
 562:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }    
 563:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 564:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* In case of single block transfer, no need of stop transfer at all */
 565:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #ifdef SDIO_STA_STBITERR
 566:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     while(!__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXOVERR | SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTIMEOUT 
 567:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
 568:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     while(!__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXOVERR | SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTIMEOUT 
 569:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* SDIO_STA_STBITERR */
 570:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 571:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXFIFOHF))
 572:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 573:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         /* Read data from SDIO Rx FIFO */
 574:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         for (count = 0; count < 8; count++)
 575:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         {
 576:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           *(tempbuff + count) = SDIO_ReadFIFO(hsd->Instance);
 577:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         }
 578:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         
 579:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         tempbuff += 8;
 580:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
 581:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 582:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 583:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 584:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Send stop transmission command in case of multiblock read */
 585:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_DATAEND) && (NumberOfBlocks > 1))
 586:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {    
 587:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if ((hsd->CardType == STD_CAPACITY_SD_CARD_V1_1) ||\
 588:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       (hsd->CardType == STD_CAPACITY_SD_CARD_V2_0) ||\
 589:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         (hsd->CardType == HIGH_CAPACITY_SD_CARD))
 590:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 591:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Send stop transmission command */
 592:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       errorstate = HAL_SD_StopTransfer(hsd);
 593:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 594:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 595:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 596:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Get error state */
 597:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_DTIMEOUT))
 598:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 599:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_DTIMEOUT);
 600:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 601:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_DATA_TIMEOUT;
 602:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 603:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 12


 604:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 605:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_DCRCFAIL))
 606:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 607:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_DCRCFAIL);
 608:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 609:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_DATA_CRC_FAIL;
 610:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 611:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 612:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 613:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXOVERR))
 614:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 615:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_RXOVERR);
 616:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 617:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_RX_OVERRUN;
 618:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 619:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 620:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 621:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #ifdef SDIO_STA_STBITERR
 622:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_STBITERR))
 623:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 624:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_STBITERR);
 625:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 626:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_START_BIT_ERR;
 627:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 628:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 629:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 630:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* SDIO_STA_STBITERR */ 
 631:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
 632:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 633:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* No error flag set */
 634:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 635:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 636:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   count = SD_DATATIMEOUT;
 637:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 638:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Empty FIFO if there is still any data */
 639:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while ((__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXDAVL)) && (count > 0))
 640:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 641:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     *tempbuff = SDIO_ReadFIFO(hsd->Instance);
 642:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tempbuff++;
 643:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     count--;
 644:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 645:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 646:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Clear all the static flags */
 647:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
 648:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 649:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
 650:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 651:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 652:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
 653:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Allows to write block(s) to a specified address in a card. The Data
 654:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         transfer is managed by polling mode.  
 655:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
 656:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  pWriteBuffer: pointer to the buffer that will contain the data to transmit
 657:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  WriteAddr: Address from where data is to be written 
 658:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  BlockSize: SD card Data block size 
 659:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @note   BlockSize must be 512 bytes.
 660:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  NumberOfBlocks: Number of SD blocks to write 
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 13


 661:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
 662:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 663:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** HAL_SD_ErrorTypedef HAL_SD_WriteBlocks(SD_HandleTypeDef *hsd, uint32_t *pWriteBuffer, uint64_t Writ
 664:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 665:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef sdio_cmdinitstructure;
 666:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataInitTypeDef sdio_datainitstructure;
 667:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
 668:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t totalnumberofbytes = 0, bytestransferred = 0, count = 0, restwords = 0;
 669:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t *tempbuff = (uint32_t *)pWriteBuffer;
 670:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint8_t cardstate  = 0;
 671:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 672:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Initialize data control register */
 673:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->Instance->DCTRL = 0;
 674:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 675:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (hsd->CardType == HIGH_CAPACITY_SD_CARD)
 676:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 677:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     BlockSize = 512;
 678:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     WriteAddr /= 512;
 679:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 680:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 681:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Set Block Size for Card */ 
 682:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = (uint32_t)BlockSize;
 683:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SET_BLOCKLEN;
 684:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 685:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 686:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 687:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 688:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 689:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check for error conditions */
 690:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_CmdResp1Error(hsd, SD_CMD_SET_BLOCKLEN);
 691:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 692:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (errorstate != SD_OK)
 693:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 694:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 695:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 696:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 697:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(NumberOfBlocks > 1)
 698:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 699:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Send CMD25 WRITE_MULT_BLOCK with argument data address */
 700:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex = SD_CMD_WRITE_MULT_BLOCK;
 701:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 702:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
 703:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 704:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Send CMD24 WRITE_SINGLE_BLOCK */
 705:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex = SD_CMD_WRITE_SINGLE_BLOCK;
 706:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 707:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 708:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = (uint32_t)WriteAddr;
 709:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 710:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 711:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check for error conditions */
 712:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(NumberOfBlocks > 1)
 713:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 714:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CmdResp1Error(hsd, SD_CMD_WRITE_MULT_BLOCK);
 715:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 716:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
 717:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 14


 718:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CmdResp1Error(hsd, SD_CMD_WRITE_SINGLE_BLOCK);
 719:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }  
 720:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 721:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (errorstate != SD_OK)
 722:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 723:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 724:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 725:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 726:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Set total number of bytes to write */
 727:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   totalnumberofbytes = NumberOfBlocks * BlockSize;
 728:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 729:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Configure the SD DPSM (Data Path State Machine) */ 
 730:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataTimeOut   = SD_DATATIMEOUT;
 731:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataLength    = NumberOfBlocks * BlockSize;
 732:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataBlockSize = SDIO_DATABLOCK_SIZE_512B;
 733:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferDir   = SDIO_TRANSFER_DIR_TO_CARD;
 734:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
 735:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DPSM          = SDIO_DPSM_ENABLE;
 736:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataConfig(hsd->Instance, &sdio_datainitstructure);
 737:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 738:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Write block(s) in polling mode */
 739:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(NumberOfBlocks > 1)
 740:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 741:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #ifdef SDIO_STA_STBITERR
 742:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     while(!__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_TXUNDERR | SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTIMEOUT
 743:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
 744:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     while(!__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_TXUNDERR | SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTIMEOUT
 745:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* SDIO_STA_STBITERR */     
 746:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 747:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_TXFIFOHE))
 748:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 749:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         if ((totalnumberofbytes - bytestransferred) < 32)
 750:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         {
 751:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           restwords = ((totalnumberofbytes - bytestransferred) % 4 == 0) ? ((totalnumberofbytes - b
 752:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           
 753:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           /* Write data to SDIO Tx FIFO */
 754:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           for (count = 0; count < restwords; count++)
 755:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           {
 756:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             SDIO_WriteFIFO(hsd->Instance, tempbuff);
 757:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             tempbuff++;
 758:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             bytestransferred += 4;
 759:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           }
 760:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         }
 761:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         else
 762:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         {
 763:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           /* Write data to SDIO Tx FIFO */
 764:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           for (count = 0; count < 8; count++)
 765:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           {
 766:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             SDIO_WriteFIFO(hsd->Instance, (tempbuff + count));
 767:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           }
 768:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           
 769:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           tempbuff += 8;
 770:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           bytestransferred += 32;
 771:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         }
 772:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
 773:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }   
 774:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 15


 775:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
 776:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 777:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* In case of single data block transfer no need of stop command at all */
 778:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #ifdef SDIO_STA_STBITERR
 779:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     while(!__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_TXUNDERR | SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTIMEOUT
 780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
 781:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     while(!__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_TXUNDERR | SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTIMEOUT
 782:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* SDIO_STA_STBITERR */
 783:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_TXFIFOHE))
 785:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 786:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         if ((totalnumberofbytes - bytestransferred) < 32)
 787:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         {
 788:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           restwords = ((totalnumberofbytes - bytestransferred) % 4 == 0) ? ((totalnumberofbytes - b
 789:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           
 790:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           /* Write data to SDIO Tx FIFO */
 791:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           for (count = 0; count < restwords; count++)
 792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           {
 793:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             SDIO_WriteFIFO(hsd->Instance, tempbuff);
 794:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             tempbuff++; 
 795:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             bytestransferred += 4;
 796:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           }
 797:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         }
 798:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         else
 799:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         {
 800:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           /* Write data to SDIO Tx FIFO */
 801:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           for (count = 0; count < 8; count++)
 802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           {
 803:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             SDIO_WriteFIFO(hsd->Instance, (tempbuff + count));
 804:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           }
 805:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           
 806:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           tempbuff += 8;
 807:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           bytestransferred += 32;
 808:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         }
 809:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
 810:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }  
 811:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 812:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 813:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Send stop transmission command in case of multiblock write */
 814:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_DATAEND) && (NumberOfBlocks > 1))
 815:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {    
 816:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if ((hsd->CardType == STD_CAPACITY_SD_CARD_V1_1) || (hsd->CardType == STD_CAPACITY_SD_CARD_V2_0
 817:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       (hsd->CardType == HIGH_CAPACITY_SD_CARD))
 818:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 819:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Send stop transmission command */
 820:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       errorstate = HAL_SD_StopTransfer(hsd);
 821:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 822:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 823:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 824:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Get error state */
 825:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_DTIMEOUT))
 826:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 827:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_DTIMEOUT);
 828:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 829:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_DATA_TIMEOUT;
 830:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 831:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 16


 832:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 833:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_DCRCFAIL))
 834:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 835:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_DCRCFAIL);
 836:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 837:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_DATA_CRC_FAIL;
 838:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 839:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 840:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 841:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_TXUNDERR))
 842:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 843:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_TXUNDERR);
 844:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 845:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_TX_UNDERRUN;
 846:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 847:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 848:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 849:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #ifdef SDIO_STA_STBITERR
 850:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_STBITERR))
 851:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 852:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_STBITERR);
 853:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 854:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_START_BIT_ERR;
 855:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 856:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 857:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 858:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* SDIO_STA_STBITERR */
 859:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
 860:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 861:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* No error flag set */
 862:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 863:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 864:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Clear all the static flags */
 865:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
 866:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 867:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Wait till the card is in programming state */
 868:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_IsCardProgramming(hsd, &cardstate);
 869:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 870:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while ((errorstate == SD_OK) && ((cardstate == SD_CARD_PROGRAMMING) || (cardstate == SD_CARD_RECE
 871:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 872:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_IsCardProgramming(hsd, &cardstate);
 873:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 874:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 875:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
 876:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 877:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 878:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
 879:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Reads block(s) from a specified address in a card. The Data transfer 
 880:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         is managed by DMA mode. 
 881:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @note   This API should be followed by the function HAL_SD_CheckReadOperation()
 882:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         to check the completion of the read process   
 883:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle                 
 884:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  pReadBuffer: Pointer to the buffer that will contain the received data
 885:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  ReadAddr: Address from where data is to be read  
 886:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  BlockSize: SD card Data block size 
 887:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @note   BlockSize must be 512 bytes.
 888:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  NumberOfBlocks: Number of blocks to read.
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 17


 889:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
 890:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 891:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** HAL_SD_ErrorTypedef HAL_SD_ReadBlocks_DMA(SD_HandleTypeDef *hsd, uint32_t *pReadBuffer, uint64_t Re
 892:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 893:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef sdio_cmdinitstructure;
 894:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataInitTypeDef sdio_datainitstructure;
 895:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
 896:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 897:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Initialize data control register */
 898:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->Instance->DCTRL = 0;
 899:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 900:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Initialize handle flags */
 901:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->SdTransferCplt  = 0;
 902:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->DmaTransferCplt = 0;
 903:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->SdTransferErr   = SD_OK; 
 904:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 905:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Initialize SD Read operation */
 906:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(NumberOfBlocks > 1)
 907:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 908:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdOperation = SD_READ_MULTIPLE_BLOCK;
 909:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 910:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
 911:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 912:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdOperation = SD_READ_SINGLE_BLOCK;
 913:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 914:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 915:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Enable transfer interrupts */
 916:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #ifdef SDIO_STA_STBITERR
 917:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_ENABLE_IT(hsd, (SDIO_IT_DCRCFAIL |\
 918:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                 SDIO_IT_DTIMEOUT |\
 919:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                 SDIO_IT_DATAEND  |\
 920:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                 SDIO_IT_RXOVERR  |\
 921:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                 SDIO_IT_STBITERR));
 922:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
 923:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_ENABLE_IT(hsd, (SDIO_IT_DCRCFAIL |\
 924:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                 SDIO_IT_DTIMEOUT |\
 925:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                 SDIO_IT_DATAEND  |\
 926:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                 SDIO_IT_RXOVERR));
 927:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* SDIO_STA_STBITERR */
 928:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 929:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Enable SDIO DMA transfer */
 930:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_DMA_ENABLE();
 931:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 932:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Configure DMA user callbacks */
 933:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->hdmarx->XferCpltCallback  = SD_DMA_RxCplt;
 934:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->hdmarx->XferErrorCallback = SD_DMA_RxError;
 935:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 936:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Enable the DMA Stream */
 937:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_DMA_Start_IT(hsd->hdmarx, (uint32_t)&hsd->Instance->FIFO, (uint32_t)pReadBuffer, (uint32_t)(B
 938:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 939:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (hsd->CardType == HIGH_CAPACITY_SD_CARD)
 940:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 941:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     BlockSize = 512;
 942:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     ReadAddr /= 512;
 943:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 944:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 945:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Set Block Size for Card */ 
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 18


 946:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = (uint32_t)BlockSize;
 947:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SET_BLOCKLEN;
 948:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 949:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 950:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 951:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 952:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 953:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check for error conditions */
 954:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_CmdResp1Error(hsd, SD_CMD_SET_BLOCKLEN);
 955:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 956:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (errorstate != SD_OK)
 957:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 958:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 959:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 960:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 961:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Configure the SD DPSM (Data Path State Machine) */ 
 962:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataTimeOut   = SD_DATATIMEOUT;
 963:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataLength    = BlockSize * NumberOfBlocks;
 964:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataBlockSize = SDIO_DATABLOCK_SIZE_512B;
 965:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferDir   = SDIO_TRANSFER_DIR_TO_SDIO;
 966:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
 967:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DPSM          = SDIO_DPSM_ENABLE;
 968:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataConfig(hsd->Instance, &sdio_datainitstructure);
 969:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 970:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check number of blocks command */
 971:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(NumberOfBlocks > 1)
 972:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 973:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Send CMD18 READ_MULT_BLOCK with argument data address */
 974:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex = SD_CMD_READ_MULT_BLOCK;
 975:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 976:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
 977:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 978:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Send CMD17 READ_SINGLE_BLOCK */
 979:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex = SD_CMD_READ_SINGLE_BLOCK;
 980:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 981:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 982:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument = (uint32_t)ReadAddr;
 983:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 984:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 985:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check for error conditions */
 986:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(NumberOfBlocks > 1)
 987:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 988:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CmdResp1Error(hsd, SD_CMD_READ_MULT_BLOCK);
 989:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 990:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
 991:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 992:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CmdResp1Error(hsd, SD_CMD_READ_SINGLE_BLOCK);
 993:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 994:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 995:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Update the SD transfer error in SD handle */
 996:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->SdTransferErr = errorstate;
 997:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 998:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
 999:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
1000:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1001:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1002:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 19


1003:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Writes block(s) to a specified address in a card. The Data transfer 
1004:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         is managed by DMA mode. 
1005:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @note   This API should be followed by the function HAL_SD_CheckWriteOperation()
1006:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         to check the completion of the write process (by SD current status polling).  
1007:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
1008:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  pWriteBuffer: pointer to the buffer that will contain the data to transmit
1009:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  WriteAddr: Address from where data is to be read   
1010:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  BlockSize: the SD card Data block size 
1011:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @note   BlockSize must be 512 bytes.
1012:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  NumberOfBlocks: Number of blocks to write
1013:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
1014:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
1015:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** HAL_SD_ErrorTypedef HAL_SD_WriteBlocks_DMA(SD_HandleTypeDef *hsd, uint32_t *pWriteBuffer, uint64_t 
1016:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
1017:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef sdio_cmdinitstructure;
1018:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataInitTypeDef sdio_datainitstructure;
1019:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
1020:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1021:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Initialize data control register */
1022:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->Instance->DCTRL = 0;
1023:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1024:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Initialize handle flags */
1025:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->SdTransferCplt  = 0;
1026:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->DmaTransferCplt = 0;
1027:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->SdTransferErr   = SD_OK;
1028:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1029:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Initialize SD Write operation */
1030:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(NumberOfBlocks > 1)
1031:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1032:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdOperation = SD_WRITE_MULTIPLE_BLOCK;
1033:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1034:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
1035:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1036:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdOperation = SD_WRITE_SINGLE_BLOCK;
1037:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }  
1038:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1039:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Enable transfer interrupts */
1040:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #ifdef SDIO_STA_STBITERR
1041:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_ENABLE_IT(hsd, (SDIO_IT_DCRCFAIL |\
1042:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                 SDIO_IT_DTIMEOUT |\
1043:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                 SDIO_IT_DATAEND  |\
1044:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                 SDIO_IT_TXUNDERR |\
1045:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                 SDIO_IT_STBITERR));
1046:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
1047:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_ENABLE_IT(hsd, (SDIO_IT_DCRCFAIL |\
1048:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                 SDIO_IT_DTIMEOUT |\
1049:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                 SDIO_IT_DATAEND  |\
1050:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                 SDIO_IT_TXUNDERR));
1051:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* SDIO_STA_STBITERR */
1052:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1053:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Configure DMA user callbacks */
1054:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->hdmatx->XferCpltCallback  = SD_DMA_TxCplt;
1055:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->hdmatx->XferErrorCallback = SD_DMA_TxError;
1056:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1057:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Enable the DMA Stream */
1058:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_DMA_Start_IT(hsd->hdmatx, (uint32_t)pWriteBuffer, (uint32_t)&hsd->Instance->FIFO, (uint32_t)(
1059:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 20


1060:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Enable SDIO DMA transfer */
1061:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_DMA_ENABLE();
1062:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1063:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (hsd->CardType == HIGH_CAPACITY_SD_CARD)
1064:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1065:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     BlockSize = 512;
1066:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     WriteAddr /= 512;
1067:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1068:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1069:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Set Block Size for Card */ 
1070:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = (uint32_t)BlockSize;
1071:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SET_BLOCKLEN;
1072:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
1073:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
1074:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
1075:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
1076:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1077:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check for error conditions */
1078:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_CmdResp1Error(hsd, SD_CMD_SET_BLOCKLEN);
1079:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1080:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (errorstate != SD_OK)
1081:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1082:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
1083:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1084:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1085:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check number of blocks command */
1086:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(NumberOfBlocks <= 1)
1087:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1088:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Send CMD24 WRITE_SINGLE_BLOCK */
1089:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex = SD_CMD_WRITE_SINGLE_BLOCK;
1090:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1091:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
1092:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1093:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Send CMD25 WRITE_MULT_BLOCK with argument data address */
1094:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex = SD_CMD_WRITE_MULT_BLOCK;
1095:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1096:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1097:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = (uint32_t)WriteAddr;
1098:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
1099:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1100:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check for error conditions */
1101:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(NumberOfBlocks > 1)
1102:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1103:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CmdResp1Error(hsd, SD_CMD_WRITE_MULT_BLOCK);
1104:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1105:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
1106:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1107:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CmdResp1Error(hsd, SD_CMD_WRITE_SINGLE_BLOCK);
1108:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1109:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1110:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (errorstate != SD_OK)
1111:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1112:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
1113:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1114:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1115:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Configure the SD DPSM (Data Path State Machine) */ 
1116:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataTimeOut   = SD_DATATIMEOUT;
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 21


1117:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataLength    = BlockSize * NumberOfBlocks;
1118:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataBlockSize = SDIO_DATABLOCK_SIZE_512B;
1119:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferDir   = SDIO_TRANSFER_DIR_TO_CARD;
1120:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
1121:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DPSM          = SDIO_DPSM_ENABLE;
1122:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataConfig(hsd->Instance, &sdio_datainitstructure);
1123:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1124:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->SdTransferErr = errorstate;
1125:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1126:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
1127:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
1128:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1129:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
1130:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  This function waits until the SD DMA data read transfer is finished. 
1131:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         This API should be called after HAL_SD_ReadBlocks_DMA() function
1132:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         to insure that all data sent by the card is already transferred by the 
1133:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         DMA controller.
1134:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
1135:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  Timeout: Timeout duration  
1136:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
1137:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
1138:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** HAL_SD_ErrorTypedef HAL_SD_CheckReadOperation(SD_HandleTypeDef *hsd, uint32_t Timeout)
1139:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
1140:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
1141:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t timeout = Timeout;
1142:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t tmp1, tmp2;
1143:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef tmp3;
1144:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1145:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Wait for DMA/SD transfer end or SD error variables to be in SD handle */
1146:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp1 = hsd->DmaTransferCplt; 
1147:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp2 = hsd->SdTransferCplt;
1148:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp3 = (HAL_SD_ErrorTypedef)hsd->SdTransferErr;
1149:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1150:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while ((tmp1 == 0) && (tmp2 == 0) && (tmp3 == SD_OK) && (timeout > 0))
1151:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1152:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tmp1 = hsd->DmaTransferCplt; 
1153:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tmp2 = hsd->SdTransferCplt;
1154:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tmp3 = (HAL_SD_ErrorTypedef)hsd->SdTransferErr;    
1155:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     timeout--;
1156:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1157:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1158:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   timeout = Timeout;
1159:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1160:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Wait until the Rx transfer is no longer active */
1161:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while((__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXACT)) && (timeout > 0))
1162:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1163:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     timeout--;  
1164:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1165:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1166:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Send stop command in multiblock read */
1167:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (hsd->SdOperation == SD_READ_MULTIPLE_BLOCK)
1168:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1169:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = HAL_SD_StopTransfer(hsd);
1170:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1171:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1172:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if ((timeout == 0) && (errorstate == SD_OK))
1173:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 22


1174:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_DATA_TIMEOUT;
1175:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1176:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1177:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Clear all the static flags */
1178:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
1179:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1180:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Return error state */
1181:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (hsd->SdTransferErr != SD_OK)
1182:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1183:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return (HAL_SD_ErrorTypedef)(hsd->SdTransferErr);
1184:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1185:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1186:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
1187:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
1188:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1189:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
1190:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  This function waits until the SD DMA data write transfer is finished. 
1191:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         This API should be called after HAL_SD_WriteBlocks_DMA() function
1192:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         to insure that all data sent by the card is already transferred by the 
1193:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         DMA controller.
1194:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
1195:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  Timeout: Timeout duration  
1196:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
1197:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
1198:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** HAL_SD_ErrorTypedef HAL_SD_CheckWriteOperation(SD_HandleTypeDef *hsd, uint32_t Timeout)
1199:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
1200:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
1201:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t timeout = Timeout;
1202:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t tmp1, tmp2;
1203:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef tmp3;
1204:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1205:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Wait for DMA/SD transfer end or SD error variables to be in SD handle */
1206:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp1 = hsd->DmaTransferCplt; 
1207:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp2 = hsd->SdTransferCplt;
1208:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp3 = (HAL_SD_ErrorTypedef)hsd->SdTransferErr;
1209:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1210:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while ((tmp1 == 0) && (tmp2 == 0) && (tmp3 == SD_OK) && (timeout > 0))
1211:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1212:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tmp1 = hsd->DmaTransferCplt; 
1213:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tmp2 = hsd->SdTransferCplt;
1214:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tmp3 = (HAL_SD_ErrorTypedef)hsd->SdTransferErr;
1215:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     timeout--;
1216:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1217:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1218:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   timeout = Timeout;
1219:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1220:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Wait until the Tx transfer is no longer active */
1221:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while((__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_TXACT))  && (timeout > 0))
1222:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1223:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     timeout--;  
1224:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1225:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1226:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Send stop command in multiblock write */
1227:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (hsd->SdOperation == SD_WRITE_MULTIPLE_BLOCK)
1228:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1229:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = HAL_SD_StopTransfer(hsd);
1230:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 23


1231:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1232:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if ((timeout == 0) && (errorstate == SD_OK))
1233:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1234:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_DATA_TIMEOUT;
1235:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1236:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1237:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Clear all the static flags */
1238:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
1239:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1240:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Return error state */
1241:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (hsd->SdTransferErr != SD_OK)
1242:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1243:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return (HAL_SD_ErrorTypedef)(hsd->SdTransferErr);
1244:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1245:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1246:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Wait until write is complete */
1247:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while(HAL_SD_GetStatus(hsd) != SD_TRANSFER_OK)
1248:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {    
1249:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1250:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1251:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate; 
1252:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
1253:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1254:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
1255:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Erases the specified memory area of the given SD card.
1256:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle 
1257:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  startaddr: Start byte address
1258:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  endaddr: End byte address
1259:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
1260:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
1261:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** HAL_SD_ErrorTypedef HAL_SD_Erase(SD_HandleTypeDef *hsd, uint64_t startaddr, uint64_t endaddr)
1262:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
1263:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
1264:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef sdio_cmdinitstructure;
1265:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1266:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t delay         = 0;
1267:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __IO uint32_t maxdelay = 0;
1268:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint8_t cardstate      = 0;
1269:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1270:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check if the card command class supports erase command */
1271:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (((hsd->CSD[1] >> 20) & SD_CCCC_ERASE) == 0)
1272:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1273:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_REQUEST_NOT_APPLICABLE;
1274:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1275:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
1276:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1277:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1278:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Get max delay value */
1279:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   maxdelay = 120000 / (((hsd->Instance->CLKCR) & 0xFF) + 2);
1280:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1281:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((SDIO_GetResponse(SDIO_RESP1) & SD_CARD_LOCKED) == SD_CARD_LOCKED)
1282:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1283:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_LOCK_UNLOCK_FAILED;
1284:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1285:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
1286:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1287:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 24


1288:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Get start and end block for high capacity cards */
1289:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (hsd->CardType == HIGH_CAPACITY_SD_CARD)
1290:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1291:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     startaddr /= 512;
1292:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     endaddr   /= 512;
1293:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1294:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1295:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* According to sd-card spec 1.0 ERASE_GROUP_START (CMD32) and erase_group_end(CMD33) */
1296:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if ((hsd->CardType == STD_CAPACITY_SD_CARD_V1_1) || (hsd->CardType == STD_CAPACITY_SD_CARD_V2_0) 
1297:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (hsd->CardType == HIGH_CAPACITY_SD_CARD))
1298:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1299:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Send CMD32 SD_ERASE_GRP_START with argument as addr  */
1300:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Argument         =(uint32_t)startaddr;
1301:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_SD_ERASE_GRP_START;
1302:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
1303:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
1304:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
1305:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
1306:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1307:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Check for error conditions */
1308:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CmdResp1Error(hsd, SD_CMD_SD_ERASE_GRP_START);
1309:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1310:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if (errorstate != SD_OK)
1311:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1312:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return errorstate;
1313:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1314:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1315:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Send CMD33 SD_ERASE_GRP_END with argument as addr  */
1316:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Argument         = (uint32_t)endaddr;
1317:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_SD_ERASE_GRP_END;
1318:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
1319:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1320:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Check for error conditions */
1321:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CmdResp1Error(hsd, SD_CMD_SD_ERASE_GRP_END);
1322:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1323:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if (errorstate != SD_OK)
1324:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1325:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return errorstate;
1326:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1327:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1328:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1329:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Send CMD38 ERASE */
1330:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = 0;
1331:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_ERASE;
1332:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
1333:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1334:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check for error conditions */
1335:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_CmdResp1Error(hsd, SD_CMD_ERASE);
1336:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1337:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (errorstate != SD_OK)
1338:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1339:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
1340:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1341:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1342:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   for (; delay < maxdelay; delay++)
1343:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1344:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 25


1345:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1346:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Wait until the card is in programming state */
1347:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_IsCardProgramming(hsd, &cardstate);
1348:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1349:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   delay = SD_DATATIMEOUT;
1350:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1351:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while ((delay > 0) && (errorstate == SD_OK) && ((cardstate == SD_CARD_PROGRAMMING) || (cardstate 
1352:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1353:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_IsCardProgramming(hsd, &cardstate);
1354:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     delay--;
1355:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1356:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1357:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
1358:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
1359:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1360:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
1361:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  This function handles SD card interrupt request.
1362:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
1363:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval None
1364:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
1365:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** void HAL_SD_IRQHandler(SD_HandleTypeDef *hsd)
1366:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {  
1367:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check for SDIO interrupt flags */
1368:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_IT_DATAEND))
1369:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1370:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_IT_DATAEND);  
1371:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
1372:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* SD transfer is complete */
1373:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdTransferCplt = 1;
1374:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1375:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* No transfer error */ 
1376:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdTransferErr  = SD_OK;
1377:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1378:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     HAL_SD_XferCpltCallback(hsd);  
1379:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }  
1380:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_IT_DCRCFAIL))
1381:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1382:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_DCRCFAIL);
1383:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1384:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdTransferErr = SD_DATA_CRC_FAIL;
1385:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1386:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     HAL_SD_XferErrorCallback(hsd);
1387:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1388:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1389:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_IT_DTIMEOUT))
1390:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1391:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_DTIMEOUT);
1392:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1393:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdTransferErr = SD_DATA_TIMEOUT;
1394:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1395:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     HAL_SD_XferErrorCallback(hsd);
1396:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1397:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_IT_RXOVERR))
1398:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1399:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_RXOVERR);
1400:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1401:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdTransferErr = SD_RX_OVERRUN;
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 26


1402:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1403:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     HAL_SD_XferErrorCallback(hsd);
1404:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1405:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_IT_TXUNDERR))
1406:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1407:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_TXUNDERR);
1408:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1409:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdTransferErr = SD_TX_UNDERRUN;
1410:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1411:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     HAL_SD_XferErrorCallback(hsd);
1412:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1413:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #ifdef SDIO_STA_STBITERR
1414:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_IT_STBITERR))
1415:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1416:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_STBITERR);
1417:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1418:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdTransferErr = SD_START_BIT_ERR;
1419:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1420:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     HAL_SD_XferErrorCallback(hsd);
1421:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1422:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* SDIO_STA_STBITERR */
1423:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
1424:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1425:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* No error flag set */
1426:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1427:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1428:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Disable all SDIO peripheral interrupt sources */
1429:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #ifdef SDIO_STA_STBITERR
1430:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_DISABLE_IT(hsd, SDIO_IT_DCRCFAIL | SDIO_IT_DTIMEOUT | SDIO_IT_DATAEND  |\
1431:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                 SDIO_IT_TXFIFOHE | SDIO_IT_RXFIFOHF | SDIO_IT_TXUNDERR |\
1432:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                 SDIO_IT_RXOVERR  | SDIO_IT_STBITERR);
1433:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
1434:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_DISABLE_IT(hsd, SDIO_IT_DCRCFAIL | SDIO_IT_DTIMEOUT | SDIO_IT_DATAEND  |\
1435:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                 SDIO_IT_TXFIFOHE | SDIO_IT_RXFIFOHF | SDIO_IT_TXUNDERR |\
1436:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                 SDIO_IT_RXOVERR);
1437:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* SDIO_STA_STBITERR */
1438:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
1439:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1440:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1441:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
1442:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  SD end of transfer callback.
1443:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle 
1444:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval None
1445:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
1446:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** __weak void HAL_SD_XferCpltCallback(SD_HandleTypeDef *hsd)
1447:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
1448:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
1449:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   UNUSED(hsd);
1450:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* NOTE : This function Should not be modified, when the callback is needed,
1451:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             the HAL_SD_XferCpltCallback could be implemented in the user file
1452:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****    */ 
1453:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
1454:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1455:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
1456:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  SD Transfer Error callback.
1457:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
1458:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval None
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 27


1459:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
1460:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** __weak void HAL_SD_XferErrorCallback(SD_HandleTypeDef *hsd)
1461:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
1462:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
1463:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   UNUSED(hsd);
1464:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* NOTE : This function Should not be modified, when the callback is needed,
1465:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             the HAL_SD_XferErrorCallback could be implemented in the user file
1466:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****    */ 
1467:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
1468:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1469:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
1470:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  SD Transfer complete Rx callback in non blocking mode.
1471:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hdma: pointer to a DMA_HandleTypeDef structure that contains
1472:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *                the configuration information for the specified DMA module.
1473:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval None
1474:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
1475:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** __weak void HAL_SD_DMA_RxCpltCallback(DMA_HandleTypeDef *hdma)
1476:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
1477:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
1478:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   UNUSED(hdma);
1479:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* NOTE : This function Should not be modified, when the callback is needed,
1480:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             the HAL_SD_DMA_RxCpltCallback could be implemented in the user file
1481:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****    */ 
1482:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }  
1483:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1484:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
1485:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  SD DMA transfer complete Rx error callback.
1486:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hdma: pointer to a DMA_HandleTypeDef structure that contains
1487:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *                the configuration information for the specified DMA module.
1488:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval None
1489:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
1490:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** __weak void HAL_SD_DMA_RxErrorCallback(DMA_HandleTypeDef *hdma)
1491:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
1492:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
1493:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   UNUSED(hdma);
1494:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* NOTE : This function Should not be modified, when the callback is needed,
1495:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             the HAL_SD_DMA_RxErrorCallback could be implemented in the user file
1496:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****    */ 
1497:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
1498:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1499:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
1500:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  SD Transfer complete Tx callback in non blocking mode.
1501:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hdma: pointer to a DMA_HandleTypeDef structure that contains
1502:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *                the configuration information for the specified DMA module.
1503:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval None
1504:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
1505:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** __weak void HAL_SD_DMA_TxCpltCallback(DMA_HandleTypeDef *hdma)
1506:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
1507:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
1508:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   UNUSED(hdma);
1509:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* NOTE : This function Should not be modified, when the callback is needed,
1510:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             the HAL_SD_DMA_TxCpltCallback could be implemented in the user file
1511:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****    */ 
1512:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }  
1513:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1514:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
1515:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  SD DMA transfer complete error Tx callback.
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 28


1516:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hdma: pointer to a DMA_HandleTypeDef structure that contains
1517:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *                the configuration information for the specified DMA module.
1518:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval None
1519:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
1520:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** __weak void HAL_SD_DMA_TxErrorCallback(DMA_HandleTypeDef *hdma)
1521:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
1522:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
1523:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   UNUSED(hdma);
1524:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* NOTE : This function Should not be modified, when the callback is needed,
1525:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             the HAL_SD_DMA_TxErrorCallback could be implemented in the user file
1526:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****    */ 
1527:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
1528:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1529:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
1530:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @}
1531:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
1532:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1533:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /** @addtogroup SD_Exported_Functions_Group3
1534:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****  *  @brief   management functions 
1535:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****  *
1536:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** @verbatim   
1537:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   ==============================================================================
1538:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                       ##### Peripheral Control functions #####
1539:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   ==============================================================================  
1540:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   [..]
1541:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     This subsection provides a set of functions allowing to control the SD card 
1542:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     operations.
1543:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1544:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** @endverbatim
1545:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @{
1546:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
1547:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1548:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
1549:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Returns information about specific card.
1550:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
1551:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  pCardInfo: Pointer to a HAL_SD_CardInfoTypedef structure that  
1552:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         contains all SD cardinformation  
1553:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
1554:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
1555:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** HAL_SD_ErrorTypedef HAL_SD_Get_CardInfo(SD_HandleTypeDef *hsd, HAL_SD_CardInfoTypedef *pCardInfo)
1556:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
1557:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
1558:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t tmp = 0;
1559:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1560:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->CardType = (uint8_t)(hsd->CardType);
1561:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->RCA      = (uint16_t)(hsd->RCA);
1562:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1563:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 0 */
1564:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (hsd->CSD[0] & 0xFF000000) >> 24;
1565:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.CSDStruct      = (uint8_t)((tmp & 0xC0) >> 6);
1566:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.SysSpecVersion = (uint8_t)((tmp & 0x3C) >> 2);
1567:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.Reserved1      = tmp & 0x03;
1568:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1569:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 1 */
1570:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (hsd->CSD[0] & 0x00FF0000) >> 16;
1571:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.TAAC = (uint8_t)tmp;
1572:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 29


1573:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 2 */
1574:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (hsd->CSD[0] & 0x0000FF00) >> 8;
1575:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.NSAC = (uint8_t)tmp;
1576:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1577:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 3 */
1578:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = hsd->CSD[0] & 0x000000FF;
1579:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.MaxBusClkFrec = (uint8_t)tmp;
1580:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1581:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 4 */
1582:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (hsd->CSD[1] & 0xFF000000) >> 24;
1583:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.CardComdClasses = (uint16_t)(tmp << 4);
1584:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1585:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 5 */
1586:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (hsd->CSD[1] & 0x00FF0000) >> 16;
1587:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.CardComdClasses |= (uint16_t)((tmp & 0xF0) >> 4);
1588:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.RdBlockLen       = (uint8_t)(tmp & 0x0F);
1589:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1590:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 6 */
1591:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (hsd->CSD[1] & 0x0000FF00) >> 8;
1592:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.PartBlockRead   = (uint8_t)((tmp & 0x80) >> 7);
1593:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.WrBlockMisalign = (uint8_t)((tmp & 0x40) >> 6);
1594:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.RdBlockMisalign = (uint8_t)((tmp & 0x20) >> 5);
1595:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.DSRImpl         = (uint8_t)((tmp & 0x10) >> 4);
1596:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.Reserved2       = 0; /*!< Reserved */
1597:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1598:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if ((hsd->CardType == STD_CAPACITY_SD_CARD_V1_1) || (hsd->CardType == STD_CAPACITY_SD_CARD_V2_0))
1599:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1600:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->SD_csd.DeviceSize = (tmp & 0x03) << 10;
1601:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1602:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Byte 7 */
1603:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tmp = (uint8_t)(hsd->CSD[1] & 0x000000FF);
1604:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->SD_csd.DeviceSize |= (tmp) << 2;
1605:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1606:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Byte 8 */
1607:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tmp = (uint8_t)((hsd->CSD[2] & 0xFF000000) >> 24);
1608:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->SD_csd.DeviceSize |= (tmp & 0xC0) >> 6;
1609:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1610:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->SD_csd.MaxRdCurrentVDDMin = (tmp & 0x38) >> 3;
1611:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->SD_csd.MaxRdCurrentVDDMax = (tmp & 0x07);
1612:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1613:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Byte 9 */
1614:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tmp = (uint8_t)((hsd->CSD[2] & 0x00FF0000) >> 16);
1615:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->SD_csd.MaxWrCurrentVDDMin = (tmp & 0xE0) >> 5;
1616:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->SD_csd.MaxWrCurrentVDDMax = (tmp & 0x1C) >> 2;
1617:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->SD_csd.DeviceSizeMul      = (tmp & 0x03) << 1;
1618:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Byte 10 */
1619:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tmp = (uint8_t)((hsd->CSD[2] & 0x0000FF00) >> 8);
1620:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->SD_csd.DeviceSizeMul |= (tmp & 0x80) >> 7;
1621:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1622:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->CardCapacity  = (pCardInfo->SD_csd.DeviceSize + 1) ;
1623:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->CardCapacity *= (1 << (pCardInfo->SD_csd.DeviceSizeMul + 2));
1624:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->CardBlockSize = 1 << (pCardInfo->SD_csd.RdBlockLen);
1625:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->CardCapacity *= pCardInfo->CardBlockSize;
1626:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1627:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if (hsd->CardType == HIGH_CAPACITY_SD_CARD)
1628:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1629:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Byte 7 */
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 30


1630:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tmp = (uint8_t)(hsd->CSD[1] & 0x000000FF);
1631:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->SD_csd.DeviceSize = (tmp & 0x3F) << 16;
1632:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1633:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Byte 8 */
1634:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tmp = (uint8_t)((hsd->CSD[2] & 0xFF000000) >> 24);
1635:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1636:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->SD_csd.DeviceSize |= (tmp << 8);
1637:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1638:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Byte 9 */
1639:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tmp = (uint8_t)((hsd->CSD[2] & 0x00FF0000) >> 16);
1640:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1641:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->SD_csd.DeviceSize |= (tmp);
1642:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1643:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Byte 10 */
1644:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tmp = (uint8_t)((hsd->CSD[2] & 0x0000FF00) >> 8);
1645:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1646:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->CardCapacity = (uint64_t)((((uint64_t)pCardInfo->SD_csd.DeviceSize + 1)) * 512 * 102
1647:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->CardBlockSize = 512;    
1648:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1649:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
1650:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1651:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Not supported card type */
1652:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_ERROR;
1653:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1654:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1655:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.EraseGrSize = (tmp & 0x40) >> 6;
1656:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.EraseGrMul  = (tmp & 0x3F) << 1;
1657:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1658:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 11 */
1659:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)(hsd->CSD[2] & 0x000000FF);
1660:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.EraseGrMul     |= (tmp & 0x80) >> 7;
1661:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.WrProtectGrSize = (tmp & 0x7F);
1662:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1663:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 12 */
1664:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)((hsd->CSD[3] & 0xFF000000) >> 24);
1665:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.WrProtectGrEnable = (tmp & 0x80) >> 7;
1666:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.ManDeflECC        = (tmp & 0x60) >> 5;
1667:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.WrSpeedFact       = (tmp & 0x1C) >> 2;
1668:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.MaxWrBlockLen     = (tmp & 0x03) << 2;
1669:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1670:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 13 */
1671:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)((hsd->CSD[3] & 0x00FF0000) >> 16);
1672:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.MaxWrBlockLen      |= (tmp & 0xC0) >> 6;
1673:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.WriteBlockPaPartial = (tmp & 0x20) >> 5;
1674:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.Reserved3           = 0;
1675:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.ContentProtectAppli = (tmp & 0x01);
1676:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1677:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 14 */
1678:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)((hsd->CSD[3] & 0x0000FF00) >> 8);
1679:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.FileFormatGrouop = (tmp & 0x80) >> 7;
1680:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.CopyFlag         = (tmp & 0x40) >> 6;
1681:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.PermWrProtect    = (tmp & 0x20) >> 5;
1682:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.TempWrProtect    = (tmp & 0x10) >> 4;
1683:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.FileFormat       = (tmp & 0x0C) >> 2;
1684:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.ECC              = (tmp & 0x03);
1685:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1686:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 15 */
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 31


1687:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)(hsd->CSD[3] & 0x000000FF);
1688:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.CSD_CRC   = (tmp & 0xFE) >> 1;
1689:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.Reserved4 = 1;
1690:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1691:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 0 */
1692:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)((hsd->CID[0] & 0xFF000000) >> 24);
1693:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ManufacturerID = tmp;
1694:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1695:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 1 */
1696:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)((hsd->CID[0] & 0x00FF0000) >> 16);
1697:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.OEM_AppliID = tmp << 8;
1698:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1699:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 2 */
1700:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)((hsd->CID[0] & 0x000000FF00) >> 8);
1701:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.OEM_AppliID |= tmp;
1702:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1703:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 3 */
1704:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)(hsd->CID[0] & 0x000000FF);
1705:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ProdName1 = tmp << 24;
1706:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1707:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 4 */
1708:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)((hsd->CID[1] & 0xFF000000) >> 24);
1709:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ProdName1 |= tmp << 16;
1710:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1711:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 5 */
1712:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)((hsd->CID[1] & 0x00FF0000) >> 16);
1713:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ProdName1 |= tmp << 8;
1714:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1715:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 6 */
1716:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)((hsd->CID[1] & 0x0000FF00) >> 8);
1717:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ProdName1 |= tmp;
1718:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1719:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 7 */
1720:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)(hsd->CID[1] & 0x000000FF);
1721:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ProdName2 = tmp;
1722:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1723:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 8 */
1724:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)((hsd->CID[2] & 0xFF000000) >> 24);
1725:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ProdRev = tmp;
1726:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1727:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 9 */
1728:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)((hsd->CID[2] & 0x00FF0000) >> 16);
1729:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ProdSN = tmp << 24;
1730:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1731:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 10 */
1732:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)((hsd->CID[2] & 0x0000FF00) >> 8);
1733:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ProdSN |= tmp << 16;
1734:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1735:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 11 */
1736:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)(hsd->CID[2] & 0x000000FF);
1737:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ProdSN |= tmp << 8;
1738:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1739:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 12 */
1740:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)((hsd->CID[3] & 0xFF000000) >> 24);
1741:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ProdSN |= tmp;
1742:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1743:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 13 */
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 32


1744:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)((hsd->CID[3] & 0x00FF0000) >> 16);
1745:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.Reserved1   |= (tmp & 0xF0) >> 4;
1746:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ManufactDate = (tmp & 0x0F) << 8;
1747:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1748:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 14 */
1749:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)((hsd->CID[3] & 0x0000FF00) >> 8);
1750:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ManufactDate |= tmp;
1751:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1752:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 15 */
1753:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)(hsd->CID[3] & 0x000000FF);
1754:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.CID_CRC   = (tmp & 0xFE) >> 1;
1755:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.Reserved2 = 1;
1756:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1757:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
1758:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
1759:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1760:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
1761:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Enables wide bus operation for the requested card if supported by 
1762:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         card.
1763:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle       
1764:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  WideMode: Specifies the SD card wide bus mode 
1765:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *          This parameter can be one of the following values:
1766:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *            @arg SDIO_BUS_WIDE_8B: 8-bit data transfer (Only for MMC)
1767:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *            @arg SDIO_BUS_WIDE_4B: 4-bit data transfer
1768:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *            @arg SDIO_BUS_WIDE_1B: 1-bit data transfer
1769:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
1770:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
1771:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** HAL_SD_ErrorTypedef HAL_SD_WideBusOperation_Config(SD_HandleTypeDef *hsd, uint32_t WideMode)
1772:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
1773:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
1774:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_InitTypeDef tmpinit;
1775:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1776:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* MMC Card does not support this feature */
1777:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (hsd->CardType == MULTIMEDIA_CARD)
1778:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1779:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_UNSUPPORTED_FEATURE;
1780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1781:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
1782:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1783:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if ((hsd->CardType == STD_CAPACITY_SD_CARD_V1_1) || (hsd->CardType == STD_CAPACITY_SD_CARD_V
1784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (hsd->CardType == HIGH_CAPACITY_SD_CARD))
1785:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1786:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if (WideMode == SDIO_BUS_WIDE_8B)
1787:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1788:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       errorstate = SD_UNSUPPORTED_FEATURE;
1789:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1790:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     else if (WideMode == SDIO_BUS_WIDE_4B)
1791:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       errorstate = SD_WideBus_Enable(hsd);
1793:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1794:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     else if (WideMode == SDIO_BUS_WIDE_1B)
1795:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1796:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       errorstate = SD_WideBus_Disable(hsd);
1797:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1798:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     else
1799:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1800:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* WideMode is not a valid argument*/
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 33


1801:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       errorstate = SD_INVALID_PARAMETER;
1802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1803:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
1804:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if (errorstate == SD_OK)
1805:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1806:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Configure the SDIO peripheral */
1807:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tmpinit.ClockEdge           = hsd->Init.ClockEdge;
1808:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tmpinit.ClockBypass         = hsd->Init.ClockBypass;
1809:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tmpinit.ClockPowerSave      = hsd->Init.ClockPowerSave;
1810:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tmpinit.BusWide             = WideMode;
1811:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tmpinit.HardwareFlowControl = hsd->Init.HardwareFlowControl;
1812:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tmpinit.ClockDiv            = hsd->Init.ClockDiv;
1813:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       SDIO_Init(hsd->Instance, tmpinit);
1814:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1815:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1816:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1817:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
1818:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
1819:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1820:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
1821:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Aborts an ongoing data transfer.
1822:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
1823:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
1824:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
1825:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** HAL_SD_ErrorTypedef HAL_SD_StopTransfer(SD_HandleTypeDef *hsd)
1826:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
1827:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef sdio_cmdinitstructure;
1828:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
1829:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1830:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Send CMD12 STOP_TRANSMISSION  */
1831:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = 0;
1832:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_STOP_TRANSMISSION;
1833:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
1834:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
1835:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
1836:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
1837:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1838:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check for error conditions */
1839:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_CmdResp1Error(hsd, SD_CMD_STOP_TRANSMISSION);
1840:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1841:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
1842:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
1843:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1844:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
1845:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Switches the SD card to High Speed mode.
1846:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         This API must be used after "Transfer State"
1847:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @note   This operation should be followed by the configuration 
1848:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         of PLL to have SDIOCK clock between 67 and 75 MHz
1849:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
1850:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
1851:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
1852:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** HAL_SD_ErrorTypedef HAL_SD_HighSpeed (SD_HandleTypeDef *hsd)
1853:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
1854:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
1855:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef sdio_cmdinitstructure;
1856:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataInitTypeDef sdio_datainitstructure;
1857:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 34


1858:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint8_t SD_hs[64]  = {0};
1859:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t SD_scr[2] = {0, 0};
1860:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t SD_SPEC   = 0 ;
1861:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t count = 0, *tempbuff = (uint32_t *)SD_hs;
1862:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1863:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Initialize the Data control register */
1864:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->Instance->DCTRL = 0;
1865:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1866:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Get SCR Register */
1867:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_FindSCR(hsd, SD_scr);
1868:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1869:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (errorstate != SD_OK)
1870:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1871:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
1872:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1873:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1874:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Test the Version supported by the card*/ 
1875:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SD_SPEC = (SD_scr[1]  & 0x01000000) | (SD_scr[1]  & 0x02000000);
1876:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1877:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (SD_SPEC != SD_ALLZERO)
1878:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1879:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Set Block Size for Card */
1880:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Argument         = (uint32_t)64;
1881:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_SET_BLOCKLEN;
1882:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
1883:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
1884:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
1885:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
1886:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1887:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Check for error conditions */
1888:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CmdResp1Error(hsd, SD_CMD_SET_BLOCKLEN);
1889:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1890:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if (errorstate != SD_OK)
1891:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1892:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return errorstate;
1893:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1894:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1895:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Configure the SD DPSM (Data Path State Machine) */
1896:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_datainitstructure.DataTimeOut   = SD_DATATIMEOUT;
1897:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_datainitstructure.DataLength    = 64;
1898:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_datainitstructure.DataBlockSize = SDIO_DATABLOCK_SIZE_64B ;
1899:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_datainitstructure.TransferDir   = SDIO_TRANSFER_DIR_TO_SDIO;
1900:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_datainitstructure.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
1901:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_datainitstructure.DPSM          = SDIO_DPSM_ENABLE;
1902:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_DataConfig(hsd->Instance, &sdio_datainitstructure);
1903:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1904:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Send CMD6 switch mode */
1905:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Argument         = 0x80FFFF01;
1906:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_HS_SWITCH;
1907:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure); 
1908:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1909:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Check for error conditions */
1910:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CmdResp1Error(hsd, SD_CMD_HS_SWITCH);
1911:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1912:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if (errorstate != SD_OK)
1913:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1914:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return errorstate;
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 35


1915:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1916:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #ifdef SDIO_STA_STBITERR        
1917:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     while(!__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXOVERR | SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTIMEOUT 
1918:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR */
1919:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     while(!__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXOVERR | SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTIMEOUT 
1920:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* SDIO_STA_STBITERR */
1921:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1922:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXFIFOHF))
1923:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
1924:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         for (count = 0; count < 8; count++)
1925:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         {
1926:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           *(tempbuff + count) = SDIO_ReadFIFO(hsd->Instance);
1927:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         }
1928:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         
1929:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         tempbuff += 8;
1930:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
1931:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1932:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1933:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_DTIMEOUT))
1934:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1935:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_DTIMEOUT);
1936:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
1937:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       errorstate = SD_DATA_TIMEOUT;
1938:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
1939:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return errorstate;
1940:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1941:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     else if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_DCRCFAIL))
1942:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1943:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_DCRCFAIL);
1944:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
1945:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       errorstate = SD_DATA_CRC_FAIL;
1946:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
1947:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return errorstate;
1948:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1949:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     else if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXOVERR))
1950:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1951:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_RXOVERR);
1952:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
1953:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       errorstate = SD_RX_OVERRUN;
1954:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
1955:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return errorstate;
1956:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1957:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #ifdef SDIO_STA_STBITERR
1958:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     else if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_STBITERR))
1959:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1960:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_STBITERR);
1961:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
1962:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       errorstate = SD_START_BIT_ERR;
1963:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
1964:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return errorstate;
1965:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1966:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* SDIO_STA_STBITERR */
1967:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     else
1968:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1969:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* No error flag set */
1970:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1971:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 36


1972:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     count = SD_DATATIMEOUT;
1973:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1974:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     while ((__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXDAVL)) && (count > 0))
1975:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1976:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       *tempbuff = SDIO_ReadFIFO(hsd->Instance);
1977:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tempbuff++;
1978:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       count--;
1979:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1980:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1981:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Clear all the static flags */
1982:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
1983:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1984:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Test if the switch mode HS is ok */
1985:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if ((SD_hs[13]& 2) != 2)
1986:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1987:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       errorstate = SD_UNSUPPORTED_FEATURE;
1988:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     } 
1989:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1990:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1991:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
1992:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
1993:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1994:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
1995:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @}
1996:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
1997:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1998:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /** @addtogroup SD_Exported_Functions_Group4
1999:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****  *  @brief   Peripheral State functions 
2000:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****  *
2001:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** @verbatim   
2002:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   ==============================================================================
2003:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                       ##### Peripheral State functions #####
2004:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   ==============================================================================  
2005:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   [..]
2006:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     This subsection permits to get in runtime the status of the peripheral 
2007:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     and the data flow.
2008:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2009:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** @endverbatim
2010:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @{
2011:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2012:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2013:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2014:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Returns the current SD card's status.
2015:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
2016:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  pSDstatus: Pointer to the buffer that will contain the SD card status 
2017:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         SD Status register)
2018:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
2019:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2020:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** HAL_SD_ErrorTypedef HAL_SD_SendSDStatus(SD_HandleTypeDef *hsd, uint32_t *pSDstatus)
2021:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
2022:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef  sdio_cmdinitstructure;
2023:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataInitTypeDef sdio_datainitstructure;
2024:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
2025:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t count = 0;
2026:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2027:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check SD response */
2028:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if ((SDIO_GetResponse(SDIO_RESP1) & SD_CARD_LOCKED) == SD_CARD_LOCKED)
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 37


2029:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2030:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_LOCK_UNLOCK_FAILED;
2031:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2032:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
2033:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2034:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2035:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Set block size for card if it is not equal to current block size for card */
2036:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = 64;
2037:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SET_BLOCKLEN;
2038:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
2039:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
2040:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
2041:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
2042:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2043:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check for error conditions */
2044:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_CmdResp1Error(hsd, SD_CMD_SET_BLOCKLEN);
2045:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2046:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (errorstate != SD_OK)
2047:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2048:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
2049:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2050:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2051:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Send CMD55 */
2052:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = (uint32_t)(hsd->RCA << 16);
2053:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_APP_CMD;
2054:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
2055:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2056:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check for error conditions */
2057:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_CmdResp1Error(hsd, SD_CMD_APP_CMD);
2058:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2059:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (errorstate != SD_OK)
2060:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2061:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
2062:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2063:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2064:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Configure the SD DPSM (Data Path State Machine) */ 
2065:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataTimeOut   = SD_DATATIMEOUT;
2066:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataLength    = 64;
2067:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataBlockSize = SDIO_DATABLOCK_SIZE_64B;
2068:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferDir   = SDIO_TRANSFER_DIR_TO_SDIO;
2069:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
2070:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DPSM          = SDIO_DPSM_ENABLE;
2071:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataConfig(hsd->Instance, &sdio_datainitstructure);
2072:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2073:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Send ACMD13 (SD_APP_STATUS)  with argument as card's RCA */
2074:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = 0;
2075:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SD_APP_STATUS;
2076:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
2077:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2078:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check for error conditions */
2079:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_CmdResp1Error(hsd, SD_CMD_SD_APP_STATUS);
2080:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2081:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (errorstate != SD_OK)
2082:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2083:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
2084:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2085:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 38


2086:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Get status data */
2087:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #ifdef SDIO_STA_STBITERR 
2088:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while(!__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXOVERR | SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTIMEOUT | 
2089:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
2090:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while(!__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXOVERR | SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTIMEOUT | 
2091:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* SDIO_STA_STBITERR */
2092:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2093:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXFIFOHF))
2094:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
2095:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       for (count = 0; count < 8; count++)
2096:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
2097:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         *(pSDstatus + count) = SDIO_ReadFIFO(hsd->Instance);
2098:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
2099:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
2100:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       pSDstatus += 8;
2101:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
2102:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2103:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2104:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_DTIMEOUT))
2105:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2106:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_DTIMEOUT);
2107:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2108:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_DATA_TIMEOUT;
2109:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2110:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
2111:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2112:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_DCRCFAIL))
2113:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2114:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_DCRCFAIL);
2115:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2116:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_DATA_CRC_FAIL;
2117:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2118:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
2119:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2120:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXOVERR))
2121:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2122:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_RXOVERR);
2123:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2124:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_RX_OVERRUN;
2125:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2126:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
2127:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2128:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #ifdef SDIO_STA_STBITERR
2129:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_STBITERR))
2130:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2131:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_STBITERR);
2132:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2133:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_START_BIT_ERR;
2134:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2135:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
2136:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2137:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* SDIO_STA_STBITERR */
2138:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
2139:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2140:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* No error flag set */
2141:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }  
2142:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 39


2143:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   count = SD_DATATIMEOUT;
2144:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while ((__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXDAVL)) && (count > 0))
2145:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2146:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     *pSDstatus = SDIO_ReadFIFO(hsd->Instance);
2147:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pSDstatus++;
2148:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     count--;
2149:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2150:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2151:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Clear all the static status flags*/
2152:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
2153:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2154:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
2155:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
2156:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2157:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2158:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Gets the current sd card data status.
2159:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
2160:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval Data Transfer state
2161:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2162:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** HAL_SD_TransferStateTypedef HAL_SD_GetStatus(SD_HandleTypeDef *hsd)
2163:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
2164:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_CardStateTypedef cardstate =  SD_CARD_TRANSFER;
2165:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2166:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Get SD card state */
2167:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   cardstate = SD_GetState(hsd);
2168:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2169:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Find SD status according to card state*/
2170:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (cardstate == SD_CARD_TRANSFER)
2171:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2172:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return SD_TRANSFER_OK;
2173:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2174:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if(cardstate == SD_CARD_ERROR)
2175:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2176:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return SD_TRANSFER_ERROR;
2177:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2178:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
2179:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2180:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return SD_TRANSFER_BUSY;
2181:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2182:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
2183:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2184:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2185:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Gets the SD card status.
2186:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle      
2187:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  pCardStatus: Pointer to the HAL_SD_CardStatusTypedef structure that 
2188:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         will contain the SD card status information 
2189:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
2190:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2191:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** HAL_SD_ErrorTypedef HAL_SD_GetCardStatus(SD_HandleTypeDef *hsd, HAL_SD_CardStatusTypedef *pCardStat
2192:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
2193:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
2194:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t tmp = 0;
2195:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t sd_status[16];
2196:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2197:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = HAL_SD_SendSDStatus(hsd, sd_status);
2198:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2199:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (errorstate  != SD_OK)
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 40


2200:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2201:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
2202:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2203:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2204:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 0 */
2205:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (sd_status[0] & 0xC0) >> 6;
2206:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardStatus->DAT_BUS_WIDTH = (uint8_t)tmp;
2207:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2208:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 0 */
2209:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (sd_status[0] & 0x20) >> 5;
2210:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardStatus->SECURED_MODE = (uint8_t)tmp;
2211:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2212:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 2 */
2213:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (sd_status[2] & 0xFF);
2214:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardStatus->SD_CARD_TYPE = (uint8_t)(tmp << 8);
2215:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2216:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 3 */
2217:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (sd_status[3] & 0xFF);
2218:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardStatus->SD_CARD_TYPE |= (uint8_t)tmp;
2219:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2220:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 4 */
2221:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (sd_status[4] & 0xFF);
2222:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardStatus->SIZE_OF_PROTECTED_AREA = (uint8_t)(tmp << 24);
2223:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2224:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 5 */
2225:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (sd_status[5] & 0xFF);
2226:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardStatus->SIZE_OF_PROTECTED_AREA |= (uint8_t)(tmp << 16);
2227:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2228:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 6 */
2229:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (sd_status[6] & 0xFF);
2230:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardStatus->SIZE_OF_PROTECTED_AREA |= (uint8_t)(tmp << 8);
2231:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2232:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 7 */
2233:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (sd_status[7] & 0xFF);
2234:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardStatus->SIZE_OF_PROTECTED_AREA |= (uint8_t)tmp;
2235:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2236:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 8 */
2237:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (sd_status[8] & 0xFF);
2238:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardStatus->SPEED_CLASS = (uint8_t)tmp;
2239:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2240:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 9 */
2241:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (sd_status[9] & 0xFF);
2242:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardStatus->PERFORMANCE_MOVE = (uint8_t)tmp;
2243:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2244:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 10 */
2245:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (sd_status[10] & 0xF0) >> 4;
2246:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardStatus->AU_SIZE = (uint8_t)tmp;
2247:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2248:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 11 */
2249:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (sd_status[11] & 0xFF);
2250:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardStatus->ERASE_SIZE = (uint8_t)(tmp << 8);
2251:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2252:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 12 */
2253:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (sd_status[12] & 0xFF);
2254:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardStatus->ERASE_SIZE |= (uint8_t)tmp;
2255:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2256:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 13 */
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 41


2257:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (sd_status[13] & 0xFC) >> 2;
2258:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardStatus->ERASE_TIMEOUT = (uint8_t)tmp;
2259:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2260:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 13 */
2261:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (sd_status[13] & 0x3);
2262:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardStatus->ERASE_OFFSET = (uint8_t)tmp;
2263:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2264:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
2265:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
2266:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****          
2267:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2268:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @}
2269:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2270:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2271:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2272:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @}
2273:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2274:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2275:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /* Private function ----------------------------------------------------------*/  
2276:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /** @addtogroup SD_Private_Functions
2277:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @{
2278:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2279:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2280:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2281:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  SD DMA transfer complete Rx callback.
2282:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hdma: pointer to a DMA_HandleTypeDef structure that contains
2283:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *                the configuration information for the specified DMA module.
2284:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval None
2285:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2286:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static void SD_DMA_RxCplt(DMA_HandleTypeDef *hdma)
2287:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
2288:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SD_HandleTypeDef *hsd = (SD_HandleTypeDef*)((DMA_HandleTypeDef*)hdma)->Parent;
2289:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2290:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* DMA transfer is complete */
2291:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->DmaTransferCplt = 1;
2292:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2293:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Wait until SD transfer is complete */
2294:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while(hsd->SdTransferCplt == 0)
2295:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2296:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2297:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2298:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Disable the DMA channel */
2299:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_DMA_Abort(hdma);
2300:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2301:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Transfer complete user callback */
2302:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_DMA_RxCpltCallback(hsd->hdmarx);   
2303:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
2304:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2305:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2306:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  SD DMA transfer Error Rx callback.
2307:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hdma: pointer to a DMA_HandleTypeDef structure that contains
2308:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *                the configuration information for the specified DMA module.
2309:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval None
2310:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2311:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static void SD_DMA_RxError(DMA_HandleTypeDef *hdma)
2312:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
2313:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SD_HandleTypeDef *hsd = (SD_HandleTypeDef*)((DMA_HandleTypeDef*)hdma)->Parent;
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 42


2314:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2315:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Transfer complete user callback */
2316:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_DMA_RxErrorCallback(hsd->hdmarx);
2317:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
2318:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2319:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2320:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  SD DMA transfer complete Tx callback.
2321:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hdma: pointer to a DMA_HandleTypeDef structure that contains
2322:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *                the configuration information for the specified DMA module.
2323:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval None
2324:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2325:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static void SD_DMA_TxCplt(DMA_HandleTypeDef *hdma)
2326:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
2327:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SD_HandleTypeDef *hsd = (SD_HandleTypeDef*)((DMA_HandleTypeDef*)hdma)->Parent;
2328:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2329:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* DMA transfer is complete */
2330:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->DmaTransferCplt = 1;
2331:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2332:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Wait until SD transfer is complete */
2333:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while(hsd->SdTransferCplt == 0)
2334:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2335:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2336:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****  
2337:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Disable the DMA channel */
2338:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_DMA_Abort(hdma);
2339:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2340:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Transfer complete user callback */
2341:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_DMA_TxCpltCallback(hsd->hdmatx);  
2342:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
2343:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2344:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2345:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  SD DMA transfer Error Tx callback.
2346:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hdma: pointer to a DMA_HandleTypeDef structure that contains
2347:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *                the configuration information for the specified DMA module.
2348:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval None
2349:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2350:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static void SD_DMA_TxError(DMA_HandleTypeDef *hdma)
2351:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
2352:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SD_HandleTypeDef *hsd = ( SD_HandleTypeDef* )((DMA_HandleTypeDef* )hdma)->Parent;
2353:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2354:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Transfer complete user callback */
2355:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_DMA_TxErrorCallback(hsd->hdmatx);
2356:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
2357:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2358:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2359:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Returns the SD current state.
2360:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
2361:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD card current state
2362:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2363:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_CardStateTypedef SD_GetState(SD_HandleTypeDef *hsd)
2364:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
2365:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t resp1 = 0;
2366:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2367:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (SD_SendStatus(hsd, &resp1) != SD_OK)
2368:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2369:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return SD_CARD_ERROR;
2370:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 43


2371:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
2372:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2373:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return (HAL_SD_CardStateTypedef)((resp1 >> 9) & 0x0F);
2374:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2375:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
2376:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2377:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2378:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Initializes all cards or single card as the case may be Card(s) come 
2379:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         into standby state.
2380:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
2381:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
2382:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2383:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_Initialize_Cards(SD_HandleTypeDef *hsd)
2384:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
2385:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef sdio_cmdinitstructure; 
2386:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
2387:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint16_t sd_rca = 1;
2388:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2389:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(SDIO_GetPowerState(hsd->Instance) == 0) /* Power off */
2390:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2391:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_REQUEST_NOT_APPLICABLE;
2392:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2393:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
2394:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2395:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2396:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(hsd->CardType != SECURE_DIGITAL_IO_CARD)
2397:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2398:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Send CMD2 ALL_SEND_CID */
2399:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Argument         = 0;
2400:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_ALL_SEND_CID;
2401:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Response         = SDIO_RESPONSE_LONG;
2402:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
2403:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
2404:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
2405:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2406:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Check for error conditions */
2407:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CmdResp2Error(hsd);
2408:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2409:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != SD_OK)
2410:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
2411:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return errorstate;
2412:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
2413:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2414:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Get Card identification number data */
2415:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->CID[0] = SDIO_GetResponse(SDIO_RESP1);
2416:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->CID[1] = SDIO_GetResponse(SDIO_RESP2);
2417:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->CID[2] = SDIO_GetResponse(SDIO_RESP3);
2418:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->CID[3] = SDIO_GetResponse(SDIO_RESP4);
2419:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2420:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2421:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((hsd->CardType == STD_CAPACITY_SD_CARD_V1_1)    || (hsd->CardType == STD_CAPACITY_SD_CARD_V2_0
2422:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****      (hsd->CardType == SECURE_DIGITAL_IO_COMBO_CARD) || (hsd->CardType == HIGH_CAPACITY_SD_CARD))
2423:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2424:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Send CMD3 SET_REL_ADDR with argument 0 */
2425:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* SD Card publishes its RCA. */
2426:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_SET_REL_ADDR;
2427:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 44


2428:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
2429:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2430:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Check for error conditions */
2431:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CmdResp6Error(hsd, SD_CMD_SET_REL_ADDR, &sd_rca);
2432:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2433:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != SD_OK)
2434:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
2435:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return errorstate;
2436:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
2437:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2438:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2439:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (hsd->CardType != SECURE_DIGITAL_IO_CARD)
2440:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2441:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Get the SD card RCA */
2442:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->RCA = sd_rca;
2443:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2444:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Send CMD9 SEND_CSD with argument as card's RCA */
2445:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Argument         = (uint32_t)(hsd->RCA << 16);
2446:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_SEND_CSD;
2447:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Response         = SDIO_RESPONSE_LONG;
2448:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
2449:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2450:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Check for error conditions */
2451:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CmdResp2Error(hsd);
2452:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2453:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != SD_OK)
2454:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
2455:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return errorstate;
2456:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
2457:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2458:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Get Card Specific Data */
2459:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->CSD[0] = SDIO_GetResponse(SDIO_RESP1);
2460:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->CSD[1] = SDIO_GetResponse(SDIO_RESP2);
2461:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->CSD[2] = SDIO_GetResponse(SDIO_RESP3);
2462:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->CSD[3] = SDIO_GetResponse(SDIO_RESP4);
2463:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2464:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2465:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* All cards are initialized */
2466:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
2467:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
2468:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2469:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2470:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Selects of Deselects the corresponding card.
2471:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
2472:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  addr: Address of the card to be selected  
2473:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
2474:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2475:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_Select_Deselect(SD_HandleTypeDef *hsd, uint64_t addr)
2476:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
2477:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef sdio_cmdinitstructure;
2478:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
2479:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2480:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Send CMD7 SDIO_SEL_DESEL_CARD */
2481:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = (uint32_t)addr;
2482:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SEL_DESEL_CARD;
2483:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
2484:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 45


2485:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
2486:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
2487:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2488:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check for error conditions */
2489:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_CmdResp1Error(hsd, SD_CMD_SEL_DESEL_CARD);
2490:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2491:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
2492:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
2493:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2494:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2495:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Enquires cards about their operating voltage and configures clock
2496:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         controls and stores SD information that will be needed in future
2497:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         in the SD handle.
2498:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
2499:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
2500:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2501:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_PowerON(SD_HandleTypeDef *hsd)
2502:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
2503:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef sdio_cmdinitstructure; 
2504:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __IO HAL_SD_ErrorTypedef errorstate = SD_OK; 
2505:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t response = 0, count = 0, validvoltage = 0;
2506:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t sdtype = SD_STD_CAPACITY;
2507:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2508:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Power ON Sequence -------------------------------------------------------*/
2509:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Disable SDIO Clock */
2510:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_DISABLE(); 
2511:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2512:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Set Power State to ON */
2513:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_PowerState_ON(hsd->Instance);
2514:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2515:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* 1ms: required power up waiting time before starting the SD initialization 
2516:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****      sequence */
2517:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_Delay(1);
2518:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2519:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Enable SDIO Clock */
2520:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_ENABLE();
2521:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2522:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* CMD0: GO_IDLE_STATE -----------------------------------------------------*/
2523:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* No CMD response required */
2524:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = 0;
2525:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_GO_IDLE_STATE;
2526:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_NO;
2527:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
2528:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
2529:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
2530:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2531:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check for error conditions */
2532:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_CmdError(hsd);
2533:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2534:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != SD_OK)
2535:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2536:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* CMD Response Timeout (wait for CMDSENT flag) */
2537:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
2538:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2539:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2540:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* CMD8: SEND_IF_COND ------------------------------------------------------*/
2541:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Send CMD8 to verify SD card interface operating condition */
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 46


2542:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Argument: - [31:12]: Reserved (shall be set to '0')
2543:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   - [11:8]: Supply Voltage (VHS) 0x1 (Range: 2.7-3.6 V)
2544:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   - [7:0]: Check Pattern (recommended 0xAA) */
2545:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* CMD Response: R7 */
2546:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = SD_CHECK_PATTERN;
2547:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_SDIO_SEND_IF_COND;
2548:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
2549:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
2550:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2551:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check for error conditions */ 
2552:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_CmdResp7Error(hsd);
2553:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2554:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (errorstate == SD_OK)
2555:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2556:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* SD Card 2.0 */
2557:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->CardType = STD_CAPACITY_SD_CARD_V2_0; 
2558:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdtype        = SD_HIGH_CAPACITY;
2559:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2560:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2561:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Send CMD55 */
2562:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = 0;
2563:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_APP_CMD;
2564:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
2565:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2566:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check for error conditions */
2567:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_CmdResp1Error(hsd, SD_CMD_APP_CMD);
2568:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2569:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* If errorstate is Command Timeout, it is a MMC card */
2570:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* If errorstate is SD_OK it is a SD card: SD card 2.0 (voltage range mismatch)
2571:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****      or SD card 1.x */
2572:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate == SD_OK)
2573:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2574:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* SD CARD */
2575:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Send ACMD41 SD_APP_OP_COND with Argument 0x80100000 */
2576:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     while((!validvoltage) && (count < SD_MAX_VOLT_TRIAL))
2577:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
2578:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
2579:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* SEND CMD55 APP_CMD with RCA as 0 */
2580:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       sdio_cmdinitstructure.Argument         = 0;
2581:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       sdio_cmdinitstructure.CmdIndex         = SD_CMD_APP_CMD;
2582:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
2583:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
2584:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
2585:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
2586:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
2587:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Check for error conditions */
2588:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       errorstate = SD_CmdResp1Error(hsd, SD_CMD_APP_CMD);
2589:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
2590:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       if(errorstate != SD_OK)
2591:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
2592:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         return errorstate;
2593:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
2594:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
2595:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Send CMD41 */
2596:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       sdio_cmdinitstructure.Argument         = SD_VOLTAGE_WINDOW_SD | sdtype;
2597:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       sdio_cmdinitstructure.CmdIndex         = SD_CMD_SD_APP_OP_COND;
2598:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 47


2599:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
2600:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
2601:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
2602:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
2603:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Check for error conditions */
2604:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       errorstate = SD_CmdResp3Error(hsd);
2605:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
2606:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       if(errorstate != SD_OK)
2607:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
2608:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         return errorstate;
2609:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
2610:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
2611:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Get command response */
2612:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       response = SDIO_GetResponse(SDIO_RESP1);
2613:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
2614:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Get operating voltage*/
2615:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       validvoltage = (((response >> 31) == 1) ? 1 : 0);
2616:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
2617:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       count++;
2618:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
2619:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2620:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(count >= SD_MAX_VOLT_TRIAL)
2621:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
2622:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       errorstate = SD_INVALID_VOLTRANGE;
2623:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
2624:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return errorstate;
2625:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
2626:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2627:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if((response & SD_HIGH_CAPACITY) == SD_HIGH_CAPACITY) /* (response &= SD_HIGH_CAPACITY) */
2628:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
2629:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->CardType = HIGH_CAPACITY_SD_CARD;
2630:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
2631:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2632:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   } /* else MMC Card */
2633:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2634:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
2635:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
2636:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2637:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2638:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Turns the SDIO output signals off.
2639:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
2640:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
2641:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2642:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_PowerOFF(SD_HandleTypeDef *hsd)
2643:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
2644:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
2645:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2646:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Set Power State to OFF */
2647:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_PowerState_OFF(hsd->Instance);
2648:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2649:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
2650:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
2651:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2652:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2653:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Returns the current card's status.
2654:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
2655:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  pCardStatus: pointer to the buffer that will contain the SD card 
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 48


2656:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         status (Card Status register)  
2657:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
2658:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2659:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_SendStatus(SD_HandleTypeDef *hsd, uint32_t *pCardStatus)
2660:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
2661:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef sdio_cmdinitstructure;
2662:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
2663:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2664:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(pCardStatus == NULL)
2665:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2666:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_INVALID_PARAMETER;
2667:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2668:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
2669:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2670:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2671:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Send Status command */
2672:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = (uint32_t)(hsd->RCA << 16);
2673:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SEND_STATUS;
2674:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
2675:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
2676:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
2677:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
2678:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2679:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check for error conditions */
2680:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_CmdResp1Error(hsd, SD_CMD_SEND_STATUS);
2681:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2682:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != SD_OK)
2683:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2684:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
2685:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2686:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2687:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Get SD card status */
2688:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *pCardStatus = SDIO_GetResponse(SDIO_RESP1);
2689:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2690:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
2691:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
2692:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2693:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2694:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Checks for error conditions for CMD0.
2695:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
2696:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
2697:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2698:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_CmdError(SD_HandleTypeDef *hsd)
2699:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
2700:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
2701:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t timeout, tmp;
2702:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2703:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   timeout = SDIO_CMD0TIMEOUT;
2704:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2705:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = __HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_CMDSENT);
2706:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2707:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while((timeout > 0) && (!tmp))
2708:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2709:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tmp = __HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_CMDSENT);
2710:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     timeout--;
2711:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2712:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 49


2713:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(timeout == 0)
2714:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2715:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CMD_RSP_TIMEOUT;
2716:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
2717:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2718:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2719:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Clear all the static flags */
2720:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
2721:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2722:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
2723:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
2724:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2725:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2726:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Checks for error conditions for R7 response.
2727:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
2728:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
2729:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2730:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_CmdResp7Error(SD_HandleTypeDef *hsd)
2731:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
2732:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_ERROR;
2733:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t timeout = SDIO_CMD0TIMEOUT, tmp;
2734:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2735:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = __HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_CCRCFAIL | SDIO_FLAG_CMDREND | SDIO_FLAG_CTIMEOUT); 
2736:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2737:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while((!tmp) && (timeout > 0))
2738:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2739:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tmp = __HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_CCRCFAIL | SDIO_FLAG_CMDREND | SDIO_FLAG_CTIMEOUT);
2740:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     timeout--;
2741:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2742:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2743:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = __HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_CTIMEOUT); 
2744:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2745:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((timeout == 0) || tmp)
2746:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2747:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Card is not V2.0 compliant or card does not support the set voltage range */
2748:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CMD_RSP_TIMEOUT;
2749:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2750:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_CTIMEOUT);
2751:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2752:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
2753:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2754:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2755:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_CMDREND))
2756:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2757:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Card is SD V2.0 compliant */
2758:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_OK;
2759:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2760:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_CMDREND);
2761:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2762:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
2763:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2764:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2765:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
2766:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
2767:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2768:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2769:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Checks for error conditions for R1 response.
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 50


2770:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
2771:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  SD_CMD: The sent command index  
2772:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
2773:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2774:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_CmdResp1Error(SD_HandleTypeDef *hsd, uint8_t SD_CMD)
2775:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
2776:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
2777:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t response_r1;
2778:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2779:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while(!__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_CCRCFAIL | SDIO_FLAG_CMDREND | SDIO_FLAG_CTIMEOUT))
2780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2781:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2782:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2783:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_CTIMEOUT))
2784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2785:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CMD_RSP_TIMEOUT;
2786:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2787:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_CTIMEOUT);
2788:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2789:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
2790:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2791:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if(__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_CCRCFAIL))
2792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2793:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CMD_CRC_FAIL;
2794:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2795:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_CCRCFAIL);
2796:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2797:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
2798:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2799:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2800:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check response received is of desired command */
2801:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(SDIO_GetCommandResponse(hsd->Instance) != SD_CMD)
2802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2803:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_ILLEGAL_CMD;
2804:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2805:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
2806:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2807:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2808:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Clear all the static flags */
2809:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
2810:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2811:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* We have received response, retrieve it for analysis  */
2812:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   response_r1 = SDIO_GetResponse(SDIO_RESP1);
2813:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2814:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_ERRORBITS) == SD_ALLZERO)
2815:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2816:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
2817:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2818:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2819:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_ADDR_OUT_OF_RANGE) == SD_OCR_ADDR_OUT_OF_RANGE)
2820:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2821:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_ADDR_OUT_OF_RANGE);
2822:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2823:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2824:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_ADDR_MISALIGNED) == SD_OCR_ADDR_MISALIGNED)
2825:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2826:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_ADDR_MISALIGNED);
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 51


2827:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2828:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2829:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_BLOCK_LEN_ERR) == SD_OCR_BLOCK_LEN_ERR)
2830:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2831:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_BLOCK_LEN_ERR);
2832:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2833:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2834:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_ERASE_SEQ_ERR) == SD_OCR_ERASE_SEQ_ERR)
2835:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2836:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_ERASE_SEQ_ERR);
2837:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2838:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2839:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_BAD_ERASE_PARAM) == SD_OCR_BAD_ERASE_PARAM)
2840:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2841:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_BAD_ERASE_PARAM);
2842:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2843:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2844:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_WRITE_PROT_VIOLATION) == SD_OCR_WRITE_PROT_VIOLATION)
2845:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2846:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_WRITE_PROT_VIOLATION);
2847:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2848:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2849:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_LOCK_UNLOCK_FAILED) == SD_OCR_LOCK_UNLOCK_FAILED)
2850:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2851:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_LOCK_UNLOCK_FAILED);
2852:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2853:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2854:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_COM_CRC_FAILED) == SD_OCR_COM_CRC_FAILED)
2855:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2856:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_COM_CRC_FAILED);
2857:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2858:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2859:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_ILLEGAL_CMD) == SD_OCR_ILLEGAL_CMD)
2860:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2861:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_ILLEGAL_CMD);
2862:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2863:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2864:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_CARD_ECC_FAILED) == SD_OCR_CARD_ECC_FAILED)
2865:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2866:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_CARD_ECC_FAILED);
2867:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2868:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2869:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_CC_ERROR) == SD_OCR_CC_ERROR)
2870:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2871:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_CC_ERROR);
2872:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2873:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2874:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_GENERAL_UNKNOWN_ERROR) == SD_OCR_GENERAL_UNKNOWN_ERROR)
2875:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2876:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_GENERAL_UNKNOWN_ERROR);
2877:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2878:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2879:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_STREAM_READ_UNDERRUN) == SD_OCR_STREAM_READ_UNDERRUN)
2880:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2881:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_STREAM_READ_UNDERRUN);
2882:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2883:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 52


2884:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_STREAM_WRITE_OVERRUN) == SD_OCR_STREAM_WRITE_OVERRUN)
2885:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2886:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_STREAM_WRITE_OVERRUN);
2887:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2888:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2889:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_CID_CSD_OVERWRITE) == SD_OCR_CID_CSD_OVERWRITE)
2890:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2891:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_CID_CSD_OVERWRITE);
2892:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2893:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2894:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_WP_ERASE_SKIP) == SD_OCR_WP_ERASE_SKIP)
2895:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2896:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_WP_ERASE_SKIP);
2897:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2898:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2899:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_CARD_ECC_DISABLED) == SD_OCR_CARD_ECC_DISABLED)
2900:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2901:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_CARD_ECC_DISABLED);
2902:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2903:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2904:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_ERASE_RESET) == SD_OCR_ERASE_RESET)
2905:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2906:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_ERASE_RESET);
2907:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2908:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2909:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_AKE_SEQ_ERROR) == SD_OCR_AKE_SEQ_ERROR)
2910:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2911:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_AKE_SEQ_ERROR);
2912:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2913:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2914:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
2915:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
2916:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2917:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2918:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Checks for error conditions for R3 (OCR) response.
2919:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
2920:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
2921:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2922:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_CmdResp3Error(SD_HandleTypeDef *hsd)
2923:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
2924:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
2925:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2926:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while (!__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_CCRCFAIL | SDIO_FLAG_CMDREND | SDIO_FLAG_CTIMEOUT))
2927:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2928:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2929:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2930:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_CTIMEOUT))
2931:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2932:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CMD_RSP_TIMEOUT;
2933:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2934:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_CTIMEOUT);
2935:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2936:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
2937:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2938:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2939:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Clear all the static flags */
2940:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 53


2941:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2942:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
2943:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
2944:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2945:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2946:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Checks for error conditions for R2 (CID or CSD) response.
2947:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
2948:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
2949:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2950:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_CmdResp2Error(SD_HandleTypeDef *hsd)
2951:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
  26              		.loc 1 2951 0
  27              		.cfi_startproc
  28              		@ args = 0, pretend = 0, frame = 0
  29              		@ frame_needed = 0, uses_anonymous_args = 0
  30              		@ link register save eliminated.
  31              	.LVL0:
2952:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
2953:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2954:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while (!__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_CCRCFAIL | SDIO_FLAG_CMDREND | SDIO_FLAG_CTIMEOUT))
  32              		.loc 1 2954 0
  33 0000 0368     		ldr	r3, [r0]
  34              	.L3:
  35              		.loc 1 2954 0 is_stmt 0 discriminator 1
  36 0002 5A6B     		ldr	r2, [r3, #52]
  37 0004 12F0450F 		tst	r2, #69
  38 0008 FBD0     		beq	.L3
2955:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2956:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2957:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2958:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_CTIMEOUT))
  39              		.loc 1 2958 0 is_stmt 1
  40 000a 5A6B     		ldr	r2, [r3, #52]
  41 000c 5207     		lsls	r2, r2, #29
  42 000e 03D5     		bpl	.L4
  43              	.LVL1:
2959:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2960:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CMD_RSP_TIMEOUT;
2961:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2962:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_CTIMEOUT);
  44              		.loc 1 2962 0
  45 0010 0422     		movs	r2, #4
  46 0012 9A63     		str	r2, [r3, #56]
2963:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2964:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
  47              		.loc 1 2964 0
  48 0014 0320     		movs	r0, #3
  49              	.LVL2:
  50 0016 7047     		bx	lr
  51              	.LVL3:
  52              	.L4:
2965:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2966:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_CCRCFAIL))
  53              		.loc 1 2966 0
  54 0018 586B     		ldr	r0, [r3, #52]
  55              	.LVL4:
  56 001a 10F00100 		ands	r0, r0, #1
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 54


  57              	.LVL5:
2967:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2968:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CMD_CRC_FAIL;
2969:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2970:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_CCRCFAIL);
  58              		.loc 1 2970 0
  59 001e 15BF     		itete	ne
  60 0020 0120     		movne	r0, #1
2971:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2972:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
2973:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2974:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
2975:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2976:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* No error flag set */
2977:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2978:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2979:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Clear all the static flags */
2980:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
  61              		.loc 1 2980 0
  62 0022 40F2FF52 		movweq	r2, #1535
2970:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_CCRCFAIL);
  63              		.loc 1 2970 0
  64 0026 9863     		strne	r0, [r3, #56]
  65              		.loc 1 2980 0
  66 0028 9A63     		streq	r2, [r3, #56]
2981:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2982:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
2983:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
  67              		.loc 1 2983 0
  68 002a 7047     		bx	lr
  69              		.cfi_endproc
  70              	.LFE164:
  72              		.section	.text.SD_IsCardProgramming,"ax",%progbits
  73              		.align	1
  74              		.thumb
  75              		.thumb_func
  77              	SD_IsCardProgramming:
  78              	.LFB169:
2984:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2985:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2986:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Checks for error conditions for R6 (RCA) response.
2987:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
2988:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  SD_CMD: The sent command index
2989:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  pRCA: Pointer to the variable that will contain the SD card relative 
2990:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         address RCA   
2991:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
2992:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2993:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_CmdResp6Error(SD_HandleTypeDef *hsd, uint8_t SD_CMD, uint16_t *pRCA)
2994:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
2995:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
2996:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t response_r1;
2997:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2998:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while(!__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_CCRCFAIL | SDIO_FLAG_CMDREND | SDIO_FLAG_CTIMEOUT))
2999:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3000:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3001:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3002:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_CTIMEOUT))
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 55


3003:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3004:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CMD_RSP_TIMEOUT;
3005:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3006:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_CTIMEOUT);
3007:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3008:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
3009:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3010:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if(__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_CCRCFAIL))
3011:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3012:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CMD_CRC_FAIL;
3013:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3014:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_CCRCFAIL);
3015:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3016:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
3017:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3018:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
3019:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3020:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* No error flag set */
3021:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3022:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3023:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check response received is of desired command */
3024:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(SDIO_GetCommandResponse(hsd->Instance) != SD_CMD)
3025:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3026:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_ILLEGAL_CMD;
3027:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3028:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
3029:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3030:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3031:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Clear all the static flags */
3032:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
3033:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3034:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* We have received response, retrieve it.  */
3035:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   response_r1 = SDIO_GetResponse(SDIO_RESP1);
3036:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3037:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & (SD_R6_GENERAL_UNKNOWN_ERROR | SD_R6_ILLEGAL_CMD | SD_R6_COM_CRC_FAILED)) == SD
3038:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3039:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     *pRCA = (uint16_t) (response_r1 >> 16);
3040:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3041:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
3042:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3043:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3044:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_R6_GENERAL_UNKNOWN_ERROR) == SD_R6_GENERAL_UNKNOWN_ERROR)
3045:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3046:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_GENERAL_UNKNOWN_ERROR);
3047:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3048:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3049:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_R6_ILLEGAL_CMD) == SD_R6_ILLEGAL_CMD)
3050:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3051:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_ILLEGAL_CMD);
3052:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3053:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3054:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_R6_COM_CRC_FAILED) == SD_R6_COM_CRC_FAILED)
3055:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3056:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_COM_CRC_FAILED);
3057:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3058:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3059:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 56


3060:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
3061:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
3062:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
3063:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Enables the SDIO wide bus mode.
3064:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
3065:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
3066:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
3067:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_WideBus_Enable(SD_HandleTypeDef *hsd)
3068:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
3069:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef sdio_cmdinitstructure;
3070:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
3071:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3072:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t scr[2] = {0, 0};
3073:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3074:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((SDIO_GetResponse(SDIO_RESP1) & SD_CARD_LOCKED) == SD_CARD_LOCKED)
3075:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3076:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_LOCK_UNLOCK_FAILED;
3077:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3078:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
3079:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3080:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3081:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Get SCR Register */
3082:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_FindSCR(hsd, scr);
3083:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3084:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != SD_OK)
3085:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3086:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
3087:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3088:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3089:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* If requested card supports wide bus operation */
3090:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((scr[1] & SD_WIDE_BUS_SUPPORT) != SD_ALLZERO)
3091:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3092:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Send CMD55 APP_CMD with argument as card's RCA.*/
3093:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Argument         = (uint32_t)(hsd->RCA << 16);
3094:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_APP_CMD;
3095:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
3096:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
3097:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
3098:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
3099:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3100:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Check for error conditions */
3101:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CmdResp1Error(hsd, SD_CMD_APP_CMD);
3102:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3103:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != SD_OK)
3104:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
3105:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return errorstate;
3106:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
3107:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3108:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Send ACMD6 APP_CMD with argument as 2 for wide bus mode */
3109:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Argument         = 2;
3110:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_APP_SD_SET_BUSWIDTH;
3111:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
3112:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3113:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Check for error conditions */
3114:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CmdResp1Error(hsd, SD_CMD_APP_SD_SET_BUSWIDTH);
3115:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3116:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != SD_OK)
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 57


3117:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
3118:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return errorstate;
3119:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
3120:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3121:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
3122:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3123:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
3124:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3125:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_REQUEST_NOT_APPLICABLE;
3126:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3127:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
3128:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3129:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }   
3130:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
3131:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
3132:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Disables the SDIO wide bus mode.
3133:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
3134:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
3135:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
3136:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_WideBus_Disable(SD_HandleTypeDef *hsd)
3137:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
3138:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef sdio_cmdinitstructure;
3139:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
3140:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3141:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t scr[2] = {0, 0};
3142:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3143:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((SDIO_GetResponse(SDIO_RESP1) & SD_CARD_LOCKED) == SD_CARD_LOCKED)
3144:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3145:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_LOCK_UNLOCK_FAILED;
3146:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3147:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
3148:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3149:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3150:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Get SCR Register */
3151:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_FindSCR(hsd, scr);
3152:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3153:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != SD_OK)
3154:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3155:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
3156:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3157:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3158:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* If requested card supports 1 bit mode operation */
3159:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((scr[1] & SD_SINGLE_BUS_SUPPORT) != SD_ALLZERO)
3160:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3161:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Send CMD55 APP_CMD with argument as card's RCA */
3162:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Argument         = (uint32_t)(hsd->RCA << 16);
3163:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_APP_CMD;
3164:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
3165:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
3166:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
3167:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
3168:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3169:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Check for error conditions */
3170:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CmdResp1Error(hsd, SD_CMD_APP_CMD);
3171:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3172:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != SD_OK)
3173:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 58


3174:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return errorstate;
3175:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
3176:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3177:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Send ACMD6 APP_CMD with argument as 0 for single bus mode */
3178:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Argument         = 0;
3179:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_APP_SD_SET_BUSWIDTH;
3180:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
3181:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3182:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Check for error conditions */
3183:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CmdResp1Error(hsd, SD_CMD_APP_SD_SET_BUSWIDTH);
3184:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3185:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != SD_OK)
3186:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
3187:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return errorstate;
3188:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
3189:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3190:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
3191:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3192:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
3193:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3194:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_REQUEST_NOT_APPLICABLE;
3195:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3196:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
3197:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3198:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
3199:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3200:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3201:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
3202:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Finds the SD card SCR register value.
3203:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
3204:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  pSCR: pointer to the buffer that will contain the SCR value  
3205:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
3206:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
3207:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_FindSCR(SD_HandleTypeDef *hsd, uint32_t *pSCR)
3208:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
3209:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef  sdio_cmdinitstructure;
3210:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataInitTypeDef sdio_datainitstructure;
3211:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
3212:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t index = 0;
3213:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t tempscr[2] = {0, 0};
3214:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3215:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Set Block Size To 8 Bytes */
3216:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Send CMD55 APP_CMD with argument as card's RCA */
3217:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = (uint32_t)8;
3218:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SET_BLOCKLEN;
3219:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
3220:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
3221:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
3222:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
3223:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3224:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check for error conditions */
3225:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_CmdResp1Error(hsd, SD_CMD_SET_BLOCKLEN);
3226:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3227:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != SD_OK)
3228:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3229:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
3230:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 59


3231:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3232:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Send CMD55 APP_CMD with argument as card's RCA */
3233:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = (uint32_t)((hsd->RCA) << 16);
3234:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_APP_CMD;
3235:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
3236:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3237:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check for error conditions */
3238:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_CmdResp1Error(hsd, SD_CMD_APP_CMD);
3239:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3240:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != SD_OK)
3241:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3242:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
3243:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3244:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataTimeOut   = SD_DATATIMEOUT;
3245:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataLength    = 8;
3246:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataBlockSize = SDIO_DATABLOCK_SIZE_8B;
3247:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferDir   = SDIO_TRANSFER_DIR_TO_SDIO;
3248:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
3249:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DPSM          = SDIO_DPSM_ENABLE;
3250:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataConfig(hsd->Instance, &sdio_datainitstructure);
3251:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3252:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Send ACMD51 SD_APP_SEND_SCR with argument as 0 */
3253:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = 0;
3254:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SD_APP_SEND_SCR;
3255:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
3256:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3257:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check for error conditions */
3258:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_CmdResp1Error(hsd, SD_CMD_SD_APP_SEND_SCR);
3259:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3260:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != SD_OK)
3261:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3262:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
3263:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3264:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #ifdef SDIO_STA_STBITERR  
3265:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while(!__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXOVERR | SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTIMEOUT | 
3266:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
3267:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while(!__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXOVERR | SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTIMEOUT | 
3268:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* SDIO_STA_STBITERR */
3269:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3270:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXDAVL))
3271:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
3272:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       *(tempscr + index) = SDIO_ReadFIFO(hsd->Instance);
3273:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       index++;
3274:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
3275:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3276:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3277:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_DTIMEOUT))
3278:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3279:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_DTIMEOUT);
3280:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3281:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_DATA_TIMEOUT;
3282:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3283:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
3284:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3285:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if(__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_DCRCFAIL))
3286:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3287:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_DCRCFAIL);
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 60


3288:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3289:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_DATA_CRC_FAIL;
3290:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3291:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
3292:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3293:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if(__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXOVERR))
3294:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3295:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_RXOVERR);
3296:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3297:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_RX_OVERRUN;
3298:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3299:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
3300:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3301:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #ifdef SDIO_STA_STBITERR
3302:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if(__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_STBITERR))
3303:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3304:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_STBITERR);
3305:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3306:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_START_BIT_ERR;
3307:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3308:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
3309:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3310:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* SDIO_STA_STBITERR */
3311:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
3312:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3313:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* No error flag set */
3314:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3315:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3316:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Clear all the static flags */
3317:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
3318:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3319:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *(pSCR + 1) = ((tempscr[0] & SD_0TO7BITS) << 24)  | ((tempscr[0] & SD_8TO15BITS) << 8) |\
3320:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     ((tempscr[0] & SD_16TO23BITS) >> 8) | ((tempscr[0] & SD_24TO31BITS) >> 24);
3321:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3322:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *(pSCR) = ((tempscr[1] & SD_0TO7BITS) << 24)  | ((tempscr[1] & SD_8TO15BITS) << 8) |\
3323:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     ((tempscr[1] & SD_16TO23BITS) >> 8) | ((tempscr[1] & SD_24TO31BITS) >> 24);
3324:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3325:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
3326:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
3327:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
3328:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
3329:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Checks if the SD card is in programming state.
3330:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
3331:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  pStatus: pointer to the variable that will contain the SD card state  
3332:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
3333:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
3334:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_IsCardProgramming(SD_HandleTypeDef *hsd, uint8_t *pStatus)
3335:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
  79              		.loc 1 3335 0
  80              		.cfi_startproc
  81              		@ args = 0, pretend = 0, frame = 24
  82              		@ frame_needed = 0, uses_anonymous_args = 0
  83              	.LVL6:
  84 0000 70B5     		push	{r4, r5, r6, lr}
  85              	.LCFI0:
  86              		.cfi_def_cfa_offset 16
  87              		.cfi_offset 4, -16
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 61


  88              		.cfi_offset 5, -12
  89              		.cfi_offset 6, -8
  90              		.cfi_offset 14, -4
3336:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef sdio_cmdinitstructure;
3337:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
3338:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __IO uint32_t responseR1 = 0;
3339:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3340:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = (uint32_t)(hsd->RCA << 16);
  91              		.loc 1 3340 0
  92 0002 426A     		ldr	r2, [r0, #36]
3335:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
  93              		.loc 1 3335 0
  94 0004 86B0     		sub	sp, sp, #24
  95              	.LCFI1:
  96              		.cfi_def_cfa_offset 40
  97              		.loc 1 3340 0
  98 0006 1204     		lsls	r2, r2, #16
3338:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __IO uint32_t responseR1 = 0;
  99              		.loc 1 3338 0
 100 0008 0023     		movs	r3, #0
3335:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 101              		.loc 1 3335 0
 102 000a 0446     		mov	r4, r0
 103              		.loc 1 3340 0
 104 000c 0192     		str	r2, [sp, #4]
3341:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SEND_STATUS;
 105              		.loc 1 3341 0
 106 000e 0D22     		movs	r2, #13
3338:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __IO uint32_t responseR1 = 0;
 107              		.loc 1 3338 0
 108 0010 0093     		str	r3, [sp]
 109              		.loc 1 3341 0
 110 0012 0292     		str	r2, [sp, #8]
3342:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
3343:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 111              		.loc 1 3343 0
 112 0014 0493     		str	r3, [sp, #16]
3342:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 113              		.loc 1 3342 0
 114 0016 4022     		movs	r2, #64
3344:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 115              		.loc 1 3344 0
 116 0018 4FF48063 		mov	r3, #1024
3335:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 117              		.loc 1 3335 0
 118 001c 0D46     		mov	r5, r1
3345:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 119              		.loc 1 3345 0
 120 001e 0068     		ldr	r0, [r0]
 121              	.LVL7:
3344:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 122              		.loc 1 3344 0
 123 0020 0593     		str	r3, [sp, #20]
 124              		.loc 1 3345 0
 125 0022 01A9     		add	r1, sp, #4
 126              	.LVL8:
3342:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 62


 127              		.loc 1 3342 0
 128 0024 0392     		str	r2, [sp, #12]
 129              		.loc 1 3345 0
 130 0026 FFF7FEFF 		bl	SDIO_SendCommand
 131              	.LVL9:
3346:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3347:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while(!__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_CCRCFAIL | SDIO_FLAG_CMDREND | SDIO_FLAG_CTIMEOUT))
 132              		.loc 1 3347 0
 133 002a 2368     		ldr	r3, [r4]
 134              	.L10:
 135              		.loc 1 3347 0 is_stmt 0 discriminator 1
 136 002c 5A6B     		ldr	r2, [r3, #52]
 137 002e 12F0450F 		tst	r2, #69
 138 0032 FBD0     		beq	.L10
3348:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3349:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3350:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3351:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_CTIMEOUT))
 139              		.loc 1 3351 0 is_stmt 1
 140 0034 5A6B     		ldr	r2, [r3, #52]
 141 0036 5007     		lsls	r0, r2, #29
 142 0038 03D5     		bpl	.L11
 143              	.LVL10:
3352:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3353:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CMD_RSP_TIMEOUT;
3354:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3355:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_CTIMEOUT);
 144              		.loc 1 3355 0
 145 003a 0422     		movs	r2, #4
 146 003c 9A63     		str	r2, [r3, #56]
3356:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3357:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 147              		.loc 1 3357 0
 148 003e 0320     		movs	r0, #3
 149 0040 7CE0     		b	.L12
 150              	.LVL11:
 151              	.L11:
3358:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3359:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if(__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_CCRCFAIL))
 152              		.loc 1 3359 0
 153 0042 586B     		ldr	r0, [r3, #52]
 154 0044 10F00106 		ands	r6, r0, #1
 155 0048 02D0     		beq	.L13
 156              	.LVL12:
3360:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3361:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CMD_CRC_FAIL;
3362:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3363:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_CCRCFAIL);
 157              		.loc 1 3363 0
 158 004a 0120     		movs	r0, #1
 159 004c 9863     		str	r0, [r3, #56]
3364:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3365:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 160              		.loc 1 3365 0
 161 004e 75E0     		b	.L12
 162              	.LVL13:
 163              	.L13:
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 63


3366:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3367:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
3368:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3369:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* No error flag set */
3370:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3371:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3372:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check response received is of desired command */
3373:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((uint32_t)SDIO_GetCommandResponse(hsd->Instance) != SD_CMD_SEND_STATUS)
 164              		.loc 1 3373 0
 165 0050 1846     		mov	r0, r3
 166 0052 FFF7FEFF 		bl	SDIO_GetCommandResponse
 167              	.LVL14:
 168 0056 0D28     		cmp	r0, #13
 169 0058 01D0     		beq	.L14
 170              	.LVL15:
 171              	.L15:
3374:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3375:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_ILLEGAL_CMD;
3376:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3377:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 172              		.loc 1 3377 0
 173 005a 1020     		movs	r0, #16
 174 005c 6EE0     		b	.L12
 175              	.LVL16:
 176              	.L14:
3378:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3379:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3380:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Clear all the static flags */
3381:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
 177              		.loc 1 3381 0
 178 005e 2368     		ldr	r3, [r4]
 179 0060 40F2FF52 		movw	r2, #1535
 180 0064 9A63     		str	r2, [r3, #56]
3382:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3383:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3384:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* We have received response, retrieve it for analysis */
3385:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   responseR1 = SDIO_GetResponse(SDIO_RESP1);
 181              		.loc 1 3385 0
 182 0066 3046     		mov	r0, r6
 183 0068 FFF7FEFF 		bl	SDIO_GetResponse
 184              	.LVL17:
 185 006c 0090     		str	r0, [sp]
3386:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3387:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Find out card status */
3388:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *pStatus = (uint8_t)((responseR1 >> 9) & 0x0000000F);
 186              		.loc 1 3388 0
 187 006e 009B     		ldr	r3, [sp]
3389:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3390:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((responseR1 & SD_OCR_ERRORBITS) == SD_ALLZERO)
 188              		.loc 1 3390 0
 189 0070 3348     		ldr	r0, .L35
3388:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *pStatus = (uint8_t)((responseR1 >> 9) & 0x0000000F);
 190              		.loc 1 3388 0
 191 0072 C3F34323 		ubfx	r3, r3, #9, #4
 192 0076 2B70     		strb	r3, [r5]
 193              		.loc 1 3390 0
 194 0078 009B     		ldr	r3, [sp]
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 64


 195 007a 1840     		ands	r0, r0, r3
 196 007c 0028     		cmp	r0, #0
 197 007e 5DD0     		beq	.L12
3391:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3392:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
3393:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3394:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3395:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((responseR1 & SD_OCR_ADDR_OUT_OF_RANGE) == SD_OCR_ADDR_OUT_OF_RANGE)
 198              		.loc 1 3395 0
 199 0080 009B     		ldr	r3, [sp]
 200 0082 002B     		cmp	r3, #0
 201 0084 39DB     		blt	.L17
3396:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3397:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_ADDR_OUT_OF_RANGE);
3398:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3399:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3400:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((responseR1 & SD_OCR_ADDR_MISALIGNED) == SD_OCR_ADDR_MISALIGNED)
 202              		.loc 1 3400 0
 203 0086 009B     		ldr	r3, [sp]
 204 0088 5900     		lsls	r1, r3, #1
 205 008a 38D4     		bmi	.L18
3401:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3402:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_ADDR_MISALIGNED);
3403:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3404:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3405:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((responseR1 & SD_OCR_BLOCK_LEN_ERR) == SD_OCR_BLOCK_LEN_ERR)
 206              		.loc 1 3405 0
 207 008c 009B     		ldr	r3, [sp]
 208 008e 9A00     		lsls	r2, r3, #2
 209 0090 37D4     		bmi	.L19
3406:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3407:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_BLOCK_LEN_ERR);
3408:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3409:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3410:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((responseR1 & SD_OCR_ERASE_SEQ_ERR) == SD_OCR_ERASE_SEQ_ERR)
 210              		.loc 1 3410 0
 211 0092 009B     		ldr	r3, [sp]
 212 0094 DB00     		lsls	r3, r3, #3
 213 0096 36D4     		bmi	.L20
3411:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3412:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_ERASE_SEQ_ERR);
3413:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3414:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3415:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((responseR1 & SD_OCR_BAD_ERASE_PARAM) == SD_OCR_BAD_ERASE_PARAM)
 214              		.loc 1 3415 0
 215 0098 009B     		ldr	r3, [sp]
 216 009a 1E01     		lsls	r6, r3, #4
 217 009c 35D4     		bmi	.L21
3416:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3417:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_BAD_ERASE_PARAM);
3418:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3419:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3420:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((responseR1 & SD_OCR_WRITE_PROT_VIOLATION) == SD_OCR_WRITE_PROT_VIOLATION)
 218              		.loc 1 3420 0
 219 009e 009B     		ldr	r3, [sp]
 220 00a0 5D01     		lsls	r5, r3, #5
 221              	.LVL18:
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 65


 222 00a2 34D4     		bmi	.L22
3421:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3422:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_WRITE_PROT_VIOLATION);
3423:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3424:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3425:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((responseR1 & SD_OCR_LOCK_UNLOCK_FAILED) == SD_OCR_LOCK_UNLOCK_FAILED)
 223              		.loc 1 3425 0
 224 00a4 009B     		ldr	r3, [sp]
 225 00a6 DC01     		lsls	r4, r3, #7
 226              	.LVL19:
 227 00a8 33D4     		bmi	.L23
3426:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3427:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_LOCK_UNLOCK_FAILED);
3428:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3429:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3430:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((responseR1 & SD_OCR_COM_CRC_FAILED) == SD_OCR_COM_CRC_FAILED)
 228              		.loc 1 3430 0
 229 00aa 009B     		ldr	r3, [sp]
 230 00ac 1802     		lsls	r0, r3, #8
 231 00ae 32D4     		bmi	.L24
3431:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3432:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_COM_CRC_FAILED);
3433:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3434:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3435:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((responseR1 & SD_OCR_ILLEGAL_CMD) == SD_OCR_ILLEGAL_CMD)
 232              		.loc 1 3435 0
 233 00b0 009B     		ldr	r3, [sp]
 234 00b2 5902     		lsls	r1, r3, #9
 235 00b4 D1D4     		bmi	.L15
3436:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3437:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_ILLEGAL_CMD);
3438:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3439:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3440:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((responseR1 & SD_OCR_CARD_ECC_FAILED) == SD_OCR_CARD_ECC_FAILED)
 236              		.loc 1 3440 0
 237 00b6 009B     		ldr	r3, [sp]
 238 00b8 9A02     		lsls	r2, r3, #10
 239 00ba 2ED4     		bmi	.L25
3441:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3442:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_CARD_ECC_FAILED);
3443:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3444:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3445:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((responseR1 & SD_OCR_CC_ERROR) == SD_OCR_CC_ERROR)
 240              		.loc 1 3445 0
 241 00bc 009B     		ldr	r3, [sp]
 242 00be DB02     		lsls	r3, r3, #11
 243 00c0 2DD4     		bmi	.L26
3446:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3447:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_CC_ERROR);
3448:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3449:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3450:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((responseR1 & SD_OCR_GENERAL_UNKNOWN_ERROR) == SD_OCR_GENERAL_UNKNOWN_ERROR)
 244              		.loc 1 3450 0
 245 00c2 009B     		ldr	r3, [sp]
 246 00c4 1E03     		lsls	r6, r3, #12
 247 00c6 2CD4     		bmi	.L27
3451:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 66


3452:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_GENERAL_UNKNOWN_ERROR);
3453:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3454:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3455:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((responseR1 & SD_OCR_STREAM_READ_UNDERRUN) == SD_OCR_STREAM_READ_UNDERRUN)
 248              		.loc 1 3455 0
 249 00c8 009B     		ldr	r3, [sp]
 250 00ca 5D03     		lsls	r5, r3, #13
 251 00cc 2BD4     		bmi	.L28
3456:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3457:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_STREAM_READ_UNDERRUN);
3458:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3459:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3460:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((responseR1 & SD_OCR_STREAM_WRITE_OVERRUN) == SD_OCR_STREAM_WRITE_OVERRUN)
 252              		.loc 1 3460 0
 253 00ce 009B     		ldr	r3, [sp]
 254 00d0 9C03     		lsls	r4, r3, #14
 255 00d2 2AD4     		bmi	.L29
3461:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3462:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_STREAM_WRITE_OVERRUN);
3463:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3464:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3465:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((responseR1 & SD_OCR_CID_CSD_OVERWRITE) == SD_OCR_CID_CSD_OVERWRITE)
 256              		.loc 1 3465 0
 257 00d4 009B     		ldr	r3, [sp]
 258 00d6 D803     		lsls	r0, r3, #15
 259 00d8 29D4     		bmi	.L30
3466:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3467:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_CID_CSD_OVERWRITE);
3468:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3469:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3470:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((responseR1 & SD_OCR_WP_ERASE_SKIP) == SD_OCR_WP_ERASE_SKIP)
 260              		.loc 1 3470 0
 261 00da 009B     		ldr	r3, [sp]
 262 00dc 1904     		lsls	r1, r3, #16
 263 00de 28D4     		bmi	.L31
3471:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3472:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_WP_ERASE_SKIP);
3473:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3474:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3475:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((responseR1 & SD_OCR_CARD_ECC_DISABLED) == SD_OCR_CARD_ECC_DISABLED)
 264              		.loc 1 3475 0
 265 00e0 009B     		ldr	r3, [sp]
 266 00e2 5A04     		lsls	r2, r3, #17
 267 00e4 27D4     		bmi	.L32
3476:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3477:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_CARD_ECC_DISABLED);
3478:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3479:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3480:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((responseR1 & SD_OCR_ERASE_RESET) == SD_OCR_ERASE_RESET)
 268              		.loc 1 3480 0
 269 00e6 009B     		ldr	r3, [sp]
 270 00e8 9B04     		lsls	r3, r3, #18
 271 00ea 26D4     		bmi	.L33
3481:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3482:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_ERASE_RESET);
3483:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3484:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 67


3485:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((responseR1 & SD_OCR_AKE_SEQ_ERROR) == SD_OCR_AKE_SEQ_ERROR)
 272              		.loc 1 3485 0
 273 00ec 009B     		ldr	r3, [sp]
3486:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3487:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_AKE_SEQ_ERROR);
 274              		.loc 1 3487 0
 275 00ee 13F0080F 		tst	r3, #8
 276 00f2 0CBF     		ite	eq
 277 00f4 0020     		moveq	r0, #0
 278 00f6 1A20     		movne	r0, #26
 279 00f8 20E0     		b	.L12
 280              	.LVL20:
 281              	.L17:
3397:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_ADDR_OUT_OF_RANGE);
 282              		.loc 1 3397 0
 283 00fa 1C20     		movs	r0, #28
 284 00fc 1EE0     		b	.L12
 285              	.L18:
3402:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_ADDR_MISALIGNED);
 286              		.loc 1 3402 0
 287 00fe 0920     		movs	r0, #9
 288 0100 1CE0     		b	.L12
 289              	.L19:
3407:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_BLOCK_LEN_ERR);
 290              		.loc 1 3407 0
 291 0102 0A20     		movs	r0, #10
 292 0104 1AE0     		b	.L12
 293              	.L20:
3412:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_ERASE_SEQ_ERR);
 294              		.loc 1 3412 0
 295 0106 0B20     		movs	r0, #11
 296 0108 18E0     		b	.L12
 297              	.L21:
3417:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_BAD_ERASE_PARAM);
 298              		.loc 1 3417 0
 299 010a 0C20     		movs	r0, #12
 300 010c 16E0     		b	.L12
 301              	.LVL21:
 302              	.L22:
3422:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_WRITE_PROT_VIOLATION);
 303              		.loc 1 3422 0
 304 010e 0D20     		movs	r0, #13
 305 0110 14E0     		b	.L12
 306              	.LVL22:
 307              	.L23:
3427:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_LOCK_UNLOCK_FAILED);
 308              		.loc 1 3427 0
 309 0112 0E20     		movs	r0, #14
 310 0114 12E0     		b	.L12
 311              	.L24:
3432:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_COM_CRC_FAILED);
 312              		.loc 1 3432 0
 313 0116 0F20     		movs	r0, #15
 314 0118 10E0     		b	.L12
 315              	.L25:
3442:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_CARD_ECC_FAILED);
 316              		.loc 1 3442 0
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 68


 317 011a 1120     		movs	r0, #17
 318 011c 0EE0     		b	.L12
 319              	.L26:
3447:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_CC_ERROR);
 320              		.loc 1 3447 0
 321 011e 1220     		movs	r0, #18
 322 0120 0CE0     		b	.L12
 323              	.L27:
3452:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_GENERAL_UNKNOWN_ERROR);
 324              		.loc 1 3452 0
 325 0122 1320     		movs	r0, #19
 326 0124 0AE0     		b	.L12
 327              	.L28:
3457:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_STREAM_READ_UNDERRUN);
 328              		.loc 1 3457 0
 329 0126 1420     		movs	r0, #20
 330 0128 08E0     		b	.L12
 331              	.L29:
3462:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_STREAM_WRITE_OVERRUN);
 332              		.loc 1 3462 0
 333 012a 1520     		movs	r0, #21
 334 012c 06E0     		b	.L12
 335              	.L30:
3467:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_CID_CSD_OVERWRITE);
 336              		.loc 1 3467 0
 337 012e 1620     		movs	r0, #22
 338 0130 04E0     		b	.L12
 339              	.L31:
3472:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_WP_ERASE_SKIP);
 340              		.loc 1 3472 0
 341 0132 1720     		movs	r0, #23
 342 0134 02E0     		b	.L12
 343              	.L32:
3477:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_CARD_ECC_DISABLED);
 344              		.loc 1 3477 0
 345 0136 1820     		movs	r0, #24
 346 0138 00E0     		b	.L12
 347              	.L33:
3482:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_ERASE_RESET);
 348              		.loc 1 3482 0
 349 013a 1920     		movs	r0, #25
 350              	.LVL23:
 351              	.L12:
3488:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3489:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3490:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
3491:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }   
 352              		.loc 1 3491 0
 353 013c 06B0     		add	sp, sp, #24
 354              		@ sp needed
 355 013e 70BD     		pop	{r4, r5, r6, pc}
 356              	.L36:
 357              		.align	2
 358              	.L35:
 359 0140 08E0FFFD 		.word	-33562616
 360              		.cfi_endproc
 361              	.LFE169:
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 69


 363              		.section	.text.SD_CmdResp1Error,"ax",%progbits
 364              		.align	1
 365              		.thumb
 366              		.thumb_func
 368              	SD_CmdResp1Error:
 369              	.LFB162:
2775:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 370              		.loc 1 2775 0
 371              		.cfi_startproc
 372              		@ args = 0, pretend = 0, frame = 0
 373              		@ frame_needed = 0, uses_anonymous_args = 0
 374              	.LVL24:
2779:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while(!__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_CCRCFAIL | SDIO_FLAG_CMDREND | SDIO_FLAG_CTIMEOUT))
 375              		.loc 1 2779 0
 376 0000 0368     		ldr	r3, [r0]
2775:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 377              		.loc 1 2775 0
 378 0002 70B5     		push	{r4, r5, r6, lr}
 379              	.LCFI2:
 380              		.cfi_def_cfa_offset 16
 381              		.cfi_offset 4, -16
 382              		.cfi_offset 5, -12
 383              		.cfi_offset 6, -8
 384              		.cfi_offset 14, -4
2775:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 385              		.loc 1 2775 0
 386 0004 0446     		mov	r4, r0
 387 0006 0E46     		mov	r6, r1
 388              	.L39:
2779:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while(!__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_CCRCFAIL | SDIO_FLAG_CMDREND | SDIO_FLAG_CTIMEOUT))
 389              		.loc 1 2779 0 discriminator 1
 390 0008 5A6B     		ldr	r2, [r3, #52]
 391 000a 12F0450F 		tst	r2, #69
 392 000e FBD0     		beq	.L39
2783:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_CTIMEOUT))
 393              		.loc 1 2783 0
 394 0010 5A6B     		ldr	r2, [r3, #52]
 395 0012 5207     		lsls	r2, r2, #29
 396 0014 03D5     		bpl	.L40
 397              	.LVL25:
2787:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_CTIMEOUT);
 398              		.loc 1 2787 0
 399 0016 0422     		movs	r2, #4
 400 0018 9A63     		str	r2, [r3, #56]
2789:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 401              		.loc 1 2789 0
 402 001a 0320     		movs	r0, #3
 403              	.LVL26:
 404 001c 70BD     		pop	{r4, r5, r6, pc}
 405              	.LVL27:
 406              	.L40:
2791:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if(__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_CCRCFAIL))
 407              		.loc 1 2791 0
 408 001e 586B     		ldr	r0, [r3, #52]
 409              	.LVL28:
 410 0020 10F00105 		ands	r5, r0, #1
 411 0024 02D0     		beq	.L42
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 70


 412              	.LVL29:
2795:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_CCRCFAIL);
 413              		.loc 1 2795 0
 414 0026 0120     		movs	r0, #1
 415 0028 9863     		str	r0, [r3, #56]
2797:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 416              		.loc 1 2797 0
 417 002a 70BD     		pop	{r4, r5, r6, pc}
 418              	.LVL30:
 419              	.L42:
2801:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(SDIO_GetCommandResponse(hsd->Instance) != SD_CMD)
 420              		.loc 1 2801 0
 421 002c 1846     		mov	r0, r3
 422 002e FFF7FEFF 		bl	SDIO_GetCommandResponse
 423              	.LVL31:
 424 0032 B042     		cmp	r0, r6
 425 0034 57D1     		bne	.L44
 426              	.LVL32:
 427              	.LBB4:
 428              	.LBB5:
2809:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
 429              		.loc 1 2809 0
 430 0036 2368     		ldr	r3, [r4]
 431 0038 40F2FF52 		movw	r2, #1535
 432 003c 9A63     		str	r2, [r3, #56]
2812:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   response_r1 = SDIO_GetResponse(SDIO_RESP1);
 433              		.loc 1 2812 0
 434 003e 2846     		mov	r0, r5
 435              	.LVL33:
 436 0040 FFF7FEFF 		bl	SDIO_GetResponse
 437              	.LVL34:
2814:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_ERRORBITS) == SD_ALLZERO)
 438              		.loc 1 2814 0
 439 0044 294B     		ldr	r3, .L65
 440 0046 0340     		ands	r3, r3, r0
 441 0048 4BB3     		cbz	r3, .L45
2819:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_ADDR_OUT_OF_RANGE) == SD_OCR_ADDR_OUT_OF_RANGE)
 442              		.loc 1 2819 0
 443 004a 0028     		cmp	r0, #0
 444 004c 29DB     		blt	.L46
2824:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_ADDR_MISALIGNED) == SD_OCR_ADDR_MISALIGNED)
 445              		.loc 1 2824 0
 446 004e 4500     		lsls	r5, r0, #1
 447 0050 29D4     		bmi	.L47
2829:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_BLOCK_LEN_ERR) == SD_OCR_BLOCK_LEN_ERR)
 448              		.loc 1 2829 0
 449 0052 8400     		lsls	r4, r0, #2
 450              	.LVL35:
 451 0054 29D4     		bmi	.L48
2834:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_ERASE_SEQ_ERR) == SD_OCR_ERASE_SEQ_ERR)
 452              		.loc 1 2834 0
 453 0056 C100     		lsls	r1, r0, #3
 454 0058 29D4     		bmi	.L49
2839:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_BAD_ERASE_PARAM) == SD_OCR_BAD_ERASE_PARAM)
 455              		.loc 1 2839 0
 456 005a 0201     		lsls	r2, r0, #4
 457 005c 29D4     		bmi	.L50
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 71


2844:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_WRITE_PROT_VIOLATION) == SD_OCR_WRITE_PROT_VIOLATION)
 458              		.loc 1 2844 0
 459 005e 4301     		lsls	r3, r0, #5
 460 0060 29D4     		bmi	.L51
2849:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_LOCK_UNLOCK_FAILED) == SD_OCR_LOCK_UNLOCK_FAILED)
 461              		.loc 1 2849 0
 462 0062 C601     		lsls	r6, r0, #7
 463 0064 29D4     		bmi	.L52
2854:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_COM_CRC_FAILED) == SD_OCR_COM_CRC_FAILED)
 464              		.loc 1 2854 0
 465 0066 0502     		lsls	r5, r0, #8
 466 0068 29D4     		bmi	.L53
2859:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_ILLEGAL_CMD) == SD_OCR_ILLEGAL_CMD)
 467              		.loc 1 2859 0
 468 006a 4402     		lsls	r4, r0, #9
 469 006c 3BD4     		bmi	.L44
2864:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_CARD_ECC_FAILED) == SD_OCR_CARD_ECC_FAILED)
 470              		.loc 1 2864 0
 471 006e 8102     		lsls	r1, r0, #10
 472 0070 27D4     		bmi	.L55
2869:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_CC_ERROR) == SD_OCR_CC_ERROR)
 473              		.loc 1 2869 0
 474 0072 C202     		lsls	r2, r0, #11
 475 0074 27D4     		bmi	.L56
2874:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_GENERAL_UNKNOWN_ERROR) == SD_OCR_GENERAL_UNKNOWN_ERROR)
 476              		.loc 1 2874 0
 477 0076 0303     		lsls	r3, r0, #12
 478 0078 27D4     		bmi	.L57
2879:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_STREAM_READ_UNDERRUN) == SD_OCR_STREAM_READ_UNDERRUN)
 479              		.loc 1 2879 0
 480 007a 4603     		lsls	r6, r0, #13
 481 007c 27D4     		bmi	.L58
2884:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_STREAM_WRITE_OVERRUN) == SD_OCR_STREAM_WRITE_OVERRUN)
 482              		.loc 1 2884 0
 483 007e 8503     		lsls	r5, r0, #14
 484 0080 27D4     		bmi	.L59
2889:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_CID_CSD_OVERWRITE) == SD_OCR_CID_CSD_OVERWRITE)
 485              		.loc 1 2889 0
 486 0082 C403     		lsls	r4, r0, #15
 487 0084 27D4     		bmi	.L60
2894:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_WP_ERASE_SKIP) == SD_OCR_WP_ERASE_SKIP)
 488              		.loc 1 2894 0
 489 0086 0104     		lsls	r1, r0, #16
 490 0088 27D4     		bmi	.L61
2899:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_CARD_ECC_DISABLED) == SD_OCR_CARD_ECC_DISABLED)
 491              		.loc 1 2899 0
 492 008a 4204     		lsls	r2, r0, #17
 493 008c 27D4     		bmi	.L62
2904:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_ERASE_RESET) == SD_OCR_ERASE_RESET)
 494              		.loc 1 2904 0
 495 008e 8304     		lsls	r3, r0, #18
 496 0090 27D4     		bmi	.L63
2911:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_AKE_SEQ_ERROR);
 497              		.loc 1 2911 0
 498 0092 10F0080F 		tst	r0, #8
 499 0096 0CBF     		ite	eq
 500 0098 0020     		moveq	r0, #0
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 72


 501 009a 1A20     		movne	r0, #26
 502              	.LVL36:
 503 009c 70BD     		pop	{r4, r5, r6, pc}
 504              	.LVL37:
 505              	.L45:
2816:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 506              		.loc 1 2816 0
 507 009e 1846     		mov	r0, r3
 508              	.LVL38:
 509 00a0 70BD     		pop	{r4, r5, r6, pc}
 510              	.LVL39:
 511              	.L46:
2821:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_ADDR_OUT_OF_RANGE);
 512              		.loc 1 2821 0
 513 00a2 1C20     		movs	r0, #28
 514              	.LVL40:
 515 00a4 70BD     		pop	{r4, r5, r6, pc}
 516              	.LVL41:
 517              	.L47:
2826:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_ADDR_MISALIGNED);
 518              		.loc 1 2826 0
 519 00a6 0920     		movs	r0, #9
 520              	.LVL42:
 521 00a8 70BD     		pop	{r4, r5, r6, pc}
 522              	.LVL43:
 523              	.L48:
2831:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_BLOCK_LEN_ERR);
 524              		.loc 1 2831 0
 525 00aa 0A20     		movs	r0, #10
 526              	.LVL44:
 527 00ac 70BD     		pop	{r4, r5, r6, pc}
 528              	.LVL45:
 529              	.L49:
2836:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_ERASE_SEQ_ERR);
 530              		.loc 1 2836 0
 531 00ae 0B20     		movs	r0, #11
 532              	.LVL46:
 533 00b0 70BD     		pop	{r4, r5, r6, pc}
 534              	.LVL47:
 535              	.L50:
2841:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_BAD_ERASE_PARAM);
 536              		.loc 1 2841 0
 537 00b2 0C20     		movs	r0, #12
 538              	.LVL48:
 539 00b4 70BD     		pop	{r4, r5, r6, pc}
 540              	.LVL49:
 541              	.L51:
2846:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_WRITE_PROT_VIOLATION);
 542              		.loc 1 2846 0
 543 00b6 0D20     		movs	r0, #13
 544              	.LVL50:
 545 00b8 70BD     		pop	{r4, r5, r6, pc}
 546              	.LVL51:
 547              	.L52:
2851:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_LOCK_UNLOCK_FAILED);
 548              		.loc 1 2851 0
 549 00ba 0E20     		movs	r0, #14
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 73


 550              	.LVL52:
 551 00bc 70BD     		pop	{r4, r5, r6, pc}
 552              	.LVL53:
 553              	.L53:
2856:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_COM_CRC_FAILED);
 554              		.loc 1 2856 0
 555 00be 0F20     		movs	r0, #15
 556              	.LVL54:
 557 00c0 70BD     		pop	{r4, r5, r6, pc}
 558              	.LVL55:
 559              	.L55:
2866:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_CARD_ECC_FAILED);
 560              		.loc 1 2866 0
 561 00c2 1120     		movs	r0, #17
 562              	.LVL56:
 563 00c4 70BD     		pop	{r4, r5, r6, pc}
 564              	.LVL57:
 565              	.L56:
2871:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_CC_ERROR);
 566              		.loc 1 2871 0
 567 00c6 1220     		movs	r0, #18
 568              	.LVL58:
 569 00c8 70BD     		pop	{r4, r5, r6, pc}
 570              	.LVL59:
 571              	.L57:
2876:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_GENERAL_UNKNOWN_ERROR);
 572              		.loc 1 2876 0
 573 00ca 1320     		movs	r0, #19
 574              	.LVL60:
 575 00cc 70BD     		pop	{r4, r5, r6, pc}
 576              	.LVL61:
 577              	.L58:
2881:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_STREAM_READ_UNDERRUN);
 578              		.loc 1 2881 0
 579 00ce 1420     		movs	r0, #20
 580              	.LVL62:
 581 00d0 70BD     		pop	{r4, r5, r6, pc}
 582              	.LVL63:
 583              	.L59:
2886:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_STREAM_WRITE_OVERRUN);
 584              		.loc 1 2886 0
 585 00d2 1520     		movs	r0, #21
 586              	.LVL64:
 587 00d4 70BD     		pop	{r4, r5, r6, pc}
 588              	.LVL65:
 589              	.L60:
2891:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_CID_CSD_OVERWRITE);
 590              		.loc 1 2891 0
 591 00d6 1620     		movs	r0, #22
 592              	.LVL66:
 593 00d8 70BD     		pop	{r4, r5, r6, pc}
 594              	.LVL67:
 595              	.L61:
2896:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_WP_ERASE_SKIP);
 596              		.loc 1 2896 0
 597 00da 1720     		movs	r0, #23
 598              	.LVL68:
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 74


 599 00dc 70BD     		pop	{r4, r5, r6, pc}
 600              	.LVL69:
 601              	.L62:
2901:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_CARD_ECC_DISABLED);
 602              		.loc 1 2901 0
 603 00de 1820     		movs	r0, #24
 604              	.LVL70:
 605 00e0 70BD     		pop	{r4, r5, r6, pc}
 606              	.LVL71:
 607              	.L63:
2906:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_ERASE_RESET);
 608              		.loc 1 2906 0
 609 00e2 1920     		movs	r0, #25
 610              	.LVL72:
 611 00e4 70BD     		pop	{r4, r5, r6, pc}
 612              	.LVL73:
 613              	.L44:
 614              	.LBE5:
 615              	.LBE4:
2805:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 616              		.loc 1 2805 0
 617 00e6 1020     		movs	r0, #16
2915:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 618              		.loc 1 2915 0
 619 00e8 70BD     		pop	{r4, r5, r6, pc}
 620              	.L66:
 621 00ea 00BF     		.align	2
 622              	.L65:
 623 00ec 08E0FFFD 		.word	-33562616
 624              		.cfi_endproc
 625              	.LFE162:
 627              		.section	.text.SD_FindSCR,"ax",%progbits
 628              		.align	1
 629              		.thumb
 630              		.thumb_func
 632              	SD_FindSCR:
 633              	.LFB168:
3208:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 634              		.loc 1 3208 0
 635              		.cfi_startproc
 636              		@ args = 0, pretend = 0, frame = 56
 637              		@ frame_needed = 0, uses_anonymous_args = 0
 638              	.LVL74:
 639 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 640              	.LCFI3:
 641              		.cfi_def_cfa_offset 20
 642              		.cfi_offset 4, -20
 643              		.cfi_offset 5, -16
 644              		.cfi_offset 6, -12
 645              		.cfi_offset 7, -8
 646              		.cfi_offset 14, -4
 647 0002 8FB0     		sub	sp, sp, #60
 648              	.LCFI4:
 649              		.cfi_def_cfa_offset 80
3213:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t tempscr[2] = {0, 0};
 650              		.loc 1 3213 0
 651 0004 0023     		movs	r3, #0
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 75


3208:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 652              		.loc 1 3208 0
 653 0006 0446     		mov	r4, r0
3213:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t tempscr[2] = {0, 0};
 654              		.loc 1 3213 0
 655 0008 0193     		str	r3, [sp, #4]
 656 000a 0293     		str	r3, [sp, #8]
3218:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SET_BLOCKLEN;
 657              		.loc 1 3218 0
 658 000c 1025     		movs	r5, #16
3219:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 659              		.loc 1 3219 0
 660 000e 4022     		movs	r2, #64
3220:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 661              		.loc 1 3220 0
 662 0010 0693     		str	r3, [sp, #24]
3208:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 663              		.loc 1 3208 0
 664 0012 0E46     		mov	r6, r1
3221:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 665              		.loc 1 3221 0
 666 0014 4FF48063 		mov	r3, #1024
3222:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 667              		.loc 1 3222 0
 668 0018 03A9     		add	r1, sp, #12
 669              	.LVL75:
3217:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = (uint32_t)8;
 670              		.loc 1 3217 0
 671 001a 0827     		movs	r7, #8
3222:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 672              		.loc 1 3222 0
 673 001c 0068     		ldr	r0, [r0]
 674              	.LVL76:
3217:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = (uint32_t)8;
 675              		.loc 1 3217 0
 676 001e 0397     		str	r7, [sp, #12]
3218:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SET_BLOCKLEN;
 677              		.loc 1 3218 0
 678 0020 0495     		str	r5, [sp, #16]
3219:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 679              		.loc 1 3219 0
 680 0022 0592     		str	r2, [sp, #20]
3221:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 681              		.loc 1 3221 0
 682 0024 0793     		str	r3, [sp, #28]
3222:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 683              		.loc 1 3222 0
 684 0026 FFF7FEFF 		bl	SDIO_SendCommand
 685              	.LVL77:
3225:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_CmdResp1Error(hsd, SD_CMD_SET_BLOCKLEN);
 686              		.loc 1 3225 0
 687 002a 2046     		mov	r0, r4
 688 002c 2946     		mov	r1, r5
 689 002e FFF7FEFF 		bl	SD_CmdResp1Error
 690              	.LVL78:
3227:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != SD_OK)
 691              		.loc 1 3227 0
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 76


 692 0032 0028     		cmp	r0, #0
 693 0034 61D1     		bne	.L68
3233:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = (uint32_t)((hsd->RCA) << 16);
 694              		.loc 1 3233 0
 695 0036 636A     		ldr	r3, [r4, #36]
3235:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 696              		.loc 1 3235 0
 697 0038 2068     		ldr	r0, [r4]
 698              	.LVL79:
3233:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = (uint32_t)((hsd->RCA) << 16);
 699              		.loc 1 3233 0
 700 003a AB40     		lsls	r3, r3, r5
3235:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 701              		.loc 1 3235 0
 702 003c 03A9     		add	r1, sp, #12
3234:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_APP_CMD;
 703              		.loc 1 3234 0
 704 003e 3725     		movs	r5, #55
3233:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = (uint32_t)((hsd->RCA) << 16);
 705              		.loc 1 3233 0
 706 0040 0393     		str	r3, [sp, #12]
3234:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_APP_CMD;
 707              		.loc 1 3234 0
 708 0042 0495     		str	r5, [sp, #16]
3235:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 709              		.loc 1 3235 0
 710 0044 FFF7FEFF 		bl	SDIO_SendCommand
 711              	.LVL80:
3238:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_CmdResp1Error(hsd, SD_CMD_APP_CMD);
 712              		.loc 1 3238 0
 713 0048 2946     		mov	r1, r5
 714 004a 2046     		mov	r0, r4
 715 004c FFF7FEFF 		bl	SD_CmdResp1Error
 716              	.LVL81:
3240:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != SD_OK)
 717              		.loc 1 3240 0
 718 0050 0546     		mov	r5, r0
 719 0052 0028     		cmp	r0, #0
 720 0054 51D1     		bne	.L68
3244:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataTimeOut   = SD_DATATIMEOUT;
 721              		.loc 1 3244 0
 722 0056 4FF0FF33 		mov	r3, #-1
 723 005a 0893     		str	r3, [sp, #32]
3246:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataBlockSize = SDIO_DATABLOCK_SIZE_8B;
 724              		.loc 1 3246 0
 725 005c 3023     		movs	r3, #48
 726 005e 0A93     		str	r3, [sp, #40]
3247:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferDir   = SDIO_TRANSFER_DIR_TO_SDIO;
 727              		.loc 1 3247 0
 728 0060 0223     		movs	r3, #2
 729 0062 0B93     		str	r3, [sp, #44]
3248:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
 730              		.loc 1 3248 0
 731 0064 0C90     		str	r0, [sp, #48]
3249:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DPSM          = SDIO_DPSM_ENABLE;
 732              		.loc 1 3249 0
 733 0066 0123     		movs	r3, #1
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 77


3250:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataConfig(hsd->Instance, &sdio_datainitstructure);
 734              		.loc 1 3250 0
 735 0068 08A9     		add	r1, sp, #32
 736 006a 2068     		ldr	r0, [r4]
 737              	.LVL82:
3249:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DPSM          = SDIO_DPSM_ENABLE;
 738              		.loc 1 3249 0
 739 006c 0D93     		str	r3, [sp, #52]
3245:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataLength    = 8;
 740              		.loc 1 3245 0
 741 006e 0997     		str	r7, [sp, #36]
3250:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataConfig(hsd->Instance, &sdio_datainitstructure);
 742              		.loc 1 3250 0
 743 0070 FFF7FEFF 		bl	SDIO_DataConfig
 744              	.LVL83:
3253:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = 0;
 745              		.loc 1 3253 0
 746 0074 0395     		str	r5, [sp, #12]
3255:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 747              		.loc 1 3255 0
 748 0076 03A9     		add	r1, sp, #12
3254:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SD_APP_SEND_SCR;
 749              		.loc 1 3254 0
 750 0078 3325     		movs	r5, #51
3255:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 751              		.loc 1 3255 0
 752 007a 2068     		ldr	r0, [r4]
3254:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SD_APP_SEND_SCR;
 753              		.loc 1 3254 0
 754 007c 0495     		str	r5, [sp, #16]
3255:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 755              		.loc 1 3255 0
 756 007e FFF7FEFF 		bl	SDIO_SendCommand
 757              	.LVL84:
3258:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_CmdResp1Error(hsd, SD_CMD_SD_APP_SEND_SCR);
 758              		.loc 1 3258 0
 759 0082 2046     		mov	r0, r4
 760 0084 2946     		mov	r1, r5
 761 0086 FFF7FEFF 		bl	SD_CmdResp1Error
 762              	.LVL85:
3260:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != SD_OK)
 763              		.loc 1 3260 0
 764 008a 0028     		cmp	r0, #0
 765 008c 35D1     		bne	.L68
 766 008e 6D46     		mov	r5, sp
 767              	.LVL86:
 768              	.L69:
3265:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while(!__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXOVERR | SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTIMEOUT | 
 769              		.loc 1 3265 0 discriminator 1
 770 0090 2368     		ldr	r3, [r4]
 771              	.L71:
 772 0092 596B     		ldr	r1, [r3, #52]
 773 0094 40F22A62 		movw	r2, #1578
 774 0098 0A40     		ands	r2, r2, r1
 775 009a 42B9     		cbnz	r2, .L80
3270:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXDAVL))
 776              		.loc 1 3270 0
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 78


 777 009c 5A6B     		ldr	r2, [r3, #52]
 778 009e 9702     		lsls	r7, r2, #10
 779 00a0 F7D5     		bpl	.L71
3272:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       *(tempscr + index) = SDIO_ReadFIFO(hsd->Instance);
 780              		.loc 1 3272 0
 781 00a2 1846     		mov	r0, r3
 782 00a4 FFF7FEFF 		bl	SDIO_ReadFIFO
 783              	.LVL87:
 784 00a8 45F8040F 		str	r0, [r5, #4]!
 785 00ac F0E7     		b	.L69
 786              	.L80:
3277:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_DTIMEOUT))
 787              		.loc 1 3277 0
 788 00ae 5A6B     		ldr	r2, [r3, #52]
 789 00b0 1007     		lsls	r0, r2, #28
 790 00b2 03D5     		bpl	.L73
3279:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_DTIMEOUT);
 791              		.loc 1 3279 0
 792 00b4 0822     		movs	r2, #8
 793 00b6 9A63     		str	r2, [r3, #56]
 794              	.LVL88:
3283:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 795              		.loc 1 3283 0
 796 00b8 0420     		movs	r0, #4
 797 00ba 1EE0     		b	.L68
 798              	.LVL89:
 799              	.L73:
3285:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if(__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_DCRCFAIL))
 800              		.loc 1 3285 0
 801 00bc 5A6B     		ldr	r2, [r3, #52]
 802 00be 9107     		lsls	r1, r2, #30
 803 00c0 02D5     		bpl	.L74
3287:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_DCRCFAIL);
 804              		.loc 1 3287 0
 805 00c2 0220     		movs	r0, #2
 806 00c4 9863     		str	r0, [r3, #56]
 807              	.LVL90:
3291:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 808              		.loc 1 3291 0
 809 00c6 18E0     		b	.L68
 810              	.LVL91:
 811              	.L74:
3293:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if(__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXOVERR))
 812              		.loc 1 3293 0
 813 00c8 5A6B     		ldr	r2, [r3, #52]
 814 00ca 9206     		lsls	r2, r2, #26
 815 00cc 03D5     		bpl	.L75
3295:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_RXOVERR);
 816              		.loc 1 3295 0
 817 00ce 2022     		movs	r2, #32
 818 00d0 9A63     		str	r2, [r3, #56]
 819              	.LVL92:
3299:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 820              		.loc 1 3299 0
 821 00d2 0620     		movs	r0, #6
 822 00d4 11E0     		b	.L68
 823              	.LVL93:
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 79


 824              	.L75:
3302:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if(__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_STBITERR))
 825              		.loc 1 3302 0
 826 00d6 586B     		ldr	r0, [r3, #52]
 827 00d8 10F40070 		ands	r0, r0, #512
 828 00dc 04D0     		beq	.L76
3304:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_STBITERR);
 829              		.loc 1 3304 0
 830 00de 4FF40072 		mov	r2, #512
 831 00e2 9A63     		str	r2, [r3, #56]
 832              	.LVL94:
3308:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 833              		.loc 1 3308 0
 834 00e4 0720     		movs	r0, #7
 835 00e6 08E0     		b	.L68
 836              	.LVL95:
 837              	.L76:
3317:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
 838              		.loc 1 3317 0
 839 00e8 40F2FF52 		movw	r2, #1535
 840 00ec 9A63     		str	r2, [r3, #56]
 841 00ee 019B     		ldr	r3, [sp, #4]
 842 00f0 1BBA     		rev	r3, r3
3319:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *(pSCR + 1) = ((tempscr[0] & SD_0TO7BITS) << 24)  | ((tempscr[0] & SD_8TO15BITS) << 8) |\
 843              		.loc 1 3319 0
 844 00f2 7360     		str	r3, [r6, #4]
 845 00f4 029B     		ldr	r3, [sp, #8]
 846 00f6 1BBA     		rev	r3, r3
3322:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *(pSCR) = ((tempscr[1] & SD_0TO7BITS) << 24)  | ((tempscr[1] & SD_8TO15BITS) << 8) |\
 847              		.loc 1 3322 0
 848 00f8 3360     		str	r3, [r6]
 849              	.L68:
3326:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 850              		.loc 1 3326 0
 851 00fa 0FB0     		add	sp, sp, #60
 852              		@ sp needed
 853 00fc F0BD     		pop	{r4, r5, r6, r7, pc}
 854              		.cfi_endproc
 855              	.LFE168:
 857              		.section	.text.HAL_SD_MspInit,"ax",%progbits
 858              		.align	1
 859              		.weak	HAL_SD_MspInit
 860              		.thumb
 861              		.thumb_func
 863              	HAL_SD_MspInit:
 864              	.LFB127:
 417:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 865              		.loc 1 417 0
 866              		.cfi_startproc
 867              		@ args = 0, pretend = 0, frame = 0
 868              		@ frame_needed = 0, uses_anonymous_args = 0
 869              		@ link register save eliminated.
 870              	.LVL96:
 871 0000 7047     		bx	lr
 872              		.cfi_endproc
 873              	.LFE127:
 875              		.section	.text.HAL_SD_MspDeInit,"ax",%progbits
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 80


 876              		.align	1
 877              		.weak	HAL_SD_MspDeInit
 878              		.thumb
 879              		.thumb_func
 881              	HAL_SD_MspDeInit:
 882              	.LFB128:
 431:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 883              		.loc 1 431 0
 884              		.cfi_startproc
 885              		@ args = 0, pretend = 0, frame = 0
 886              		@ frame_needed = 0, uses_anonymous_args = 0
 887              		@ link register save eliminated.
 888              	.LVL97:
 889 0000 7047     		bx	lr
 890              		.cfi_endproc
 891              	.LFE128:
 893              		.section	.text.HAL_SD_DeInit,"ax",%progbits
 894              		.align	1
 895              		.global	HAL_SD_DeInit
 896              		.thumb
 897              		.thumb_func
 899              	HAL_SD_DeInit:
 900              	.LFB126:
 399:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 901              		.loc 1 399 0
 902              		.cfi_startproc
 903              		@ args = 0, pretend = 0, frame = 0
 904              		@ frame_needed = 0, uses_anonymous_args = 0
 905              	.LVL98:
 399:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 906              		.loc 1 399 0
 907 0000 10B5     		push	{r4, lr}
 908              	.LCFI5:
 909              		.cfi_def_cfa_offset 8
 910              		.cfi_offset 4, -8
 911              		.cfi_offset 14, -4
 399:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 912              		.loc 1 399 0
 913 0002 0446     		mov	r4, r0
 914              	.LBB8:
 915              	.LBB9:
2647:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_PowerState_OFF(hsd->Instance);
 916              		.loc 1 2647 0
 917 0004 0068     		ldr	r0, [r0]
 918              	.LVL99:
 919 0006 FFF7FEFF 		bl	SDIO_PowerState_OFF
 920              	.LVL100:
 921              	.LBE9:
 922              	.LBE8:
 405:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_MspDeInit(hsd);
 923              		.loc 1 405 0
 924 000a 2046     		mov	r0, r4
 925 000c FFF7FEFF 		bl	HAL_SD_MspDeInit
 926              	.LVL101:
 408:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 927              		.loc 1 408 0
 928 0010 0020     		movs	r0, #0
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 81


 929 0012 10BD     		pop	{r4, pc}
 930              		.cfi_endproc
 931              	.LFE126:
 933              		.section	.text.HAL_SD_ReadBlocks_DMA,"ax",%progbits
 934              		.align	1
 935              		.global	HAL_SD_ReadBlocks_DMA
 936              		.thumb
 937              		.thumb_func
 939              	HAL_SD_ReadBlocks_DMA:
 940              	.LFB131:
 892:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 941              		.loc 1 892 0
 942              		.cfi_startproc
 943              		@ args = 8, pretend = 0, frame = 48
 944              		@ frame_needed = 0, uses_anonymous_args = 0
 945              	.LVL102:
 946 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 947              	.LCFI6:
 948              		.cfi_def_cfa_offset 28
 949              		.cfi_offset 4, -28
 950              		.cfi_offset 5, -24
 951              		.cfi_offset 6, -20
 952              		.cfi_offset 7, -16
 953              		.cfi_offset 8, -12
 954              		.cfi_offset 9, -8
 955              		.cfi_offset 14, -4
 956 0004 8DB0     		sub	sp, sp, #52
 957              	.LCFI7:
 958              		.cfi_def_cfa_offset 80
 892:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 959              		.loc 1 892 0
 960 0006 8E46     		mov	lr, r1
 961 0008 159F     		ldr	r7, [sp, #84]
 898:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->Instance->DCTRL = 0;
 962              		.loc 1 898 0
 963 000a 0168     		ldr	r1, [r0]
 964              	.LVL103:
 892:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 965              		.loc 1 892 0
 966 000c DDF85080 		ldr	r8, [sp, #80]
 906:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(NumberOfBlocks > 1)
 967              		.loc 1 906 0
 968 0010 012F     		cmp	r7, #1
 892:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 969              		.loc 1 892 0
 970 0012 1D46     		mov	r5, r3
 898:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->Instance->DCTRL = 0;
 971              		.loc 1 898 0
 972 0014 4FF00003 		mov	r3, #0
 973 0018 CB62     		str	r3, [r1, #44]
 901:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->SdTransferCplt  = 0;
 974              		.loc 1 901 0
 975 001a 8364     		str	r3, [r0, #72]
 902:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->DmaTransferCplt = 0;
 976              		.loc 1 902 0
 977 001c 0365     		str	r3, [r0, #80]
 903:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->SdTransferErr   = SD_OK; 
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 82


 978              		.loc 1 903 0
 979 001e C364     		str	r3, [r0, #76]
 908:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdOperation = SD_READ_MULTIPLE_BLOCK;
 980              		.loc 1 908 0
 981 0020 88BF     		it	hi
 982 0022 0123     		movhi	r3, #1
 912:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdOperation = SD_READ_SINGLE_BLOCK;
 983              		.loc 1 912 0
 984 0024 4365     		str	r3, [r0, #84]
 985              	.LVL104:
 917:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_ENABLE_IT(hsd, (SDIO_IT_DCRCFAIL |\
 986              		.loc 1 917 0
 987 0026 CB6B     		ldr	r3, [r1, #60]
 988 0028 43F44A73 		orr	r3, r3, #808
 989 002c 43F00203 		orr	r3, r3, #2
 990 0030 CB63     		str	r3, [r1, #60]
 930:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_DMA_ENABLE();
 991              		.loc 1 930 0
 992 0032 2B4B     		ldr	r3, .L96
 892:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 993              		.loc 1 892 0
 994 0034 0646     		mov	r6, r0
 995 0036 1446     		mov	r4, r2
 933:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->hdmarx->XferCpltCallback  = SD_DMA_RxCplt;
 996              		.loc 1 933 0
 997 0038 806D     		ldr	r0, [r0, #88]
 998              	.LVL105:
 930:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_DMA_ENABLE();
 999              		.loc 1 930 0
 1000 003a 0122     		movs	r2, #1
 1001              	.LVL106:
 1002 003c 1A60     		str	r2, [r3]
 933:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->hdmarx->XferCpltCallback  = SD_DMA_RxCplt;
 1003              		.loc 1 933 0
 1004 003e 294B     		ldr	r3, .L96+4
 1005 0040 C363     		str	r3, [r0, #60]
 934:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->hdmarx->XferErrorCallback = SD_DMA_RxError;
 1006              		.loc 1 934 0
 1007 0042 294B     		ldr	r3, .L96+8
 1008 0044 8364     		str	r3, [r0, #72]
 937:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_DMA_Start_IT(hsd->hdmarx, (uint32_t)&hsd->Instance->FIFO, (uint32_t)pReadBuffer, (uint32_t)(B
 1009              		.loc 1 937 0
 1010 0046 08FB07F3 		mul	r3, r8, r7
 1011 004a 9B08     		lsrs	r3, r3, #2
 1012 004c 8031     		adds	r1, r1, #128
 1013 004e 7246     		mov	r2, lr
 1014 0050 FFF7FEFF 		bl	HAL_DMA_Start_IT
 1015              	.LVL107:
 939:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (hsd->CardType == HIGH_CAPACITY_SD_CARD)
 1016              		.loc 1 939 0
 1017 0054 336A     		ldr	r3, [r6, #32]
 1018 0056 022B     		cmp	r3, #2
 1019 0058 05D1     		bne	.L87
 1020              	.LVL108:
 942:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     ReadAddr /= 512;
 1021              		.loc 1 942 0
 1022 005a 620A     		lsrs	r2, r4, #9
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 83


 1023 005c 42EAC552 		orr	r2, r2, r5, lsl #23
 1024 0060 1446     		mov	r4, r2
 1025              	.LVL109:
 941:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     BlockSize = 512;
 1026              		.loc 1 941 0
 1027 0062 4FF40078 		mov	r8, #512
 1028              	.LVL110:
 1029              	.L87:
 948:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 1030              		.loc 1 948 0
 1031 0066 4023     		movs	r3, #64
 1032 0068 0393     		str	r3, [sp, #12]
 949:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 1033              		.loc 1 949 0
 1034 006a 0023     		movs	r3, #0
 947:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SET_BLOCKLEN;
 1035              		.loc 1 947 0
 1036 006c 4FF01009 		mov	r9, #16
 949:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 1037              		.loc 1 949 0
 1038 0070 0493     		str	r3, [sp, #16]
 951:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 1039              		.loc 1 951 0
 1040 0072 01A9     		add	r1, sp, #4
 950:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 1041              		.loc 1 950 0
 1042 0074 4FF48063 		mov	r3, #1024
 951:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 1043              		.loc 1 951 0
 1044 0078 3068     		ldr	r0, [r6]
 946:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = (uint32_t)BlockSize;
 1045              		.loc 1 946 0
 1046 007a CDF80480 		str	r8, [sp, #4]
 947:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SET_BLOCKLEN;
 1047              		.loc 1 947 0
 1048 007e CDF80890 		str	r9, [sp, #8]
 950:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 1049              		.loc 1 950 0
 1050 0082 0593     		str	r3, [sp, #20]
 951:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 1051              		.loc 1 951 0
 1052 0084 FFF7FEFF 		bl	SDIO_SendCommand
 1053              	.LVL111:
 954:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_CmdResp1Error(hsd, SD_CMD_SET_BLOCKLEN);
 1054              		.loc 1 954 0
 1055 0088 3046     		mov	r0, r6
 1056 008a 4946     		mov	r1, r9
 1057 008c FFF7FEFF 		bl	SD_CmdResp1Error
 1058              	.LVL112:
 956:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (errorstate != SD_OK)
 1059              		.loc 1 956 0
 1060 0090 10BB     		cbnz	r0, .L88
 962:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataTimeOut   = SD_DATATIMEOUT;
 1061              		.loc 1 962 0
 1062 0092 4FF0FF33 		mov	r3, #-1
 1063 0096 0693     		str	r3, [sp, #24]
 963:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataLength    = BlockSize * NumberOfBlocks;
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 84


 1064              		.loc 1 963 0
 1065 0098 07FB08F3 		mul	r3, r7, r8
 1066 009c 0793     		str	r3, [sp, #28]
 964:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataBlockSize = SDIO_DATABLOCK_SIZE_512B;
 1067              		.loc 1 964 0
 1068 009e 9023     		movs	r3, #144
 1069 00a0 0893     		str	r3, [sp, #32]
 965:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferDir   = SDIO_TRANSFER_DIR_TO_SDIO;
 1070              		.loc 1 965 0
 1071 00a2 0223     		movs	r3, #2
 1072 00a4 0993     		str	r3, [sp, #36]
 966:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
 1073              		.loc 1 966 0
 1074 00a6 0A90     		str	r0, [sp, #40]
 967:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DPSM          = SDIO_DPSM_ENABLE;
 1075              		.loc 1 967 0
 1076 00a8 0123     		movs	r3, #1
 968:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataConfig(hsd->Instance, &sdio_datainitstructure);
 1077              		.loc 1 968 0
 1078 00aa 06A9     		add	r1, sp, #24
 1079 00ac 3068     		ldr	r0, [r6]
 1080              	.LVL113:
 967:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DPSM          = SDIO_DPSM_ENABLE;
 1081              		.loc 1 967 0
 1082 00ae 0B93     		str	r3, [sp, #44]
 968:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataConfig(hsd->Instance, &sdio_datainitstructure);
 1083              		.loc 1 968 0
 1084 00b0 FFF7FEFF 		bl	SDIO_DataConfig
 1085              	.LVL114:
 971:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(NumberOfBlocks > 1)
 1086              		.loc 1 971 0
 1087 00b4 012F     		cmp	r7, #1
 974:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex = SD_CMD_READ_MULT_BLOCK;
 1088              		.loc 1 974 0
 1089 00b6 8CBF     		ite	hi
 1090 00b8 1223     		movhi	r3, #18
 979:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex = SD_CMD_READ_SINGLE_BLOCK;
 1091              		.loc 1 979 0
 1092 00ba 1123     		movls	r3, #17
 983:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 1093              		.loc 1 983 0
 1094 00bc 01A9     		add	r1, sp, #4
 1095 00be 3068     		ldr	r0, [r6]
 979:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex = SD_CMD_READ_SINGLE_BLOCK;
 1096              		.loc 1 979 0
 1097 00c0 0293     		str	r3, [sp, #8]
 982:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument = (uint32_t)ReadAddr;
 1098              		.loc 1 982 0
 1099 00c2 0194     		str	r4, [sp, #4]
 983:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 1100              		.loc 1 983 0
 1101 00c4 FFF7FEFF 		bl	SDIO_SendCommand
 1102              	.LVL115:
 986:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(NumberOfBlocks > 1)
 1103              		.loc 1 986 0
 1104 00c8 012F     		cmp	r7, #1
 988:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CmdResp1Error(hsd, SD_CMD_READ_MULT_BLOCK);
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 85


 1105              		.loc 1 988 0
 1106 00ca 3046     		mov	r0, r6
 1107 00cc 8CBF     		ite	hi
 1108 00ce 1221     		movhi	r1, #18
 992:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CmdResp1Error(hsd, SD_CMD_READ_SINGLE_BLOCK);
 1109              		.loc 1 992 0
 1110 00d0 1121     		movls	r1, #17
 1111 00d2 FFF7FEFF 		bl	SD_CmdResp1Error
 1112              	.LVL116:
 996:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->SdTransferErr = errorstate;
 1113              		.loc 1 996 0
 1114 00d6 F064     		str	r0, [r6, #76]
 1115              	.LVL117:
 1116              	.L88:
 999:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 1117              		.loc 1 999 0
 1118 00d8 0DB0     		add	sp, sp, #52
 1119              		@ sp needed
 1120 00da BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 1121              	.LVL118:
 1122              	.L97:
 1123 00de 00BF     		.align	2
 1124              	.L96:
 1125 00e0 8C852542 		.word	1109755276
 1126 00e4 00000000 		.word	SD_DMA_RxCplt
 1127 00e8 00000000 		.word	SD_DMA_RxError
 1128              		.cfi_endproc
 1129              	.LFE131:
 1131              		.section	.text.HAL_SD_WriteBlocks_DMA,"ax",%progbits
 1132              		.align	1
 1133              		.global	HAL_SD_WriteBlocks_DMA
 1134              		.thumb
 1135              		.thumb_func
 1137              	HAL_SD_WriteBlocks_DMA:
 1138              	.LFB132:
1016:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 1139              		.loc 1 1016 0
 1140              		.cfi_startproc
 1141              		@ args = 8, pretend = 0, frame = 48
 1142              		@ frame_needed = 0, uses_anonymous_args = 0
 1143              	.LVL119:
 1144 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 1145              	.LCFI8:
 1146              		.cfi_def_cfa_offset 28
 1147              		.cfi_offset 4, -28
 1148              		.cfi_offset 5, -24
 1149              		.cfi_offset 6, -20
 1150              		.cfi_offset 7, -16
 1151              		.cfi_offset 8, -12
 1152              		.cfi_offset 9, -8
 1153              		.cfi_offset 14, -4
 1154 0004 8DB0     		sub	sp, sp, #52
 1155              	.LCFI9:
 1156              		.cfi_def_cfa_offset 80
1016:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 1157              		.loc 1 1016 0
 1158 0006 1446     		mov	r4, r2
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 86


 1159 0008 159F     		ldr	r7, [sp, #84]
1022:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->Instance->DCTRL = 0;
 1160              		.loc 1 1022 0
 1161 000a 0268     		ldr	r2, [r0]
 1162              	.LVL120:
1016:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 1163              		.loc 1 1016 0
 1164 000c DDF85080 		ldr	r8, [sp, #80]
1030:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(NumberOfBlocks > 1)
 1165              		.loc 1 1030 0
 1166 0010 012F     		cmp	r7, #1
1016:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 1167              		.loc 1 1016 0
 1168 0012 1D46     		mov	r5, r3
1022:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->Instance->DCTRL = 0;
 1169              		.loc 1 1022 0
 1170 0014 4FF00003 		mov	r3, #0
 1171 0018 D362     		str	r3, [r2, #44]
1025:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->SdTransferCplt  = 0;
 1172              		.loc 1 1025 0
 1173 001a 8364     		str	r3, [r0, #72]
1026:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->DmaTransferCplt = 0;
 1174              		.loc 1 1026 0
 1175 001c 0365     		str	r3, [r0, #80]
1027:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->SdTransferErr   = SD_OK;
 1176              		.loc 1 1027 0
 1177 001e C364     		str	r3, [r0, #76]
1032:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdOperation = SD_WRITE_MULTIPLE_BLOCK;
 1178              		.loc 1 1032 0
 1179 0020 8CBF     		ite	hi
 1180 0022 0323     		movhi	r3, #3
1036:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdOperation = SD_WRITE_SINGLE_BLOCK;
 1181              		.loc 1 1036 0
 1182 0024 0223     		movls	r3, #2
 1183 0026 4365     		str	r3, [r0, #84]
 1184              	.LVL121:
1041:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_ENABLE_IT(hsd, (SDIO_IT_DCRCFAIL |\
 1185              		.loc 1 1041 0
 1186 0028 D36B     		ldr	r3, [r2, #60]
 1187 002a 43F44673 		orr	r3, r3, #792
1016:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 1188              		.loc 1 1016 0
 1189 002e 0646     		mov	r6, r0
1041:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_ENABLE_IT(hsd, (SDIO_IT_DCRCFAIL |\
 1190              		.loc 1 1041 0
 1191 0030 43F00203 		orr	r3, r3, #2
1054:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->hdmatx->XferCpltCallback  = SD_DMA_TxCplt;
 1192              		.loc 1 1054 0
 1193 0034 C06D     		ldr	r0, [r0, #92]
 1194              	.LVL122:
1041:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_ENABLE_IT(hsd, (SDIO_IT_DCRCFAIL |\
 1195              		.loc 1 1041 0
 1196 0036 D363     		str	r3, [r2, #60]
1054:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->hdmatx->XferCpltCallback  = SD_DMA_TxCplt;
 1197              		.loc 1 1054 0
 1198 0038 294B     		ldr	r3, .L112
 1199 003a C363     		str	r3, [r0, #60]
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 87


1055:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->hdmatx->XferErrorCallback = SD_DMA_TxError;
 1200              		.loc 1 1055 0
 1201 003c 294B     		ldr	r3, .L112+4
 1202 003e 8364     		str	r3, [r0, #72]
1058:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_DMA_Start_IT(hsd->hdmatx, (uint32_t)pWriteBuffer, (uint32_t)&hsd->Instance->FIFO, (uint32_t)(
 1203              		.loc 1 1058 0
 1204 0040 08FB07F3 		mul	r3, r8, r7
 1205 0044 8032     		adds	r2, r2, #128
 1206 0046 9B08     		lsrs	r3, r3, #2
 1207 0048 FFF7FEFF 		bl	HAL_DMA_Start_IT
 1208              	.LVL123:
1061:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_DMA_ENABLE();
 1209              		.loc 1 1061 0
 1210 004c 264B     		ldr	r3, .L112+8
 1211 004e 0122     		movs	r2, #1
 1212 0050 1A60     		str	r2, [r3]
1063:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (hsd->CardType == HIGH_CAPACITY_SD_CARD)
 1213              		.loc 1 1063 0
 1214 0052 336A     		ldr	r3, [r6, #32]
 1215 0054 022B     		cmp	r3, #2
 1216 0056 05D1     		bne	.L101
 1217              	.LVL124:
1066:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     WriteAddr /= 512;
 1218              		.loc 1 1066 0
 1219 0058 620A     		lsrs	r2, r4, #9
 1220 005a 42EAC552 		orr	r2, r2, r5, lsl #23
 1221 005e 1446     		mov	r4, r2
 1222              	.LVL125:
1065:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     BlockSize = 512;
 1223              		.loc 1 1065 0
 1224 0060 4FF40078 		mov	r8, #512
 1225              	.LVL126:
 1226              	.L101:
1072:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 1227              		.loc 1 1072 0
 1228 0064 4023     		movs	r3, #64
 1229 0066 0393     		str	r3, [sp, #12]
1073:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 1230              		.loc 1 1073 0
 1231 0068 0023     		movs	r3, #0
1071:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SET_BLOCKLEN;
 1232              		.loc 1 1071 0
 1233 006a 4FF01009 		mov	r9, #16
1073:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 1234              		.loc 1 1073 0
 1235 006e 0493     		str	r3, [sp, #16]
1075:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 1236              		.loc 1 1075 0
 1237 0070 01A9     		add	r1, sp, #4
1074:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 1238              		.loc 1 1074 0
 1239 0072 4FF48063 		mov	r3, #1024
1075:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 1240              		.loc 1 1075 0
 1241 0076 3068     		ldr	r0, [r6]
1070:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = (uint32_t)BlockSize;
 1242              		.loc 1 1070 0
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 88


 1243 0078 CDF80480 		str	r8, [sp, #4]
1071:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SET_BLOCKLEN;
 1244              		.loc 1 1071 0
 1245 007c CDF80890 		str	r9, [sp, #8]
1074:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 1246              		.loc 1 1074 0
 1247 0080 0593     		str	r3, [sp, #20]
1075:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 1248              		.loc 1 1075 0
 1249 0082 FFF7FEFF 		bl	SDIO_SendCommand
 1250              	.LVL127:
1078:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_CmdResp1Error(hsd, SD_CMD_SET_BLOCKLEN);
 1251              		.loc 1 1078 0
 1252 0086 3046     		mov	r0, r6
 1253 0088 4946     		mov	r1, r9
 1254 008a FFF7FEFF 		bl	SD_CmdResp1Error
 1255              	.LVL128:
1080:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (errorstate != SD_OK)
 1256              		.loc 1 1080 0
 1257 008e 20BB     		cbnz	r0, .L102
1086:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(NumberOfBlocks <= 1)
 1258              		.loc 1 1086 0
 1259 0090 012F     		cmp	r7, #1
1089:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex = SD_CMD_WRITE_SINGLE_BLOCK;
 1260              		.loc 1 1089 0
 1261 0092 94BF     		ite	ls
 1262 0094 1823     		movls	r3, #24
1094:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex = SD_CMD_WRITE_MULT_BLOCK;
 1263              		.loc 1 1094 0
 1264 0096 1923     		movhi	r3, #25
1098:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 1265              		.loc 1 1098 0
 1266 0098 01A9     		add	r1, sp, #4
 1267 009a 3068     		ldr	r0, [r6]
 1268              	.LVL129:
1094:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex = SD_CMD_WRITE_MULT_BLOCK;
 1269              		.loc 1 1094 0
 1270 009c 0293     		str	r3, [sp, #8]
1097:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = (uint32_t)WriteAddr;
 1271              		.loc 1 1097 0
 1272 009e 0194     		str	r4, [sp, #4]
1098:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 1273              		.loc 1 1098 0
 1274 00a0 FFF7FEFF 		bl	SDIO_SendCommand
 1275              	.LVL130:
1101:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(NumberOfBlocks > 1)
 1276              		.loc 1 1101 0
 1277 00a4 012F     		cmp	r7, #1
1103:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CmdResp1Error(hsd, SD_CMD_WRITE_MULT_BLOCK);
 1278              		.loc 1 1103 0
 1279 00a6 3046     		mov	r0, r6
 1280 00a8 8CBF     		ite	hi
 1281 00aa 1921     		movhi	r1, #25
1107:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CmdResp1Error(hsd, SD_CMD_WRITE_SINGLE_BLOCK);
 1282              		.loc 1 1107 0
 1283 00ac 1821     		movls	r1, #24
 1284 00ae FFF7FEFF 		bl	SD_CmdResp1Error
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 89


 1285              	.LVL131:
 1286 00b2 0446     		mov	r4, r0
 1287              	.LVL132:
1110:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (errorstate != SD_OK)
 1288              		.loc 1 1110 0
 1289 00b4 80B9     		cbnz	r0, .L108
1116:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataTimeOut   = SD_DATATIMEOUT;
 1290              		.loc 1 1116 0
 1291 00b6 4FF0FF33 		mov	r3, #-1
 1292 00ba 0693     		str	r3, [sp, #24]
1118:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataBlockSize = SDIO_DATABLOCK_SIZE_512B;
 1293              		.loc 1 1118 0
 1294 00bc 9023     		movs	r3, #144
 1295 00be 0893     		str	r3, [sp, #32]
1119:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferDir   = SDIO_TRANSFER_DIR_TO_CARD;
 1296              		.loc 1 1119 0
 1297 00c0 0990     		str	r0, [sp, #36]
1120:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
 1298              		.loc 1 1120 0
 1299 00c2 0A90     		str	r0, [sp, #40]
1121:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DPSM          = SDIO_DPSM_ENABLE;
 1300              		.loc 1 1121 0
 1301 00c4 0123     		movs	r3, #1
1117:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataLength    = BlockSize * NumberOfBlocks;
 1302              		.loc 1 1117 0
 1303 00c6 07FB08F7 		mul	r7, r7, r8
1122:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataConfig(hsd->Instance, &sdio_datainitstructure);
 1304              		.loc 1 1122 0
 1305 00ca 3068     		ldr	r0, [r6]
 1306              	.LVL133:
1117:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataLength    = BlockSize * NumberOfBlocks;
 1307              		.loc 1 1117 0
 1308 00cc 0797     		str	r7, [sp, #28]
1122:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataConfig(hsd->Instance, &sdio_datainitstructure);
 1309              		.loc 1 1122 0
 1310 00ce 06A9     		add	r1, sp, #24
1121:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DPSM          = SDIO_DPSM_ENABLE;
 1311              		.loc 1 1121 0
 1312 00d0 0B93     		str	r3, [sp, #44]
1122:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataConfig(hsd->Instance, &sdio_datainitstructure);
 1313              		.loc 1 1122 0
 1314 00d2 FFF7FEFF 		bl	SDIO_DataConfig
 1315              	.LVL134:
1124:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->SdTransferErr = errorstate;
 1316              		.loc 1 1124 0
 1317 00d6 F464     		str	r4, [r6, #76]
 1318              	.L108:
 1319 00d8 2046     		mov	r0, r4
 1320              	.LVL135:
 1321              	.L102:
1127:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 1322              		.loc 1 1127 0
 1323 00da 0DB0     		add	sp, sp, #52
 1324              		@ sp needed
 1325 00dc BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 1326              	.LVL136:
 1327              	.L113:
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 90


 1328              		.align	2
 1329              	.L112:
 1330 00e0 00000000 		.word	SD_DMA_TxCplt
 1331 00e4 00000000 		.word	SD_DMA_TxError
 1332 00e8 8C852542 		.word	1109755276
 1333              		.cfi_endproc
 1334              	.LFE132:
 1336              		.section	.text.HAL_SD_Erase,"ax",%progbits
 1337              		.align	1
 1338              		.global	HAL_SD_Erase
 1339              		.thumb
 1340              		.thumb_func
 1342              	HAL_SD_Erase:
 1343              	.LFB135:
1262:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 1344              		.loc 1 1262 0
 1345              		.cfi_startproc
 1346              		@ args = 8, pretend = 0, frame = 32
 1347              		@ frame_needed = 0, uses_anonymous_args = 0
 1348              	.LVL137:
 1349 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 1350              	.LCFI10:
 1351              		.cfi_def_cfa_offset 24
 1352              		.cfi_offset 4, -24
 1353              		.cfi_offset 5, -20
 1354              		.cfi_offset 6, -16
 1355              		.cfi_offset 7, -12
 1356              		.cfi_offset 8, -8
 1357              		.cfi_offset 14, -4
 1358 0004 8046     		mov	r8, r0
 1359 0006 1F46     		mov	r7, r3
1271:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (((hsd->CSD[1] >> 20) & SD_CCCC_ERASE) == 0)
 1360              		.loc 1 1271 0
 1361 0008 D8F82C30 		ldr	r3, [r8, #44]
1262:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 1362              		.loc 1 1262 0
 1363 000c 88B0     		sub	sp, sp, #32
 1364              	.LCFI11:
 1365              		.cfi_def_cfa_offset 56
1267:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __IO uint32_t maxdelay = 0;
 1366              		.loc 1 1267 0
 1367 000e 0020     		movs	r0, #0
 1368              	.LVL138:
1262:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 1369              		.loc 1 1262 0
 1370 0010 1646     		mov	r6, r2
1271:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (((hsd->CSD[1] >> 20) & SD_CCCC_ERASE) == 0)
 1371              		.loc 1 1271 0
 1372 0012 9A01     		lsls	r2, r3, #6
 1373              	.LVL139:
1262:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 1374              		.loc 1 1262 0
 1375 0014 DDE90E45 		ldrd	r4, [sp, #56]
1267:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __IO uint32_t maxdelay = 0;
 1376              		.loc 1 1267 0
 1377 0018 0290     		str	r0, [sp, #8]
1268:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint8_t cardstate      = 0;
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 91


 1378              		.loc 1 1268 0
 1379 001a 8DF80700 		strb	r0, [sp, #7]
1271:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (((hsd->CSD[1] >> 20) & SD_CCCC_ERASE) == 0)
 1380              		.loc 1 1271 0
 1381 001e 66D5     		bpl	.L124
1279:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   maxdelay = 120000 / (((hsd->Instance->CLKCR) & 0xFF) + 2);
 1382              		.loc 1 1279 0
 1383 0020 D8F80030 		ldr	r3, [r8]
 1384 0024 354A     		ldr	r2, .L133
 1385 0026 5B68     		ldr	r3, [r3, #4]
 1386 0028 DBB2     		uxtb	r3, r3
 1387 002a 0233     		adds	r3, r3, #2
 1388 002c B2FBF3F3 		udiv	r3, r2, r3
 1389 0030 0293     		str	r3, [sp, #8]
1281:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((SDIO_GetResponse(SDIO_RESP1) & SD_CARD_LOCKED) == SD_CARD_LOCKED)
 1390              		.loc 1 1281 0
 1391 0032 FFF7FEFF 		bl	SDIO_GetResponse
 1392              	.LVL140:
 1393 0036 8301     		lsls	r3, r0, #6
 1394 0038 5BD4     		bmi	.L125
1289:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (hsd->CardType == HIGH_CAPACITY_SD_CARD)
 1395              		.loc 1 1289 0
 1396 003a D8F82030 		ldr	r3, [r8, #32]
 1397 003e 022B     		cmp	r3, #2
 1398 0040 08D1     		bne	.L116
1291:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     startaddr /= 512;
 1399              		.loc 1 1291 0
 1400 0042 720A     		lsrs	r2, r6, #9
 1401 0044 42EAC752 		orr	r2, r2, r7, lsl #23
 1402 0048 1646     		mov	r6, r2
 1403              	.LVL141:
1292:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     endaddr   /= 512;
 1404              		.loc 1 1292 0
 1405 004a 620A     		lsrs	r2, r4, #9
 1406 004c 42EAC552 		orr	r2, r2, r5, lsl #23
 1407 0050 1446     		mov	r4, r2
 1408              	.LVL142:
 1409 0052 0FE0     		b	.L117
 1410              	.LVL143:
 1411              	.L116:
1296:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if ((hsd->CardType == STD_CAPACITY_SD_CARD_V1_1) || (hsd->CardType == STD_CAPACITY_SD_CARD_V2_0) 
 1412              		.loc 1 1296 0
 1413 0054 0ED9     		bls	.L117
 1414              	.LVL144:
 1415              	.L119:
1330:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = 0;
 1416              		.loc 1 1330 0
 1417 0056 0023     		movs	r3, #0
1331:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_ERASE;
 1418              		.loc 1 1331 0
 1419 0058 2624     		movs	r4, #38
1332:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 1420              		.loc 1 1332 0
 1421 005a 03A9     		add	r1, sp, #12
 1422 005c D8F80000 		ldr	r0, [r8]
1330:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = 0;
 1423              		.loc 1 1330 0
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 92


 1424 0060 0393     		str	r3, [sp, #12]
1331:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_ERASE;
 1425              		.loc 1 1331 0
 1426 0062 0494     		str	r4, [sp, #16]
1332:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 1427              		.loc 1 1332 0
 1428 0064 FFF7FEFF 		bl	SDIO_SendCommand
 1429              	.LVL145:
1335:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_CmdResp1Error(hsd, SD_CMD_ERASE);
 1430              		.loc 1 1335 0
 1431 0068 4046     		mov	r0, r8
 1432 006a 2146     		mov	r1, r4
 1433 006c FFF7FEFF 		bl	SD_CmdResp1Error
 1434              	.LVL146:
1337:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (errorstate != SD_OK)
 1435              		.loc 1 1337 0
 1436 0070 18B3     		cbz	r0, .L120
 1437 0072 3FE0     		b	.L115
 1438              	.LVL147:
 1439              	.L117:
1302:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 1440              		.loc 1 1302 0
 1441 0074 4023     		movs	r3, #64
 1442 0076 0593     		str	r3, [sp, #20]
1303:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 1443              		.loc 1 1303 0
 1444 0078 0023     		movs	r3, #0
1300:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Argument         =(uint32_t)startaddr;
 1445              		.loc 1 1300 0
 1446 007a 0396     		str	r6, [sp, #12]
1303:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 1447              		.loc 1 1303 0
 1448 007c 0693     		str	r3, [sp, #24]
1301:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_SD_ERASE_GRP_START;
 1449              		.loc 1 1301 0
 1450 007e 2026     		movs	r6, #32
1304:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 1451              		.loc 1 1304 0
 1452 0080 4FF48063 		mov	r3, #1024
1305:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 1453              		.loc 1 1305 0
 1454 0084 03A9     		add	r1, sp, #12
 1455 0086 D8F80000 		ldr	r0, [r8]
1301:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_SD_ERASE_GRP_START;
 1456              		.loc 1 1301 0
 1457 008a 0496     		str	r6, [sp, #16]
1304:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 1458              		.loc 1 1304 0
 1459 008c 0793     		str	r3, [sp, #28]
1305:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 1460              		.loc 1 1305 0
 1461 008e FFF7FEFF 		bl	SDIO_SendCommand
 1462              	.LVL148:
1308:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CmdResp1Error(hsd, SD_CMD_SD_ERASE_GRP_START);
 1463              		.loc 1 1308 0
 1464 0092 4046     		mov	r0, r8
 1465 0094 3146     		mov	r1, r6
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 93


 1466 0096 FFF7FEFF 		bl	SD_CmdResp1Error
 1467              	.LVL149:
1310:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if (errorstate != SD_OK)
 1468              		.loc 1 1310 0
 1469 009a 58BB     		cbnz	r0, .L115
1316:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Argument         = (uint32_t)endaddr;
 1470              		.loc 1 1316 0
 1471 009c 0394     		str	r4, [sp, #12]
1318:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 1472              		.loc 1 1318 0
 1473 009e 03A9     		add	r1, sp, #12
1317:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_SD_ERASE_GRP_END;
 1474              		.loc 1 1317 0
 1475 00a0 2124     		movs	r4, #33
1318:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 1476              		.loc 1 1318 0
 1477 00a2 D8F80000 		ldr	r0, [r8]
 1478              	.LVL150:
1317:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_SD_ERASE_GRP_END;
 1479              		.loc 1 1317 0
 1480 00a6 0494     		str	r4, [sp, #16]
1318:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 1481              		.loc 1 1318 0
 1482 00a8 FFF7FEFF 		bl	SDIO_SendCommand
 1483              	.LVL151:
1321:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CmdResp1Error(hsd, SD_CMD_SD_ERASE_GRP_END);
 1484              		.loc 1 1321 0
 1485 00ac 4046     		mov	r0, r8
 1486 00ae 2146     		mov	r1, r4
 1487 00b0 FFF7FEFF 		bl	SD_CmdResp1Error
 1488              	.LVL152:
1323:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if (errorstate != SD_OK)
 1489              		.loc 1 1323 0
 1490 00b4 0028     		cmp	r0, #0
 1491 00b6 CED0     		beq	.L119
 1492 00b8 1CE0     		b	.L115
 1493              	.LVL153:
 1494              	.L120:
1342:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   for (; delay < maxdelay; delay++)
 1495              		.loc 1 1342 0 discriminator 1
 1496 00ba 029B     		ldr	r3, [sp, #8]
 1497 00bc 9842     		cmp	r0, r3
 1498 00be 01D2     		bcs	.L132
1342:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   for (; delay < maxdelay; delay++)
 1499              		.loc 1 1342 0 is_stmt 0 discriminator 2
 1500 00c0 0130     		adds	r0, r0, #1
 1501              	.LVL154:
 1502 00c2 FAE7     		b	.L120
 1503              	.L132:
1347:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_IsCardProgramming(hsd, &cardstate);
 1504              		.loc 1 1347 0 is_stmt 1
 1505 00c4 4046     		mov	r0, r8
 1506              	.LVL155:
 1507 00c6 0DF10701 		add	r1, sp, #7
 1508 00ca FFF7FEFF 		bl	SD_IsCardProgramming
 1509              	.LVL156:
 1510 00ce 4FF0FF34 		mov	r4, #-1
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 94


 1511              	.LVL157:
 1512              	.L122:
1351:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while ((delay > 0) && (errorstate == SD_OK) && ((cardstate == SD_CARD_PROGRAMMING) || (cardstate 
 1513              		.loc 1 1351 0 discriminator 2
 1514 00d2 78B9     		cbnz	r0, .L115
1351:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while ((delay > 0) && (errorstate == SD_OK) && ((cardstate == SD_CARD_PROGRAMMING) || (cardstate 
 1515              		.loc 1 1351 0 is_stmt 0 discriminator 1
 1516 00d4 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 1517 00d8 063B     		subs	r3, r3, #6
 1518 00da 012B     		cmp	r3, #1
 1519 00dc 0AD8     		bhi	.L115
1353:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_IsCardProgramming(hsd, &cardstate);
 1520              		.loc 1 1353 0 is_stmt 1
 1521 00de 4046     		mov	r0, r8
 1522              	.LVL158:
 1523 00e0 0DF10701 		add	r1, sp, #7
 1524 00e4 FFF7FEFF 		bl	SD_IsCardProgramming
 1525              	.LVL159:
1351:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while ((delay > 0) && (errorstate == SD_OK) && ((cardstate == SD_CARD_PROGRAMMING) || (cardstate 
 1526              		.loc 1 1351 0
 1527 00e8 013C     		subs	r4, r4, #1
 1528              	.LVL160:
 1529 00ea F2D1     		bne	.L122
 1530 00ec 02E0     		b	.L115
 1531              	.LVL161:
 1532              	.L124:
1275:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 1533              		.loc 1 1275 0
 1534 00ee 2520     		movs	r0, #37
 1535 00f0 00E0     		b	.L115
 1536              	.L125:
1285:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 1537              		.loc 1 1285 0
 1538 00f2 0E20     		movs	r0, #14
 1539              	.LVL162:
 1540              	.L115:
1358:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 1541              		.loc 1 1358 0
 1542 00f4 08B0     		add	sp, sp, #32
 1543              		@ sp needed
 1544 00f6 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1545              	.LVL163:
 1546              	.L134:
 1547 00fa 00BF     		.align	2
 1548              	.L133:
 1549 00fc C0D40100 		.word	120000
 1550              		.cfi_endproc
 1551              	.LFE135:
 1553              		.section	.text.HAL_SD_XferCpltCallback,"ax",%progbits
 1554              		.align	1
 1555              		.weak	HAL_SD_XferCpltCallback
 1556              		.thumb
 1557              		.thumb_func
 1559              	HAL_SD_XferCpltCallback:
 1560              	.LFB137:
1447:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 1561              		.loc 1 1447 0
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 95


 1562              		.cfi_startproc
 1563              		@ args = 0, pretend = 0, frame = 0
 1564              		@ frame_needed = 0, uses_anonymous_args = 0
 1565              		@ link register save eliminated.
 1566              	.LVL164:
 1567 0000 7047     		bx	lr
 1568              		.cfi_endproc
 1569              	.LFE137:
 1571              		.section	.text.HAL_SD_XferErrorCallback,"ax",%progbits
 1572              		.align	1
 1573              		.weak	HAL_SD_XferErrorCallback
 1574              		.thumb
 1575              		.thumb_func
 1577              	HAL_SD_XferErrorCallback:
 1578              	.LFB138:
1461:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 1579              		.loc 1 1461 0
 1580              		.cfi_startproc
 1581              		@ args = 0, pretend = 0, frame = 0
 1582              		@ frame_needed = 0, uses_anonymous_args = 0
 1583              		@ link register save eliminated.
 1584              	.LVL165:
 1585 0000 7047     		bx	lr
 1586              		.cfi_endproc
 1587              	.LFE138:
 1589              		.section	.text.HAL_SD_IRQHandler,"ax",%progbits
 1590              		.align	1
 1591              		.global	HAL_SD_IRQHandler
 1592              		.thumb
 1593              		.thumb_func
 1595              	HAL_SD_IRQHandler:
 1596              	.LFB136:
1366:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {  
 1597              		.loc 1 1366 0
 1598              		.cfi_startproc
 1599              		@ args = 0, pretend = 0, frame = 0
 1600              		@ frame_needed = 0, uses_anonymous_args = 0
 1601              	.LVL166:
1368:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_IT_DATAEND))
 1602              		.loc 1 1368 0
 1603 0000 0368     		ldr	r3, [r0]
 1604 0002 5A6B     		ldr	r2, [r3, #52]
 1605 0004 D105     		lsls	r1, r2, #23
1366:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {  
 1606              		.loc 1 1366 0
 1607 0006 10B5     		push	{r4, lr}
 1608              	.LCFI12:
 1609              		.cfi_def_cfa_offset 8
 1610              		.cfi_offset 4, -8
 1611              		.cfi_offset 14, -4
1366:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {  
 1612              		.loc 1 1366 0
 1613 0008 0446     		mov	r4, r0
1368:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_IT_DATAEND))
 1614              		.loc 1 1368 0
 1615 000a 09D5     		bpl	.L138
1370:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_IT_DATAEND);  
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 96


 1616              		.loc 1 1370 0
 1617 000c 4FF48072 		mov	r2, #256
 1618 0010 9A63     		str	r2, [r3, #56]
1373:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdTransferCplt = 1;
 1619              		.loc 1 1373 0
 1620 0012 0123     		movs	r3, #1
 1621 0014 8364     		str	r3, [r0, #72]
1376:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdTransferErr  = SD_OK;
 1622              		.loc 1 1376 0
 1623 0016 0023     		movs	r3, #0
 1624 0018 C364     		str	r3, [r0, #76]
1378:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     HAL_SD_XferCpltCallback(hsd);  
 1625              		.loc 1 1378 0
 1626 001a FFF7FEFF 		bl	HAL_SD_XferCpltCallback
 1627              	.LVL167:
 1628 001e 25E0     		b	.L139
 1629              	.LVL168:
 1630              	.L138:
1380:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_IT_DCRCFAIL))
 1631              		.loc 1 1380 0
 1632 0020 5A6B     		ldr	r2, [r3, #52]
 1633 0022 9207     		lsls	r2, r2, #30
 1634 0024 03D5     		bpl	.L140
1382:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_DCRCFAIL);
 1635              		.loc 1 1382 0
 1636 0026 0222     		movs	r2, #2
 1637 0028 9A63     		str	r2, [r3, #56]
1384:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdTransferErr = SD_DATA_CRC_FAIL;
 1638              		.loc 1 1384 0
 1639 002a C264     		str	r2, [r0, #76]
 1640 002c 1CE0     		b	.L147
 1641              	.L140:
1389:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_IT_DTIMEOUT))
 1642              		.loc 1 1389 0
 1643 002e 5A6B     		ldr	r2, [r3, #52]
 1644 0030 1107     		lsls	r1, r2, #28
 1645 0032 03D5     		bpl	.L141
1391:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_DTIMEOUT);
 1646              		.loc 1 1391 0
 1647 0034 0822     		movs	r2, #8
 1648 0036 9A63     		str	r2, [r3, #56]
1393:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdTransferErr = SD_DATA_TIMEOUT;
 1649              		.loc 1 1393 0
 1650 0038 0423     		movs	r3, #4
 1651 003a 14E0     		b	.L148
 1652              	.L141:
1397:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_IT_RXOVERR))
 1653              		.loc 1 1397 0
 1654 003c 5A6B     		ldr	r2, [r3, #52]
 1655 003e 9206     		lsls	r2, r2, #26
 1656 0040 03D5     		bpl	.L142
1399:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_RXOVERR);
 1657              		.loc 1 1399 0
 1658 0042 2022     		movs	r2, #32
 1659 0044 9A63     		str	r2, [r3, #56]
1401:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdTransferErr = SD_RX_OVERRUN;
 1660              		.loc 1 1401 0
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 97


 1661 0046 0623     		movs	r3, #6
 1662 0048 0DE0     		b	.L148
 1663              	.L142:
1405:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_IT_TXUNDERR))
 1664              		.loc 1 1405 0
 1665 004a 5A6B     		ldr	r2, [r3, #52]
 1666 004c D106     		lsls	r1, r2, #27
 1667 004e 03D5     		bpl	.L143
1407:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_TXUNDERR);
 1668              		.loc 1 1407 0
 1669 0050 1022     		movs	r2, #16
 1670 0052 9A63     		str	r2, [r3, #56]
1409:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdTransferErr = SD_TX_UNDERRUN;
 1671              		.loc 1 1409 0
 1672 0054 0523     		movs	r3, #5
 1673 0056 06E0     		b	.L148
 1674              	.L143:
1414:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_IT_STBITERR))
 1675              		.loc 1 1414 0
 1676 0058 5A6B     		ldr	r2, [r3, #52]
 1677 005a 9205     		lsls	r2, r2, #22
 1678 005c 06D5     		bpl	.L139
1416:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_STBITERR);
 1679              		.loc 1 1416 0
 1680 005e 4FF40072 		mov	r2, #512
 1681 0062 9A63     		str	r2, [r3, #56]
1418:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdTransferErr = SD_START_BIT_ERR;
 1682              		.loc 1 1418 0
 1683 0064 0723     		movs	r3, #7
 1684              	.L148:
 1685 0066 E364     		str	r3, [r4, #76]
 1686              	.L147:
1420:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     HAL_SD_XferErrorCallback(hsd);
 1687              		.loc 1 1420 0
 1688 0068 FFF7FEFF 		bl	HAL_SD_XferErrorCallback
 1689              	.LVL169:
 1690              	.L139:
1430:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_DISABLE_IT(hsd, SDIO_IT_DCRCFAIL | SDIO_IT_DTIMEOUT | SDIO_IT_DATAEND  |\
 1691              		.loc 1 1430 0
 1692 006c 2268     		ldr	r2, [r4]
 1693 006e D36B     		ldr	r3, [r2, #60]
 1694 0070 23F44343 		bic	r3, r3, #49920
 1695 0074 23F03A03 		bic	r3, r3, #58
 1696 0078 D363     		str	r3, [r2, #60]
 1697 007a 10BD     		pop	{r4, pc}
 1698              		.cfi_endproc
 1699              	.LFE136:
 1701              		.section	.text.HAL_SD_DMA_RxCpltCallback,"ax",%progbits
 1702              		.align	1
 1703              		.weak	HAL_SD_DMA_RxCpltCallback
 1704              		.thumb
 1705              		.thumb_func
 1707              	HAL_SD_DMA_RxCpltCallback:
 1708              	.LFB139:
1476:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 1709              		.loc 1 1476 0
 1710              		.cfi_startproc
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 98


 1711              		@ args = 0, pretend = 0, frame = 0
 1712              		@ frame_needed = 0, uses_anonymous_args = 0
 1713              		@ link register save eliminated.
 1714              	.LVL170:
 1715 0000 7047     		bx	lr
 1716              		.cfi_endproc
 1717              	.LFE139:
 1719              		.section	.text.SD_DMA_RxCplt,"ax",%progbits
 1720              		.align	1
 1721              		.thumb
 1722              		.thumb_func
 1724              	SD_DMA_RxCplt:
 1725              	.LFB150:
2287:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 1726              		.loc 1 2287 0
 1727              		.cfi_startproc
 1728              		@ args = 0, pretend = 0, frame = 0
 1729              		@ frame_needed = 0, uses_anonymous_args = 0
 1730              	.LVL171:
2287:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 1731              		.loc 1 2287 0
 1732 0000 10B5     		push	{r4, lr}
 1733              	.LCFI13:
 1734              		.cfi_def_cfa_offset 8
 1735              		.cfi_offset 4, -8
 1736              		.cfi_offset 14, -4
2288:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SD_HandleTypeDef *hsd = (SD_HandleTypeDef*)((DMA_HandleTypeDef*)hdma)->Parent;
 1737              		.loc 1 2288 0
 1738 0002 846B     		ldr	r4, [r0, #56]
 1739              	.LVL172:
2291:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->DmaTransferCplt = 1;
 1740              		.loc 1 2291 0
 1741 0004 0123     		movs	r3, #1
 1742 0006 2365     		str	r3, [r4, #80]
 1743              	.L152:
2294:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while(hsd->SdTransferCplt == 0)
 1744              		.loc 1 2294 0 discriminator 1
 1745 0008 A36C     		ldr	r3, [r4, #72]
 1746 000a 002B     		cmp	r3, #0
 1747 000c FCD0     		beq	.L152
2299:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_DMA_Abort(hdma);
 1748              		.loc 1 2299 0
 1749 000e FFF7FEFF 		bl	HAL_DMA_Abort
 1750              	.LVL173:
2302:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_DMA_RxCpltCallback(hsd->hdmarx);   
 1751              		.loc 1 2302 0
 1752 0012 A06D     		ldr	r0, [r4, #88]
 1753 0014 FFF7FEFF 		bl	HAL_SD_DMA_RxCpltCallback
 1754              	.LVL174:
 1755 0018 10BD     		pop	{r4, pc}
 1756              		.cfi_endproc
 1757              	.LFE150:
 1759              		.section	.text.HAL_SD_DMA_RxErrorCallback,"ax",%progbits
 1760              		.align	1
 1761              		.weak	HAL_SD_DMA_RxErrorCallback
 1762              		.thumb
 1763              		.thumb_func
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 99


 1765              	HAL_SD_DMA_RxErrorCallback:
 1766              	.LFB140:
1491:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 1767              		.loc 1 1491 0
 1768              		.cfi_startproc
 1769              		@ args = 0, pretend = 0, frame = 0
 1770              		@ frame_needed = 0, uses_anonymous_args = 0
 1771              		@ link register save eliminated.
 1772              	.LVL175:
 1773 0000 7047     		bx	lr
 1774              		.cfi_endproc
 1775              	.LFE140:
 1777              		.section	.text.SD_DMA_RxError,"ax",%progbits
 1778              		.align	1
 1779              		.thumb
 1780              		.thumb_func
 1782              	SD_DMA_RxError:
 1783              	.LFB151:
2312:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 1784              		.loc 1 2312 0
 1785              		.cfi_startproc
 1786              		@ args = 0, pretend = 0, frame = 0
 1787              		@ frame_needed = 0, uses_anonymous_args = 0
 1788              	.LVL176:
2312:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 1789              		.loc 1 2312 0
 1790 0000 08B5     		push	{r3, lr}
 1791              	.LCFI14:
 1792              		.cfi_def_cfa_offset 8
 1793              		.cfi_offset 3, -8
 1794              		.cfi_offset 14, -4
2316:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_DMA_RxErrorCallback(hsd->hdmarx);
 1795              		.loc 1 2316 0
 1796 0002 836B     		ldr	r3, [r0, #56]
 1797 0004 986D     		ldr	r0, [r3, #88]
 1798              	.LVL177:
 1799 0006 FFF7FEFF 		bl	HAL_SD_DMA_RxErrorCallback
 1800              	.LVL178:
 1801 000a 08BD     		pop	{r3, pc}
 1802              		.cfi_endproc
 1803              	.LFE151:
 1805              		.section	.text.HAL_SD_DMA_TxCpltCallback,"ax",%progbits
 1806              		.align	1
 1807              		.weak	HAL_SD_DMA_TxCpltCallback
 1808              		.thumb
 1809              		.thumb_func
 1811              	HAL_SD_DMA_TxCpltCallback:
 1812              	.LFB141:
1506:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 1813              		.loc 1 1506 0
 1814              		.cfi_startproc
 1815              		@ args = 0, pretend = 0, frame = 0
 1816              		@ frame_needed = 0, uses_anonymous_args = 0
 1817              		@ link register save eliminated.
 1818              	.LVL179:
 1819 0000 7047     		bx	lr
 1820              		.cfi_endproc
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 100


 1821              	.LFE141:
 1823              		.section	.text.SD_DMA_TxCplt,"ax",%progbits
 1824              		.align	1
 1825              		.thumb
 1826              		.thumb_func
 1828              	SD_DMA_TxCplt:
 1829              	.LFB152:
2326:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 1830              		.loc 1 2326 0
 1831              		.cfi_startproc
 1832              		@ args = 0, pretend = 0, frame = 0
 1833              		@ frame_needed = 0, uses_anonymous_args = 0
 1834              	.LVL180:
2326:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 1835              		.loc 1 2326 0
 1836 0000 10B5     		push	{r4, lr}
 1837              	.LCFI15:
 1838              		.cfi_def_cfa_offset 8
 1839              		.cfi_offset 4, -8
 1840              		.cfi_offset 14, -4
2327:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SD_HandleTypeDef *hsd = (SD_HandleTypeDef*)((DMA_HandleTypeDef*)hdma)->Parent;
 1841              		.loc 1 2327 0
 1842 0002 846B     		ldr	r4, [r0, #56]
 1843              	.LVL181:
2330:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->DmaTransferCplt = 1;
 1844              		.loc 1 2330 0
 1845 0004 0123     		movs	r3, #1
 1846 0006 2365     		str	r3, [r4, #80]
 1847              	.L158:
2333:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while(hsd->SdTransferCplt == 0)
 1848              		.loc 1 2333 0 discriminator 1
 1849 0008 A36C     		ldr	r3, [r4, #72]
 1850 000a 002B     		cmp	r3, #0
 1851 000c FCD0     		beq	.L158
2338:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_DMA_Abort(hdma);
 1852              		.loc 1 2338 0
 1853 000e FFF7FEFF 		bl	HAL_DMA_Abort
 1854              	.LVL182:
2341:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_DMA_TxCpltCallback(hsd->hdmatx);  
 1855              		.loc 1 2341 0
 1856 0012 E06D     		ldr	r0, [r4, #92]
 1857 0014 FFF7FEFF 		bl	HAL_SD_DMA_TxCpltCallback
 1858              	.LVL183:
 1859 0018 10BD     		pop	{r4, pc}
 1860              		.cfi_endproc
 1861              	.LFE152:
 1863              		.section	.text.HAL_SD_DMA_TxErrorCallback,"ax",%progbits
 1864              		.align	1
 1865              		.weak	HAL_SD_DMA_TxErrorCallback
 1866              		.thumb
 1867              		.thumb_func
 1869              	HAL_SD_DMA_TxErrorCallback:
 1870              	.LFB142:
1521:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 1871              		.loc 1 1521 0
 1872              		.cfi_startproc
 1873              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 101


 1874              		@ frame_needed = 0, uses_anonymous_args = 0
 1875              		@ link register save eliminated.
 1876              	.LVL184:
 1877 0000 7047     		bx	lr
 1878              		.cfi_endproc
 1879              	.LFE142:
 1881              		.section	.text.SD_DMA_TxError,"ax",%progbits
 1882              		.align	1
 1883              		.thumb
 1884              		.thumb_func
 1886              	SD_DMA_TxError:
 1887              	.LFB153:
2351:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 1888              		.loc 1 2351 0
 1889              		.cfi_startproc
 1890              		@ args = 0, pretend = 0, frame = 0
 1891              		@ frame_needed = 0, uses_anonymous_args = 0
 1892              	.LVL185:
2351:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 1893              		.loc 1 2351 0
 1894 0000 08B5     		push	{r3, lr}
 1895              	.LCFI16:
 1896              		.cfi_def_cfa_offset 8
 1897              		.cfi_offset 3, -8
 1898              		.cfi_offset 14, -4
2355:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_DMA_TxErrorCallback(hsd->hdmatx);
 1899              		.loc 1 2355 0
 1900 0002 836B     		ldr	r3, [r0, #56]
 1901 0004 D86D     		ldr	r0, [r3, #92]
 1902              	.LVL186:
 1903 0006 FFF7FEFF 		bl	HAL_SD_DMA_TxErrorCallback
 1904              	.LVL187:
 1905 000a 08BD     		pop	{r3, pc}
 1906              		.cfi_endproc
 1907              	.LFE153:
 1909              		.section	.text.HAL_SD_Get_CardInfo,"ax",%progbits
 1910              		.align	1
 1911              		.global	HAL_SD_Get_CardInfo
 1912              		.thumb
 1913              		.thumb_func
 1915              	HAL_SD_Get_CardInfo:
 1916              	.LFB143:
1556:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 1917              		.loc 1 1556 0
 1918              		.cfi_startproc
 1919              		@ args = 0, pretend = 0, frame = 0
 1920              		@ frame_needed = 0, uses_anonymous_args = 0
 1921              	.LVL188:
1560:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->CardType = (uint8_t)(hsd->CardType);
 1922              		.loc 1 1560 0
 1923 0000 036A     		ldr	r3, [r0, #32]
 1924 0002 81F85630 		strb	r3, [r1, #86]
1561:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->RCA      = (uint16_t)(hsd->RCA);
 1925              		.loc 1 1561 0
 1926 0006 436A     		ldr	r3, [r0, #36]
 1927 0008 A1F85430 		strh	r3, [r1, #84]	@ movhi
1564:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (hsd->CSD[0] & 0xFF000000) >> 24;
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 102


 1928              		.loc 1 1564 0
 1929 000c 90F82B30 		ldrb	r3, [r0, #43]	@ zero_extendqisi2
 1930              	.LVL189:
1565:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.CSDStruct      = (uint8_t)((tmp & 0xC0) >> 6);
 1931              		.loc 1 1565 0
 1932 0010 9A09     		lsrs	r2, r3, #6
 1933 0012 0A70     		strb	r2, [r1]
1566:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.SysSpecVersion = (uint8_t)((tmp & 0x3C) >> 2);
 1934              		.loc 1 1566 0
 1935 0014 C3F38302 		ubfx	r2, r3, #2, #4
1567:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.Reserved1      = tmp & 0x03;
 1936              		.loc 1 1567 0
 1937 0018 03F00303 		and	r3, r3, #3
 1938              	.LVL190:
1566:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.SysSpecVersion = (uint8_t)((tmp & 0x3C) >> 2);
 1939              		.loc 1 1566 0
 1940 001c 4A70     		strb	r2, [r1, #1]
1567:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.Reserved1      = tmp & 0x03;
 1941              		.loc 1 1567 0
 1942 001e 8B70     		strb	r3, [r1, #2]
 1943              	.LVL191:
1571:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.TAAC = (uint8_t)tmp;
 1944              		.loc 1 1571 0
 1945 0020 90F82A30 		ldrb	r3, [r0, #42]	@ zero_extendqisi2
 1946 0024 CB70     		strb	r3, [r1, #3]
 1947              	.LVL192:
1575:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.NSAC = (uint8_t)tmp;
 1948              		.loc 1 1575 0
 1949 0026 90F82930 		ldrb	r3, [r0, #41]	@ zero_extendqisi2
 1950 002a 0B71     		strb	r3, [r1, #4]
 1951              	.LVL193:
1579:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.MaxBusClkFrec = (uint8_t)tmp;
 1952              		.loc 1 1579 0
 1953 002c 90F82830 		ldrb	r3, [r0, #40]	@ zero_extendqisi2
 1954 0030 4B71     		strb	r3, [r1, #5]
 1955              	.LVL194:
1582:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (hsd->CSD[1] & 0xFF000000) >> 24;
 1956              		.loc 1 1582 0
 1957 0032 C36A     		ldr	r3, [r0, #44]
 1958              	.LVL195:
 1959 0034 1A0E     		lsrs	r2, r3, #24
 1960              	.LVL196:
1583:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.CardComdClasses = (uint16_t)(tmp << 4);
 1961              		.loc 1 1583 0
 1962 0036 1201     		lsls	r2, r2, #4
 1963              	.LVL197:
 1964 0038 CA80     		strh	r2, [r1, #6]	@ movhi
1587:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.CardComdClasses |= (uint16_t)((tmp & 0xF0) >> 4);
 1965              		.loc 1 1587 0
 1966 003a CA88     		ldrh	r2, [r1, #6]
1586:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (hsd->CSD[1] & 0x00FF0000) >> 16;
 1967              		.loc 1 1586 0
 1968 003c C3F30743 		ubfx	r3, r3, #16, #8
 1969              	.LVL198:
1587:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.CardComdClasses |= (uint16_t)((tmp & 0xF0) >> 4);
 1970              		.loc 1 1587 0
 1971 0040 92B2     		uxth	r2, r2
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 103


 1972 0042 42EA1312 		orr	r2, r2, r3, lsr #4
1588:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.RdBlockLen       = (uint8_t)(tmp & 0x0F);
 1973              		.loc 1 1588 0
 1974 0046 03F00F03 		and	r3, r3, #15
 1975              	.LVL199:
1587:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.CardComdClasses |= (uint16_t)((tmp & 0xF0) >> 4);
 1976              		.loc 1 1587 0
 1977 004a CA80     		strh	r2, [r1, #6]	@ movhi
1588:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.RdBlockLen       = (uint8_t)(tmp & 0x0F);
 1978              		.loc 1 1588 0
 1979 004c 0B72     		strb	r3, [r1, #8]
 1980              	.LVL200:
1556:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 1981              		.loc 1 1556 0
 1982 004e 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 1983              	.LCFI17:
 1984              		.cfi_def_cfa_offset 24
 1985              		.cfi_offset 4, -24
 1986              		.cfi_offset 5, -20
 1987              		.cfi_offset 6, -16
 1988              		.cfi_offset 7, -12
 1989              		.cfi_offset 8, -8
 1990              		.cfi_offset 14, -4
1591:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (hsd->CSD[1] & 0x0000FF00) >> 8;
 1991              		.loc 1 1591 0
 1992 0052 90F82D70 		ldrb	r7, [r0, #45]	@ zero_extendqisi2
 1993              	.LVL201:
1592:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.PartBlockRead   = (uint8_t)((tmp & 0x80) >> 7);
 1994              		.loc 1 1592 0
 1995 0056 FB09     		lsrs	r3, r7, #7
 1996 0058 4B72     		strb	r3, [r1, #9]
1593:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.WrBlockMisalign = (uint8_t)((tmp & 0x40) >> 6);
 1997              		.loc 1 1593 0
 1998 005a C7F38013 		ubfx	r3, r7, #6, #1
 1999 005e 8B72     		strb	r3, [r1, #10]
1594:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.RdBlockMisalign = (uint8_t)((tmp & 0x20) >> 5);
 2000              		.loc 1 1594 0
 2001 0060 C7F34013 		ubfx	r3, r7, #5, #1
 2002 0064 CB72     		strb	r3, [r1, #11]
1556:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 2003              		.loc 1 1556 0
 2004 0066 0646     		mov	r6, r0
1595:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.DSRImpl         = (uint8_t)((tmp & 0x10) >> 4);
 2005              		.loc 1 1595 0
 2006 0068 C7F30013 		ubfx	r3, r7, #4, #1
1596:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.Reserved2       = 0; /*!< Reserved */
 2007              		.loc 1 1596 0
 2008 006c 0020     		movs	r0, #0
 2009              	.LVL202:
1595:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.DSRImpl         = (uint8_t)((tmp & 0x10) >> 4);
 2010              		.loc 1 1595 0
 2011 006e 0B73     		strb	r3, [r1, #12]
1596:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.Reserved2       = 0; /*!< Reserved */
 2012              		.loc 1 1596 0
 2013 0070 4873     		strb	r0, [r1, #13]
1598:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if ((hsd->CardType == STD_CAPACITY_SD_CARD_V1_1) || (hsd->CardType == STD_CAPACITY_SD_CARD_V2_0))
 2014              		.loc 1 1598 0
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 104


 2015 0072 336A     		ldr	r3, [r6, #32]
 2016 0074 012B     		cmp	r3, #1
 2017 0076 41D8     		bhi	.L162
1600:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->SD_csd.DeviceSize = (tmp & 0x03) << 10;
 2018              		.loc 1 1600 0
 2019 0078 07F00307 		and	r7, r7, #3
 2020              	.LVL203:
 2021 007c BF02     		lsls	r7, r7, #10
 2022 007e 0F61     		str	r7, [r1, #16]
 2023              	.LVL204:
1604:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->SD_csd.DeviceSize |= (tmp) << 2;
 2024              		.loc 1 1604 0
 2025 0080 0B69     		ldr	r3, [r1, #16]
1603:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tmp = (uint8_t)(hsd->CSD[1] & 0x000000FF);
 2026              		.loc 1 1603 0
 2027 0082 96F82C20 		ldrb	r2, [r6, #44]	@ zero_extendqisi2
1604:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->SD_csd.DeviceSize |= (tmp) << 2;
 2028              		.loc 1 1604 0
 2029 0086 43EA8203 		orr	r3, r3, r2, lsl #2
 2030 008a 0B61     		str	r3, [r1, #16]
 2031              	.LVL205:
1608:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->SD_csd.DeviceSize |= (tmp & 0xC0) >> 6;
 2032              		.loc 1 1608 0
 2033 008c 0A69     		ldr	r2, [r1, #16]
1607:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tmp = (uint8_t)((hsd->CSD[2] & 0xFF000000) >> 24);
 2034              		.loc 1 1607 0
 2035 008e 96F83330 		ldrb	r3, [r6, #51]	@ zero_extendqisi2
 2036              	.LVL206:
1608:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->SD_csd.DeviceSize |= (tmp & 0xC0) >> 6;
 2037              		.loc 1 1608 0
 2038 0092 42EA9312 		orr	r2, r2, r3, lsr #6
 2039 0096 0A61     		str	r2, [r1, #16]
1610:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->SD_csd.MaxRdCurrentVDDMin = (tmp & 0x38) >> 3;
 2040              		.loc 1 1610 0
 2041 0098 C3F3C202 		ubfx	r2, r3, #3, #3
1611:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->SD_csd.MaxRdCurrentVDDMax = (tmp & 0x07);
 2042              		.loc 1 1611 0
 2043 009c 03F00703 		and	r3, r3, #7
 2044              	.LVL207:
1610:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->SD_csd.MaxRdCurrentVDDMin = (tmp & 0x38) >> 3;
 2045              		.loc 1 1610 0
 2046 00a0 0A75     		strb	r2, [r1, #20]
 2047              	.LVL208:
1611:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->SD_csd.MaxRdCurrentVDDMax = (tmp & 0x07);
 2048              		.loc 1 1611 0
 2049 00a2 4B75     		strb	r3, [r1, #21]
1614:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tmp = (uint8_t)((hsd->CSD[2] & 0x00FF0000) >> 16);
 2050              		.loc 1 1614 0
 2051 00a4 96F83230 		ldrb	r3, [r6, #50]	@ zero_extendqisi2
 2052              	.LVL209:
1615:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->SD_csd.MaxWrCurrentVDDMin = (tmp & 0xE0) >> 5;
 2053              		.loc 1 1615 0
 2054 00a8 5A09     		lsrs	r2, r3, #5
 2055 00aa 8A75     		strb	r2, [r1, #22]
1616:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->SD_csd.MaxWrCurrentVDDMax = (tmp & 0x1C) >> 2;
 2056              		.loc 1 1616 0
 2057 00ac C3F38202 		ubfx	r2, r3, #2, #3
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 105


1617:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->SD_csd.DeviceSizeMul      = (tmp & 0x03) << 1;
 2058              		.loc 1 1617 0
 2059 00b0 03F00303 		and	r3, r3, #3
 2060              	.LVL210:
 2061 00b4 5B00     		lsls	r3, r3, #1
1616:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->SD_csd.MaxWrCurrentVDDMax = (tmp & 0x1C) >> 2;
 2062              		.loc 1 1616 0
 2063 00b6 CA75     		strb	r2, [r1, #23]
1617:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->SD_csd.DeviceSizeMul      = (tmp & 0x03) << 1;
 2064              		.loc 1 1617 0
 2065 00b8 0B76     		strb	r3, [r1, #24]
1620:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->SD_csd.DeviceSizeMul |= (tmp & 0x80) >> 7;
 2066              		.loc 1 1620 0
 2067 00ba 0B7E     		ldrb	r3, [r1, #24]	@ zero_extendqisi2
1619:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tmp = (uint8_t)((hsd->CSD[2] & 0x0000FF00) >> 8);
 2068              		.loc 1 1619 0
 2069 00bc 96F83170 		ldrb	r7, [r6, #49]	@ zero_extendqisi2
 2070              	.LVL211:
1620:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->SD_csd.DeviceSizeMul |= (tmp & 0x80) >> 7;
 2071              		.loc 1 1620 0
 2072 00c0 43EAD713 		orr	r3, r3, r7, lsr #7
 2073 00c4 0B76     		strb	r3, [r1, #24]
1622:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->CardCapacity  = (pCardInfo->SD_csd.DeviceSize + 1) ;
 2074              		.loc 1 1622 0
 2075 00c6 D1F81080 		ldr	r8, [r1, #16]
1623:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->CardCapacity *= (1 << (pCardInfo->SD_csd.DeviceSizeMul + 2));
 2076              		.loc 1 1623 0
 2077 00ca 0A7E     		ldrb	r2, [r1, #24]	@ zero_extendqisi2
1624:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->CardBlockSize = 1 << (pCardInfo->SD_csd.RdBlockLen);
 2078              		.loc 1 1624 0
 2079 00cc 91F808C0 		ldrb	ip, [r1, #8]	@ zero_extendqisi2
 2080 00d0 0123     		movs	r3, #1
1623:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->CardCapacity *= (1 << (pCardInfo->SD_csd.DeviceSizeMul + 2));
 2081              		.loc 1 1623 0
 2082 00d2 0232     		adds	r2, r2, #2
1624:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->CardBlockSize = 1 << (pCardInfo->SD_csd.RdBlockLen);
 2083              		.loc 1 1624 0
 2084 00d4 03FA0CFC 		lsl	ip, r3, ip
1623:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->CardCapacity *= (1 << (pCardInfo->SD_csd.DeviceSizeMul + 2));
 2085              		.loc 1 1623 0
 2086 00d8 03FA02F2 		lsl	r2, r3, r2
 2087 00dc D517     		asrs	r5, r2, #31
 2088 00de A2FB0C23 		umull	r2, r3, r2, ip
 2089 00e2 0CFB0533 		mla	r3, ip, r5, r3
1624:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->CardBlockSize = 1 << (pCardInfo->SD_csd.RdBlockLen);
 2090              		.loc 1 1624 0
 2091 00e6 C1F850C0 		str	ip, [r1, #80]
1622:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->CardCapacity  = (pCardInfo->SD_csd.DeviceSize + 1) ;
 2092              		.loc 1 1622 0
 2093 00ea 08F1010C 		add	ip, r8, #1
1625:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->CardCapacity *= pCardInfo->CardBlockSize;
 2094              		.loc 1 1625 0
 2095 00ee A2FB0C45 		umull	r4, r5, r2, ip
 2096 00f2 0CFB0355 		mla	r5, ip, r3, r5
 2097 00f6 C1E91245 		strd	r4, [r1, #72]
 2098 00fa 23E0     		b	.L163
 2099              	.L162:
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 106


1627:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if (hsd->CardType == HIGH_CAPACITY_SD_CARD)
 2100              		.loc 1 1627 0
 2101 00fc 022B     		cmp	r3, #2
 2102 00fe 20D1     		bne	.L164
 2103              	.LVL212:
1631:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->SD_csd.DeviceSize = (tmp & 0x3F) << 16;
 2104              		.loc 1 1631 0
 2105 0100 F36A     		ldr	r3, [r6, #44]
1634:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tmp = (uint8_t)((hsd->CSD[2] & 0xFF000000) >> 24);
 2106              		.loc 1 1634 0
 2107 0102 376B     		ldr	r7, [r6, #48]
 2108              	.LVL213:
1631:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->SD_csd.DeviceSize = (tmp & 0x3F) << 16;
 2109              		.loc 1 1631 0
 2110 0104 03F03F03 		and	r3, r3, #63
 2111 0108 1B04     		lsls	r3, r3, #16
 2112 010a 0B61     		str	r3, [r1, #16]
1636:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->SD_csd.DeviceSize |= (tmp << 8);
 2113              		.loc 1 1636 0
 2114 010c 0B69     		ldr	r3, [r1, #16]
1634:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tmp = (uint8_t)((hsd->CSD[2] & 0xFF000000) >> 24);
 2115              		.loc 1 1634 0
 2116 010e 3A0E     		lsrs	r2, r7, #24
 2117              	.LVL214:
1636:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->SD_csd.DeviceSize |= (tmp << 8);
 2118              		.loc 1 1636 0
 2119 0110 43EA0223 		orr	r3, r3, r2, lsl #8
 2120 0114 0B61     		str	r3, [r1, #16]
 2121              	.LVL215:
1641:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->SD_csd.DeviceSize |= (tmp);
 2122              		.loc 1 1641 0
 2123 0116 0B69     		ldr	r3, [r1, #16]
1639:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tmp = (uint8_t)((hsd->CSD[2] & 0x00FF0000) >> 16);
 2124              		.loc 1 1639 0
 2125 0118 C7F30742 		ubfx	r2, r7, #16, #8
1641:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->SD_csd.DeviceSize |= (tmp);
 2126              		.loc 1 1641 0
 2127 011c 1343     		orrs	r3, r3, r2
 2128 011e 0B61     		str	r3, [r1, #16]
1646:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->CardCapacity = (uint64_t)((((uint64_t)pCardInfo->SD_csd.DeviceSize + 1)) * 512 * 102
 2129              		.loc 1 1646 0
 2130 0120 0A69     		ldr	r2, [r1, #16]
 2131 0122 0023     		movs	r3, #0
 2132 0124 0132     		adds	r2, r2, #1
 2133 0126 43F10003 		adc	r3, r3, #0
 2134 012a DB04     		lsls	r3, r3, #19
 2135 012c 43EA5233 		orr	r3, r3, r2, lsr #13
 2136 0130 CB64     		str	r3, [r1, #76]
 2137 0132 D204     		lsls	r2, r2, #19
1647:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->CardBlockSize = 512;    
 2138              		.loc 1 1647 0
 2139 0134 4FF40073 		mov	r3, #512
1644:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tmp = (uint8_t)((hsd->CSD[2] & 0x0000FF00) >> 8);
 2140              		.loc 1 1644 0
 2141 0138 C7F30727 		ubfx	r7, r7, #8, #8
 2142              	.LVL216:
1646:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->CardCapacity = (uint64_t)((((uint64_t)pCardInfo->SD_csd.DeviceSize + 1)) * 512 * 102
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 107


 2143              		.loc 1 1646 0
 2144 013c 8A64     		str	r2, [r1, #72]
1647:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->CardBlockSize = 512;    
 2145              		.loc 1 1647 0
 2146 013e 0B65     		str	r3, [r1, #80]
 2147 0140 00E0     		b	.L163
 2148              	.L164:
1652:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_ERROR;
 2149              		.loc 1 1652 0
 2150 0142 2920     		movs	r0, #41
 2151              	.L163:
 2152              	.LVL217:
1655:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.EraseGrSize = (tmp & 0x40) >> 6;
 2153              		.loc 1 1655 0
 2154 0144 C7F38013 		ubfx	r3, r7, #6, #1
1656:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.EraseGrMul  = (tmp & 0x3F) << 1;
 2155              		.loc 1 1656 0
 2156 0148 07F03F07 		and	r7, r7, #63
 2157              	.LVL218:
 2158 014c 7F00     		lsls	r7, r7, #1
1655:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.EraseGrSize = (tmp & 0x40) >> 6;
 2159              		.loc 1 1655 0
 2160 014e 4B76     		strb	r3, [r1, #25]
1656:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.EraseGrMul  = (tmp & 0x3F) << 1;
 2161              		.loc 1 1656 0
 2162 0150 8F76     		strb	r7, [r1, #26]
1659:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)(hsd->CSD[2] & 0x000000FF);
 2163              		.loc 1 1659 0
 2164 0152 336B     		ldr	r3, [r6, #48]
 2165              	.LVL219:
1660:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.EraseGrMul     |= (tmp & 0x80) >> 7;
 2166              		.loc 1 1660 0
 2167 0154 8C7E     		ldrb	r4, [r1, #26]	@ zero_extendqisi2
 2168 0156 C3F3C012 		ubfx	r2, r3, #7, #1
 2169 015a 2243     		orrs	r2, r2, r4
1661:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.WrProtectGrSize = (tmp & 0x7F);
 2170              		.loc 1 1661 0
 2171 015c 03F07F03 		and	r3, r3, #127
 2172              	.LVL220:
1660:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.EraseGrMul     |= (tmp & 0x80) >> 7;
 2173              		.loc 1 1660 0
 2174 0160 8A76     		strb	r2, [r1, #26]
 2175              	.LVL221:
1661:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.WrProtectGrSize = (tmp & 0x7F);
 2176              		.loc 1 1661 0
 2177 0162 CB76     		strb	r3, [r1, #27]
1664:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)((hsd->CSD[3] & 0xFF000000) >> 24);
 2178              		.loc 1 1664 0
 2179 0164 96F83730 		ldrb	r3, [r6, #55]	@ zero_extendqisi2
 2180              	.LVL222:
1665:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.WrProtectGrEnable = (tmp & 0x80) >> 7;
 2181              		.loc 1 1665 0
 2182 0168 DA09     		lsrs	r2, r3, #7
 2183 016a 0A77     		strb	r2, [r1, #28]
1666:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.ManDeflECC        = (tmp & 0x60) >> 5;
 2184              		.loc 1 1666 0
 2185 016c C3F34112 		ubfx	r2, r3, #5, #2
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 108


 2186 0170 4A77     		strb	r2, [r1, #29]
1667:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.WrSpeedFact       = (tmp & 0x1C) >> 2;
 2187              		.loc 1 1667 0
 2188 0172 C3F38202 		ubfx	r2, r3, #2, #3
1668:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.MaxWrBlockLen     = (tmp & 0x03) << 2;
 2189              		.loc 1 1668 0
 2190 0176 03F00303 		and	r3, r3, #3
 2191              	.LVL223:
 2192 017a 9B00     		lsls	r3, r3, #2
1667:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.WrSpeedFact       = (tmp & 0x1C) >> 2;
 2193              		.loc 1 1667 0
 2194 017c 8A77     		strb	r2, [r1, #30]
1668:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.MaxWrBlockLen     = (tmp & 0x03) << 2;
 2195              		.loc 1 1668 0
 2196 017e CB77     		strb	r3, [r1, #31]
1671:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)((hsd->CSD[3] & 0x00FF0000) >> 16);
 2197              		.loc 1 1671 0
 2198 0180 96F83630 		ldrb	r3, [r6, #54]	@ zero_extendqisi2
 2199              	.LVL224:
1672:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.MaxWrBlockLen      |= (tmp & 0xC0) >> 6;
 2200              		.loc 1 1672 0
 2201 0184 CA7F     		ldrb	r2, [r1, #31]	@ zero_extendqisi2
 2202 0186 42EA9312 		orr	r2, r2, r3, lsr #6
 2203 018a CA77     		strb	r2, [r1, #31]
1673:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.WriteBlockPaPartial = (tmp & 0x20) >> 5;
 2204              		.loc 1 1673 0
 2205 018c C3F34012 		ubfx	r2, r3, #5, #1
 2206 0190 81F82020 		strb	r2, [r1, #32]
1675:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.ContentProtectAppli = (tmp & 0x01);
 2207              		.loc 1 1675 0
 2208 0194 03F00103 		and	r3, r3, #1
 2209              	.LVL225:
1674:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.Reserved3           = 0;
 2210              		.loc 1 1674 0
 2211 0198 0022     		movs	r2, #0
 2212 019a 81F82120 		strb	r2, [r1, #33]
1675:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.ContentProtectAppli = (tmp & 0x01);
 2213              		.loc 1 1675 0
 2214 019e 81F82230 		strb	r3, [r1, #34]
1678:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)((hsd->CSD[3] & 0x0000FF00) >> 8);
 2215              		.loc 1 1678 0
 2216 01a2 96F83530 		ldrb	r3, [r6, #53]	@ zero_extendqisi2
 2217              	.LVL226:
1679:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.FileFormatGrouop = (tmp & 0x80) >> 7;
 2218              		.loc 1 1679 0
 2219 01a6 DA09     		lsrs	r2, r3, #7
 2220 01a8 81F82320 		strb	r2, [r1, #35]
1680:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.CopyFlag         = (tmp & 0x40) >> 6;
 2221              		.loc 1 1680 0
 2222 01ac C3F38012 		ubfx	r2, r3, #6, #1
 2223 01b0 81F82420 		strb	r2, [r1, #36]
1681:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.PermWrProtect    = (tmp & 0x20) >> 5;
 2224              		.loc 1 1681 0
 2225 01b4 C3F34012 		ubfx	r2, r3, #5, #1
 2226 01b8 81F82520 		strb	r2, [r1, #37]
1682:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.TempWrProtect    = (tmp & 0x10) >> 4;
 2227              		.loc 1 1682 0
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 109


 2228 01bc C3F30012 		ubfx	r2, r3, #4, #1
 2229 01c0 81F82620 		strb	r2, [r1, #38]
1683:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.FileFormat       = (tmp & 0x0C) >> 2;
 2230              		.loc 1 1683 0
 2231 01c4 C3F38102 		ubfx	r2, r3, #2, #2
1684:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.ECC              = (tmp & 0x03);
 2232              		.loc 1 1684 0
 2233 01c8 03F00303 		and	r3, r3, #3
 2234              	.LVL227:
1683:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.FileFormat       = (tmp & 0x0C) >> 2;
 2235              		.loc 1 1683 0
 2236 01cc 81F82720 		strb	r2, [r1, #39]
1684:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.ECC              = (tmp & 0x03);
 2237              		.loc 1 1684 0
 2238 01d0 81F82830 		strb	r3, [r1, #40]
 2239              	.LVL228:
1688:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.CSD_CRC   = (tmp & 0xFE) >> 1;
 2240              		.loc 1 1688 0
 2241 01d4 736B     		ldr	r3, [r6, #52]
1689:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.Reserved4 = 1;
 2242              		.loc 1 1689 0
 2243 01d6 0122     		movs	r2, #1
1688:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.CSD_CRC   = (tmp & 0xFE) >> 1;
 2244              		.loc 1 1688 0
 2245 01d8 C3F34603 		ubfx	r3, r3, #1, #7
 2246 01dc 81F82930 		strb	r3, [r1, #41]
 2247              	.LVL229:
1689:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.Reserved4 = 1;
 2248              		.loc 1 1689 0
 2249 01e0 81F82A20 		strb	r2, [r1, #42]
 2250              	.LVL230:
1693:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ManufacturerID = tmp;
 2251              		.loc 1 1693 0
 2252 01e4 96F83B30 		ldrb	r3, [r6, #59]	@ zero_extendqisi2
 2253 01e8 81F82C30 		strb	r3, [r1, #44]
 2254              	.LVL231:
1696:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)((hsd->CID[0] & 0x00FF0000) >> 16);
 2255              		.loc 1 1696 0
 2256 01ec B36B     		ldr	r3, [r6, #56]
 2257              	.LVL232:
 2258 01ee C3F30744 		ubfx	r4, r3, #16, #8
1697:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.OEM_AppliID = tmp << 8;
 2259              		.loc 1 1697 0
 2260 01f2 2402     		lsls	r4, r4, #8
 2261 01f4 CC85     		strh	r4, [r1, #46]	@ movhi
 2262              	.LVL233:
1701:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.OEM_AppliID |= tmp;
 2263              		.loc 1 1701 0
 2264 01f6 CC8D     		ldrh	r4, [r1, #46]
1700:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)((hsd->CID[0] & 0x000000FF00) >> 8);
 2265              		.loc 1 1700 0
 2266 01f8 C3F30725 		ubfx	r5, r3, #8, #8
1701:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.OEM_AppliID |= tmp;
 2267              		.loc 1 1701 0
 2268 01fc A4B2     		uxth	r4, r4
 2269 01fe 2C43     		orrs	r4, r4, r5
1705:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ProdName1 = tmp << 24;
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 110


 2270              		.loc 1 1705 0
 2271 0200 1B06     		lsls	r3, r3, #24
 2272              	.LVL234:
1701:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.OEM_AppliID |= tmp;
 2273              		.loc 1 1701 0
 2274 0202 CC85     		strh	r4, [r1, #46]	@ movhi
 2275              	.LVL235:
1705:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ProdName1 = tmp << 24;
 2276              		.loc 1 1705 0
 2277 0204 0B63     		str	r3, [r1, #48]
1708:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)((hsd->CID[1] & 0xFF000000) >> 24);
 2278              		.loc 1 1708 0
 2279 0206 F36B     		ldr	r3, [r6, #60]
 2280              	.LVL236:
1709:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ProdName1 |= tmp << 16;
 2281              		.loc 1 1709 0
 2282 0208 0C6B     		ldr	r4, [r1, #48]
1708:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)((hsd->CID[1] & 0xFF000000) >> 24);
 2283              		.loc 1 1708 0
 2284 020a 1D0E     		lsrs	r5, r3, #24
 2285              	.LVL237:
1709:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ProdName1 |= tmp << 16;
 2286              		.loc 1 1709 0
 2287 020c 44EA0544 		orr	r4, r4, r5, lsl #16
 2288 0210 0C63     		str	r4, [r1, #48]
 2289              	.LVL238:
1713:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ProdName1 |= tmp << 8;
 2290              		.loc 1 1713 0
 2291 0212 0C6B     		ldr	r4, [r1, #48]
1712:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)((hsd->CID[1] & 0x00FF0000) >> 16);
 2292              		.loc 1 1712 0
 2293 0214 C3F30745 		ubfx	r5, r3, #16, #8
1713:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ProdName1 |= tmp << 8;
 2294              		.loc 1 1713 0
 2295 0218 44EA0524 		orr	r4, r4, r5, lsl #8
 2296 021c 0C63     		str	r4, [r1, #48]
 2297              	.LVL239:
1717:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ProdName1 |= tmp;
 2298              		.loc 1 1717 0
 2299 021e 0C6B     		ldr	r4, [r1, #48]
1716:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)((hsd->CID[1] & 0x0000FF00) >> 8);
 2300              		.loc 1 1716 0
 2301 0220 C3F30725 		ubfx	r5, r3, #8, #8
1717:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ProdName1 |= tmp;
 2302              		.loc 1 1717 0
 2303 0224 2C43     		orrs	r4, r4, r5
1721:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ProdName2 = tmp;
 2304              		.loc 1 1721 0
 2305 0226 DBB2     		uxtb	r3, r3
 2306              	.LVL240:
1717:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ProdName1 |= tmp;
 2307              		.loc 1 1717 0
 2308 0228 0C63     		str	r4, [r1, #48]
 2309              	.LVL241:
1721:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ProdName2 = tmp;
 2310              		.loc 1 1721 0
 2311 022a 81F83430 		strb	r3, [r1, #52]
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 111


 2312              	.LVL242:
1725:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ProdRev = tmp;
 2313              		.loc 1 1725 0
 2314 022e 96F84330 		ldrb	r3, [r6, #67]	@ zero_extendqisi2
 2315 0232 81F83530 		strb	r3, [r1, #53]
 2316              	.LVL243:
1728:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)((hsd->CID[2] & 0x00FF0000) >> 16);
 2317              		.loc 1 1728 0
 2318 0236 336C     		ldr	r3, [r6, #64]
 2319              	.LVL244:
 2320 0238 C3F30744 		ubfx	r4, r3, #16, #8
1729:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ProdSN = tmp << 24;
 2321              		.loc 1 1729 0
 2322 023c 2406     		lsls	r4, r4, #24
 2323 023e 8C63     		str	r4, [r1, #56]
 2324              	.LVL245:
1733:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ProdSN |= tmp << 16;
 2325              		.loc 1 1733 0
 2326 0240 8C6B     		ldr	r4, [r1, #56]
1732:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)((hsd->CID[2] & 0x0000FF00) >> 8);
 2327              		.loc 1 1732 0
 2328 0242 C3F30725 		ubfx	r5, r3, #8, #8
1733:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ProdSN |= tmp << 16;
 2329              		.loc 1 1733 0
 2330 0246 44EA0544 		orr	r4, r4, r5, lsl #16
 2331 024a 8C63     		str	r4, [r1, #56]
 2332              	.LVL246:
1737:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ProdSN |= tmp << 8;
 2333              		.loc 1 1737 0
 2334 024c 8C6B     		ldr	r4, [r1, #56]
1736:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)(hsd->CID[2] & 0x000000FF);
 2335              		.loc 1 1736 0
 2336 024e DBB2     		uxtb	r3, r3
 2337              	.LVL247:
1737:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ProdSN |= tmp << 8;
 2338              		.loc 1 1737 0
 2339 0250 44EA0323 		orr	r3, r4, r3, lsl #8
 2340 0254 8B63     		str	r3, [r1, #56]
1741:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ProdSN |= tmp;
 2341              		.loc 1 1741 0
 2342 0256 8C6B     		ldr	r4, [r1, #56]
1740:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)((hsd->CID[3] & 0xFF000000) >> 24);
 2343              		.loc 1 1740 0
 2344 0258 736C     		ldr	r3, [r6, #68]
 2345              	.LVL248:
1741:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ProdSN |= tmp;
 2346              		.loc 1 1741 0
 2347 025a 44EA1364 		orr	r4, r4, r3, lsr #24
 2348 025e 8C63     		str	r4, [r1, #56]
1745:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.Reserved1   |= (tmp & 0xF0) >> 4;
 2349              		.loc 1 1745 0
 2350 0260 91F83C40 		ldrb	r4, [r1, #60]	@ zero_extendqisi2
1744:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)((hsd->CID[3] & 0x00FF0000) >> 16);
 2351              		.loc 1 1744 0
 2352 0264 C3F30743 		ubfx	r3, r3, #16, #8
 2353              	.LVL249:
1745:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.Reserved1   |= (tmp & 0xF0) >> 4;
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 112


 2354              		.loc 1 1745 0
 2355 0268 44EA1314 		orr	r4, r4, r3, lsr #4
1746:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ManufactDate = (tmp & 0x0F) << 8;
 2356              		.loc 1 1746 0
 2357 026c 03F00F03 		and	r3, r3, #15
 2358              	.LVL250:
 2359 0270 1B02     		lsls	r3, r3, #8
1745:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.Reserved1   |= (tmp & 0xF0) >> 4;
 2360              		.loc 1 1745 0
 2361 0272 81F83C40 		strb	r4, [r1, #60]
 2362              	.LVL251:
1746:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ManufactDate = (tmp & 0x0F) << 8;
 2363              		.loc 1 1746 0
 2364 0276 CB87     		strh	r3, [r1, #62]	@ movhi
1750:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ManufactDate |= tmp;
 2365              		.loc 1 1750 0
 2366 0278 CC8F     		ldrh	r4, [r1, #62]
1749:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)((hsd->CID[3] & 0x0000FF00) >> 8);
 2367              		.loc 1 1749 0
 2368 027a 736C     		ldr	r3, [r6, #68]
 2369              	.LVL252:
1750:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ManufactDate |= tmp;
 2370              		.loc 1 1750 0
 2371 027c A4B2     		uxth	r4, r4
1749:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)((hsd->CID[3] & 0x0000FF00) >> 8);
 2372              		.loc 1 1749 0
 2373 027e C3F30725 		ubfx	r5, r3, #8, #8
1750:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ManufactDate |= tmp;
 2374              		.loc 1 1750 0
 2375 0282 2C43     		orrs	r4, r4, r5
1754:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.CID_CRC   = (tmp & 0xFE) >> 1;
 2376              		.loc 1 1754 0
 2377 0284 C3F34603 		ubfx	r3, r3, #1, #7
 2378              	.LVL253:
1750:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ManufactDate |= tmp;
 2379              		.loc 1 1750 0
 2380 0288 CC87     		strh	r4, [r1, #62]	@ movhi
 2381              	.LVL254:
1754:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.CID_CRC   = (tmp & 0xFE) >> 1;
 2382              		.loc 1 1754 0
 2383 028a 81F84030 		strb	r3, [r1, #64]
1755:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.Reserved2 = 1;
 2384              		.loc 1 1755 0
 2385 028e 81F84120 		strb	r2, [r1, #65]
1758:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 2386              		.loc 1 1758 0
 2387 0292 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2388              		.cfi_endproc
 2389              	.LFE143:
 2391              		.section	.text.HAL_SD_Init,"ax",%progbits
 2392              		.align	1
 2393              		.global	HAL_SD_Init
 2394              		.thumb
 2395              		.thumb_func
 2397              	HAL_SD_Init:
 2398              	.LFB125:
 342:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** { 
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 113


 2399              		.loc 1 342 0
 2400              		.cfi_startproc
 2401              		@ args = 0, pretend = 0, frame = 48
 2402              		@ frame_needed = 0, uses_anonymous_args = 0
 2403              	.LVL255:
 2404 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 2405              	.LCFI18:
 2406              		.cfi_def_cfa_offset 36
 2407              		.cfi_offset 4, -36
 2408              		.cfi_offset 5, -32
 2409              		.cfi_offset 6, -28
 2410              		.cfi_offset 7, -24
 2411              		.cfi_offset 8, -20
 2412              		.cfi_offset 9, -16
 2413              		.cfi_offset 10, -12
 2414              		.cfi_offset 11, -8
 2415              		.cfi_offset 14, -4
 343:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __IO HAL_SD_ErrorTypedef errorstate = SD_OK;
 2416              		.loc 1 343 0
 2417 0004 0025     		movs	r5, #0
 342:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** { 
 2418              		.loc 1 342 0
 2419 0006 91B0     		sub	sp, sp, #68
 2420              	.LCFI19:
 2421              		.cfi_def_cfa_offset 104
 347:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->Lock = HAL_UNLOCKED;
 2422              		.loc 1 347 0
 2423 0008 0577     		strb	r5, [r0, #28]
 342:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** { 
 2424              		.loc 1 342 0
 2425 000a 0446     		mov	r4, r0
 2426 000c 0E46     		mov	r6, r1
 343:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __IO HAL_SD_ErrorTypedef errorstate = SD_OK;
 2427              		.loc 1 343 0
 2428 000e 8DF81250 		strb	r5, [sp, #18]
 349:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_MspInit(hsd);
 2429              		.loc 1 349 0
 2430 0012 FFF7FEFF 		bl	HAL_SD_MspInit
 2431              	.LVL256:
 357:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmpinit.ClockDiv            = SDIO_INIT_CLK_DIV;
 2432              		.loc 1 357 0
 2433 0016 7623     		movs	r3, #118
 2434 0018 0F93     		str	r3, [sp, #60]
 355:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmpinit.BusWide             = SDIO_BUS_WIDE_1B;
 2435              		.loc 1 355 0
 2436 001a 0D95     		str	r5, [sp, #52]
 356:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmpinit.HardwareFlowControl = SDIO_HARDWARE_FLOW_CONTROL_DISABLE;
 2437              		.loc 1 356 0
 2438 001c 0E95     		str	r5, [sp, #56]
 360:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_Init(hsd->Instance, tmpinit);
 2439              		.loc 1 360 0
 2440 001e 10AB     		add	r3, sp, #64
 2441 0020 13E90700 		ldmdb	r3, {r0, r1, r2}
 2442 0024 8DE80700 		stmia	sp, {r0, r1, r2}
 352:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmpinit.ClockEdge           = SDIO_CLOCK_EDGE_RISING;
 2443              		.loc 1 352 0
 2444 0028 0A95     		str	r5, [sp, #40]
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 114


 353:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmpinit.ClockBypass         = SDIO_CLOCK_BYPASS_DISABLE;
 2445              		.loc 1 353 0
 2446 002a 0B95     		str	r5, [sp, #44]
 354:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmpinit.ClockPowerSave      = SDIO_CLOCK_POWER_SAVE_DISABLE;
 2447              		.loc 1 354 0
 2448 002c 0C95     		str	r5, [sp, #48]
 2449              	.LBB24:
 2450              	.LBB25:
2510:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_DISABLE(); 
 2451              		.loc 1 2510 0
 2452 002e 9F4F     		ldr	r7, .L233
 2453              	.LBE25:
 2454              	.LBE24:
 360:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_Init(hsd->Instance, tmpinit);
 2455              		.loc 1 360 0
 2456 0030 2068     		ldr	r0, [r4]
 2457 0032 0AAB     		add	r3, sp, #40
 2458 0034 0ECB     		ldmia	r3, {r1, r2, r3}
 2459 0036 FFF7FEFF 		bl	SDIO_Init
 2460              	.LVL257:
 2461              	.LBB36:
 2462              	.LBB34:
2504:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __IO HAL_SD_ErrorTypedef errorstate = SD_OK; 
 2463              		.loc 1 2504 0
 2464 003a 8DF81350 		strb	r5, [sp, #19]
 2465              	.LVL258:
2513:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_PowerState_ON(hsd->Instance);
 2466              		.loc 1 2513 0
 2467 003e 2068     		ldr	r0, [r4]
2510:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_DISABLE(); 
 2468              		.loc 1 2510 0
 2469 0040 3D60     		str	r5, [r7]
2513:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_PowerState_ON(hsd->Instance);
 2470              		.loc 1 2513 0
 2471 0042 FFF7FEFF 		bl	SDIO_PowerState_ON
 2472              	.LVL259:
2517:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_Delay(1);
 2473              		.loc 1 2517 0
 2474 0046 0120     		movs	r0, #1
 2475 0048 FFF7FEFF 		bl	HAL_Delay
 2476              	.LVL260:
2520:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_ENABLE();
 2477              		.loc 1 2520 0
 2478 004c 0123     		movs	r3, #1
 2479 004e 3B60     		str	r3, [r7]
2529:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 2480              		.loc 1 2529 0
 2481 0050 2068     		ldr	r0, [r4]
2524:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = 0;
 2482              		.loc 1 2524 0
 2483 0052 0595     		str	r5, [sp, #20]
2528:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 2484              		.loc 1 2528 0
 2485 0054 4FF48063 		mov	r3, #1024
2529:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 2486              		.loc 1 2529 0
 2487 0058 05A9     		add	r1, sp, #20
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 115


2528:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 2488              		.loc 1 2528 0
 2489 005a 0993     		str	r3, [sp, #36]
2525:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_GO_IDLE_STATE;
 2490              		.loc 1 2525 0
 2491 005c 0695     		str	r5, [sp, #24]
2526:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_NO;
 2492              		.loc 1 2526 0
 2493 005e 0795     		str	r5, [sp, #28]
2527:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 2494              		.loc 1 2527 0
 2495 0060 0895     		str	r5, [sp, #32]
2529:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 2496              		.loc 1 2529 0
 2497 0062 FFF7FEFF 		bl	SDIO_SendCommand
 2498              	.LVL261:
 2499              	.LBB26:
 2500              	.LBB27:
2705:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = __HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_CMDSENT);
 2501              		.loc 1 2705 0
 2502 0066 2068     		ldr	r0, [r4]
 2503 0068 426B     		ldr	r2, [r0, #52]
 2504 006a 4FF48033 		mov	r3, #65536
 2505 006e C2F3C012 		ubfx	r2, r2, #7, #1
 2506              	.LVL262:
 2507              	.L166:
2707:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while((timeout > 0) && (!tmp))
 2508              		.loc 1 2707 0
 2509 0072 002A     		cmp	r2, #0
 2510 0074 40F08281 		bne	.L232
2709:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tmp = __HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_CMDSENT);
 2511              		.loc 1 2709 0
 2512 0078 426B     		ldr	r2, [r0, #52]
 2513              	.LVL263:
2707:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while((timeout > 0) && (!tmp))
 2514              		.loc 1 2707 0
 2515 007a 013B     		subs	r3, r3, #1
 2516              	.LVL264:
2709:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tmp = __HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_CMDSENT);
 2517              		.loc 1 2709 0
 2518 007c C2F3C012 		ubfx	r2, r2, #7, #1
 2519              	.LVL265:
2707:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while((timeout > 0) && (!tmp))
 2520              		.loc 1 2707 0
 2521 0080 F7D1     		bne	.L166
2716:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 2522              		.loc 1 2716 0
 2523 0082 0323     		movs	r3, #3
 2524              	.L167:
 2525              	.LBE27:
 2526              	.LBE26:
2532:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_CmdError(hsd);
 2527              		.loc 1 2532 0
 2528 0084 8DF81330 		strb	r3, [sp, #19]
2534:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != SD_OK)
 2529              		.loc 1 2534 0
 2530 0088 9DF81330 		ldrb	r3, [sp, #19]	@ zero_extendqisi2
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 116


 2531 008c 002B     		cmp	r3, #0
 2532 008e 40F0A580 		bne	.L180
2546:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = SD_CHECK_PATTERN;
 2533              		.loc 1 2546 0
 2534 0092 4FF4D573 		mov	r3, #426
 2535 0096 0593     		str	r3, [sp, #20]
2547:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_SDIO_SEND_IF_COND;
 2536              		.loc 1 2547 0
 2537 0098 0823     		movs	r3, #8
 2538 009a 0693     		str	r3, [sp, #24]
2549:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 2539              		.loc 1 2549 0
 2540 009c 05A9     		add	r1, sp, #20
2548:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 2541              		.loc 1 2548 0
 2542 009e 4023     		movs	r3, #64
 2543 00a0 0793     		str	r3, [sp, #28]
2549:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 2544              		.loc 1 2549 0
 2545 00a2 FFF7FEFF 		bl	SDIO_SendCommand
 2546              	.LVL266:
 2547              	.LBB29:
 2548              	.LBB30:
2735:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = __HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_CCRCFAIL | SDIO_FLAG_CMDREND | SDIO_FLAG_CTIMEOUT); 
 2549              		.loc 1 2735 0
 2550 00a6 2068     		ldr	r0, [r4]
 2551 00a8 436B     		ldr	r3, [r0, #52]
 2552 00aa 13F0450F 		tst	r3, #69
 2553 00ae 0CBF     		ite	eq
 2554 00b0 0022     		moveq	r2, #0
 2555 00b2 0122     		movne	r2, #1
 2556              	.LVL267:
2733:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t timeout = SDIO_CMD0TIMEOUT, tmp;
 2557              		.loc 1 2733 0
 2558 00b4 4FF48033 		mov	r3, #65536
 2559              	.LVL268:
 2560              	.L172:
2737:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while((!tmp) && (timeout > 0))
 2561              		.loc 1 2737 0
 2562 00b8 42B9     		cbnz	r2, .L173
 2563 00ba 3BB1     		cbz	r3, .L173
2739:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tmp = __HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_CCRCFAIL | SDIO_FLAG_CMDREND | SDIO_FLAG_CTIMEOUT);
 2564              		.loc 1 2739 0
 2565 00bc 426B     		ldr	r2, [r0, #52]
 2566              	.LVL269:
 2567 00be 12F0450F 		tst	r2, #69
 2568 00c2 0CBF     		ite	eq
 2569 00c4 0022     		moveq	r2, #0
 2570 00c6 0122     		movne	r2, #1
 2571              	.LVL270:
2740:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     timeout--;
 2572              		.loc 1 2740 0
 2573 00c8 013B     		subs	r3, r3, #1
 2574              	.LVL271:
 2575 00ca F5E7     		b	.L172
 2576              	.L173:
2743:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = __HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_CTIMEOUT); 
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 117


 2577              		.loc 1 2743 0
 2578 00cc 426B     		ldr	r2, [r0, #52]
 2579              	.LVL272:
2745:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((timeout == 0) || tmp)
 2580              		.loc 1 2745 0
 2581 00ce 13B1     		cbz	r3, .L175
 2582 00d0 12F00403 		ands	r3, r2, #4
 2583              	.LVL273:
 2584 00d4 03D0     		beq	.L176
 2585              	.LVL274:
 2586              	.L175:
2750:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_CTIMEOUT);
 2587              		.loc 1 2750 0
 2588 00d6 0423     		movs	r3, #4
 2589 00d8 8363     		str	r3, [r0, #56]
2752:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 2590              		.loc 1 2752 0
 2591 00da 0323     		movs	r3, #3
 2592 00dc 05E0     		b	.L177
 2593              	.LVL275:
 2594              	.L176:
2755:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_CMDREND))
 2595              		.loc 1 2755 0
 2596 00de 426B     		ldr	r2, [r0, #52]
 2597 00e0 5706     		lsls	r7, r2, #25
 2598              	.LVL276:
2760:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_CMDREND);
 2599              		.loc 1 2760 0
 2600 00e2 46BF     		itte	mi
 2601 00e4 4022     		movmi	r2, #64
 2602 00e6 8263     		strmi	r2, [r0, #56]
2765:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
 2603              		.loc 1 2765 0
 2604 00e8 2923     		movpl	r3, #41
 2605              	.LVL277:
 2606              	.L177:
 2607              	.LBE30:
 2608              	.LBE29:
2552:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_CmdResp7Error(hsd);
 2609              		.loc 1 2552 0
 2610 00ea 8DF81330 		strb	r3, [sp, #19]
2554:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (errorstate == SD_OK)
 2611              		.loc 1 2554 0
 2612 00ee 9DF81320 		ldrb	r2, [sp, #19]	@ zero_extendqisi2
 2613 00f2 0023     		movs	r3, #0
 2614 00f4 22B9     		cbnz	r2, .L211
2557:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->CardType = STD_CAPACITY_SD_CARD_V2_0; 
 2615              		.loc 1 2557 0
 2616 00f6 0122     		movs	r2, #1
 2617 00f8 2262     		str	r2, [r4, #32]
 2618              	.LVL278:
2558:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdtype        = SD_HIGH_CAPACITY;
 2619              		.loc 1 2558 0
 2620 00fa 4FF08048 		mov	r8, #1073741824
 2621 00fe 00E0     		b	.L178
 2622              	.LVL279:
 2623              	.L211:
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 118


2506:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t sdtype = SD_STD_CAPACITY;
 2624              		.loc 1 2506 0
 2625 0100 9846     		mov	r8, r3
 2626              	.LVL280:
 2627              	.L178:
2563:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_APP_CMD;
 2628              		.loc 1 2563 0
 2629 0102 3725     		movs	r5, #55
2564:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 2630              		.loc 1 2564 0
 2631 0104 05A9     		add	r1, sp, #20
2562:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = 0;
 2632              		.loc 1 2562 0
 2633 0106 0593     		str	r3, [sp, #20]
2563:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_APP_CMD;
 2634              		.loc 1 2563 0
 2635 0108 0695     		str	r5, [sp, #24]
2564:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 2636              		.loc 1 2564 0
 2637 010a FFF7FEFF 		bl	SDIO_SendCommand
 2638              	.LVL281:
2567:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_CmdResp1Error(hsd, SD_CMD_APP_CMD);
 2639              		.loc 1 2567 0
 2640 010e 2946     		mov	r1, r5
 2641 0110 2046     		mov	r0, r4
 2642 0112 FFF7FEFF 		bl	SD_CmdResp1Error
 2643              	.LVL282:
 2644 0116 8DF81300 		strb	r0, [sp, #19]
2572:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate == SD_OK)
 2645              		.loc 1 2572 0
 2646 011a 9DF81330 		ldrb	r3, [sp, #19]	@ zero_extendqisi2
 2647 011e 03F0FF05 		and	r5, r3, #255
 2648 0122 002B     		cmp	r3, #0
 2649 0124 5AD1     		bne	.L180
 2650 0126 2F46     		mov	r7, r5
 2651 0128 2846     		mov	r0, r5
 2652              	.LVL283:
 2653              	.L181:
 2654 012a 4FF6FF73 		movw	r3, #65535
2576:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     while((!validvoltage) && (count < SD_MAX_VOLT_TRIAL))
 2655              		.loc 1 2576 0
 2656 012e 002D     		cmp	r5, #0
 2657 0130 4AD1     		bne	.L188
 2658 0132 9F42     		cmp	r7, r3
 2659 0134 4AD0     		beq	.L190
 2660              	.LVL284:
2581:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       sdio_cmdinitstructure.CmdIndex         = SD_CMD_APP_CMD;
 2661              		.loc 1 2581 0
 2662 0136 4FF0370B 		mov	fp, #55
2585:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 2663              		.loc 1 2585 0
 2664 013a 05A9     		add	r1, sp, #20
2582:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 2665              		.loc 1 2582 0
 2666 013c 4FF0400A 		mov	r10, #64
2584:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 2667              		.loc 1 2584 0
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 119


 2668 0140 4FF48069 		mov	r9, #1024
2585:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 2669              		.loc 1 2585 0
 2670 0144 2068     		ldr	r0, [r4]
2580:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       sdio_cmdinitstructure.Argument         = 0;
 2671              		.loc 1 2580 0
 2672 0146 0595     		str	r5, [sp, #20]
2581:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       sdio_cmdinitstructure.CmdIndex         = SD_CMD_APP_CMD;
 2673              		.loc 1 2581 0
 2674 0148 CDF818B0 		str	fp, [sp, #24]
2582:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 2675              		.loc 1 2582 0
 2676 014c CDF81CA0 		str	r10, [sp, #28]
2583:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 2677              		.loc 1 2583 0
 2678 0150 0895     		str	r5, [sp, #32]
2584:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 2679              		.loc 1 2584 0
 2680 0152 CDF82490 		str	r9, [sp, #36]
2585:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 2681              		.loc 1 2585 0
 2682 0156 FFF7FEFF 		bl	SDIO_SendCommand
 2683              	.LVL285:
2588:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       errorstate = SD_CmdResp1Error(hsd, SD_CMD_APP_CMD);
 2684              		.loc 1 2588 0
 2685 015a 2046     		mov	r0, r4
 2686 015c 5946     		mov	r1, fp
 2687 015e FFF7FEFF 		bl	SD_CmdResp1Error
 2688              	.LVL286:
 2689 0162 8DF81300 		strb	r0, [sp, #19]
2590:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       if(errorstate != SD_OK)
 2690              		.loc 1 2590 0
 2691 0166 9DF81330 		ldrb	r3, [sp, #19]	@ zero_extendqisi2
 2692 016a 002B     		cmp	r3, #0
 2693 016c 36D1     		bne	.L180
2596:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       sdio_cmdinitstructure.Argument         = SD_VOLTAGE_WINDOW_SD | sdtype;
 2694              		.loc 1 2596 0
 2695 016e 48F00043 		orr	r3, r8, #-2147483648
 2696 0172 43F48013 		orr	r3, r3, #1048576
 2697 0176 0593     		str	r3, [sp, #20]
2601:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 2698              		.loc 1 2601 0
 2699 0178 2068     		ldr	r0, [r4]
2598:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 2700              		.loc 1 2598 0
 2701 017a CDF81CA0 		str	r10, [sp, #28]
2597:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       sdio_cmdinitstructure.CmdIndex         = SD_CMD_SD_APP_OP_COND;
 2702              		.loc 1 2597 0
 2703 017e 2923     		movs	r3, #41
2601:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 2704              		.loc 1 2601 0
 2705 0180 05A9     		add	r1, sp, #20
2597:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       sdio_cmdinitstructure.CmdIndex         = SD_CMD_SD_APP_OP_COND;
 2706              		.loc 1 2597 0
 2707 0182 0693     		str	r3, [sp, #24]
2599:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 2708              		.loc 1 2599 0
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 120


 2709 0184 0895     		str	r5, [sp, #32]
2600:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 2710              		.loc 1 2600 0
 2711 0186 CDF82490 		str	r9, [sp, #36]
2601:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 2712              		.loc 1 2601 0
 2713 018a FFF7FEFF 		bl	SDIO_SendCommand
 2714              	.LVL287:
 2715              	.LBB31:
 2716              	.LBB32:
2926:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while (!__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_CCRCFAIL | SDIO_FLAG_CMDREND | SDIO_FLAG_CTIMEOUT))
 2717              		.loc 1 2926 0
 2718 018e 2368     		ldr	r3, [r4]
 2719              	.L184:
 2720 0190 5A6B     		ldr	r2, [r3, #52]
 2721 0192 12F0450F 		tst	r2, #69
 2722 0196 FBD0     		beq	.L184
2930:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_CTIMEOUT))
 2723              		.loc 1 2930 0
 2724 0198 5A6B     		ldr	r2, [r3, #52]
 2725 019a 12F00402 		ands	r2, r2, #4
 2726 019e 03D0     		beq	.L185
 2727              	.LVL288:
2934:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_CTIMEOUT);
 2728              		.loc 1 2934 0
 2729 01a0 0422     		movs	r2, #4
 2730 01a2 9A63     		str	r2, [r3, #56]
2936:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 2731              		.loc 1 2936 0
 2732 01a4 0323     		movs	r3, #3
 2733 01a6 03E0     		b	.L186
 2734              	.LVL289:
 2735              	.L185:
2940:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
 2736              		.loc 1 2940 0
 2737 01a8 40F2FF51 		movw	r1, #1535
 2738 01ac 9963     		str	r1, [r3, #56]
2942:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
 2739              		.loc 1 2942 0
 2740 01ae 1346     		mov	r3, r2
 2741              	.LVL290:
 2742              	.L186:
 2743              	.LBE32:
 2744              	.LBE31:
2604:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       errorstate = SD_CmdResp3Error(hsd);
 2745              		.loc 1 2604 0
 2746 01b0 8DF81330 		strb	r3, [sp, #19]
2606:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       if(errorstate != SD_OK)
 2747              		.loc 1 2606 0
 2748 01b4 9DF81330 		ldrb	r3, [sp, #19]	@ zero_extendqisi2
 2749 01b8 03F0FF00 		and	r0, r3, #255
 2750 01bc 73B9     		cbnz	r3, .L180
2612:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       response = SDIO_GetResponse(SDIO_RESP1);
 2751              		.loc 1 2612 0
 2752 01be FFF7FEFF 		bl	SDIO_GetResponse
 2753              	.LVL291:
2617:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       count++;
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 121


 2754              		.loc 1 2617 0
 2755 01c2 0137     		adds	r7, r7, #1
 2756              	.LVL292:
2615:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       validvoltage = (((response >> 31) == 1) ? 1 : 0);
 2757              		.loc 1 2615 0
 2758 01c4 C50F     		lsrs	r5, r0, #31
 2759              	.LVL293:
 2760 01c6 B0E7     		b	.L181
 2761              	.LVL294:
 2762              	.L188:
2620:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(count >= SD_MAX_VOLT_TRIAL)
 2763              		.loc 1 2620 0
 2764 01c8 9F42     		cmp	r7, r3
 2765 01ca 03D1     		bne	.L191
 2766              	.L190:
2622:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       errorstate = SD_INVALID_VOLTRANGE;
 2767              		.loc 1 2622 0
 2768 01cc 1B23     		movs	r3, #27
 2769 01ce 8DF81330 		strb	r3, [sp, #19]
 2770 01d2 03E0     		b	.L180
 2771              	.L191:
2627:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if((response & SD_HIGH_CAPACITY) == SD_HIGH_CAPACITY) /* (response &= SD_HIGH_CAPACITY) */
 2772              		.loc 1 2627 0
 2773 01d4 4500     		lsls	r5, r0, #1
 2774              	.LVL295:
2629:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->CardType = HIGH_CAPACITY_SD_CARD;
 2775              		.loc 1 2629 0
 2776 01d6 44BF     		itt	mi
 2777 01d8 0223     		movmi	r3, #2
 2778 01da 2362     		strmi	r3, [r4, #32]
 2779              	.LVL296:
 2780              	.L180:
2634:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
 2781              		.loc 1 2634 0
 2782 01dc 9DF81330 		ldrb	r3, [sp, #19]	@ zero_extendqisi2
 2783 01e0 DBB2     		uxtb	r3, r3
 2784              	.LBE34:
 2785              	.LBE36:
 363:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_PowerON(hsd); 
 2786              		.loc 1 363 0
 2787 01e2 8DF81230 		strb	r3, [sp, #18]
 365:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != SD_OK)     
 2788              		.loc 1 365 0
 2789 01e6 9DF81230 		ldrb	r3, [sp, #18]	@ zero_extendqisi2
 2790 01ea 03F0FF05 		and	r5, r3, #255
 2791 01ee 002B     		cmp	r3, #0
 2792 01f0 40F0BE80 		bne	.L231
 2793              	.LVL297:
 2794              	.LBB37:
 2795              	.LBB38:
2389:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(SDIO_GetPowerState(hsd->Instance) == 0) /* Power off */
 2796              		.loc 1 2389 0
 2797 01f4 2068     		ldr	r0, [r4]
 2798 01f6 FFF7FEFF 		bl	SDIO_GetPowerState
 2799              	.LVL298:
 2800 01fa 0028     		cmp	r0, #0
 2801 01fc 00F08280 		beq	.L212
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 122


2396:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(hsd->CardType != SECURE_DIGITAL_IO_CARD)
 2802              		.loc 1 2396 0
 2803 0200 236A     		ldr	r3, [r4, #32]
 2804 0202 042B     		cmp	r3, #4
 2805 0204 20D0     		beq	.L196
2400:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_ALL_SEND_CID;
 2806              		.loc 1 2400 0
 2807 0206 0223     		movs	r3, #2
 2808 0208 0693     		str	r3, [sp, #24]
2401:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Response         = SDIO_RESPONSE_LONG;
 2809              		.loc 1 2401 0
 2810 020a C023     		movs	r3, #192
 2811 020c 0793     		str	r3, [sp, #28]
2404:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 2812              		.loc 1 2404 0
 2813 020e 2068     		ldr	r0, [r4]
2399:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Argument         = 0;
 2814              		.loc 1 2399 0
 2815 0210 0595     		str	r5, [sp, #20]
2403:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 2816              		.loc 1 2403 0
 2817 0212 4FF48063 		mov	r3, #1024
2404:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 2818              		.loc 1 2404 0
 2819 0216 05A9     		add	r1, sp, #20
2402:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 2820              		.loc 1 2402 0
 2821 0218 0895     		str	r5, [sp, #32]
2403:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 2822              		.loc 1 2403 0
 2823 021a 0993     		str	r3, [sp, #36]
2404:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 2824              		.loc 1 2404 0
 2825 021c FFF7FEFF 		bl	SDIO_SendCommand
 2826              	.LVL299:
2407:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CmdResp2Error(hsd);
 2827              		.loc 1 2407 0
 2828 0220 2046     		mov	r0, r4
 2829 0222 FFF7FEFF 		bl	SD_CmdResp2Error
 2830              	.LVL300:
2409:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != SD_OK)
 2831              		.loc 1 2409 0
 2832 0226 0028     		cmp	r0, #0
 2833 0228 71D1     		bne	.L195
2415:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->CID[0] = SDIO_GetResponse(SDIO_RESP1);
 2834              		.loc 1 2415 0
 2835 022a FFF7FEFF 		bl	SDIO_GetResponse
 2836              	.LVL301:
 2837 022e A063     		str	r0, [r4, #56]
2416:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->CID[1] = SDIO_GetResponse(SDIO_RESP2);
 2838              		.loc 1 2416 0
 2839 0230 0420     		movs	r0, #4
 2840 0232 FFF7FEFF 		bl	SDIO_GetResponse
 2841              	.LVL302:
 2842 0236 E063     		str	r0, [r4, #60]
2417:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->CID[2] = SDIO_GetResponse(SDIO_RESP3);
 2843              		.loc 1 2417 0
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 123


 2844 0238 0820     		movs	r0, #8
 2845 023a FFF7FEFF 		bl	SDIO_GetResponse
 2846              	.LVL303:
 2847 023e 2064     		str	r0, [r4, #64]
2418:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->CID[3] = SDIO_GetResponse(SDIO_RESP4);
 2848              		.loc 1 2418 0
 2849 0240 0C20     		movs	r0, #12
 2850 0242 FFF7FEFF 		bl	SDIO_GetResponse
 2851              	.LVL304:
 2852 0246 6064     		str	r0, [r4, #68]
 2853              	.L196:
 2854              	.LVL305:
2421:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((hsd->CardType == STD_CAPACITY_SD_CARD_V1_1)    || (hsd->CardType == STD_CAPACITY_SD_CARD_V2_0
 2855              		.loc 1 2421 0
 2856 0248 236A     		ldr	r3, [r4, #32]
 2857 024a 022B     		cmp	r3, #2
 2858 024c 01D9     		bls	.L197
 2859 024e 062B     		cmp	r3, #6
 2860 0250 34D1     		bne	.L214
 2861              	.L197:
2426:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_SET_REL_ADDR;
 2862              		.loc 1 2426 0
 2863 0252 0323     		movs	r3, #3
 2864 0254 0693     		str	r3, [sp, #24]
2428:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 2865              		.loc 1 2428 0
 2866 0256 2068     		ldr	r0, [r4]
2427:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 2867              		.loc 1 2427 0
 2868 0258 4023     		movs	r3, #64
2428:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 2869              		.loc 1 2428 0
 2870 025a 05A9     		add	r1, sp, #20
2427:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 2871              		.loc 1 2427 0
 2872 025c 0793     		str	r3, [sp, #28]
2428:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 2873              		.loc 1 2428 0
 2874 025e FFF7FEFF 		bl	SDIO_SendCommand
 2875              	.LVL306:
 2876              	.LBB39:
 2877              	.LBB40:
2998:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while(!__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_CCRCFAIL | SDIO_FLAG_CMDREND | SDIO_FLAG_CTIMEOUT))
 2878              		.loc 1 2998 0
 2879 0262 2368     		ldr	r3, [r4]
 2880              	.L200:
 2881 0264 5A6B     		ldr	r2, [r3, #52]
 2882 0266 12F0450F 		tst	r2, #69
 2883 026a FBD0     		beq	.L200
3002:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_CTIMEOUT))
 2884              		.loc 1 3002 0
 2885 026c 5A6B     		ldr	r2, [r3, #52]
 2886 026e 5007     		lsls	r0, r2, #29
 2887 0270 03D5     		bpl	.L201
 2888              	.LVL307:
3006:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_CTIMEOUT);
 2889              		.loc 1 3006 0
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 124


 2890 0272 0422     		movs	r2, #4
 2891 0274 9A63     		str	r2, [r3, #56]
3008:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 2892              		.loc 1 3008 0
 2893 0276 0320     		movs	r0, #3
 2894 0278 49E0     		b	.L195
 2895              	.LVL308:
 2896              	.L201:
3010:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if(__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_CCRCFAIL))
 2897              		.loc 1 3010 0
 2898 027a 586B     		ldr	r0, [r3, #52]
 2899 027c 10F00105 		ands	r5, r0, #1
 2900 0280 02D0     		beq	.L203
 2901              	.LVL309:
3014:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_CCRCFAIL);
 2902              		.loc 1 3014 0
 2903 0282 0120     		movs	r0, #1
 2904 0284 9863     		str	r0, [r3, #56]
 2905 0286 42E0     		b	.L195
 2906              	.LVL310:
 2907              	.L203:
3024:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(SDIO_GetCommandResponse(hsd->Instance) != SD_CMD)
 2908              		.loc 1 3024 0
 2909 0288 1846     		mov	r0, r3
 2910 028a FFF7FEFF 		bl	SDIO_GetCommandResponse
 2911              	.LVL311:
 2912 028e 0328     		cmp	r0, #3
 2913 0290 79D1     		bne	.L204
3032:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
 2914              		.loc 1 3032 0
 2915 0292 2368     		ldr	r3, [r4]
 2916 0294 40F2FF52 		movw	r2, #1535
 2917 0298 9A63     		str	r2, [r3, #56]
3035:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   response_r1 = SDIO_GetResponse(SDIO_RESP1);
 2918              		.loc 1 3035 0
 2919 029a 2846     		mov	r0, r5
 2920 029c FFF7FEFF 		bl	SDIO_GetResponse
 2921              	.LVL312:
3037:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & (SD_R6_GENERAL_UNKNOWN_ERROR | SD_R6_ILLEGAL_CMD | SD_R6_COM_CRC_FAILED)) == SD
 2922              		.loc 1 3037 0
 2923 02a0 10F4604F 		tst	r0, #57344
 2924 02a4 04D1     		bne	.L205
3039:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     *pRCA = (uint16_t) (response_r1 >> 16);
 2925              		.loc 1 3039 0
 2926 02a6 000C     		lsrs	r0, r0, #16
 2927              	.LVL313:
 2928 02a8 09E0     		b	.L198
 2929              	.L234:
 2930 02aa 00BF     		.align	2
 2931              	.L233:
 2932 02ac A0802542 		.word	1109754016
 2933              	.LVL314:
 2934              	.L205:
3044:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_R6_GENERAL_UNKNOWN_ERROR) == SD_R6_GENERAL_UNKNOWN_ERROR)
 2935              		.loc 1 3044 0
 2936 02b0 8104     		lsls	r1, r0, #18
 2937 02b2 6AD4     		bmi	.L215
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 125


3049:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_R6_ILLEGAL_CMD) == SD_R6_ILLEGAL_CMD)
 2938              		.loc 1 3049 0
 2939 02b4 4204     		lsls	r2, r0, #17
 2940 02b6 66D4     		bmi	.L204
3054:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_R6_COM_CRC_FAILED) == SD_R6_COM_CRC_FAILED)
 2941              		.loc 1 3054 0
 2942 02b8 0304     		lsls	r3, r0, #16
 2943 02ba 68D4     		bmi	.L216
 2944              	.LVL315:
 2945              	.L214:
 2946              	.LBE40:
 2947              	.LBE39:
2387:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint16_t sd_rca = 1;
 2948              		.loc 1 2387 0
 2949 02bc 0120     		movs	r0, #1
 2950              	.LVL316:
 2951              	.L198:
2439:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (hsd->CardType != SECURE_DIGITAL_IO_CARD)
 2952              		.loc 1 2439 0
 2953 02be 236A     		ldr	r3, [r4, #32]
 2954 02c0 042B     		cmp	r3, #4
 2955 02c2 21D0     		beq	.L217
2442:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->RCA = sd_rca;
 2956              		.loc 1 2442 0
 2957 02c4 6062     		str	r0, [r4, #36]
2446:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_SEND_CSD;
 2958              		.loc 1 2446 0
 2959 02c6 0923     		movs	r3, #9
2445:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Argument         = (uint32_t)(hsd->RCA << 16);
 2960              		.loc 1 2445 0
 2961 02c8 0004     		lsls	r0, r0, #16
 2962              	.LVL317:
 2963 02ca 0590     		str	r0, [sp, #20]
2446:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_SEND_CSD;
 2964              		.loc 1 2446 0
 2965 02cc 0693     		str	r3, [sp, #24]
2448:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 2966              		.loc 1 2448 0
 2967 02ce 05A9     		add	r1, sp, #20
2447:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Response         = SDIO_RESPONSE_LONG;
 2968              		.loc 1 2447 0
 2969 02d0 C023     		movs	r3, #192
2448:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 2970              		.loc 1 2448 0
 2971 02d2 2068     		ldr	r0, [r4]
2447:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Response         = SDIO_RESPONSE_LONG;
 2972              		.loc 1 2447 0
 2973 02d4 0793     		str	r3, [sp, #28]
2448:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 2974              		.loc 1 2448 0
 2975 02d6 FFF7FEFF 		bl	SDIO_SendCommand
 2976              	.LVL318:
2451:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CmdResp2Error(hsd);
 2977              		.loc 1 2451 0
 2978 02da 2046     		mov	r0, r4
 2979 02dc FFF7FEFF 		bl	SD_CmdResp2Error
 2980              	.LVL319:
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 126


2453:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != SD_OK)
 2981              		.loc 1 2453 0
 2982 02e0 0546     		mov	r5, r0
 2983 02e2 98B9     		cbnz	r0, .L218
2459:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->CSD[0] = SDIO_GetResponse(SDIO_RESP1);
 2984              		.loc 1 2459 0
 2985 02e4 FFF7FEFF 		bl	SDIO_GetResponse
 2986              	.LVL320:
 2987 02e8 A062     		str	r0, [r4, #40]
2460:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->CSD[1] = SDIO_GetResponse(SDIO_RESP2);
 2988              		.loc 1 2460 0
 2989 02ea 0420     		movs	r0, #4
 2990 02ec FFF7FEFF 		bl	SDIO_GetResponse
 2991              	.LVL321:
 2992 02f0 E062     		str	r0, [r4, #44]
2461:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->CSD[2] = SDIO_GetResponse(SDIO_RESP3);
 2993              		.loc 1 2461 0
 2994 02f2 0820     		movs	r0, #8
 2995 02f4 FFF7FEFF 		bl	SDIO_GetResponse
 2996              	.LVL322:
 2997 02f8 2063     		str	r0, [r4, #48]
2462:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->CSD[3] = SDIO_GetResponse(SDIO_RESP4);
 2998              		.loc 1 2462 0
 2999 02fa 0C20     		movs	r0, #12
 3000 02fc FFF7FEFF 		bl	SDIO_GetResponse
 3001              	.LVL323:
 3002 0300 6063     		str	r0, [r4, #52]
 3003 0302 03E0     		b	.L218
 3004              	.LVL324:
 3005              	.L212:
2393:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 3006              		.loc 1 2393 0
 3007 0304 2520     		movs	r0, #37
 3008 0306 02E0     		b	.L195
 3009              	.LVL325:
 3010              	.L217:
2439:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (hsd->CardType != SECURE_DIGITAL_IO_CARD)
 3011              		.loc 1 2439 0
 3012 0308 0020     		movs	r0, #0
 3013              	.LVL326:
 3014 030a 00E0     		b	.L195
 3015              	.LVL327:
 3016              	.L218:
2453:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != SD_OK)
 3017              		.loc 1 2453 0
 3018 030c 2846     		mov	r0, r5
 3019              	.L195:
 3020              	.LBE38:
 3021              	.LBE37:
 371:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_Initialize_Cards(hsd);
 3022              		.loc 1 371 0
 3023 030e 8DF81200 		strb	r0, [sp, #18]
 373:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (errorstate != SD_OK)
 3024              		.loc 1 373 0
 3025 0312 9DF81230 		ldrb	r3, [sp, #18]	@ zero_extendqisi2
 3026 0316 5BBB     		cbnz	r3, .L231
 379:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = HAL_SD_Get_CardInfo(hsd, SDCardInfo);
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 127


 3027              		.loc 1 379 0
 3028 0318 2046     		mov	r0, r4
 3029 031a 3146     		mov	r1, r6
 3030 031c FFF7FEFF 		bl	HAL_SD_Get_CardInfo
 3031              	.LVL328:
 3032 0320 8DF81200 		strb	r0, [sp, #18]
 381:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (errorstate == SD_OK)
 3033              		.loc 1 381 0
 3034 0324 9DF81230 		ldrb	r3, [sp, #18]	@ zero_extendqisi2
 3035 0328 03F0FF02 		and	r2, r3, #255
 3036 032c ABB9     		cbnz	r3, .L208
 3037              	.LVL329:
 384:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_Select_Deselect(hsd, (uint32_t)(((uint32_t)SDCardInfo->RCA) << 16));
 3038              		.loc 1 384 0
 3039 032e B6F85430 		ldrh	r3, [r6, #84]
 3040              	.LBB44:
 3041              	.LBB45:
2486:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 3042              		.loc 1 2486 0
 3043 0332 2068     		ldr	r0, [r4]
2484:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 3044              		.loc 1 2484 0
 3045 0334 0892     		str	r2, [sp, #32]
 3046              	.LBE45:
 3047              	.LBE44:
 384:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_Select_Deselect(hsd, (uint32_t)(((uint32_t)SDCardInfo->RCA) << 16));
 3048              		.loc 1 384 0
 3049 0336 1B04     		lsls	r3, r3, #16
 3050              	.LBB47:
 3051              	.LBB46:
2481:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = (uint32_t)addr;
 3052              		.loc 1 2481 0
 3053 0338 0593     		str	r3, [sp, #20]
2483:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 3054              		.loc 1 2483 0
 3055 033a 4023     		movs	r3, #64
2482:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SEL_DESEL_CARD;
 3056              		.loc 1 2482 0
 3057 033c 0725     		movs	r5, #7
2483:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 3058              		.loc 1 2483 0
 3059 033e 0793     		str	r3, [sp, #28]
2486:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 3060              		.loc 1 2486 0
 3061 0340 05A9     		add	r1, sp, #20
2485:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 3062              		.loc 1 2485 0
 3063 0342 4FF48063 		mov	r3, #1024
 3064 0346 0993     		str	r3, [sp, #36]
2482:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SEL_DESEL_CARD;
 3065              		.loc 1 2482 0
 3066 0348 0695     		str	r5, [sp, #24]
2486:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 3067              		.loc 1 2486 0
 3068 034a FFF7FEFF 		bl	SDIO_SendCommand
 3069              	.LVL330:
2489:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_CmdResp1Error(hsd, SD_CMD_SEL_DESEL_CARD);
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 128


 3070              		.loc 1 2489 0
 3071 034e 2046     		mov	r0, r4
 3072 0350 2946     		mov	r1, r5
 3073 0352 FFF7FEFF 		bl	SD_CmdResp1Error
 3074              	.LVL331:
 3075              	.LBE46:
 3076              	.LBE47:
 384:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_Select_Deselect(hsd, (uint32_t)(((uint32_t)SDCardInfo->RCA) << 16));
 3077              		.loc 1 384 0
 3078 0356 8DF81200 		strb	r0, [sp, #18]
 3079              	.LVL332:
 3080              	.L208:
 388:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_Init(hsd->Instance, hsd->Init);   
 3081              		.loc 1 388 0
 3082 035a 04F11003 		add	r3, r4, #16
 3083 035e 93E80700 		ldmia	r3, {r0, r1, r2}
 3084 0362 8DE80700 		stmia	sp, {r0, r1, r2}
 3085 0366 231D     		adds	r3, r4, #4
 3086 0368 0ECB     		ldmia	r3, {r1, r2, r3}
 3087 036a 2068     		ldr	r0, [r4]
 3088 036c FFF7FEFF 		bl	SDIO_Init
 3089              	.LVL333:
 3090              	.L231:
 390:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
 3091              		.loc 1 390 0
 3092 0370 9DF81200 		ldrb	r0, [sp, #18]	@ zero_extendqisi2
 3093 0374 C0B2     		uxtb	r0, r0
 391:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 3094              		.loc 1 391 0
 3095 0376 11B0     		add	sp, sp, #68
 3096              		@ sp needed
 3097 0378 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 3098              	.LVL334:
 3099              	.L232:
 3100              	.LBB48:
 3101              	.LBB35:
 3102              	.LBB33:
 3103              	.LBB28:
2720:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
 3104              		.loc 1 2720 0
 3105 037c 40F2FF53 		movw	r3, #1535
 3106              	.LVL335:
 3107 0380 8363     		str	r3, [r0, #56]
2722:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
 3108              		.loc 1 2722 0
 3109 0382 0023     		movs	r3, #0
 3110 0384 7EE6     		b	.L167
 3111              	.LVL336:
 3112              	.L204:
 3113              	.LBE28:
 3114              	.LBE33:
 3115              	.LBE35:
 3116              	.LBE48:
 3117              	.LBB49:
 3118              	.LBB43:
 3119              	.LBB42:
 3120              	.LBB41:
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 129


3028:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 3121              		.loc 1 3028 0
 3122 0386 1020     		movs	r0, #16
 3123 0388 C1E7     		b	.L195
 3124              	.LVL337:
 3125              	.L215:
3046:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_GENERAL_UNKNOWN_ERROR);
 3126              		.loc 1 3046 0
 3127 038a 1320     		movs	r0, #19
 3128              	.LVL338:
 3129 038c BFE7     		b	.L195
 3130              	.LVL339:
 3131              	.L216:
3056:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_COM_CRC_FAILED);
 3132              		.loc 1 3056 0
 3133 038e 0F20     		movs	r0, #15
 3134              	.LVL340:
 3135 0390 BDE7     		b	.L195
 3136              	.LBE41:
 3137              	.LBE42:
 3138              	.LBE43:
 3139              	.LBE49:
 3140              		.cfi_endproc
 3141              	.LFE125:
 3143 0392 00BF     		.section	.text.HAL_SD_WideBusOperation_Config,"ax",%progbits
 3144              		.align	1
 3145              		.global	HAL_SD_WideBusOperation_Config
 3146              		.thumb
 3147              		.thumb_func
 3149              	HAL_SD_WideBusOperation_Config:
 3150              	.LFB144:
1772:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 3151              		.loc 1 1772 0
 3152              		.cfi_startproc
 3153              		@ args = 0, pretend = 0, frame = 32
 3154              		@ frame_needed = 0, uses_anonymous_args = 0
 3155              	.LVL341:
 3156 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 3157              	.LCFI20:
 3158              		.cfi_def_cfa_offset 20
 3159              		.cfi_offset 4, -20
 3160              		.cfi_offset 5, -16
 3161              		.cfi_offset 6, -12
 3162              		.cfi_offset 7, -8
 3163              		.cfi_offset 14, -4
1777:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (hsd->CardType == MULTIMEDIA_CARD)
 3164              		.loc 1 1777 0
 3165 0002 036A     		ldr	r3, [r0, #32]
 3166 0004 032B     		cmp	r3, #3
1772:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 3167              		.loc 1 1772 0
 3168 0006 8DB0     		sub	sp, sp, #52
 3169              	.LCFI21:
 3170              		.cfi_def_cfa_offset 72
1772:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 3171              		.loc 1 1772 0
 3172 0008 0446     		mov	r4, r0
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 130


 3173 000a 0E46     		mov	r6, r1
1777:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (hsd->CardType == MULTIMEDIA_CARD)
 3174              		.loc 1 1777 0
 3175 000c 00F08480 		beq	.L242
1783:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if ((hsd->CardType == STD_CAPACITY_SD_CARD_V1_1) || (hsd->CardType == STD_CAPACITY_SD_CARD_V
 3176              		.loc 1 1783 0
 3177 0010 022B     		cmp	r3, #2
 3178 0012 00F28380 		bhi	.L243
1786:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if (WideMode == SDIO_BUS_WIDE_8B)
 3179              		.loc 1 1786 0
 3180 0016 B1F5805F 		cmp	r1, #4096
 3181 001a 00F08180 		beq	.L244
1790:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     else if (WideMode == SDIO_BUS_WIDE_4B)
 3182              		.loc 1 1790 0
 3183 001e B1F5006F 		cmp	r1, #2048
 3184 0022 29D1     		bne	.L238
 3185              	.LVL342:
 3186              	.LBB54:
 3187              	.LBB55:
3072:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t scr[2] = {0, 0};
 3188              		.loc 1 3072 0
 3189 0024 0020     		movs	r0, #0
 3190              	.LVL343:
 3191 0026 0490     		str	r0, [sp, #16]
 3192 0028 0590     		str	r0, [sp, #20]
3074:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((SDIO_GetResponse(SDIO_RESP1) & SD_CARD_LOCKED) == SD_CARD_LOCKED)
 3193              		.loc 1 3074 0
 3194 002a FFF7FEFF 		bl	SDIO_GetResponse
 3195              	.LVL344:
 3196 002e 8001     		lsls	r0, r0, #6
 3197 0030 6ED4     		bmi	.L248
3082:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_FindSCR(hsd, scr);
 3198              		.loc 1 3082 0
 3199 0032 2046     		mov	r0, r4
 3200 0034 04A9     		add	r1, sp, #16
 3201 0036 FFF7FEFF 		bl	SD_FindSCR
 3202              	.LVL345:
3084:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != SD_OK)
 3203              		.loc 1 3084 0
 3204 003a 0546     		mov	r5, r0
 3205 003c 0028     		cmp	r0, #0
 3206 003e 72D1     		bne	.L237
3090:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((scr[1] & SD_WIDE_BUS_SUPPORT) != SD_ALLZERO)
 3207              		.loc 1 3090 0
 3208 0040 059B     		ldr	r3, [sp, #20]
 3209 0042 5903     		lsls	r1, r3, #13
 3210 0044 66D5     		bpl	.L249
3093:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Argument         = (uint32_t)(hsd->RCA << 16);
 3211              		.loc 1 3093 0
 3212 0046 636A     		ldr	r3, [r4, #36]
3096:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 3213              		.loc 1 3096 0
 3214 0048 0990     		str	r0, [sp, #36]
3093:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Argument         = (uint32_t)(hsd->RCA << 16);
 3215              		.loc 1 3093 0
 3216 004a 1B04     		lsls	r3, r3, #16
 3217 004c 0693     		str	r3, [sp, #24]
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 131


3095:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 3218              		.loc 1 3095 0
 3219 004e 4023     		movs	r3, #64
3094:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_APP_CMD;
 3220              		.loc 1 3094 0
 3221 0050 3727     		movs	r7, #55
3095:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 3222              		.loc 1 3095 0
 3223 0052 0893     		str	r3, [sp, #32]
3098:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 3224              		.loc 1 3098 0
 3225 0054 06A9     		add	r1, sp, #24
3097:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 3226              		.loc 1 3097 0
 3227 0056 4FF48063 		mov	r3, #1024
3098:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 3228              		.loc 1 3098 0
 3229 005a 2068     		ldr	r0, [r4]
 3230              	.LVL346:
3097:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 3231              		.loc 1 3097 0
 3232 005c 0A93     		str	r3, [sp, #40]
3094:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_APP_CMD;
 3233              		.loc 1 3094 0
 3234 005e 0797     		str	r7, [sp, #28]
3098:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 3235              		.loc 1 3098 0
 3236 0060 FFF7FEFF 		bl	SDIO_SendCommand
 3237              	.LVL347:
3101:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CmdResp1Error(hsd, SD_CMD_APP_CMD);
 3238              		.loc 1 3101 0
 3239 0064 2046     		mov	r0, r4
 3240 0066 3946     		mov	r1, r7
 3241 0068 FFF7FEFF 		bl	SD_CmdResp1Error
 3242              	.LVL348:
3103:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != SD_OK)
 3243              		.loc 1 3103 0
 3244 006c 0546     		mov	r5, r0
 3245 006e 0028     		cmp	r0, #0
 3246 0070 59D1     		bne	.L237
3109:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Argument         = 2;
 3247              		.loc 1 3109 0
 3248 0072 0223     		movs	r3, #2
 3249 0074 0693     		str	r3, [sp, #24]
 3250 0076 29E0     		b	.L252
 3251              	.LVL349:
 3252              	.L238:
 3253              	.LBE55:
 3254              	.LBE54:
1794:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     else if (WideMode == SDIO_BUS_WIDE_1B)
 3255              		.loc 1 1794 0
 3256 0078 0029     		cmp	r1, #0
 3257 007a 53D1     		bne	.L247
 3258              	.LVL350:
 3259              	.LBB56:
 3260              	.LBB57:
3143:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((SDIO_GetResponse(SDIO_RESP1) & SD_CARD_LOCKED) == SD_CARD_LOCKED)
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 132


 3261              		.loc 1 3143 0
 3262 007c 0846     		mov	r0, r1
 3263              	.LVL351:
3141:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t scr[2] = {0, 0};
 3264              		.loc 1 3141 0
 3265 007e 0491     		str	r1, [sp, #16]
 3266 0080 0591     		str	r1, [sp, #20]
3143:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((SDIO_GetResponse(SDIO_RESP1) & SD_CARD_LOCKED) == SD_CARD_LOCKED)
 3267              		.loc 1 3143 0
 3268 0082 FFF7FEFF 		bl	SDIO_GetResponse
 3269              	.LVL352:
 3270 0086 8201     		lsls	r2, r0, #6
 3271 0088 42D4     		bmi	.L248
3151:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_FindSCR(hsd, scr);
 3272              		.loc 1 3151 0
 3273 008a 2046     		mov	r0, r4
 3274 008c 04A9     		add	r1, sp, #16
 3275 008e FFF7FEFF 		bl	SD_FindSCR
 3276              	.LVL353:
3153:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != SD_OK)
 3277              		.loc 1 3153 0
 3278 0092 0546     		mov	r5, r0
 3279 0094 0028     		cmp	r0, #0
 3280 0096 46D1     		bne	.L237
3159:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((scr[1] & SD_SINGLE_BUS_SUPPORT) != SD_ALLZERO)
 3281              		.loc 1 3159 0
 3282 0098 059B     		ldr	r3, [sp, #20]
 3283 009a DB03     		lsls	r3, r3, #15
 3284 009c 3AD5     		bpl	.L249
3162:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Argument         = (uint32_t)(hsd->RCA << 16);
 3285              		.loc 1 3162 0
 3286 009e 636A     		ldr	r3, [r4, #36]
3165:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 3287              		.loc 1 3165 0
 3288 00a0 0990     		str	r0, [sp, #36]
3162:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Argument         = (uint32_t)(hsd->RCA << 16);
 3289              		.loc 1 3162 0
 3290 00a2 1B04     		lsls	r3, r3, #16
 3291 00a4 0693     		str	r3, [sp, #24]
3164:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 3292              		.loc 1 3164 0
 3293 00a6 4023     		movs	r3, #64
3163:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_APP_CMD;
 3294              		.loc 1 3163 0
 3295 00a8 3727     		movs	r7, #55
3164:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 3296              		.loc 1 3164 0
 3297 00aa 0893     		str	r3, [sp, #32]
3167:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 3298              		.loc 1 3167 0
 3299 00ac 06A9     		add	r1, sp, #24
3166:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 3300              		.loc 1 3166 0
 3301 00ae 4FF48063 		mov	r3, #1024
3167:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 3302              		.loc 1 3167 0
 3303 00b2 2068     		ldr	r0, [r4]
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 133


 3304              	.LVL354:
3166:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 3305              		.loc 1 3166 0
 3306 00b4 0A93     		str	r3, [sp, #40]
3163:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_APP_CMD;
 3307              		.loc 1 3163 0
 3308 00b6 0797     		str	r7, [sp, #28]
3167:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 3309              		.loc 1 3167 0
 3310 00b8 FFF7FEFF 		bl	SDIO_SendCommand
 3311              	.LVL355:
3170:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CmdResp1Error(hsd, SD_CMD_APP_CMD);
 3312              		.loc 1 3170 0
 3313 00bc 2046     		mov	r0, r4
 3314 00be 3946     		mov	r1, r7
 3315 00c0 FFF7FEFF 		bl	SD_CmdResp1Error
 3316              	.LVL356:
3172:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != SD_OK)
 3317              		.loc 1 3172 0
 3318 00c4 0546     		mov	r5, r0
 3319 00c6 0028     		cmp	r0, #0
 3320 00c8 2DD1     		bne	.L237
3178:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Argument         = 0;
 3321              		.loc 1 3178 0
 3322 00ca 0690     		str	r0, [sp, #24]
 3323              	.LVL357:
 3324              	.L252:
3179:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_APP_SD_SET_BUSWIDTH;
 3325              		.loc 1 3179 0
 3326 00cc 0625     		movs	r5, #6
3180:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 3327              		.loc 1 3180 0
 3328 00ce 06A9     		add	r1, sp, #24
 3329 00d0 2068     		ldr	r0, [r4]
3179:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_APP_SD_SET_BUSWIDTH;
 3330              		.loc 1 3179 0
 3331 00d2 0795     		str	r5, [sp, #28]
3180:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 3332              		.loc 1 3180 0
 3333 00d4 FFF7FEFF 		bl	SDIO_SendCommand
 3334              	.LVL358:
3183:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CmdResp1Error(hsd, SD_CMD_APP_SD_SET_BUSWIDTH);
 3335              		.loc 1 3183 0
 3336 00d8 2946     		mov	r1, r5
 3337 00da 2046     		mov	r0, r4
 3338 00dc FFF7FEFF 		bl	SD_CmdResp1Error
 3339              	.LVL359:
 3340 00e0 0546     		mov	r5, r0
 3341              	.LVL360:
 3342              	.LBE57:
 3343              	.LBE56:
1804:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if (errorstate == SD_OK)
 3344              		.loc 1 1804 0
 3345 00e2 00BB     		cbnz	r0, .L237
1807:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tmpinit.ClockEdge           = hsd->Init.ClockEdge;
 3346              		.loc 1 1807 0
 3347 00e4 6368     		ldr	r3, [r4, #4]
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 134


 3348 00e6 0693     		str	r3, [sp, #24]
1808:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tmpinit.ClockBypass         = hsd->Init.ClockBypass;
 3349              		.loc 1 1808 0
 3350 00e8 A368     		ldr	r3, [r4, #8]
 3351 00ea 0793     		str	r3, [sp, #28]
1809:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tmpinit.ClockPowerSave      = hsd->Init.ClockPowerSave;
 3352              		.loc 1 1809 0
 3353 00ec E368     		ldr	r3, [r4, #12]
 3354 00ee 0893     		str	r3, [sp, #32]
1811:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tmpinit.HardwareFlowControl = hsd->Init.HardwareFlowControl;
 3355              		.loc 1 1811 0
 3356 00f0 6369     		ldr	r3, [r4, #20]
 3357 00f2 0A93     		str	r3, [sp, #40]
1812:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tmpinit.ClockDiv            = hsd->Init.ClockDiv;
 3358              		.loc 1 1812 0
 3359 00f4 A369     		ldr	r3, [r4, #24]
 3360 00f6 0B93     		str	r3, [sp, #44]
1810:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tmpinit.BusWide             = WideMode;
 3361              		.loc 1 1810 0
 3362 00f8 0996     		str	r6, [sp, #36]
1813:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       SDIO_Init(hsd->Instance, tmpinit);
 3363              		.loc 1 1813 0
 3364 00fa 0CAB     		add	r3, sp, #48
 3365 00fc 13E90700 		ldmdb	r3, {r0, r1, r2}
 3366              	.LVL361:
 3367 0100 8DE80700 		stmia	sp, {r0, r1, r2}
 3368 0104 06AB     		add	r3, sp, #24
 3369 0106 0ECB     		ldmia	r3, {r1, r2, r3}
 3370 0108 2068     		ldr	r0, [r4]
 3371 010a FFF7FEFF 		bl	SDIO_Init
 3372              	.LVL362:
 3373 010e 0AE0     		b	.L237
 3374              	.LVL363:
 3375              	.L248:
 3376              	.LBB59:
 3377              	.LBB58:
3147:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 3378              		.loc 1 3147 0
 3379 0110 0E25     		movs	r5, #14
 3380 0112 08E0     		b	.L237
 3381              	.L249:
3196:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 3382              		.loc 1 3196 0
 3383 0114 2525     		movs	r5, #37
 3384              	.LVL364:
 3385 0116 06E0     		b	.L237
 3386              	.LVL365:
 3387              	.L242:
 3388              	.LBE58:
 3389              	.LBE59:
1781:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 3390              		.loc 1 1781 0
 3391 0118 2720     		movs	r0, #39
 3392              	.LVL366:
 3393 011a 05E0     		b	.L251
 3394              	.LVL367:
 3395              	.L243:
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 135


1773:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
 3396              		.loc 1 1773 0
 3397 011c 0020     		movs	r0, #0
 3398              	.LVL368:
 3399 011e 03E0     		b	.L251
 3400              	.LVL369:
 3401              	.L244:
1788:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       errorstate = SD_UNSUPPORTED_FEATURE;
 3402              		.loc 1 1788 0
 3403 0120 2725     		movs	r5, #39
 3404 0122 00E0     		b	.L237
 3405              	.L247:
1801:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       errorstate = SD_INVALID_PARAMETER;
 3406              		.loc 1 1801 0
 3407 0124 2625     		movs	r5, #38
 3408              	.LVL370:
 3409              	.L237:
1781:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 3410              		.loc 1 1781 0
 3411 0126 2846     		mov	r0, r5
 3412              	.LVL371:
 3413              	.L251:
1818:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 3414              		.loc 1 1818 0
 3415 0128 0DB0     		add	sp, sp, #52
 3416              		@ sp needed
 3417 012a F0BD     		pop	{r4, r5, r6, r7, pc}
 3418              		.cfi_endproc
 3419              	.LFE144:
 3421              		.section	.text.HAL_SD_StopTransfer,"ax",%progbits
 3422              		.align	1
 3423              		.global	HAL_SD_StopTransfer
 3424              		.thumb
 3425              		.thumb_func
 3427              	HAL_SD_StopTransfer:
 3428              	.LFB145:
1826:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 3429              		.loc 1 1826 0
 3430              		.cfi_startproc
 3431              		@ args = 0, pretend = 0, frame = 24
 3432              		@ frame_needed = 0, uses_anonymous_args = 0
 3433              	.LVL372:
 3434 0000 30B5     		push	{r4, r5, lr}
 3435              	.LCFI22:
 3436              		.cfi_def_cfa_offset 12
 3437              		.cfi_offset 4, -12
 3438              		.cfi_offset 5, -8
 3439              		.cfi_offset 14, -4
 3440 0002 87B0     		sub	sp, sp, #28
 3441              	.LCFI23:
 3442              		.cfi_def_cfa_offset 40
1831:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = 0;
 3443              		.loc 1 1831 0
 3444 0004 0023     		movs	r3, #0
1833:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 3445              		.loc 1 1833 0
 3446 0006 4022     		movs	r2, #64
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 136


1826:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 3447              		.loc 1 1826 0
 3448 0008 0546     		mov	r5, r0
1831:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = 0;
 3449              		.loc 1 1831 0
 3450 000a 0193     		str	r3, [sp, #4]
1832:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_STOP_TRANSMISSION;
 3451              		.loc 1 1832 0
 3452 000c 0C24     		movs	r4, #12
1834:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 3453              		.loc 1 1834 0
 3454 000e 0493     		str	r3, [sp, #16]
1836:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 3455              		.loc 1 1836 0
 3456 0010 01A9     		add	r1, sp, #4
1835:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 3457              		.loc 1 1835 0
 3458 0012 4FF48063 		mov	r3, #1024
1836:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 3459              		.loc 1 1836 0
 3460 0016 0068     		ldr	r0, [r0]
 3461              	.LVL373:
1833:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 3462              		.loc 1 1833 0
 3463 0018 0392     		str	r2, [sp, #12]
1835:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 3464              		.loc 1 1835 0
 3465 001a 0593     		str	r3, [sp, #20]
1832:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_STOP_TRANSMISSION;
 3466              		.loc 1 1832 0
 3467 001c 0294     		str	r4, [sp, #8]
1836:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 3468              		.loc 1 1836 0
 3469 001e FFF7FEFF 		bl	SDIO_SendCommand
 3470              	.LVL374:
1839:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_CmdResp1Error(hsd, SD_CMD_STOP_TRANSMISSION);
 3471              		.loc 1 1839 0
 3472 0022 2846     		mov	r0, r5
 3473 0024 2146     		mov	r1, r4
 3474 0026 FFF7FEFF 		bl	SD_CmdResp1Error
 3475              	.LVL375:
1842:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 3476              		.loc 1 1842 0
 3477 002a 07B0     		add	sp, sp, #28
 3478              		@ sp needed
 3479 002c 30BD     		pop	{r4, r5, pc}
 3480              		.cfi_endproc
 3481              	.LFE145:
 3483              		.section	.text.HAL_SD_ReadBlocks,"ax",%progbits
 3484              		.align	1
 3485              		.global	HAL_SD_ReadBlocks
 3486              		.thumb
 3487              		.thumb_func
 3489              	HAL_SD_ReadBlocks:
 3490              	.LFB129:
 470:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 3491              		.loc 1 470 0
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 137


 3492              		.cfi_startproc
 3493              		@ args = 8, pretend = 0, frame = 48
 3494              		@ frame_needed = 0, uses_anonymous_args = 0
 3495              	.LVL376:
 3496 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 3497              	.LCFI24:
 3498              		.cfi_def_cfa_offset 32
 3499              		.cfi_offset 4, -32
 3500              		.cfi_offset 5, -28
 3501              		.cfi_offset 6, -24
 3502              		.cfi_offset 7, -20
 3503              		.cfi_offset 8, -16
 3504              		.cfi_offset 9, -12
 3505              		.cfi_offset 10, -8
 3506              		.cfi_offset 14, -4
 3507 0004 0646     		mov	r6, r0
 477:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->Instance->DCTRL = 0;
 3508              		.loc 1 477 0
 3509 0006 0068     		ldr	r0, [r0]
 3510              	.LVL377:
 470:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 3511              		.loc 1 470 0
 3512 0008 1D46     		mov	r5, r3
 477:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->Instance->DCTRL = 0;
 3513              		.loc 1 477 0
 3514 000a 0023     		movs	r3, #0
 3515 000c C362     		str	r3, [r0, #44]
 479:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (hsd->CardType == HIGH_CAPACITY_SD_CARD)
 3516              		.loc 1 479 0
 3517 000e 336A     		ldr	r3, [r6, #32]
 470:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 3518              		.loc 1 470 0
 3519 0010 8CB0     		sub	sp, sp, #48
 3520              	.LCFI25:
 3521              		.cfi_def_cfa_offset 80
 479:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (hsd->CardType == HIGH_CAPACITY_SD_CARD)
 3522              		.loc 1 479 0
 3523 0012 022B     		cmp	r3, #2
 470:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 3524              		.loc 1 470 0
 3525 0014 0F46     		mov	r7, r1
 3526              	.LVL378:
 3527 0016 1446     		mov	r4, r2
 3528 0018 DDF850A0 		ldr	r10, [sp, #80]
 3529 001c DDF85490 		ldr	r9, [sp, #84]
 479:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (hsd->CardType == HIGH_CAPACITY_SD_CARD)
 3530              		.loc 1 479 0
 3531 0020 05D1     		bne	.L255
 3532              	.LVL379:
 482:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     ReadAddr /= 512;
 3533              		.loc 1 482 0
 3534 0022 520A     		lsrs	r2, r2, #9
 3535              	.LVL380:
 3536 0024 42EAC552 		orr	r2, r2, r5, lsl #23
 3537 0028 1446     		mov	r4, r2
 3538              	.LVL381:
 481:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     BlockSize = 512;
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 138


 3539              		.loc 1 481 0
 3540 002a 4FF4007A 		mov	r10, #512
 3541              	.LVL382:
 3542              	.L255:
 488:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 3543              		.loc 1 488 0
 3544 002e 4023     		movs	r3, #64
 3545 0030 0393     		str	r3, [sp, #12]
 489:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 3546              		.loc 1 489 0
 3547 0032 0023     		movs	r3, #0
 487:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SET_BLOCKLEN;
 3548              		.loc 1 487 0
 3549 0034 4FF01008 		mov	r8, #16
 489:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 3550              		.loc 1 489 0
 3551 0038 0493     		str	r3, [sp, #16]
 491:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 3552              		.loc 1 491 0
 3553 003a 01A9     		add	r1, sp, #4
 3554              	.LVL383:
 490:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 3555              		.loc 1 490 0
 3556 003c 4FF48063 		mov	r3, #1024
 487:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SET_BLOCKLEN;
 3557              		.loc 1 487 0
 3558 0040 CDF80880 		str	r8, [sp, #8]
 490:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 3559              		.loc 1 490 0
 3560 0044 0593     		str	r3, [sp, #20]
 486:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = (uint32_t) BlockSize;
 3561              		.loc 1 486 0
 3562 0046 CDF804A0 		str	r10, [sp, #4]
 491:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 3563              		.loc 1 491 0
 3564 004a FFF7FEFF 		bl	SDIO_SendCommand
 3565              	.LVL384:
 494:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_CmdResp1Error(hsd, SD_CMD_SET_BLOCKLEN);
 3566              		.loc 1 494 0
 3567 004e 4146     		mov	r1, r8
 3568 0050 3046     		mov	r0, r6
 3569 0052 FFF7FEFF 		bl	SD_CmdResp1Error
 3570              	.LVL385:
 496:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (errorstate != SD_OK)
 3571              		.loc 1 496 0
 3572 0056 8046     		mov	r8, r0
 3573 0058 0028     		cmp	r0, #0
 3574 005a 40F08880 		bne	.L282
 502:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataTimeOut   = SD_DATATIMEOUT;
 3575              		.loc 1 502 0
 3576 005e 4FF0FF33 		mov	r3, #-1
 3577 0062 0693     		str	r3, [sp, #24]
 503:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataLength    = NumberOfBlocks * BlockSize;
 3578              		.loc 1 503 0
 3579 0064 09FB0AF3 		mul	r3, r9, r10
 3580 0068 0793     		str	r3, [sp, #28]
 504:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataBlockSize = DATA_BLOCK_SIZE;
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 139


 3581              		.loc 1 504 0
 3582 006a 9023     		movs	r3, #144
 3583 006c 0893     		str	r3, [sp, #32]
 505:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferDir   = SDIO_TRANSFER_DIR_TO_SDIO;
 3584              		.loc 1 505 0
 3585 006e 0223     		movs	r3, #2
 3586 0070 0993     		str	r3, [sp, #36]
 506:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
 3587              		.loc 1 506 0
 3588 0072 0A90     		str	r0, [sp, #40]
 507:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DPSM          = SDIO_DPSM_ENABLE;
 3589              		.loc 1 507 0
 3590 0074 0123     		movs	r3, #1
 508:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataConfig(hsd->Instance, &sdio_datainitstructure);
 3591              		.loc 1 508 0
 3592 0076 06A9     		add	r1, sp, #24
 3593 0078 3068     		ldr	r0, [r6]
 3594              	.LVL386:
 507:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DPSM          = SDIO_DPSM_ENABLE;
 3595              		.loc 1 507 0
 3596 007a 0B93     		str	r3, [sp, #44]
 508:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataConfig(hsd->Instance, &sdio_datainitstructure);
 3597              		.loc 1 508 0
 3598 007c FFF7FEFF 		bl	SDIO_DataConfig
 3599              	.LVL387:
 510:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(NumberOfBlocks > 1)
 3600              		.loc 1 510 0
 3601 0080 B9F1010F 		cmp	r9, #1
 513:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex = SD_CMD_READ_MULT_BLOCK;
 3602              		.loc 1 513 0
 3603 0084 8CBF     		ite	hi
 3604 0086 1223     		movhi	r3, #18
 518:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex = SD_CMD_READ_SINGLE_BLOCK;    
 3605              		.loc 1 518 0
 3606 0088 1123     		movls	r3, #17
 522:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 3607              		.loc 1 522 0
 3608 008a 3068     		ldr	r0, [r6]
 518:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex = SD_CMD_READ_SINGLE_BLOCK;    
 3609              		.loc 1 518 0
 3610 008c 0293     		str	r3, [sp, #8]
 522:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 3611              		.loc 1 522 0
 3612 008e 01A9     		add	r1, sp, #4
 521:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = (uint32_t)ReadAddr;
 3613              		.loc 1 521 0
 3614 0090 0194     		str	r4, [sp, #4]
 522:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 3615              		.loc 1 522 0
 3616 0092 FFF7FEFF 		bl	SDIO_SendCommand
 3617              	.LVL388:
 525:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(NumberOfBlocks > 1)
 3618              		.loc 1 525 0
 3619 0096 B9F1010F 		cmp	r9, #1
 528:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CmdResp1Error(hsd, SD_CMD_READ_MULT_BLOCK);
 3620              		.loc 1 528 0
 3621 009a 3046     		mov	r0, r6
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 140


 525:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(NumberOfBlocks > 1)
 3622              		.loc 1 525 0
 3623 009c 16D9     		bls	.L259
 3624              	.LVL389:
 528:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CmdResp1Error(hsd, SD_CMD_READ_MULT_BLOCK);
 3625              		.loc 1 528 0
 3626 009e 1221     		movs	r1, #18
 3627 00a0 FFF7FEFF 		bl	SD_CmdResp1Error
 3628              	.LVL390:
 530:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if (errorstate != SD_OK)
 3629              		.loc 1 530 0
 3630 00a4 0028     		cmp	r0, #0
 3631 00a6 63D1     		bne	.L256
 3632              	.LVL391:
 3633              	.L260:
 537:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     while(!__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXOVERR | SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTIMEOUT 
 3634              		.loc 1 537 0 discriminator 1
 3635 00a8 3368     		ldr	r3, [r6]
 3636              	.LVL392:
 3637              	.L262:
 3638 00aa 5A6B     		ldr	r2, [r3, #52]
 3639 00ac 40F22A34 		movw	r4, #810
 3640 00b0 1440     		ands	r4, r4, r2
 3641 00b2 14BB     		cbnz	r4, .L266
 542:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXFIFOHF))
 3642              		.loc 1 542 0
 3643 00b4 5A6B     		ldr	r2, [r3, #52]
 3644 00b6 1104     		lsls	r1, r2, #16
 3645 00b8 F7D5     		bpl	.L262
 3646              	.L264:
 547:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           *(tempbuff + count) = SDIO_ReadFIFO(hsd->Instance);
 3647              		.loc 1 547 0 discriminator 2
 3648 00ba 3068     		ldr	r0, [r6]
 3649 00bc FFF7FEFF 		bl	SDIO_ReadFIFO
 3650              	.LVL393:
 3651 00c0 3851     		str	r0, [r7, r4]
 3652 00c2 0434     		adds	r4, r4, #4
 545:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         for (count = 0; count < 8; count++)
 3653              		.loc 1 545 0 discriminator 2
 3654 00c4 202C     		cmp	r4, #32
 3655 00c6 F8D1     		bne	.L264
 550:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         tempbuff += 8;
 3656              		.loc 1 550 0
 3657 00c8 2037     		adds	r7, r7, #32
 3658              	.LVL394:
 3659 00ca EDE7     		b	.L260
 3660              	.LVL395:
 3661              	.L259:
 557:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CmdResp1Error(hsd, SD_CMD_READ_SINGLE_BLOCK); 
 3662              		.loc 1 557 0
 3663 00cc 1121     		movs	r1, #17
 3664 00ce FFF7FEFF 		bl	SD_CmdResp1Error
 3665              	.LVL396:
 559:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if (errorstate != SD_OK)
 3666              		.loc 1 559 0
 3667 00d2 0028     		cmp	r0, #0
 3668 00d4 4CD1     		bne	.L256
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 141


 3669              	.LVL397:
 3670              	.L267:
 566:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     while(!__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXOVERR | SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTIMEOUT 
 3671              		.loc 1 566 0 discriminator 1
 3672 00d6 3368     		ldr	r3, [r6]
 3673              	.LVL398:
 3674              	.L269:
 3675 00d8 5A6B     		ldr	r2, [r3, #52]
 3676 00da 40F22A64 		movw	r4, #1578
 3677 00de 1440     		ands	r4, r4, r2
 3678 00e0 5CB9     		cbnz	r4, .L266
 571:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXFIFOHF))
 3679              		.loc 1 571 0
 3680 00e2 5A6B     		ldr	r2, [r3, #52]
 3681 00e4 1204     		lsls	r2, r2, #16
 3682 00e6 F7D5     		bpl	.L269
 3683              	.L271:
 576:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           *(tempbuff + count) = SDIO_ReadFIFO(hsd->Instance);
 3684              		.loc 1 576 0 discriminator 2
 3685 00e8 3068     		ldr	r0, [r6]
 3686 00ea FFF7FEFF 		bl	SDIO_ReadFIFO
 3687              	.LVL399:
 3688 00ee 3851     		str	r0, [r7, r4]
 3689 00f0 0434     		adds	r4, r4, #4
 574:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         for (count = 0; count < 8; count++)
 3690              		.loc 1 574 0 discriminator 2
 3691 00f2 202C     		cmp	r4, #32
 3692 00f4 F8D1     		bne	.L271
 579:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         tempbuff += 8;
 3693              		.loc 1 579 0
 3694 00f6 2037     		adds	r7, r7, #32
 3695              	.LVL400:
 3696 00f8 EDE7     		b	.L267
 3697              	.LVL401:
 3698              	.L266:
 585:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_DATAEND) && (NumberOfBlocks > 1))
 3699              		.loc 1 585 0
 3700 00fa 3368     		ldr	r3, [r6]
 3701 00fc 5B6B     		ldr	r3, [r3, #52]
 3702 00fe DD05     		lsls	r5, r3, #23
 3703 0100 09D5     		bpl	.L273
 585:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_DATAEND) && (NumberOfBlocks > 1))
 3704              		.loc 1 585 0 is_stmt 0 discriminator 1
 3705 0102 B9F1010F 		cmp	r9, #1
 3706 0106 06D9     		bls	.L273
 587:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if ((hsd->CardType == STD_CAPACITY_SD_CARD_V1_1) ||\
 3707              		.loc 1 587 0 is_stmt 1
 3708 0108 336A     		ldr	r3, [r6, #32]
 3709 010a 022B     		cmp	r3, #2
 3710 010c 03D8     		bhi	.L273
 592:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       errorstate = HAL_SD_StopTransfer(hsd);
 3711              		.loc 1 592 0
 3712 010e 3046     		mov	r0, r6
 3713 0110 FFF7FEFF 		bl	HAL_SD_StopTransfer
 3714              	.LVL402:
 3715 0114 8046     		mov	r8, r0
 3716              	.LVL403:
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 142


 3717              	.L273:
 597:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_DTIMEOUT))
 3718              		.loc 1 597 0
 3719 0116 3368     		ldr	r3, [r6]
 3720 0118 5A6B     		ldr	r2, [r3, #52]
 3721 011a 1407     		lsls	r4, r2, #28
 3722 011c 03D5     		bpl	.L274
 599:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_DTIMEOUT);
 3723              		.loc 1 599 0
 3724 011e 0822     		movs	r2, #8
 3725 0120 9A63     		str	r2, [r3, #56]
 3726              	.LVL404:
 603:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 3727              		.loc 1 603 0
 3728 0122 0420     		movs	r0, #4
 3729 0124 24E0     		b	.L256
 3730              	.LVL405:
 3731              	.L274:
 605:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_DCRCFAIL))
 3732              		.loc 1 605 0
 3733 0126 5A6B     		ldr	r2, [r3, #52]
 3734 0128 9007     		lsls	r0, r2, #30
 3735 012a 02D5     		bpl	.L275
 607:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_DCRCFAIL);
 3736              		.loc 1 607 0
 3737 012c 0220     		movs	r0, #2
 3738 012e 9863     		str	r0, [r3, #56]
 3739              	.LVL406:
 611:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 3740              		.loc 1 611 0
 3741 0130 1EE0     		b	.L256
 3742              	.LVL407:
 3743              	.L275:
 613:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXOVERR))
 3744              		.loc 1 613 0
 3745 0132 5A6B     		ldr	r2, [r3, #52]
 3746 0134 9106     		lsls	r1, r2, #26
 3747 0136 03D5     		bpl	.L276
 615:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_RXOVERR);
 3748              		.loc 1 615 0
 3749 0138 2022     		movs	r2, #32
 3750 013a 9A63     		str	r2, [r3, #56]
 3751              	.LVL408:
 619:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 3752              		.loc 1 619 0
 3753 013c 0620     		movs	r0, #6
 3754 013e 17E0     		b	.L256
 3755              	.LVL409:
 3756              	.L276:
 622:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_STBITERR))
 3757              		.loc 1 622 0
 3758 0140 5C6B     		ldr	r4, [r3, #52]
 3759 0142 14F40074 		ands	r4, r4, #512
 3760 0146 0BD0     		beq	.L278
 624:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_STBITERR);
 3761              		.loc 1 624 0
 3762 0148 4FF40072 		mov	r2, #512
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 143


 3763 014c 9A63     		str	r2, [r3, #56]
 3764              	.LVL410:
 628:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 3765              		.loc 1 628 0
 3766 014e 0720     		movs	r0, #7
 3767 0150 0EE0     		b	.L256
 3768              	.LVL411:
 3769              	.L279:
 639:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while ((__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXDAVL)) && (count > 0))
 3770              		.loc 1 639 0 discriminator 2
 3771 0152 631C     		adds	r3, r4, #1
 3772 0154 08D0     		beq	.L281
 641:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     *tempbuff = SDIO_ReadFIFO(hsd->Instance);
 3773              		.loc 1 641 0
 3774 0156 FFF7FEFF 		bl	SDIO_ReadFIFO
 3775              	.LVL412:
 3776 015a 47F82400 		str	r0, [r7, r4, lsl #2]
 3777              	.LVL413:
 3778 015e 0134     		adds	r4, r4, #1
 3779              	.LVL414:
 3780              	.L278:
 639:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while ((__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXDAVL)) && (count > 0))
 3781              		.loc 1 639 0 discriminator 1
 3782 0160 3068     		ldr	r0, [r6]
 3783 0162 436B     		ldr	r3, [r0, #52]
 3784 0164 9A02     		lsls	r2, r3, #10
 3785 0166 F4D4     		bmi	.L279
 3786              	.L281:
 647:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
 3787              		.loc 1 647 0
 3788 0168 40F2FF53 		movw	r3, #1535
 3789 016c 8363     		str	r3, [r0, #56]
 3790              	.LVL415:
 3791              	.L282:
 3792 016e 4046     		mov	r0, r8
 3793              	.L256:
 650:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 3794              		.loc 1 650 0
 3795 0170 0CB0     		add	sp, sp, #48
 3796              		@ sp needed
 3797 0172 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 3798              		.cfi_endproc
 3799              	.LFE129:
 3801              		.section	.text.HAL_SD_WriteBlocks,"ax",%progbits
 3802              		.align	1
 3803              		.global	HAL_SD_WriteBlocks
 3804              		.thumb
 3805              		.thumb_func
 3807              	HAL_SD_WriteBlocks:
 3808              	.LFB130:
 664:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 3809              		.loc 1 664 0
 3810              		.cfi_startproc
 3811              		@ args = 8, pretend = 0, frame = 48
 3812              		@ frame_needed = 0, uses_anonymous_args = 0
 3813              	.LVL416:
 3814 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 144


 3815              	.LCFI26:
 3816              		.cfi_def_cfa_offset 32
 3817              		.cfi_offset 4, -32
 3818              		.cfi_offset 5, -28
 3819              		.cfi_offset 6, -24
 3820              		.cfi_offset 7, -20
 3821              		.cfi_offset 8, -16
 3822              		.cfi_offset 9, -12
 3823              		.cfi_offset 10, -8
 3824              		.cfi_offset 14, -4
 3825 0004 0646     		mov	r6, r0
 3826 0006 8CB0     		sub	sp, sp, #48
 3827              	.LCFI27:
 3828              		.cfi_def_cfa_offset 80
 673:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->Instance->DCTRL = 0;
 3829              		.loc 1 673 0
 3830 0008 0068     		ldr	r0, [r0]
 3831              	.LVL417:
 664:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 3832              		.loc 1 664 0
 3833 000a DDF85090 		ldr	r9, [sp, #80]
 3834 000e DDF85480 		ldr	r8, [sp, #84]
 3835 0012 1D46     		mov	r5, r3
 670:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint8_t cardstate  = 0;
 3836              		.loc 1 670 0
 3837 0014 0023     		movs	r3, #0
 3838 0016 8DF80330 		strb	r3, [sp, #3]
 673:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->Instance->DCTRL = 0;
 3839              		.loc 1 673 0
 3840 001a C362     		str	r3, [r0, #44]
 675:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (hsd->CardType == HIGH_CAPACITY_SD_CARD)
 3841              		.loc 1 675 0
 3842 001c 336A     		ldr	r3, [r6, #32]
 3843 001e 022B     		cmp	r3, #2
 664:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 3844              		.loc 1 664 0
 3845 0020 0F46     		mov	r7, r1
 3846              	.LVL418:
 3847 0022 1446     		mov	r4, r2
 675:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (hsd->CardType == HIGH_CAPACITY_SD_CARD)
 3848              		.loc 1 675 0
 3849 0024 05D1     		bne	.L290
 3850              	.LVL419:
 678:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     WriteAddr /= 512;
 3851              		.loc 1 678 0
 3852 0026 520A     		lsrs	r2, r2, #9
 3853              	.LVL420:
 3854 0028 42EAC552 		orr	r2, r2, r5, lsl #23
 3855 002c 1446     		mov	r4, r2
 3856              	.LVL421:
 677:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     BlockSize = 512;
 3857              		.loc 1 677 0
 3858 002e 4FF40079 		mov	r9, #512
 3859              	.LVL422:
 3860              	.L290:
 684:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 3861              		.loc 1 684 0
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 145


 3862 0032 4023     		movs	r3, #64
 3863 0034 0393     		str	r3, [sp, #12]
 685:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 3864              		.loc 1 685 0
 3865 0036 0023     		movs	r3, #0
 683:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SET_BLOCKLEN;
 3866              		.loc 1 683 0
 3867 0038 4FF0100A 		mov	r10, #16
 685:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 3868              		.loc 1 685 0
 3869 003c 0493     		str	r3, [sp, #16]
 687:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 3870              		.loc 1 687 0
 3871 003e 01A9     		add	r1, sp, #4
 3872              	.LVL423:
 686:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 3873              		.loc 1 686 0
 3874 0040 4FF48063 		mov	r3, #1024
 682:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = (uint32_t)BlockSize;
 3875              		.loc 1 682 0
 3876 0044 CDF80490 		str	r9, [sp, #4]
 683:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SET_BLOCKLEN;
 3877              		.loc 1 683 0
 3878 0048 CDF808A0 		str	r10, [sp, #8]
 686:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 3879              		.loc 1 686 0
 3880 004c 0593     		str	r3, [sp, #20]
 687:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 3881              		.loc 1 687 0
 3882 004e FFF7FEFF 		bl	SDIO_SendCommand
 3883              	.LVL424:
 690:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_CmdResp1Error(hsd, SD_CMD_SET_BLOCKLEN);
 3884              		.loc 1 690 0
 3885 0052 3046     		mov	r0, r6
 3886 0054 5146     		mov	r1, r10
 3887 0056 FFF7FEFF 		bl	SD_CmdResp1Error
 3888              	.LVL425:
 692:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (errorstate != SD_OK)
 3889              		.loc 1 692 0
 3890 005a 0028     		cmp	r0, #0
 3891 005c 40F0BD80 		bne	.L291
 697:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(NumberOfBlocks > 1)
 3892              		.loc 1 697 0
 3893 0060 B8F1010F 		cmp	r8, #1
 700:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex = SD_CMD_WRITE_MULT_BLOCK;
 3894              		.loc 1 700 0
 3895 0064 8CBF     		ite	hi
 3896 0066 1923     		movhi	r3, #25
 705:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex = SD_CMD_WRITE_SINGLE_BLOCK;
 3897              		.loc 1 705 0
 3898 0068 1823     		movls	r3, #24
 709:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 3899              		.loc 1 709 0
 3900 006a 01A9     		add	r1, sp, #4
 3901 006c 3068     		ldr	r0, [r6]
 3902              	.LVL426:
 705:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex = SD_CMD_WRITE_SINGLE_BLOCK;
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 146


 3903              		.loc 1 705 0
 3904 006e 0293     		str	r3, [sp, #8]
 708:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = (uint32_t)WriteAddr;
 3905              		.loc 1 708 0
 3906 0070 0194     		str	r4, [sp, #4]
 709:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 3907              		.loc 1 709 0
 3908 0072 FFF7FEFF 		bl	SDIO_SendCommand
 3909              	.LVL427:
 712:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(NumberOfBlocks > 1)
 3910              		.loc 1 712 0
 3911 0076 B8F1010F 		cmp	r8, #1
 714:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CmdResp1Error(hsd, SD_CMD_WRITE_MULT_BLOCK);
 3912              		.loc 1 714 0
 3913 007a 3046     		mov	r0, r6
 3914 007c 8CBF     		ite	hi
 3915 007e 1921     		movhi	r1, #25
 718:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CmdResp1Error(hsd, SD_CMD_WRITE_SINGLE_BLOCK);
 3916              		.loc 1 718 0
 3917 0080 1821     		movls	r1, #24
 3918 0082 FFF7FEFF 		bl	SD_CmdResp1Error
 3919              	.LVL428:
 3920 0086 0446     		mov	r4, r0
 3921              	.LVL429:
 721:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (errorstate != SD_OK)
 3922              		.loc 1 721 0
 3923 0088 0028     		cmp	r0, #0
 3924 008a 40F0A680 		bne	.L291
 730:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataTimeOut   = SD_DATATIMEOUT;
 3925              		.loc 1 730 0
 3926 008e 4FF0FF33 		mov	r3, #-1
 3927 0092 0693     		str	r3, [sp, #24]
 732:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataBlockSize = SDIO_DATABLOCK_SIZE_512B;
 3928              		.loc 1 732 0
 3929 0094 9023     		movs	r3, #144
 3930 0096 0893     		str	r3, [sp, #32]
 733:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferDir   = SDIO_TRANSFER_DIR_TO_CARD;
 3931              		.loc 1 733 0
 3932 0098 0990     		str	r0, [sp, #36]
 734:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
 3933              		.loc 1 734 0
 3934 009a 0A90     		str	r0, [sp, #40]
 735:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DPSM          = SDIO_DPSM_ENABLE;
 3935              		.loc 1 735 0
 3936 009c 0123     		movs	r3, #1
 727:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   totalnumberofbytes = NumberOfBlocks * BlockSize;
 3937              		.loc 1 727 0
 3938 009e 08FB09F9 		mul	r9, r8, r9
 3939              	.LVL430:
 736:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataConfig(hsd->Instance, &sdio_datainitstructure);
 3940              		.loc 1 736 0
 3941 00a2 3068     		ldr	r0, [r6]
 3942              	.LVL431:
 731:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataLength    = NumberOfBlocks * BlockSize;
 3943              		.loc 1 731 0
 3944 00a4 CDF81C90 		str	r9, [sp, #28]
 736:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataConfig(hsd->Instance, &sdio_datainitstructure);
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 147


 3945              		.loc 1 736 0
 3946 00a8 06A9     		add	r1, sp, #24
 735:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DPSM          = SDIO_DPSM_ENABLE;
 3947              		.loc 1 735 0
 3948 00aa 0B93     		str	r3, [sp, #44]
 736:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataConfig(hsd->Instance, &sdio_datainitstructure);
 3949              		.loc 1 736 0
 3950 00ac FFF7FEFF 		bl	SDIO_DataConfig
 3951              	.LVL432:
 739:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(NumberOfBlocks > 1)
 3952              		.loc 1 739 0
 3953 00b0 B8F1010F 		cmp	r8, #1
 3954 00b4 3BD9     		bls	.L297
 3955              	.LVL433:
 3956              	.L298:
 742:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     while(!__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_TXUNDERR | SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTIMEOUT
 3957              		.loc 1 742 0 discriminator 1
 3958 00b6 3368     		ldr	r3, [r6]
 3959              	.LVL434:
 3960              	.L300:
 3961 00b8 5A6B     		ldr	r2, [r3, #52]
 3962 00ba 40F21A35 		movw	r5, #794
 3963 00be 1540     		ands	r5, r5, r2
 3964 00c0 75BB     		cbnz	r5, .L323
 747:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_TXFIFOHE))
 3965              		.loc 1 747 0
 3966 00c2 5A6B     		ldr	r2, [r3, #52]
 3967 00c4 5004     		lsls	r0, r2, #17
 3968 00c6 F7D5     		bpl	.L300
 749:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         if ((totalnumberofbytes - bytestransferred) < 32)
 3969              		.loc 1 749 0
 3970 00c8 C4EB0903 		rsb	r3, r4, r9
 3971 00cc 1F2B     		cmp	r3, #31
 3972 00ce 14D8     		bhi	.L308
 751:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           restwords = ((totalnumberofbytes - bytestransferred) % 4 == 0) ? ((totalnumberofbytes - b
 3973              		.loc 1 751 0
 3974 00d0 13F0030F 		tst	r3, #3
 3975 00d4 4FEA930A 		lsr	r10, r3, #2
 3976 00d8 18BF     		it	ne
 3977 00da 0AF1010A 		addne	r10, r10, #1
 3978              	.LVL435:
 754:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           for (count = 0; count < restwords; count++)
 3979              		.loc 1 754 0
 3980 00de 0025     		movs	r5, #0
 3981              	.LVL436:
 3982              	.L304:
 3983 00e0 AB00     		lsls	r3, r5, #2
 754:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           for (count = 0; count < restwords; count++)
 3984              		.loc 1 754 0 is_stmt 0 discriminator 1
 3985 00e2 5545     		cmp	r5, r10
 3986 00e4 07EB0301 		add	r1, r7, r3
 3987              	.LVL437:
 3988 00e8 04D0     		beq	.L335
 756:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             SDIO_WriteFIFO(hsd->Instance, tempbuff);
 3989              		.loc 1 756 0 is_stmt 1 discriminator 2
 3990 00ea 3068     		ldr	r0, [r6]
 3991 00ec FFF7FEFF 		bl	SDIO_WriteFIFO
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 148


 3992              	.LVL438:
 754:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           for (count = 0; count < restwords; count++)
 3993              		.loc 1 754 0 discriminator 2
 3994 00f0 0135     		adds	r5, r5, #1
 3995              	.LVL439:
 3996 00f2 F5E7     		b	.L304
 3997              	.LVL440:
 3998              	.L335:
 3999 00f4 1C44     		add	r4, r4, r3
 4000 00f6 0F46     		mov	r7, r1
 4001 00f8 DDE7     		b	.L298
 4002              	.LVL441:
 4003              	.L308:
 766:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             SDIO_WriteFIFO(hsd->Instance, (tempbuff + count));
 4004              		.loc 1 766 0 discriminator 2
 4005 00fa 7919     		adds	r1, r7, r5
 4006 00fc 3068     		ldr	r0, [r6]
 4007 00fe 0435     		adds	r5, r5, #4
 4008 0100 FFF7FEFF 		bl	SDIO_WriteFIFO
 4009              	.LVL442:
 764:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           for (count = 0; count < 8; count++)
 4010              		.loc 1 764 0 discriminator 2
 4011 0104 202D     		cmp	r5, #32
 4012 0106 F8D1     		bne	.L308
 769:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           tempbuff += 8;
 4013              		.loc 1 769 0
 4014 0108 2037     		adds	r7, r7, #32
 4015              	.LVL443:
 770:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           bytestransferred += 32;
 4016              		.loc 1 770 0
 4017 010a 2034     		adds	r4, r4, #32
 4018              	.LVL444:
 4019 010c D3E7     		b	.L298
 4020              	.LVL445:
 4021              	.L322:
 784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_TXFIFOHE))
 4022              		.loc 1 784 0
 4023 010e 5A6B     		ldr	r2, [r3, #52]
 4024 0110 5204     		lsls	r2, r2, #17
 4025 0112 0ED4     		bmi	.L336
 4026              	.L313:
 779:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     while(!__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_TXUNDERR | SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTIMEOUT
 4027              		.loc 1 779 0 discriminator 1
 4028 0114 5A6B     		ldr	r2, [r3, #52]
 4029 0116 40F21A65 		movw	r5, #1562
 4030 011a 1540     		ands	r5, r5, r2
 4031 011c 002D     		cmp	r5, #0
 4032 011e F6D0     		beq	.L322
 4033              	.L323:
 814:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_DATAEND) && (NumberOfBlocks > 1))
 4034              		.loc 1 814 0
 4035 0120 3368     		ldr	r3, [r6]
 4036 0122 5B6B     		ldr	r3, [r3, #52]
 4037 0124 D905     		lsls	r1, r3, #23
 4038 0126 24D4     		bmi	.L310
 4039 0128 2CE0     		b	.L311
 4040              	.LVL446:
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 149


 4041              	.L337:
 4042 012a 1C44     		add	r4, r4, r3
 4043 012c 0F46     		mov	r7, r1
 4044              	.LVL447:
 4045              	.L297:
 779:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     while(!__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_TXUNDERR | SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTIMEOUT
 4046              		.loc 1 779 0 discriminator 1
 4047 012e 3368     		ldr	r3, [r6]
 4048 0130 F0E7     		b	.L313
 4049              	.LVL448:
 4050              	.L336:
 786:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         if ((totalnumberofbytes - bytestransferred) < 32)
 4051              		.loc 1 786 0
 4052 0132 C4EB0903 		rsb	r3, r4, r9
 4053 0136 1F2B     		cmp	r3, #31
 4054 0138 11D8     		bhi	.L321
 788:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           restwords = ((totalnumberofbytes - bytestransferred) % 4 == 0) ? ((totalnumberofbytes - b
 4055              		.loc 1 788 0
 4056 013a 13F0030F 		tst	r3, #3
 4057 013e 4FEA930A 		lsr	r10, r3, #2
 4058 0142 18BF     		it	ne
 4059 0144 0AF1010A 		addne	r10, r10, #1
 4060              	.LVL449:
 791:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           for (count = 0; count < restwords; count++)
 4061              		.loc 1 791 0
 4062 0148 0025     		movs	r5, #0
 4063              	.LVL450:
 4064              	.L317:
 4065 014a AB00     		lsls	r3, r5, #2
 791:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           for (count = 0; count < restwords; count++)
 4066              		.loc 1 791 0 is_stmt 0 discriminator 1
 4067 014c 5545     		cmp	r5, r10
 4068 014e 07EB0301 		add	r1, r7, r3
 4069              	.LVL451:
 4070 0152 EAD0     		beq	.L337
 793:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             SDIO_WriteFIFO(hsd->Instance, tempbuff);
 4071              		.loc 1 793 0 is_stmt 1 discriminator 2
 4072 0154 3068     		ldr	r0, [r6]
 4073 0156 FFF7FEFF 		bl	SDIO_WriteFIFO
 4074              	.LVL452:
 791:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           for (count = 0; count < restwords; count++)
 4075              		.loc 1 791 0 discriminator 2
 4076 015a 0135     		adds	r5, r5, #1
 4077              	.LVL453:
 4078 015c F5E7     		b	.L317
 4079              	.LVL454:
 4080              	.L321:
 803:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             SDIO_WriteFIFO(hsd->Instance, (tempbuff + count));
 4081              		.loc 1 803 0 discriminator 2
 4082 015e 7919     		adds	r1, r7, r5
 4083 0160 3068     		ldr	r0, [r6]
 4084 0162 0435     		adds	r5, r5, #4
 4085 0164 FFF7FEFF 		bl	SDIO_WriteFIFO
 4086              	.LVL455:
 801:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           for (count = 0; count < 8; count++)
 4087              		.loc 1 801 0 discriminator 2
 4088 0168 202D     		cmp	r5, #32
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 150


 4089 016a F8D1     		bne	.L321
 806:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           tempbuff += 8;
 4090              		.loc 1 806 0
 4091 016c 2037     		adds	r7, r7, #32
 4092              	.LVL456:
 807:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           bytestransferred += 32;
 4093              		.loc 1 807 0
 4094 016e 2034     		adds	r4, r4, #32
 4095              	.LVL457:
 4096 0170 DDE7     		b	.L297
 4097              	.LVL458:
 4098              	.L310:
 814:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_DATAEND) && (NumberOfBlocks > 1))
 4099              		.loc 1 814 0 discriminator 1
 4100 0172 B8F1010F 		cmp	r8, #1
 4101 0176 05D9     		bls	.L311
 816:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if ((hsd->CardType == STD_CAPACITY_SD_CARD_V1_1) || (hsd->CardType == STD_CAPACITY_SD_CARD_V2_0
 4102              		.loc 1 816 0
 4103 0178 336A     		ldr	r3, [r6, #32]
 4104 017a 022B     		cmp	r3, #2
 4105 017c 02D8     		bhi	.L311
 820:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       errorstate = HAL_SD_StopTransfer(hsd);
 4106              		.loc 1 820 0
 4107 017e 3046     		mov	r0, r6
 4108 0180 FFF7FEFF 		bl	HAL_SD_StopTransfer
 4109              	.LVL459:
 4110              	.L311:
 825:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_DTIMEOUT))
 4111              		.loc 1 825 0
 4112 0184 3368     		ldr	r3, [r6]
 4113 0186 5A6B     		ldr	r2, [r3, #52]
 4114 0188 1407     		lsls	r4, r2, #28
 4115 018a 03D5     		bpl	.L324
 827:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_DTIMEOUT);
 4116              		.loc 1 827 0
 4117 018c 0822     		movs	r2, #8
 4118 018e 9A63     		str	r2, [r3, #56]
 4119              	.LVL460:
 831:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 4120              		.loc 1 831 0
 4121 0190 0420     		movs	r0, #4
 4122 0192 22E0     		b	.L291
 4123              	.LVL461:
 4124              	.L324:
 833:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_DCRCFAIL))
 4125              		.loc 1 833 0
 4126 0194 5A6B     		ldr	r2, [r3, #52]
 4127 0196 9007     		lsls	r0, r2, #30
 4128 0198 02D5     		bpl	.L325
 835:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_DCRCFAIL);
 4129              		.loc 1 835 0
 4130 019a 0220     		movs	r0, #2
 4131 019c 9863     		str	r0, [r3, #56]
 4132              	.LVL462:
 839:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 4133              		.loc 1 839 0
 4134 019e 1CE0     		b	.L291
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 151


 4135              	.LVL463:
 4136              	.L325:
 841:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_TXUNDERR))
 4137              		.loc 1 841 0
 4138 01a0 5A6B     		ldr	r2, [r3, #52]
 4139 01a2 D106     		lsls	r1, r2, #27
 4140 01a4 03D5     		bpl	.L326
 843:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_TXUNDERR);
 4141              		.loc 1 843 0
 4142 01a6 1022     		movs	r2, #16
 4143 01a8 9A63     		str	r2, [r3, #56]
 4144              	.LVL464:
 847:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 4145              		.loc 1 847 0
 4146 01aa 0520     		movs	r0, #5
 4147 01ac 15E0     		b	.L291
 4148              	.LVL465:
 4149              	.L326:
 850:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_STBITERR))
 4150              		.loc 1 850 0
 4151 01ae 5A6B     		ldr	r2, [r3, #52]
 4152 01b0 9205     		lsls	r2, r2, #22
 4153 01b2 04D5     		bpl	.L327
 852:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_STBITERR);
 4154              		.loc 1 852 0
 4155 01b4 4FF40072 		mov	r2, #512
 4156 01b8 9A63     		str	r2, [r3, #56]
 4157              	.LVL466:
 856:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 4158              		.loc 1 856 0
 4159 01ba 0720     		movs	r0, #7
 4160 01bc 0DE0     		b	.L291
 4161              	.LVL467:
 4162              	.L327:
 865:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
 4163              		.loc 1 865 0
 4164 01be 40F2FF52 		movw	r2, #1535
 4165 01c2 9A63     		str	r2, [r3, #56]
 4166              	.L329:
 872:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_IsCardProgramming(hsd, &cardstate);
 4167              		.loc 1 872 0
 4168 01c4 3046     		mov	r0, r6
 4169 01c6 0DF10301 		add	r1, sp, #3
 4170 01ca FFF7FEFF 		bl	SD_IsCardProgramming
 4171              	.LVL468:
 870:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while ((errorstate == SD_OK) && ((cardstate == SD_CARD_PROGRAMMING) || (cardstate == SD_CARD_RECE
 4172              		.loc 1 870 0
 4173 01ce 20B9     		cbnz	r0, .L291
 870:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while ((errorstate == SD_OK) && ((cardstate == SD_CARD_PROGRAMMING) || (cardstate == SD_CARD_RECE
 4174              		.loc 1 870 0 is_stmt 0 discriminator 2
 4175 01d0 9DF80330 		ldrb	r3, [sp, #3]	@ zero_extendqisi2
 4176 01d4 063B     		subs	r3, r3, #6
 4177 01d6 012B     		cmp	r3, #1
 4178 01d8 F4D9     		bls	.L329
 4179              	.LVL469:
 4180              	.L291:
 876:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 152


 4181              		.loc 1 876 0 is_stmt 1
 4182 01da 0CB0     		add	sp, sp, #48
 4183              		@ sp needed
 4184 01dc BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 4185              		.cfi_endproc
 4186              	.LFE130:
 4188              		.section	.text.HAL_SD_CheckReadOperation,"ax",%progbits
 4189              		.align	1
 4190              		.global	HAL_SD_CheckReadOperation
 4191              		.thumb
 4192              		.thumb_func
 4194              	HAL_SD_CheckReadOperation:
 4195              	.LFB133:
1139:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 4196              		.loc 1 1139 0
 4197              		.cfi_startproc
 4198              		@ args = 0, pretend = 0, frame = 0
 4199              		@ frame_needed = 0, uses_anonymous_args = 0
 4200              	.LVL470:
 4201 0000 38B5     		push	{r3, r4, r5, lr}
 4202              	.LCFI28:
 4203              		.cfi_def_cfa_offset 16
 4204              		.cfi_offset 3, -16
 4205              		.cfi_offset 4, -12
 4206              		.cfi_offset 5, -8
 4207              		.cfi_offset 14, -4
1139:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 4208              		.loc 1 1139 0
 4209 0002 0446     		mov	r4, r0
 4210 0004 0D46     		mov	r5, r1
 4211              	.LVL471:
1146:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp1 = hsd->DmaTransferCplt; 
 4212              		.loc 1 1146 0
 4213 0006 006D     		ldr	r0, [r0, #80]
 4214              	.LVL472:
1147:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp2 = hsd->SdTransferCplt;
 4215              		.loc 1 1147 0
 4216 0008 A16C     		ldr	r1, [r4, #72]
 4217              	.LVL473:
1148:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp3 = (HAL_SD_ErrorTypedef)hsd->SdTransferErr;
 4218              		.loc 1 1148 0
 4219 000a E26C     		ldr	r2, [r4, #76]
1141:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t timeout = Timeout;
 4220              		.loc 1 1141 0
 4221 000c 2B46     		mov	r3, r5
1148:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp3 = (HAL_SD_ErrorTypedef)hsd->SdTransferErr;
 4222              		.loc 1 1148 0
 4223 000e D2B2     		uxtb	r2, r2
 4224              	.LVL474:
 4225              	.L339:
1150:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while ((tmp1 == 0) && (tmp2 == 0) && (tmp3 == SD_OK) && (timeout > 0))
 4226              		.loc 1 1150 0 discriminator 1
 4227 0010 00B9     		cbnz	r0, .L340
1150:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while ((tmp1 == 0) && (tmp2 == 0) && (tmp3 == SD_OK) && (timeout > 0))
 4228              		.loc 1 1150 0 is_stmt 0 discriminator 2
 4229 0012 09B1     		cbz	r1, .L341
 4230              	.L340:
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 153


1161:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while((__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXACT)) && (timeout > 0))
 4231              		.loc 1 1161 0 is_stmt 1 discriminator 1
 4232 0014 2368     		ldr	r3, [r4]
 4233              	.LVL475:
 4234 0016 0BE0     		b	.L342
 4235              	.LVL476:
 4236              	.L341:
1150:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while ((tmp1 == 0) && (tmp2 == 0) && (tmp3 == SD_OK) && (timeout > 0))
 4237              		.loc 1 1150 0 discriminator 1
 4238 0018 002A     		cmp	r2, #0
 4239 001a FBD1     		bne	.L340
 4240 001c 002B     		cmp	r3, #0
 4241 001e F9D0     		beq	.L340
1152:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tmp1 = hsd->DmaTransferCplt; 
 4242              		.loc 1 1152 0
 4243 0020 206D     		ldr	r0, [r4, #80]
 4244              	.LVL477:
1153:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tmp2 = hsd->SdTransferCplt;
 4245              		.loc 1 1153 0
 4246 0022 A16C     		ldr	r1, [r4, #72]
 4247              	.LVL478:
1154:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tmp3 = (HAL_SD_ErrorTypedef)hsd->SdTransferErr;    
 4248              		.loc 1 1154 0
 4249 0024 E26C     		ldr	r2, [r4, #76]
 4250              	.LVL479:
1155:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     timeout--;
 4251              		.loc 1 1155 0
 4252 0026 013B     		subs	r3, r3, #1
 4253              	.LVL480:
1154:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tmp3 = (HAL_SD_ErrorTypedef)hsd->SdTransferErr;    
 4254              		.loc 1 1154 0
 4255 0028 D2B2     		uxtb	r2, r2
 4256              	.LVL481:
 4257 002a F1E7     		b	.L339
 4258              	.LVL482:
 4259              	.L358:
1161:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while((__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXACT)) && (timeout > 0))
 4260              		.loc 1 1161 0 discriminator 2
 4261 002c 1DB1     		cbz	r5, .L344
1163:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     timeout--;  
 4262              		.loc 1 1163 0
 4263 002e 013D     		subs	r5, r5, #1
 4264              	.LVL483:
 4265              	.L342:
1161:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while((__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXACT)) && (timeout > 0))
 4266              		.loc 1 1161 0 discriminator 1
 4267 0030 5A6B     		ldr	r2, [r3, #52]
 4268 0032 9204     		lsls	r2, r2, #18
 4269 0034 FAD4     		bmi	.L358
 4270              	.L344:
1167:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (hsd->SdOperation == SD_READ_MULTIPLE_BLOCK)
 4271              		.loc 1 1167 0
 4272 0036 636D     		ldr	r3, [r4, #84]
 4273 0038 012B     		cmp	r3, #1
 4274 003a 0ED1     		bne	.L346
1169:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = HAL_SD_StopTransfer(hsd);
 4275              		.loc 1 1169 0
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 154


 4276 003c 2046     		mov	r0, r4
 4277              	.LVL484:
 4278 003e FFF7FEFF 		bl	HAL_SD_StopTransfer
 4279              	.LVL485:
1172:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if ((timeout == 0) && (errorstate == SD_OK))
 4280              		.loc 1 1172 0
 4281 0042 0DB9     		cbnz	r5, .L347
1172:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if ((timeout == 0) && (errorstate == SD_OK))
 4282              		.loc 1 1172 0 is_stmt 0 discriminator 1
 4283 0044 00B9     		cbnz	r0, .L347
 4284              	.LVL486:
 4285              	.L349:
1174:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_DATA_TIMEOUT;
 4286              		.loc 1 1174 0 is_stmt 1
 4287 0046 0420     		movs	r0, #4
 4288              	.LVL487:
 4289              	.L347:
1178:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
 4290              		.loc 1 1178 0
 4291 0048 2368     		ldr	r3, [r4]
 4292 004a 40F2FF52 		movw	r2, #1535
 4293 004e 9A63     		str	r2, [r3, #56]
1181:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (hsd->SdTransferErr != SD_OK)
 4294              		.loc 1 1181 0
 4295 0050 E36C     		ldr	r3, [r4, #76]
 4296 0052 33B1     		cbz	r3, .L357
1183:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return (HAL_SD_ErrorTypedef)(hsd->SdTransferErr);
 4297              		.loc 1 1183 0
 4298 0054 E06C     		ldr	r0, [r4, #76]
 4299              	.LVL488:
 4300 0056 C0B2     		uxtb	r0, r0
 4301 0058 38BD     		pop	{r3, r4, r5, pc}
 4302              	.LVL489:
 4303              	.L346:
1172:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if ((timeout == 0) && (errorstate == SD_OK))
 4304              		.loc 1 1172 0
 4305 005a 002D     		cmp	r5, #0
 4306 005c F3D0     		beq	.L349
1140:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
 4307              		.loc 1 1140 0
 4308 005e 0020     		movs	r0, #0
 4309              	.LVL490:
 4310 0060 F2E7     		b	.L347
 4311              	.LVL491:
 4312              	.L357:
1187:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 4313              		.loc 1 1187 0
 4314 0062 38BD     		pop	{r3, r4, r5, pc}
 4315              		.cfi_endproc
 4316              	.LFE133:
 4318              		.section	.text.HAL_SD_HighSpeed,"ax",%progbits
 4319              		.align	1
 4320              		.global	HAL_SD_HighSpeed
 4321              		.thumb
 4322              		.thumb_func
 4324              	HAL_SD_HighSpeed:
 4325              	.LFB146:
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 155


1853:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 4326              		.loc 1 1853 0
 4327              		.cfi_startproc
 4328              		@ args = 0, pretend = 0, frame = 120
 4329              		@ frame_needed = 0, uses_anonymous_args = 0
 4330              	.LVL492:
 4331 0000 70B5     		push	{r4, r5, r6, lr}
 4332              	.LCFI29:
 4333              		.cfi_def_cfa_offset 16
 4334              		.cfi_offset 4, -16
 4335              		.cfi_offset 5, -12
 4336              		.cfi_offset 6, -8
 4337              		.cfi_offset 14, -4
 4338 0002 0446     		mov	r4, r0
 4339 0004 9EB0     		sub	sp, sp, #120
 4340              	.LCFI30:
 4341              		.cfi_def_cfa_offset 136
1858:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint8_t SD_hs[64]  = {0};
 4342              		.loc 1 1858 0
 4343 0006 4025     		movs	r5, #64
 4344 0008 0021     		movs	r1, #0
 4345 000a 2A46     		mov	r2, r5
 4346 000c 0EA8     		add	r0, sp, #56
 4347              	.LVL493:
 4348 000e FFF7FEFF 		bl	memset
 4349              	.LVL494:
1864:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->Instance->DCTRL = 0;
 4350              		.loc 1 1864 0
 4351 0012 2268     		ldr	r2, [r4]
1859:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t SD_scr[2] = {0, 0};
 4352              		.loc 1 1859 0
 4353 0014 0023     		movs	r3, #0
1864:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->Instance->DCTRL = 0;
 4354              		.loc 1 1864 0
 4355 0016 D362     		str	r3, [r2, #44]
1867:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_FindSCR(hsd, SD_scr);
 4356              		.loc 1 1867 0
 4357 0018 2046     		mov	r0, r4
 4358 001a 01A9     		add	r1, sp, #4
1859:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t SD_scr[2] = {0, 0};
 4359              		.loc 1 1859 0
 4360 001c 0193     		str	r3, [sp, #4]
 4361 001e 0293     		str	r3, [sp, #8]
 4362              	.LVL495:
1867:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_FindSCR(hsd, SD_scr);
 4363              		.loc 1 1867 0
 4364 0020 FFF7FEFF 		bl	SD_FindSCR
 4365              	.LVL496:
1869:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (errorstate != SD_OK)
 4366              		.loc 1 1869 0
 4367 0024 0028     		cmp	r0, #0
 4368 0026 76D1     		bne	.L360
 4369              	.LVL497:
1877:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (SD_SPEC != SD_ALLZERO)
 4370              		.loc 1 1877 0
 4371 0028 029B     		ldr	r3, [sp, #8]
 4372 002a 13F0407F 		tst	r3, #50331648
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 156


 4373 002e 01D1     		bne	.L361
 4374              	.LVL498:
 4375              	.L374:
1987:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       errorstate = SD_UNSUPPORTED_FEATURE;
 4376              		.loc 1 1987 0
 4377 0030 0020     		movs	r0, #0
 4378 0032 70E0     		b	.L360
 4379              	.LVL499:
 4380              	.L361:
1881:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_SET_BLOCKLEN;
 4381              		.loc 1 1881 0
 4382 0034 1026     		movs	r6, #16
1883:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 4383              		.loc 1 1883 0
 4384 0036 0690     		str	r0, [sp, #24]
1884:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 4385              		.loc 1 1884 0
 4386 0038 4FF48063 		mov	r3, #1024
 4387              	.LVL500:
1885:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 4388              		.loc 1 1885 0
 4389 003c 03A9     		add	r1, sp, #12
 4390 003e 2068     		ldr	r0, [r4]
 4391              	.LVL501:
1880:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Argument         = (uint32_t)64;
 4392              		.loc 1 1880 0
 4393 0040 0395     		str	r5, [sp, #12]
1881:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_SET_BLOCKLEN;
 4394              		.loc 1 1881 0
 4395 0042 0496     		str	r6, [sp, #16]
1882:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 4396              		.loc 1 1882 0
 4397 0044 0595     		str	r5, [sp, #20]
1884:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 4398              		.loc 1 1884 0
 4399 0046 0793     		str	r3, [sp, #28]
1885:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 4400              		.loc 1 1885 0
 4401 0048 FFF7FEFF 		bl	SDIO_SendCommand
 4402              	.LVL502:
1888:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CmdResp1Error(hsd, SD_CMD_SET_BLOCKLEN);
 4403              		.loc 1 1888 0
 4404 004c 2046     		mov	r0, r4
 4405 004e 3146     		mov	r1, r6
 4406 0050 FFF7FEFF 		bl	SD_CmdResp1Error
 4407              	.LVL503:
1890:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if (errorstate != SD_OK)
 4408              		.loc 1 1890 0
 4409 0054 0028     		cmp	r0, #0
 4410 0056 5ED1     		bne	.L360
1896:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_datainitstructure.DataTimeOut   = SD_DATATIMEOUT;
 4411              		.loc 1 1896 0
 4412 0058 4FF0FF33 		mov	r3, #-1
 4413 005c 0893     		str	r3, [sp, #32]
1898:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_datainitstructure.DataBlockSize = SDIO_DATABLOCK_SIZE_64B ;
 4414              		.loc 1 1898 0
 4415 005e 6023     		movs	r3, #96
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 157


 4416 0060 0A93     		str	r3, [sp, #40]
1899:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_datainitstructure.TransferDir   = SDIO_TRANSFER_DIR_TO_SDIO;
 4417              		.loc 1 1899 0
 4418 0062 0223     		movs	r3, #2
 4419 0064 0B93     		str	r3, [sp, #44]
1900:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_datainitstructure.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
 4420              		.loc 1 1900 0
 4421 0066 0C90     		str	r0, [sp, #48]
1901:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_datainitstructure.DPSM          = SDIO_DPSM_ENABLE;
 4422              		.loc 1 1901 0
 4423 0068 0123     		movs	r3, #1
1902:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_DataConfig(hsd->Instance, &sdio_datainitstructure);
 4424              		.loc 1 1902 0
 4425 006a 08A9     		add	r1, sp, #32
 4426 006c 2068     		ldr	r0, [r4]
 4427              	.LVL504:
1897:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_datainitstructure.DataLength    = 64;
 4428              		.loc 1 1897 0
 4429 006e 0995     		str	r5, [sp, #36]
1901:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_datainitstructure.DPSM          = SDIO_DPSM_ENABLE;
 4430              		.loc 1 1901 0
 4431 0070 0D93     		str	r3, [sp, #52]
1906:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_HS_SWITCH;
 4432              		.loc 1 1906 0
 4433 0072 0625     		movs	r5, #6
1902:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_DataConfig(hsd->Instance, &sdio_datainitstructure);
 4434              		.loc 1 1902 0
 4435 0074 FFF7FEFF 		bl	SDIO_DataConfig
 4436              	.LVL505:
1905:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Argument         = 0x80FFFF01;
 4437              		.loc 1 1905 0
 4438 0078 284B     		ldr	r3, .L382
1907:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure); 
 4439              		.loc 1 1907 0
 4440 007a 2068     		ldr	r0, [r4]
1905:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Argument         = 0x80FFFF01;
 4441              		.loc 1 1905 0
 4442 007c 0393     		str	r3, [sp, #12]
1907:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure); 
 4443              		.loc 1 1907 0
 4444 007e 03A9     		add	r1, sp, #12
1906:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_HS_SWITCH;
 4445              		.loc 1 1906 0
 4446 0080 0495     		str	r5, [sp, #16]
1907:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure); 
 4447              		.loc 1 1907 0
 4448 0082 FFF7FEFF 		bl	SDIO_SendCommand
 4449              	.LVL506:
1910:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CmdResp1Error(hsd, SD_CMD_HS_SWITCH);
 4450              		.loc 1 1910 0
 4451 0086 2046     		mov	r0, r4
 4452 0088 2946     		mov	r1, r5
 4453 008a FFF7FEFF 		bl	SD_CmdResp1Error
 4454              	.LVL507:
1912:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if (errorstate != SD_OK)
 4455              		.loc 1 1912 0
 4456 008e 0028     		cmp	r0, #0
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 158


 4457 0090 41D1     		bne	.L360
 4458 0092 0EAE     		add	r6, sp, #56
 4459              	.LVL508:
 4460              	.L362:
1917:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     while(!__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXOVERR | SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTIMEOUT 
 4461              		.loc 1 1917 0 discriminator 1
 4462 0094 2368     		ldr	r3, [r4]
 4463              	.LVL509:
 4464              	.L364:
 4465 0096 5A6B     		ldr	r2, [r3, #52]
 4466 0098 40F22A65 		movw	r5, #1578
 4467 009c 1540     		ands	r5, r5, r2
1922:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXFIFOHF))
 4468              		.loc 1 1922 0 discriminator 1
 4469 009e 5A6B     		ldr	r2, [r3, #52]
1917:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     while(!__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXOVERR | SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTIMEOUT 
 4470              		.loc 1 1917 0 discriminator 1
 4471 00a0 55B9     		cbnz	r5, .L381
1922:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXFIFOHF))
 4472              		.loc 1 1922 0
 4473 00a2 1104     		lsls	r1, r2, #16
 4474 00a4 F7D5     		bpl	.L364
 4475              	.L366:
1926:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           *(tempbuff + count) = SDIO_ReadFIFO(hsd->Instance);
 4476              		.loc 1 1926 0 discriminator 2
 4477 00a6 2068     		ldr	r0, [r4]
 4478 00a8 FFF7FEFF 		bl	SDIO_ReadFIFO
 4479              	.LVL510:
 4480 00ac 7051     		str	r0, [r6, r5]
 4481 00ae 0435     		adds	r5, r5, #4
1924:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         for (count = 0; count < 8; count++)
 4482              		.loc 1 1924 0 discriminator 2
 4483 00b0 202D     		cmp	r5, #32
 4484 00b2 F8D1     		bne	.L366
1929:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         tempbuff += 8;
 4485              		.loc 1 1929 0
 4486 00b4 2036     		adds	r6, r6, #32
 4487              	.LVL511:
 4488 00b6 EDE7     		b	.L362
 4489              	.LVL512:
 4490              	.L381:
1933:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_DTIMEOUT))
 4491              		.loc 1 1933 0
 4492 00b8 1207     		lsls	r2, r2, #28
 4493 00ba 03D5     		bpl	.L368
1935:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_DTIMEOUT);
 4494              		.loc 1 1935 0
 4495 00bc 0822     		movs	r2, #8
 4496 00be 9A63     		str	r2, [r3, #56]
 4497              	.LVL513:
1939:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return errorstate;
 4498              		.loc 1 1939 0
 4499 00c0 0420     		movs	r0, #4
 4500 00c2 28E0     		b	.L360
 4501              	.LVL514:
 4502              	.L368:
1941:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     else if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_DCRCFAIL))
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 159


 4503              		.loc 1 1941 0
 4504 00c4 5A6B     		ldr	r2, [r3, #52]
 4505 00c6 9507     		lsls	r5, r2, #30
 4506 00c8 02D5     		bpl	.L369
1943:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_DCRCFAIL);
 4507              		.loc 1 1943 0
 4508 00ca 0220     		movs	r0, #2
 4509 00cc 9863     		str	r0, [r3, #56]
 4510              	.LVL515:
1947:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return errorstate;
 4511              		.loc 1 1947 0
 4512 00ce 22E0     		b	.L360
 4513              	.LVL516:
 4514              	.L369:
1949:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     else if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXOVERR))
 4515              		.loc 1 1949 0
 4516 00d0 5A6B     		ldr	r2, [r3, #52]
 4517 00d2 9006     		lsls	r0, r2, #26
 4518 00d4 03D5     		bpl	.L370
1951:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_RXOVERR);
 4519              		.loc 1 1951 0
 4520 00d6 2022     		movs	r2, #32
 4521 00d8 9A63     		str	r2, [r3, #56]
 4522              	.LVL517:
1955:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return errorstate;
 4523              		.loc 1 1955 0
 4524 00da 0620     		movs	r0, #6
 4525 00dc 1BE0     		b	.L360
 4526              	.LVL518:
 4527              	.L370:
1958:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     else if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_STBITERR))
 4528              		.loc 1 1958 0
 4529 00de 5D6B     		ldr	r5, [r3, #52]
 4530 00e0 15F40075 		ands	r5, r5, #512
 4531 00e4 0BD0     		beq	.L372
1960:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_STBITERR);
 4532              		.loc 1 1960 0
 4533 00e6 4FF40072 		mov	r2, #512
 4534 00ea 9A63     		str	r2, [r3, #56]
 4535              	.LVL519:
1964:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return errorstate;
 4536              		.loc 1 1964 0
 4537 00ec 0720     		movs	r0, #7
 4538 00ee 12E0     		b	.L360
 4539              	.LVL520:
 4540              	.L373:
1974:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     while ((__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXDAVL)) && (count > 0))
 4541              		.loc 1 1974 0 discriminator 2
 4542 00f0 6B1C     		adds	r3, r5, #1
 4543 00f2 08D0     		beq	.L376
1976:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       *tempbuff = SDIO_ReadFIFO(hsd->Instance);
 4544              		.loc 1 1976 0
 4545 00f4 FFF7FEFF 		bl	SDIO_ReadFIFO
 4546              	.LVL521:
 4547 00f8 46F82500 		str	r0, [r6, r5, lsl #2]
 4548              	.LVL522:
 4549 00fc 0135     		adds	r5, r5, #1
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 160


 4550              	.LVL523:
 4551              	.L372:
1974:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     while ((__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXDAVL)) && (count > 0))
 4552              		.loc 1 1974 0 discriminator 1
 4553 00fe 2068     		ldr	r0, [r4]
 4554 0100 436B     		ldr	r3, [r0, #52]
 4555 0102 9902     		lsls	r1, r3, #10
 4556 0104 F4D4     		bmi	.L373
 4557              	.L376:
1982:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
 4558              		.loc 1 1982 0
 4559 0106 40F2FF53 		movw	r3, #1535
 4560 010a 8363     		str	r3, [r0, #56]
1985:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if ((SD_hs[13]& 2) != 2)
 4561              		.loc 1 1985 0
 4562 010c 9DF84530 		ldrb	r3, [sp, #69]	@ zero_extendqisi2
 4563 0110 9A07     		lsls	r2, r3, #30
 4564 0112 8DD4     		bmi	.L374
1987:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       errorstate = SD_UNSUPPORTED_FEATURE;
 4565              		.loc 1 1987 0
 4566 0114 2720     		movs	r0, #39
 4567              	.LVL524:
 4568              	.L360:
1992:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 4569              		.loc 1 1992 0
 4570 0116 1EB0     		add	sp, sp, #120
 4571              		@ sp needed
 4572 0118 70BD     		pop	{r4, r5, r6, pc}
 4573              	.LVL525:
 4574              	.L383:
 4575 011a 00BF     		.align	2
 4576              	.L382:
 4577 011c 01FFFF80 		.word	-2130706687
 4578              		.cfi_endproc
 4579              	.LFE146:
 4581              		.section	.text.HAL_SD_SendSDStatus,"ax",%progbits
 4582              		.align	1
 4583              		.global	HAL_SD_SendSDStatus
 4584              		.thumb
 4585              		.thumb_func
 4587              	HAL_SD_SendSDStatus:
 4588              	.LFB147:
2021:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 4589              		.loc 1 2021 0
 4590              		.cfi_startproc
 4591              		@ args = 0, pretend = 0, frame = 48
 4592              		@ frame_needed = 0, uses_anonymous_args = 0
 4593              	.LVL526:
 4594 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 4595              	.LCFI31:
 4596              		.cfi_def_cfa_offset 20
 4597              		.cfi_offset 4, -20
 4598              		.cfi_offset 5, -16
 4599              		.cfi_offset 6, -12
 4600              		.cfi_offset 7, -8
 4601              		.cfi_offset 14, -4
 4602 0002 0446     		mov	r4, r0
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 161


 4603 0004 8DB0     		sub	sp, sp, #52
 4604              	.LCFI32:
 4605              		.cfi_def_cfa_offset 72
2028:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if ((SDIO_GetResponse(SDIO_RESP1) & SD_CARD_LOCKED) == SD_CARD_LOCKED)
 4606              		.loc 1 2028 0
 4607 0006 0020     		movs	r0, #0
 4608              	.LVL527:
2021:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 4609              		.loc 1 2021 0
 4610 0008 0D46     		mov	r5, r1
2028:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if ((SDIO_GetResponse(SDIO_RESP1) & SD_CARD_LOCKED) == SD_CARD_LOCKED)
 4611              		.loc 1 2028 0
 4612 000a FFF7FEFF 		bl	SDIO_GetResponse
 4613              	.LVL528:
 4614 000e 10F00070 		ands	r0, r0, #33554432
 4615 0012 7CD1     		bne	.L400
2036:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = 64;
 4616              		.loc 1 2036 0
 4617 0014 4027     		movs	r7, #64
2037:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SET_BLOCKLEN;
 4618              		.loc 1 2037 0
 4619 0016 1026     		movs	r6, #16
2039:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 4620              		.loc 1 2039 0
 4621 0018 0490     		str	r0, [sp, #16]
2040:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 4622              		.loc 1 2040 0
 4623 001a 4FF48063 		mov	r3, #1024
2041:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 4624              		.loc 1 2041 0
 4625 001e 01A9     		add	r1, sp, #4
 4626 0020 2068     		ldr	r0, [r4]
2036:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = 64;
 4627              		.loc 1 2036 0
 4628 0022 0197     		str	r7, [sp, #4]
2037:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SET_BLOCKLEN;
 4629              		.loc 1 2037 0
 4630 0024 0296     		str	r6, [sp, #8]
2038:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 4631              		.loc 1 2038 0
 4632 0026 0397     		str	r7, [sp, #12]
2040:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 4633              		.loc 1 2040 0
 4634 0028 0593     		str	r3, [sp, #20]
2041:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 4635              		.loc 1 2041 0
 4636 002a FFF7FEFF 		bl	SDIO_SendCommand
 4637              	.LVL529:
2044:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_CmdResp1Error(hsd, SD_CMD_SET_BLOCKLEN);
 4638              		.loc 1 2044 0
 4639 002e 2046     		mov	r0, r4
 4640 0030 3146     		mov	r1, r6
 4641 0032 FFF7FEFF 		bl	SD_CmdResp1Error
 4642              	.LVL530:
2046:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (errorstate != SD_OK)
 4643              		.loc 1 2046 0
 4644 0036 0028     		cmp	r0, #0
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 162


 4645 0038 6AD1     		bne	.L385
2052:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = (uint32_t)(hsd->RCA << 16);
 4646              		.loc 1 2052 0
 4647 003a 636A     		ldr	r3, [r4, #36]
2054:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 4648              		.loc 1 2054 0
 4649 003c 2068     		ldr	r0, [r4]
 4650              	.LVL531:
2052:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = (uint32_t)(hsd->RCA << 16);
 4651              		.loc 1 2052 0
 4652 003e B340     		lsls	r3, r3, r6
2054:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 4653              		.loc 1 2054 0
 4654 0040 01A9     		add	r1, sp, #4
2053:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_APP_CMD;
 4655              		.loc 1 2053 0
 4656 0042 3726     		movs	r6, #55
2052:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = (uint32_t)(hsd->RCA << 16);
 4657              		.loc 1 2052 0
 4658 0044 0193     		str	r3, [sp, #4]
2053:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_APP_CMD;
 4659              		.loc 1 2053 0
 4660 0046 0296     		str	r6, [sp, #8]
2054:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 4661              		.loc 1 2054 0
 4662 0048 FFF7FEFF 		bl	SDIO_SendCommand
 4663              	.LVL532:
2057:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_CmdResp1Error(hsd, SD_CMD_APP_CMD);
 4664              		.loc 1 2057 0
 4665 004c 3146     		mov	r1, r6
 4666 004e 2046     		mov	r0, r4
 4667 0050 FFF7FEFF 		bl	SD_CmdResp1Error
 4668              	.LVL533:
2059:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (errorstate != SD_OK)
 4669              		.loc 1 2059 0
 4670 0054 0646     		mov	r6, r0
 4671 0056 0028     		cmp	r0, #0
 4672 0058 5AD1     		bne	.L385
2065:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataTimeOut   = SD_DATATIMEOUT;
 4673              		.loc 1 2065 0
 4674 005a 4FF0FF33 		mov	r3, #-1
 4675 005e 0693     		str	r3, [sp, #24]
2067:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataBlockSize = SDIO_DATABLOCK_SIZE_64B;
 4676              		.loc 1 2067 0
 4677 0060 6023     		movs	r3, #96
 4678 0062 0893     		str	r3, [sp, #32]
2068:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferDir   = SDIO_TRANSFER_DIR_TO_SDIO;
 4679              		.loc 1 2068 0
 4680 0064 0223     		movs	r3, #2
 4681 0066 0993     		str	r3, [sp, #36]
2069:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
 4682              		.loc 1 2069 0
 4683 0068 0A90     		str	r0, [sp, #40]
2070:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DPSM          = SDIO_DPSM_ENABLE;
 4684              		.loc 1 2070 0
 4685 006a 0123     		movs	r3, #1
2071:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataConfig(hsd->Instance, &sdio_datainitstructure);
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 163


 4686              		.loc 1 2071 0
 4687 006c 06A9     		add	r1, sp, #24
 4688 006e 2068     		ldr	r0, [r4]
 4689              	.LVL534:
2070:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DPSM          = SDIO_DPSM_ENABLE;
 4690              		.loc 1 2070 0
 4691 0070 0B93     		str	r3, [sp, #44]
2066:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataLength    = 64;
 4692              		.loc 1 2066 0
 4693 0072 0797     		str	r7, [sp, #28]
2071:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataConfig(hsd->Instance, &sdio_datainitstructure);
 4694              		.loc 1 2071 0
 4695 0074 FFF7FEFF 		bl	SDIO_DataConfig
 4696              	.LVL535:
2074:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = 0;
 4697              		.loc 1 2074 0
 4698 0078 0196     		str	r6, [sp, #4]
2076:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 4699              		.loc 1 2076 0
 4700 007a 01A9     		add	r1, sp, #4
2075:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SD_APP_STATUS;
 4701              		.loc 1 2075 0
 4702 007c 0D26     		movs	r6, #13
2076:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 4703              		.loc 1 2076 0
 4704 007e 2068     		ldr	r0, [r4]
2075:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SD_APP_STATUS;
 4705              		.loc 1 2075 0
 4706 0080 0296     		str	r6, [sp, #8]
2076:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 4707              		.loc 1 2076 0
 4708 0082 FFF7FEFF 		bl	SDIO_SendCommand
 4709              	.LVL536:
2079:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_CmdResp1Error(hsd, SD_CMD_SD_APP_STATUS);
 4710              		.loc 1 2079 0
 4711 0086 2046     		mov	r0, r4
 4712 0088 3146     		mov	r1, r6
 4713 008a FFF7FEFF 		bl	SD_CmdResp1Error
 4714              	.LVL537:
2081:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (errorstate != SD_OK)
 4715              		.loc 1 2081 0
 4716 008e 0028     		cmp	r0, #0
 4717 0090 3ED1     		bne	.L385
 4718              	.LVL538:
 4719              	.L386:
2088:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while(!__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXOVERR | SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTIMEOUT | 
 4720              		.loc 1 2088 0 discriminator 1
 4721 0092 2368     		ldr	r3, [r4]
 4722              	.LVL539:
 4723              	.L388:
 4724 0094 5A6B     		ldr	r2, [r3, #52]
 4725 0096 40F22A66 		movw	r6, #1578
 4726 009a 1640     		ands	r6, r6, r2
2093:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXFIFOHF))
 4727              		.loc 1 2093 0 discriminator 1
 4728 009c 5A6B     		ldr	r2, [r3, #52]
2088:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while(!__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXOVERR | SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTIMEOUT | 
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 164


 4729              		.loc 1 2088 0 discriminator 1
 4730 009e 56B9     		cbnz	r6, .L404
2093:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXFIFOHF))
 4731              		.loc 1 2093 0
 4732 00a0 1704     		lsls	r7, r2, #16
 4733 00a2 F7D5     		bpl	.L388
 4734              	.L390:
2097:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         *(pSDstatus + count) = SDIO_ReadFIFO(hsd->Instance);
 4735              		.loc 1 2097 0 discriminator 2
 4736 00a4 2068     		ldr	r0, [r4]
 4737 00a6 FFF7FEFF 		bl	SDIO_ReadFIFO
 4738              	.LVL540:
 4739 00aa A851     		str	r0, [r5, r6]
 4740 00ac 0436     		adds	r6, r6, #4
2095:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       for (count = 0; count < 8; count++)
 4741              		.loc 1 2095 0 discriminator 2
 4742 00ae 202E     		cmp	r6, #32
 4743 00b0 F8D1     		bne	.L390
2100:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       pSDstatus += 8;
 4744              		.loc 1 2100 0
 4745 00b2 2035     		adds	r5, r5, #32
 4746              	.LVL541:
 4747 00b4 EDE7     		b	.L386
 4748              	.LVL542:
 4749              	.L404:
2104:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_DTIMEOUT))
 4750              		.loc 1 2104 0
 4751 00b6 1607     		lsls	r6, r2, #28
 4752 00b8 03D5     		bpl	.L392
2106:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_DTIMEOUT);
 4753              		.loc 1 2106 0
 4754 00ba 0822     		movs	r2, #8
 4755 00bc 9A63     		str	r2, [r3, #56]
 4756              	.LVL543:
2110:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 4757              		.loc 1 2110 0
 4758 00be 0420     		movs	r0, #4
 4759 00c0 26E0     		b	.L385
 4760              	.LVL544:
 4761              	.L392:
2112:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_DCRCFAIL))
 4762              		.loc 1 2112 0
 4763 00c2 5A6B     		ldr	r2, [r3, #52]
 4764 00c4 9007     		lsls	r0, r2, #30
 4765 00c6 02D5     		bpl	.L393
2114:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_DCRCFAIL);
 4766              		.loc 1 2114 0
 4767 00c8 0220     		movs	r0, #2
 4768 00ca 9863     		str	r0, [r3, #56]
 4769              	.LVL545:
2118:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 4770              		.loc 1 2118 0
 4771 00cc 20E0     		b	.L385
 4772              	.LVL546:
 4773              	.L393:
2120:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXOVERR))
 4774              		.loc 1 2120 0
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 165


 4775 00ce 5A6B     		ldr	r2, [r3, #52]
 4776 00d0 9106     		lsls	r1, r2, #26
 4777 00d2 03D5     		bpl	.L394
2122:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_RXOVERR);
 4778              		.loc 1 2122 0
 4779 00d4 2022     		movs	r2, #32
 4780 00d6 9A63     		str	r2, [r3, #56]
 4781              	.LVL547:
2126:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 4782              		.loc 1 2126 0
 4783 00d8 0620     		movs	r0, #6
 4784 00da 19E0     		b	.L385
 4785              	.LVL548:
 4786              	.L394:
2129:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_STBITERR))
 4787              		.loc 1 2129 0
 4788 00dc 5E6B     		ldr	r6, [r3, #52]
 4789 00de 16F40076 		ands	r6, r6, #512
 4790 00e2 0BD0     		beq	.L396
2131:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_STBITERR);
 4791              		.loc 1 2131 0
 4792 00e4 4FF40072 		mov	r2, #512
 4793 00e8 9A63     		str	r2, [r3, #56]
 4794              	.LVL549:
2135:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 4795              		.loc 1 2135 0
 4796 00ea 0720     		movs	r0, #7
 4797 00ec 10E0     		b	.L385
 4798              	.LVL550:
 4799              	.L397:
2144:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while ((__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXDAVL)) && (count > 0))
 4800              		.loc 1 2144 0 discriminator 2
 4801 00ee 731C     		adds	r3, r6, #1
 4802 00f0 08D0     		beq	.L399
2146:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     *pSDstatus = SDIO_ReadFIFO(hsd->Instance);
 4803              		.loc 1 2146 0
 4804 00f2 FFF7FEFF 		bl	SDIO_ReadFIFO
 4805              	.LVL551:
 4806 00f6 45F82600 		str	r0, [r5, r6, lsl #2]
 4807              	.LVL552:
 4808 00fa 0136     		adds	r6, r6, #1
 4809              	.LVL553:
 4810              	.L396:
2144:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while ((__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXDAVL)) && (count > 0))
 4811              		.loc 1 2144 0 discriminator 1
 4812 00fc 2068     		ldr	r0, [r4]
 4813 00fe 436B     		ldr	r3, [r0, #52]
 4814 0100 9A02     		lsls	r2, r3, #10
 4815 0102 F4D4     		bmi	.L397
 4816              	.L399:
2152:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
 4817              		.loc 1 2152 0
 4818 0104 40F2FF53 		movw	r3, #1535
 4819 0108 8363     		str	r3, [r0, #56]
2154:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
 4820              		.loc 1 2154 0
 4821 010a 0020     		movs	r0, #0
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 166


 4822 010c 00E0     		b	.L385
 4823              	.LVL554:
 4824              	.L400:
2032:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 4825              		.loc 1 2032 0
 4826 010e 0E20     		movs	r0, #14
 4827              	.LVL555:
 4828              	.L385:
2155:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 4829              		.loc 1 2155 0
 4830 0110 0DB0     		add	sp, sp, #52
 4831              		@ sp needed
 4832 0112 F0BD     		pop	{r4, r5, r6, r7, pc}
 4833              		.cfi_endproc
 4834              	.LFE147:
 4836              		.section	.text.HAL_SD_GetStatus,"ax",%progbits
 4837              		.align	1
 4838              		.global	HAL_SD_GetStatus
 4839              		.thumb
 4840              		.thumb_func
 4842              	HAL_SD_GetStatus:
 4843              	.LFB148:
2163:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 4844              		.loc 1 2163 0
 4845              		.cfi_startproc
 4846              		@ args = 0, pretend = 0, frame = 24
 4847              		@ frame_needed = 0, uses_anonymous_args = 0
 4848              	.LVL556:
 4849 0000 30B5     		push	{r4, r5, lr}
 4850              	.LCFI33:
 4851              		.cfi_def_cfa_offset 12
 4852              		.cfi_offset 4, -12
 4853              		.cfi_offset 5, -8
 4854              		.cfi_offset 14, -4
 4855              	.LBB64:
 4856              	.LBB65:
 4857              	.LBB66:
 4858              	.LBB67:
2672:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = (uint32_t)(hsd->RCA << 16);
 4859              		.loc 1 2672 0
 4860 0002 436A     		ldr	r3, [r0, #36]
 4861              	.LBE67:
 4862              	.LBE66:
 4863              	.LBE65:
 4864              	.LBE64:
2163:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 4865              		.loc 1 2163 0
 4866 0004 87B0     		sub	sp, sp, #28
 4867              	.LCFI34:
 4868              		.cfi_def_cfa_offset 40
 4869              	.LBB74:
 4870              	.LBB72:
 4871              	.LBB70:
 4872              	.LBB68:
2672:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = (uint32_t)(hsd->RCA << 16);
 4873              		.loc 1 2672 0
 4874 0006 1B04     		lsls	r3, r3, #16
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 167


 4875 0008 0193     		str	r3, [sp, #4]
2674:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 4876              		.loc 1 2674 0
 4877 000a 4023     		movs	r3, #64
 4878 000c 0393     		str	r3, [sp, #12]
2675:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 4879              		.loc 1 2675 0
 4880 000e 0023     		movs	r3, #0
 4881              	.LBE68:
 4882              	.LBE70:
 4883              	.LBE72:
 4884              	.LBE74:
2163:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 4885              		.loc 1 2163 0
 4886 0010 0446     		mov	r4, r0
 4887              	.LBB75:
 4888              	.LBB73:
 4889              	.LBB71:
 4890              	.LBB69:
2673:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SEND_STATUS;
 4891              		.loc 1 2673 0
 4892 0012 0D25     		movs	r5, #13
2675:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 4893              		.loc 1 2675 0
 4894 0014 0493     		str	r3, [sp, #16]
2677:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 4895              		.loc 1 2677 0
 4896 0016 01A9     		add	r1, sp, #4
2676:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 4897              		.loc 1 2676 0
 4898 0018 4FF48063 		mov	r3, #1024
2677:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 4899              		.loc 1 2677 0
 4900 001c 0068     		ldr	r0, [r0]
 4901              	.LVL557:
2673:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SEND_STATUS;
 4902              		.loc 1 2673 0
 4903 001e 0295     		str	r5, [sp, #8]
2676:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 4904              		.loc 1 2676 0
 4905 0020 0593     		str	r3, [sp, #20]
2677:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 4906              		.loc 1 2677 0
 4907 0022 FFF7FEFF 		bl	SDIO_SendCommand
 4908              	.LVL558:
2680:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_CmdResp1Error(hsd, SD_CMD_SEND_STATUS);
 4909              		.loc 1 2680 0
 4910 0026 2046     		mov	r0, r4
 4911 0028 2946     		mov	r1, r5
 4912 002a FFF7FEFF 		bl	SD_CmdResp1Error
 4913              	.LVL559:
2682:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != SD_OK)
 4914              		.loc 1 2682 0
 4915 002e 38B9     		cbnz	r0, .L408
2688:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *pCardStatus = SDIO_GetResponse(SDIO_RESP1);
 4916              		.loc 1 2688 0
 4917 0030 FFF7FEFF 		bl	SDIO_GetResponse
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 168


 4918              	.LVL560:
 4919              	.LBE69:
 4920              	.LBE71:
 4921              	.LBE73:
 4922              	.LBE75:
2170:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (cardstate == SD_CARD_TRANSFER)
 4923              		.loc 1 2170 0
 4924 0034 C0F34320 		ubfx	r0, r0, #9, #4
 4925              	.LVL561:
2172:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return SD_TRANSFER_OK;
 4926              		.loc 1 2172 0
 4927 0038 0438     		subs	r0, r0, #4
 4928 003a 18BF     		it	ne
 4929 003c 0120     		movne	r0, #1
 4930 003e 00E0     		b	.L407
 4931              	.LVL562:
 4932              	.L408:
2176:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return SD_TRANSFER_ERROR;
 4933              		.loc 1 2176 0
 4934 0040 0220     		movs	r0, #2
 4935              	.LVL563:
 4936              	.L407:
2182:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 4937              		.loc 1 2182 0
 4938 0042 07B0     		add	sp, sp, #28
 4939              		@ sp needed
 4940 0044 30BD     		pop	{r4, r5, pc}
 4941              		.cfi_endproc
 4942              	.LFE148:
 4944              		.section	.text.HAL_SD_CheckWriteOperation,"ax",%progbits
 4945              		.align	1
 4946              		.global	HAL_SD_CheckWriteOperation
 4947              		.thumb
 4948              		.thumb_func
 4950              	HAL_SD_CheckWriteOperation:
 4951              	.LFB134:
1199:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 4952              		.loc 1 1199 0
 4953              		.cfi_startproc
 4954              		@ args = 0, pretend = 0, frame = 0
 4955              		@ frame_needed = 0, uses_anonymous_args = 0
 4956              	.LVL564:
 4957 0000 70B5     		push	{r4, r5, r6, lr}
 4958              	.LCFI35:
 4959              		.cfi_def_cfa_offset 16
 4960              		.cfi_offset 4, -16
 4961              		.cfi_offset 5, -12
 4962              		.cfi_offset 6, -8
 4963              		.cfi_offset 14, -4
1199:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 4964              		.loc 1 1199 0
 4965 0002 0446     		mov	r4, r0
 4966 0004 0D46     		mov	r5, r1
 4967              	.LVL565:
1206:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp1 = hsd->DmaTransferCplt; 
 4968              		.loc 1 1206 0
 4969 0006 006D     		ldr	r0, [r0, #80]
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 169


 4970              	.LVL566:
1207:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp2 = hsd->SdTransferCplt;
 4971              		.loc 1 1207 0
 4972 0008 A16C     		ldr	r1, [r4, #72]
 4973              	.LVL567:
1208:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp3 = (HAL_SD_ErrorTypedef)hsd->SdTransferErr;
 4974              		.loc 1 1208 0
 4975 000a E26C     		ldr	r2, [r4, #76]
1201:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t timeout = Timeout;
 4976              		.loc 1 1201 0
 4977 000c 2B46     		mov	r3, r5
1208:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp3 = (HAL_SD_ErrorTypedef)hsd->SdTransferErr;
 4978              		.loc 1 1208 0
 4979 000e D2B2     		uxtb	r2, r2
 4980              	.LVL568:
 4981              	.L411:
1210:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while ((tmp1 == 0) && (tmp2 == 0) && (tmp3 == SD_OK) && (timeout > 0))
 4982              		.loc 1 1210 0 discriminator 1
 4983 0010 00B9     		cbnz	r0, .L412
1210:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while ((tmp1 == 0) && (tmp2 == 0) && (tmp3 == SD_OK) && (timeout > 0))
 4984              		.loc 1 1210 0 is_stmt 0 discriminator 2
 4985 0012 09B1     		cbz	r1, .L413
 4986              	.L412:
1221:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while((__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_TXACT))  && (timeout > 0))
 4987              		.loc 1 1221 0 is_stmt 1 discriminator 1
 4988 0014 2368     		ldr	r3, [r4]
 4989              	.LVL569:
 4990 0016 0BE0     		b	.L414
 4991              	.LVL570:
 4992              	.L413:
1210:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while ((tmp1 == 0) && (tmp2 == 0) && (tmp3 == SD_OK) && (timeout > 0))
 4993              		.loc 1 1210 0 discriminator 1
 4994 0018 002A     		cmp	r2, #0
 4995 001a FBD1     		bne	.L412
 4996 001c 002B     		cmp	r3, #0
 4997 001e F9D0     		beq	.L412
1212:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tmp1 = hsd->DmaTransferCplt; 
 4998              		.loc 1 1212 0
 4999 0020 206D     		ldr	r0, [r4, #80]
 5000              	.LVL571:
1213:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tmp2 = hsd->SdTransferCplt;
 5001              		.loc 1 1213 0
 5002 0022 A16C     		ldr	r1, [r4, #72]
 5003              	.LVL572:
1214:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tmp3 = (HAL_SD_ErrorTypedef)hsd->SdTransferErr;
 5004              		.loc 1 1214 0
 5005 0024 E26C     		ldr	r2, [r4, #76]
 5006              	.LVL573:
1215:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     timeout--;
 5007              		.loc 1 1215 0
 5008 0026 013B     		subs	r3, r3, #1
 5009              	.LVL574:
1214:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tmp3 = (HAL_SD_ErrorTypedef)hsd->SdTransferErr;
 5010              		.loc 1 1214 0
 5011 0028 D2B2     		uxtb	r2, r2
 5012              	.LVL575:
 5013 002a F1E7     		b	.L411
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 170


 5014              	.LVL576:
 5015              	.L433:
1221:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while((__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_TXACT))  && (timeout > 0))
 5016              		.loc 1 1221 0 discriminator 2
 5017 002c 1DB1     		cbz	r5, .L416
1223:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     timeout--;  
 5018              		.loc 1 1223 0
 5019 002e 013D     		subs	r5, r5, #1
 5020              	.LVL577:
 5021              	.L414:
1221:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while((__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_TXACT))  && (timeout > 0))
 5022              		.loc 1 1221 0 discriminator 1
 5023 0030 5A6B     		ldr	r2, [r3, #52]
 5024 0032 D204     		lsls	r2, r2, #19
 5025 0034 FAD4     		bmi	.L433
 5026              	.L416:
1227:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (hsd->SdOperation == SD_WRITE_MULTIPLE_BLOCK)
 5027              		.loc 1 1227 0
 5028 0036 636D     		ldr	r3, [r4, #84]
 5029 0038 032B     		cmp	r3, #3
 5030 003a 16D1     		bne	.L418
1229:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = HAL_SD_StopTransfer(hsd);
 5031              		.loc 1 1229 0
 5032 003c 2046     		mov	r0, r4
 5033              	.LVL578:
 5034 003e FFF7FEFF 		bl	HAL_SD_StopTransfer
 5035              	.LVL579:
 5036 0042 0646     		mov	r6, r0
 5037              	.LVL580:
1232:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if ((timeout == 0) && (errorstate == SD_OK))
 5038              		.loc 1 1232 0
 5039 0044 0DB9     		cbnz	r5, .L419
1232:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if ((timeout == 0) && (errorstate == SD_OK))
 5040              		.loc 1 1232 0 is_stmt 0 discriminator 1
 5041 0046 00B9     		cbnz	r0, .L419
 5042              	.LVL581:
 5043              	.L423:
1234:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_DATA_TIMEOUT;
 5044              		.loc 1 1234 0 is_stmt 1
 5045 0048 0426     		movs	r6, #4
 5046              	.LVL582:
 5047              	.L419:
1238:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
 5048              		.loc 1 1238 0
 5049 004a 2368     		ldr	r3, [r4]
 5050 004c 40F2FF52 		movw	r2, #1535
 5051 0050 9A63     		str	r2, [r3, #56]
1241:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (hsd->SdTransferErr != SD_OK)
 5052              		.loc 1 1241 0
 5053 0052 E36C     		ldr	r3, [r4, #76]
 5054 0054 13B1     		cbz	r3, .L422
1243:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return (HAL_SD_ErrorTypedef)(hsd->SdTransferErr);
 5055              		.loc 1 1243 0
 5056 0056 E06C     		ldr	r0, [r4, #76]
 5057 0058 C0B2     		uxtb	r0, r0
 5058 005a 70BD     		pop	{r4, r5, r6, pc}
 5059              	.LVL583:
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 171


 5060              	.L422:
1247:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while(HAL_SD_GetStatus(hsd) != SD_TRANSFER_OK)
 5061              		.loc 1 1247 0
 5062 005c 2046     		mov	r0, r4
 5063 005e FFF7FEFF 		bl	HAL_SD_GetStatus
 5064              	.LVL584:
 5065 0062 0028     		cmp	r0, #0
 5066 0064 FAD1     		bne	.L422
1251:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate; 
 5067              		.loc 1 1251 0
 5068 0066 3046     		mov	r0, r6
 5069 0068 70BD     		pop	{r4, r5, r6, pc}
 5070              	.LVL585:
 5071              	.L418:
1232:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if ((timeout == 0) && (errorstate == SD_OK))
 5072              		.loc 1 1232 0
 5073 006a 002D     		cmp	r5, #0
 5074 006c ECD0     		beq	.L423
1200:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
 5075              		.loc 1 1200 0
 5076 006e 0026     		movs	r6, #0
 5077 0070 EBE7     		b	.L419
 5078              		.cfi_endproc
 5079              	.LFE134:
 5081              		.section	.text.HAL_SD_GetCardStatus,"ax",%progbits
 5082              		.align	1
 5083              		.global	HAL_SD_GetCardStatus
 5084              		.thumb
 5085              		.thumb_func
 5087              	HAL_SD_GetCardStatus:
 5088              	.LFB149:
2192:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 5089              		.loc 1 2192 0
 5090              		.cfi_startproc
 5091              		@ args = 0, pretend = 0, frame = 64
 5092              		@ frame_needed = 0, uses_anonymous_args = 0
 5093              	.LVL586:
 5094 0000 10B5     		push	{r4, lr}
 5095              	.LCFI36:
 5096              		.cfi_def_cfa_offset 8
 5097              		.cfi_offset 4, -8
 5098              		.cfi_offset 14, -4
 5099 0002 90B0     		sub	sp, sp, #64
 5100              	.LCFI37:
 5101              		.cfi_def_cfa_offset 72
2192:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 5102              		.loc 1 2192 0
 5103 0004 0C46     		mov	r4, r1
2197:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = HAL_SD_SendSDStatus(hsd, sd_status);
 5104              		.loc 1 2197 0
 5105 0006 6946     		mov	r1, sp
 5106              	.LVL587:
 5107 0008 FFF7FEFF 		bl	HAL_SD_SendSDStatus
 5108              	.LVL588:
2199:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (errorstate  != SD_OK)
 5109              		.loc 1 2199 0
 5110 000c 0028     		cmp	r0, #0
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 172


 5111 000e 2FD1     		bne	.L435
2205:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (sd_status[0] & 0xC0) >> 6;
 5112              		.loc 1 2205 0
 5113 0010 009B     		ldr	r3, [sp]
 5114              	.LVL589:
2206:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardStatus->DAT_BUS_WIDTH = (uint8_t)tmp;
 5115              		.loc 1 2206 0
 5116 0012 C3F38112 		ubfx	r2, r3, #6, #2
2210:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardStatus->SECURED_MODE = (uint8_t)tmp;
 5117              		.loc 1 2210 0
 5118 0016 C3F34013 		ubfx	r3, r3, #5, #1
 5119              	.LVL590:
2206:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardStatus->DAT_BUS_WIDTH = (uint8_t)tmp;
 5120              		.loc 1 2206 0
 5121 001a 2270     		strb	r2, [r4]
 5122              	.LVL591:
2210:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardStatus->SECURED_MODE = (uint8_t)tmp;
 5123              		.loc 1 2210 0
 5124 001c 6370     		strb	r3, [r4, #1]
 5125              	.LVL592:
2214:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardStatus->SD_CARD_TYPE = (uint8_t)(tmp << 8);
 5126              		.loc 1 2214 0
 5127 001e 6080     		strh	r0, [r4, #2]	@ movhi
 5128              	.LVL593:
2218:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardStatus->SD_CARD_TYPE |= (uint8_t)tmp;
 5129              		.loc 1 2218 0
 5130 0020 6388     		ldrh	r3, [r4, #2]
2217:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (sd_status[3] & 0xFF);
 5131              		.loc 1 2217 0
 5132 0022 9DF80C20 		ldrb	r2, [sp, #12]	@ zero_extendqisi2
2218:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardStatus->SD_CARD_TYPE |= (uint8_t)tmp;
 5133              		.loc 1 2218 0
 5134 0026 9BB2     		uxth	r3, r3
 5135 0028 1343     		orrs	r3, r3, r2
 5136 002a 6380     		strh	r3, [r4, #2]	@ movhi
 5137              	.LVL594:
2222:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardStatus->SIZE_OF_PROTECTED_AREA = (uint8_t)(tmp << 24);
 5138              		.loc 1 2222 0
 5139 002c 6060     		str	r0, [r4, #4]
 5140              	.LVL595:
2226:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardStatus->SIZE_OF_PROTECTED_AREA |= (uint8_t)(tmp << 16);
 5141              		.loc 1 2226 0
 5142 002e 6368     		ldr	r3, [r4, #4]
 5143 0030 6360     		str	r3, [r4, #4]
 5144              	.LVL596:
2230:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardStatus->SIZE_OF_PROTECTED_AREA |= (uint8_t)(tmp << 8);
 5145              		.loc 1 2230 0
 5146 0032 6368     		ldr	r3, [r4, #4]
 5147 0034 6360     		str	r3, [r4, #4]
 5148              	.LVL597:
2234:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardStatus->SIZE_OF_PROTECTED_AREA |= (uint8_t)tmp;
 5149              		.loc 1 2234 0
 5150 0036 6368     		ldr	r3, [r4, #4]
2233:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (sd_status[7] & 0xFF);
 5151              		.loc 1 2233 0
 5152 0038 9DF81C20 		ldrb	r2, [sp, #28]	@ zero_extendqisi2
2234:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardStatus->SIZE_OF_PROTECTED_AREA |= (uint8_t)tmp;
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 173


 5153              		.loc 1 2234 0
 5154 003c 1343     		orrs	r3, r3, r2
 5155 003e 6360     		str	r3, [r4, #4]
 5156              	.LVL598:
2238:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardStatus->SPEED_CLASS = (uint8_t)tmp;
 5157              		.loc 1 2238 0
 5158 0040 9DF82030 		ldrb	r3, [sp, #32]	@ zero_extendqisi2
 5159 0044 2372     		strb	r3, [r4, #8]
 5160              	.LVL599:
2242:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardStatus->PERFORMANCE_MOVE = (uint8_t)tmp;
 5161              		.loc 1 2242 0
 5162 0046 9DF82430 		ldrb	r3, [sp, #36]	@ zero_extendqisi2
 5163 004a 6372     		strb	r3, [r4, #9]
 5164              	.LVL600:
2246:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardStatus->AU_SIZE = (uint8_t)tmp;
 5165              		.loc 1 2246 0
 5166 004c 0A9B     		ldr	r3, [sp, #40]
2253:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (sd_status[12] & 0xFF);
 5167              		.loc 1 2253 0
 5168 004e 9DF83020 		ldrb	r2, [sp, #48]	@ zero_extendqisi2
2246:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardStatus->AU_SIZE = (uint8_t)tmp;
 5169              		.loc 1 2246 0
 5170 0052 C3F30313 		ubfx	r3, r3, #4, #4
 5171 0056 A372     		strb	r3, [r4, #10]
 5172              	.LVL601:
2250:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardStatus->ERASE_SIZE = (uint8_t)(tmp << 8);
 5173              		.loc 1 2250 0
 5174 0058 A081     		strh	r0, [r4, #12]	@ movhi
 5175              	.LVL602:
2254:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardStatus->ERASE_SIZE |= (uint8_t)tmp;
 5176              		.loc 1 2254 0
 5177 005a A389     		ldrh	r3, [r4, #12]
 5178 005c 9BB2     		uxth	r3, r3
 5179 005e 1343     		orrs	r3, r3, r2
 5180 0060 A381     		strh	r3, [r4, #12]	@ movhi
2257:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (sd_status[13] & 0xFC) >> 2;
 5181              		.loc 1 2257 0
 5182 0062 0D9B     		ldr	r3, [sp, #52]
 5183              	.LVL603:
2258:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardStatus->ERASE_TIMEOUT = (uint8_t)tmp;
 5184              		.loc 1 2258 0
 5185 0064 C3F38502 		ubfx	r2, r3, #2, #6
2262:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardStatus->ERASE_OFFSET = (uint8_t)tmp;
 5186              		.loc 1 2262 0
 5187 0068 03F00303 		and	r3, r3, #3
 5188              	.LVL604:
2258:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardStatus->ERASE_TIMEOUT = (uint8_t)tmp;
 5189              		.loc 1 2258 0
 5190 006c A273     		strb	r2, [r4, #14]
 5191              	.LVL605:
2262:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardStatus->ERASE_OFFSET = (uint8_t)tmp;
 5192              		.loc 1 2262 0
 5193 006e E373     		strb	r3, [r4, #15]
 5194              	.L435:
2265:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 5195              		.loc 1 2265 0
 5196 0070 10B0     		add	sp, sp, #64
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 174


 5197              		@ sp needed
 5198 0072 10BD     		pop	{r4, pc}
 5199              		.cfi_endproc
 5200              	.LFE149:
 5202              		.text
 5203              	.Letext0:
 5204              		.file 2 "/Users/Arethusa/Library/Arduino15/packages/arduino/tools/arm-none-eabi-gcc/4.8.3-2014q1/a
 5205              		.file 3 "/Users/Arethusa/Library/Arduino15/packages/arduino/tools/arm-none-eabi-gcc/4.8.3-2014q1/a
 5206              		.file 4 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f401xe.h"
 5207              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f4xx.h"
 5208              		.file 6 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 5209              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 5210              		.file 8 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_ll_sdmmc.h"
 5211              		.file 9 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_sd.h"
 5212              		.file 10 "Drivers/CMSIS/Include/core_cm4.h"
 5213              		.file 11 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 175


DEFINED SYMBOLS
                            *ABS*:0000000000000000 stm32f4xx_hal_sd.c
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s:19     .text.SD_CmdResp2Error:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s:23     .text.SD_CmdResp2Error:0000000000000000 SD_CmdResp2Error
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s:73     .text.SD_IsCardProgramming:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s:77     .text.SD_IsCardProgramming:0000000000000000 SD_IsCardProgramming
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s:359    .text.SD_IsCardProgramming:0000000000000140 $d
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s:364    .text.SD_CmdResp1Error:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s:368    .text.SD_CmdResp1Error:0000000000000000 SD_CmdResp1Error
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s:623    .text.SD_CmdResp1Error:00000000000000ec $d
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s:628    .text.SD_FindSCR:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s:632    .text.SD_FindSCR:0000000000000000 SD_FindSCR
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s:858    .text.HAL_SD_MspInit:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s:863    .text.HAL_SD_MspInit:0000000000000000 HAL_SD_MspInit
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s:876    .text.HAL_SD_MspDeInit:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s:881    .text.HAL_SD_MspDeInit:0000000000000000 HAL_SD_MspDeInit
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s:894    .text.HAL_SD_DeInit:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s:899    .text.HAL_SD_DeInit:0000000000000000 HAL_SD_DeInit
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s:934    .text.HAL_SD_ReadBlocks_DMA:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s:939    .text.HAL_SD_ReadBlocks_DMA:0000000000000000 HAL_SD_ReadBlocks_DMA
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s:1125   .text.HAL_SD_ReadBlocks_DMA:00000000000000e0 $d
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s:1724   .text.SD_DMA_RxCplt:0000000000000000 SD_DMA_RxCplt
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s:1782   .text.SD_DMA_RxError:0000000000000000 SD_DMA_RxError
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s:1132   .text.HAL_SD_WriteBlocks_DMA:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s:1137   .text.HAL_SD_WriteBlocks_DMA:0000000000000000 HAL_SD_WriteBlocks_DMA
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s:1330   .text.HAL_SD_WriteBlocks_DMA:00000000000000e0 $d
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s:1828   .text.SD_DMA_TxCplt:0000000000000000 SD_DMA_TxCplt
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s:1886   .text.SD_DMA_TxError:0000000000000000 SD_DMA_TxError
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s:1337   .text.HAL_SD_Erase:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s:1342   .text.HAL_SD_Erase:0000000000000000 HAL_SD_Erase
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s:1549   .text.HAL_SD_Erase:00000000000000fc $d
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s:1554   .text.HAL_SD_XferCpltCallback:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s:1559   .text.HAL_SD_XferCpltCallback:0000000000000000 HAL_SD_XferCpltCallback
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s:1572   .text.HAL_SD_XferErrorCallback:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s:1577   .text.HAL_SD_XferErrorCallback:0000000000000000 HAL_SD_XferErrorCallback
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s:1590   .text.HAL_SD_IRQHandler:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s:1595   .text.HAL_SD_IRQHandler:0000000000000000 HAL_SD_IRQHandler
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s:1702   .text.HAL_SD_DMA_RxCpltCallback:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s:1707   .text.HAL_SD_DMA_RxCpltCallback:0000000000000000 HAL_SD_DMA_RxCpltCallback
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s:1720   .text.SD_DMA_RxCplt:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s:1760   .text.HAL_SD_DMA_RxErrorCallback:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s:1765   .text.HAL_SD_DMA_RxErrorCallback:0000000000000000 HAL_SD_DMA_RxErrorCallback
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s:1778   .text.SD_DMA_RxError:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s:1806   .text.HAL_SD_DMA_TxCpltCallback:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s:1811   .text.HAL_SD_DMA_TxCpltCallback:0000000000000000 HAL_SD_DMA_TxCpltCallback
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s:1824   .text.SD_DMA_TxCplt:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s:1864   .text.HAL_SD_DMA_TxErrorCallback:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s:1869   .text.HAL_SD_DMA_TxErrorCallback:0000000000000000 HAL_SD_DMA_TxErrorCallback
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s:1882   .text.SD_DMA_TxError:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s:1910   .text.HAL_SD_Get_CardInfo:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s:1915   .text.HAL_SD_Get_CardInfo:0000000000000000 HAL_SD_Get_CardInfo
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s:2392   .text.HAL_SD_Init:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s:2397   .text.HAL_SD_Init:0000000000000000 HAL_SD_Init
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s:2932   .text.HAL_SD_Init:00000000000002ac $d
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s:2936   .text.HAL_SD_Init:00000000000002b0 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s:3144   .text.HAL_SD_WideBusOperation_Config:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s:3149   .text.HAL_SD_WideBusOperation_Config:0000000000000000 HAL_SD_WideBusOperation_Config
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s 			page 176


/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s:3422   .text.HAL_SD_StopTransfer:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s:3427   .text.HAL_SD_StopTransfer:0000000000000000 HAL_SD_StopTransfer
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s:3484   .text.HAL_SD_ReadBlocks:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s:3489   .text.HAL_SD_ReadBlocks:0000000000000000 HAL_SD_ReadBlocks
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s:3802   .text.HAL_SD_WriteBlocks:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s:3807   .text.HAL_SD_WriteBlocks:0000000000000000 HAL_SD_WriteBlocks
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s:4189   .text.HAL_SD_CheckReadOperation:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s:4194   .text.HAL_SD_CheckReadOperation:0000000000000000 HAL_SD_CheckReadOperation
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s:4319   .text.HAL_SD_HighSpeed:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s:4324   .text.HAL_SD_HighSpeed:0000000000000000 HAL_SD_HighSpeed
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s:4577   .text.HAL_SD_HighSpeed:000000000000011c $d
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s:4582   .text.HAL_SD_SendSDStatus:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s:4587   .text.HAL_SD_SendSDStatus:0000000000000000 HAL_SD_SendSDStatus
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s:4837   .text.HAL_SD_GetStatus:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s:4842   .text.HAL_SD_GetStatus:0000000000000000 HAL_SD_GetStatus
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s:4945   .text.HAL_SD_CheckWriteOperation:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s:4950   .text.HAL_SD_CheckWriteOperation:0000000000000000 HAL_SD_CheckWriteOperation
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s:5082   .text.HAL_SD_GetCardStatus:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//cchwBv9x.s:5087   .text.HAL_SD_GetCardStatus:0000000000000000 HAL_SD_GetCardStatus
                     .debug_frame:0000000000000010 $d

UNDEFINED SYMBOLS
SDIO_SendCommand
SDIO_GetCommandResponse
SDIO_GetResponse
SDIO_DataConfig
SDIO_ReadFIFO
SDIO_PowerState_OFF
HAL_DMA_Start_IT
HAL_DMA_Abort
SDIO_Init
SDIO_PowerState_ON
HAL_Delay
SDIO_GetPowerState
SDIO_WriteFIFO
memset
