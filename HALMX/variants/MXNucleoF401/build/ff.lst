ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 1


   1              		.syntax unified
   2              		.cpu cortex-m4
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 4
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.thumb
  14              		.file	"ff.c"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.section	.text.mem_cpy,"ax",%progbits
  19              		.align	1
  20              		.thumb
  21              		.thumb_func
  23              	mem_cpy:
  24              	.LFB125:
  25              		.file 1 "Middlewares/Third_Party/FatFs/src/ff.c"
   1:Middlewares/Third_Party/FatFs/src/ff.c **** /*----------------------------------------------------------------------------/
   2:Middlewares/Third_Party/FatFs/src/ff.c **** /  FatFs - FAT file system module  R0.11                 (C)ChaN, 2015
   3:Middlewares/Third_Party/FatFs/src/ff.c **** /-----------------------------------------------------------------------------/
   4:Middlewares/Third_Party/FatFs/src/ff.c **** / FatFs module is a free software that opened under license policy of
   5:Middlewares/Third_Party/FatFs/src/ff.c **** / following conditions.
   6:Middlewares/Third_Party/FatFs/src/ff.c **** /
   7:Middlewares/Third_Party/FatFs/src/ff.c **** / Copyright (C) 2015, ChaN, all right reserved.
   8:Middlewares/Third_Party/FatFs/src/ff.c **** /
   9:Middlewares/Third_Party/FatFs/src/ff.c **** / 1. Redistributions of source code must retain the above copyright notice,
  10:Middlewares/Third_Party/FatFs/src/ff.c **** /    this condition and the following disclaimer.
  11:Middlewares/Third_Party/FatFs/src/ff.c **** /
  12:Middlewares/Third_Party/FatFs/src/ff.c **** / This software is provided by the copyright holder and contributors "AS IS"
  13:Middlewares/Third_Party/FatFs/src/ff.c **** / and any warranties related to this software are DISCLAIMED.
  14:Middlewares/Third_Party/FatFs/src/ff.c **** / The copyright owner or contributors be NOT LIABLE for any damages caused
  15:Middlewares/Third_Party/FatFs/src/ff.c **** / by use of this software.
  16:Middlewares/Third_Party/FatFs/src/ff.c **** /-----------------------------------------------------------------------------/
  17:Middlewares/Third_Party/FatFs/src/ff.c **** / Feb 26,'06 R0.00  Prototype.
  18:Middlewares/Third_Party/FatFs/src/ff.c **** /
  19:Middlewares/Third_Party/FatFs/src/ff.c **** / Apr 29,'06 R0.01  First stable version.
  20:Middlewares/Third_Party/FatFs/src/ff.c **** /
  21:Middlewares/Third_Party/FatFs/src/ff.c **** / Jun 01,'06 R0.02  Added FAT12 support.
  22:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Removed unbuffered mode.
  23:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed a problem on small (<32M) partition.
  24:Middlewares/Third_Party/FatFs/src/ff.c **** / Jun 10,'06 R0.02a Added a configuration option (_FS_MINIMUM).
  25:Middlewares/Third_Party/FatFs/src/ff.c **** /
  26:Middlewares/Third_Party/FatFs/src/ff.c **** / Sep 22,'06 R0.03  Added f_rename().
  27:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Changed option _FS_MINIMUM to _FS_MINIMIZE.
  28:Middlewares/Third_Party/FatFs/src/ff.c **** / Dec 11,'06 R0.03a Improved cluster scan algorithm to write files fast.
  29:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed f_mkdir() creates incorrect directory on FAT32.
  30:Middlewares/Third_Party/FatFs/src/ff.c **** /
  31:Middlewares/Third_Party/FatFs/src/ff.c **** / Feb 04,'07 R0.04  Supported multiple drive system.
  32:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Changed some interfaces for multiple drive system.
  33:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Changed f_mountdrv() to f_mount().
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 2


  34:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added f_mkfs().
  35:Middlewares/Third_Party/FatFs/src/ff.c **** / Apr 01,'07 R0.04a Supported multiple partitions on a physical drive.
  36:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added a capability of extending file size to f_lseek().
  37:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added minimization level 3.
  38:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed an endian sensitive code in f_mkfs().
  39:Middlewares/Third_Party/FatFs/src/ff.c **** / May 05,'07 R0.04b Added a configuration option _USE_NTFLAG.
  40:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added FSINFO support.
  41:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed DBCS name can result FR_INVALID_NAME.
  42:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed short seek (<= csize) collapses the file object.
  43:Middlewares/Third_Party/FatFs/src/ff.c **** /
  44:Middlewares/Third_Party/FatFs/src/ff.c **** / Aug 25,'07 R0.05  Changed arguments of f_read(), f_write() and f_mkfs().
  45:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed f_mkfs() on FAT32 creates incorrect FSINFO.
  46:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed f_mkdir() on FAT32 creates incorrect directory.
  47:Middlewares/Third_Party/FatFs/src/ff.c **** / Feb 03,'08 R0.05a Added f_truncate() and f_utime().
  48:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed off by one error at FAT sub-type determination.
  49:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed btr in f_read() can be mistruncated.
  50:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed cached sector is not flushed when create and close without write.
  51:Middlewares/Third_Party/FatFs/src/ff.c **** /
  52:Middlewares/Third_Party/FatFs/src/ff.c **** / Apr 01,'08 R0.06  Added fputc(), fputs(), fprintf() and fgets().
  53:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Improved performance of f_lseek() on moving to the same or following cluster.
  54:Middlewares/Third_Party/FatFs/src/ff.c **** /
  55:Middlewares/Third_Party/FatFs/src/ff.c **** / Apr 01,'09 R0.07  Merged Tiny-FatFs as a configuration option. (_FS_TINY)
  56:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added long file name feature.
  57:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added multiple code page feature.
  58:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added re-entrancy for multitask operation.
  59:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added auto cluster size selection to f_mkfs().
  60:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added rewind option to f_readdir().
  61:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Changed result code of critical errors.
  62:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Renamed string functions to avoid name collision.
  63:Middlewares/Third_Party/FatFs/src/ff.c **** / Apr 14,'09 R0.07a Separated out OS dependent code on reentrant cfg.
  64:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added multiple sector size feature.
  65:Middlewares/Third_Party/FatFs/src/ff.c **** / Jun 21,'09 R0.07c Fixed f_unlink() can return FR_OK on error.
  66:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed wrong cache control in f_lseek().
  67:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added relative path feature.
  68:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added f_chdir() and f_chdrive().
  69:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added proper case conversion to extended character.
  70:Middlewares/Third_Party/FatFs/src/ff.c **** / Nov 03,'09 R0.07e Separated out configuration options from ff.h to ffconf.h.
  71:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed f_unlink() fails to remove a sub-directory on _FS_RPATH.
  72:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed name matching error on the 13 character boundary.
  73:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added a configuration option, _LFN_UNICODE.
  74:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Changed f_readdir() to return the SFN with always upper case on non-LFN cfg.
  75:Middlewares/Third_Party/FatFs/src/ff.c **** /
  76:Middlewares/Third_Party/FatFs/src/ff.c **** / May 15,'10 R0.08  Added a memory configuration option. (_USE_LFN = 3)
  77:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added file lock feature. (_FS_SHARE)
  78:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added fast seek feature. (_USE_FASTSEEK)
  79:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Changed some types on the API, XCHAR->TCHAR.
  80:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Changed .fname in the FILINFO structure on Unicode cfg.
  81:Middlewares/Third_Party/FatFs/src/ff.c **** /                   String functions support UTF-8 encoding files on Unicode cfg.
  82:Middlewares/Third_Party/FatFs/src/ff.c **** / Aug 16,'10 R0.08a Added f_getcwd().
  83:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added sector erase feature. (_USE_ERASE)
  84:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Moved file lock semaphore table from fs object to the bss.
  85:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed a wrong directory entry is created on non-LFN cfg when the given name con
  86:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed f_mkfs() creates wrong FAT32 volume.
  87:Middlewares/Third_Party/FatFs/src/ff.c **** / Jan 15,'11 R0.08b Fast seek feature is also applied to f_read() and f_write().
  88:Middlewares/Third_Party/FatFs/src/ff.c **** /                   f_lseek() reports required table size on creating CLMP.
  89:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Extended format syntax of f_printf().
  90:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Ignores duplicated directory separators in given path name.
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 3


  91:Middlewares/Third_Party/FatFs/src/ff.c **** /
  92:Middlewares/Third_Party/FatFs/src/ff.c **** / Sep 06,'11 R0.09  f_mkfs() supports multiple partition to complete the multiple partition feature
  93:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added f_fdisk().
  94:Middlewares/Third_Party/FatFs/src/ff.c **** / Aug 27,'12 R0.09a Changed f_open() and f_opendir() reject null object pointer to avoid crash.
  95:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Changed option name _FS_SHARE to _FS_LOCK.
  96:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed assertion failure due to OS/2 EA on FAT12/16 volume.
  97:Middlewares/Third_Party/FatFs/src/ff.c **** / Jan 24,'13 R0.09b Added f_setlabel() and f_getlabel().
  98:Middlewares/Third_Party/FatFs/src/ff.c **** /
  99:Middlewares/Third_Party/FatFs/src/ff.c **** / Oct 02,'13 R0.10  Added selection of character encoding on the file. (_STRF_ENCODE)
 100:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added f_closedir().
 101:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added forced full FAT scan for f_getfree(). (_FS_NOFSINFO)
 102:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added forced mount feature with changes of f_mount().
 103:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Improved behavior of volume auto detection.
 104:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Improved write throughput of f_puts() and f_printf().
 105:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Changed argument of f_chdrive(), f_mkfs(), disk_read() and disk_write().
 106:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed f_write() can be truncated when the file size is close to 4GB.
 107:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed f_open(), f_mkdir() and f_setlabel() can return incorrect error code.
 108:Middlewares/Third_Party/FatFs/src/ff.c **** / Jan 15,'14 R0.10a Added arbitrary strings as drive number in the path name. (_STR_VOLUME_ID)
 109:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added a configuration option of minimum sector size. (_MIN_SS)
 110:Middlewares/Third_Party/FatFs/src/ff.c **** /                   2nd argument of f_rename() can have a drive number and it will be ignored.
 111:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed f_mount() with forced mount fails when drive number is >= 1.
 112:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed f_close() invalidates the file object without volume lock.
 113:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed f_closedir() returns but the volume lock is left acquired.
 114:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed creation of an entry with LFN fails on too many SFN collisions.
 115:Middlewares/Third_Party/FatFs/src/ff.c **** / May 19,'14 R0.10b Fixed a hard error in the disk I/O layer can collapse the directory entry.
 116:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed LFN entry is not deleted on delete/rename an object with lossy converted 
 117:Middlewares/Third_Party/FatFs/src/ff.c **** / Nov  9,'14 R0.10c Added a configuration option for the platforms without RTC. (_FS_NORTC)
 118:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed volume label created by Mac OS X cannot be retrieved with f_getlabel(). (
 119:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed a potential problem of FAT access that can appear on disk error.
 120:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed null pointer dereference on attempting to delete the root direcotry. (app
 121:Middlewares/Third_Party/FatFs/src/ff.c **** / Feb 02,'15 R0.11  Added f_findfirst() and f_findnext(). (_USE_FIND)
 122:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed f_unlink() does not remove cluster chain of the file. (appeared at R0.10c
 123:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed _FS_NORTC option does not work properly. (appeared at R0.10c)
 124:Middlewares/Third_Party/FatFs/src/ff.c **** /---------------------------------------------------------------------------*/
 125:Middlewares/Third_Party/FatFs/src/ff.c **** 
 126:Middlewares/Third_Party/FatFs/src/ff.c **** #include "ff.h"			/* Declarations of FatFs API */
 127:Middlewares/Third_Party/FatFs/src/ff.c **** #include "diskio.h"		/* Declarations of disk I/O functions */
 128:Middlewares/Third_Party/FatFs/src/ff.c **** 
 129:Middlewares/Third_Party/FatFs/src/ff.c **** 
 130:Middlewares/Third_Party/FatFs/src/ff.c **** /*--------------------------------------------------------------------------
 131:Middlewares/Third_Party/FatFs/src/ff.c **** 
 132:Middlewares/Third_Party/FatFs/src/ff.c ****    Module Private Definitions
 133:Middlewares/Third_Party/FatFs/src/ff.c **** 
 134:Middlewares/Third_Party/FatFs/src/ff.c **** ---------------------------------------------------------------------------*/
 135:Middlewares/Third_Party/FatFs/src/ff.c **** 
 136:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FATFS != 32020	/* Revision ID */
 137:Middlewares/Third_Party/FatFs/src/ff.c **** #error Wrong include file (ff.h).
 138:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 139:Middlewares/Third_Party/FatFs/src/ff.c **** 
 140:Middlewares/Third_Party/FatFs/src/ff.c **** 
 141:Middlewares/Third_Party/FatFs/src/ff.c **** /* Reentrancy related */
 142:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 143:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN == 1
 144:Middlewares/Third_Party/FatFs/src/ff.c **** #error Static LFN work area cannot be used at thread-safe configuration
 145:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 146:Middlewares/Third_Party/FatFs/src/ff.c **** #define	ENTER_FF(fs)		{ if (!lock_fs(fs)) return FR_TIMEOUT; }
 147:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LEAVE_FF(fs, res)	{ unlock_fs(fs, res); return res; }
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 4


 148:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 149:Middlewares/Third_Party/FatFs/src/ff.c **** #define	ENTER_FF(fs)
 150:Middlewares/Third_Party/FatFs/src/ff.c **** #define LEAVE_FF(fs, res)	return res
 151:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 152:Middlewares/Third_Party/FatFs/src/ff.c **** 
 153:Middlewares/Third_Party/FatFs/src/ff.c **** #define	ABORT(fs, res)		{ fp->err = (BYTE)(res); LEAVE_FF(fs, res); }
 154:Middlewares/Third_Party/FatFs/src/ff.c **** 
 155:Middlewares/Third_Party/FatFs/src/ff.c **** 
 156:Middlewares/Third_Party/FatFs/src/ff.c **** /* Definitions of sector size */
 157:Middlewares/Third_Party/FatFs/src/ff.c **** #if (_MAX_SS < _MIN_SS) || (_MAX_SS != 512 && _MAX_SS != 1024 && _MAX_SS != 2048 && _MAX_SS != 4096
 158:Middlewares/Third_Party/FatFs/src/ff.c **** #error Wrong sector size configuration
 159:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 160:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS == _MIN_SS
 161:Middlewares/Third_Party/FatFs/src/ff.c **** #define	SS(fs)	((UINT)_MAX_SS)	/* Fixed sector size */
 162:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 163:Middlewares/Third_Party/FatFs/src/ff.c **** #define	SS(fs)	((fs)->ssize)	/* Variable sector size */
 164:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 165:Middlewares/Third_Party/FatFs/src/ff.c **** 
 166:Middlewares/Third_Party/FatFs/src/ff.c **** 
 167:Middlewares/Third_Party/FatFs/src/ff.c **** /* Timestamp feature */
 168:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_NORTC == 1
 169:Middlewares/Third_Party/FatFs/src/ff.c **** #if _NORTC_YEAR < 1980 || _NORTC_YEAR > 2107 || _NORTC_MON < 1 || _NORTC_MON > 12 || _NORTC_MDAY < 
 170:Middlewares/Third_Party/FatFs/src/ff.c **** #error Invalid _FS_NORTC settings
 171:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 172:Middlewares/Third_Party/FatFs/src/ff.c **** #define GET_FATTIME()	((DWORD)(_NORTC_YEAR - 1980) << 25 | (DWORD)_NORTC_MON << 21 | (DWORD)_NORTC_
 173:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 174:Middlewares/Third_Party/FatFs/src/ff.c **** #define GET_FATTIME()	get_fattime()
 175:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 176:Middlewares/Third_Party/FatFs/src/ff.c **** 
 177:Middlewares/Third_Party/FatFs/src/ff.c **** 
 178:Middlewares/Third_Party/FatFs/src/ff.c **** /* File access control feature */
 179:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
 180:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_READONLY
 181:Middlewares/Third_Party/FatFs/src/ff.c **** #error _FS_LOCK must be 0 at read-only configuration
 182:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 183:Middlewares/Third_Party/FatFs/src/ff.c **** typedef struct {
 184:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;		/* Object ID 1, volume (NULL:blank entry) */
 185:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clu;		/* Object ID 2, directory (0:root) */
 186:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD idx;		/* Object ID 3, directory index */
 187:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD ctr;		/* Object open counter, 0:none, 0x01..0xFF:read mode open count, 0x100:write mode */
 188:Middlewares/Third_Party/FatFs/src/ff.c **** } FILESEM;
 189:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 190:Middlewares/Third_Party/FatFs/src/ff.c **** 
 191:Middlewares/Third_Party/FatFs/src/ff.c **** 
 192:Middlewares/Third_Party/FatFs/src/ff.c **** 
 193:Middlewares/Third_Party/FatFs/src/ff.c **** /* DBCS code ranges and SBCS extend character conversion table */
 194:Middlewares/Third_Party/FatFs/src/ff.c **** 
 195:Middlewares/Third_Party/FatFs/src/ff.c **** #if _CODE_PAGE == 932	/* Japanese Shift-JIS */
 196:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0x81	/* DBC 1st byte range 1 start */
 197:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1E	0x9F	/* DBC 1st byte range 1 end */
 198:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF2S	0xE0	/* DBC 1st byte range 2 start */
 199:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF2E	0xFC	/* DBC 1st byte range 2 end */
 200:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1S	0x40	/* DBC 2nd byte range 1 start */
 201:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1E	0x7E	/* DBC 2nd byte range 1 end */
 202:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2S	0x80	/* DBC 2nd byte range 2 start */
 203:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2E	0xFC	/* DBC 2nd byte range 2 end */
 204:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 5


 205:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 936	/* Simplified Chinese GBK */
 206:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0x81
 207:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1E	0xFE
 208:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1S	0x40
 209:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1E	0x7E
 210:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2S	0x80
 211:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2E	0xFE
 212:Middlewares/Third_Party/FatFs/src/ff.c **** 
 213:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 949	/* Korean */
 214:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0x81
 215:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1E	0xFE
 216:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1S	0x41
 217:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1E	0x5A
 218:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2S	0x61
 219:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2E	0x7A
 220:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS3S	0x81
 221:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS3E	0xFE
 222:Middlewares/Third_Party/FatFs/src/ff.c **** 
 223:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 950	/* Traditional Chinese Big5 */
 224:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0x81
 225:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1E	0xFE
 226:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1S	0x40
 227:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1E	0x7E
 228:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2S	0xA1
 229:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2E	0xFE
 230:Middlewares/Third_Party/FatFs/src/ff.c **** 
 231:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 437	/* U.S. (OEM) */
 232:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 233:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x90,0x41,0x8E,0x41,0x8F,0x80,0x45,0x45,0x45,0x49,0x49,0x49,0x8E,0x8F,0x9
 234:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x41,0x49,0x4F,0x55,0xA5,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0x21,0xAE,0xAF,0xB0,0xB1,0xB2,
 235:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 236:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF,0xF0,0xF1,0xF2,
 237:Middlewares/Third_Party/FatFs/src/ff.c **** 
 238:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 720	/* Arabic (OEM) */
 239:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 240:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x45,0x41,0x84,0x41,0x86,0x43,0x45,0x45,0x45,0x49,0x49,0x8D,0x8E,0x8F,0x9
 241:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0xA1,0xA2,0xA3,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF,0xB0,0xB1,0xB2,
 242:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 243:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF,0xF0,0xF1,0xF2,
 244:Middlewares/Third_Party/FatFs/src/ff.c **** 
 245:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 737	/* Greek (OEM) */
 246:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 247:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x9
 248:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x90,0x91,0xAA,0x92,0x93,0x94,0x95,0x96,0xB0,0xB1,0xB2,
 249:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 250:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x97,0xEA,0xEB,0xEC,0xE4,0xED,0xEE,0xE7,0xE8,0xF1,0xEA,0xEB,0xEC,0xED,0xEE,0xEF,0xF0,0xF1,0xF2,
 251:Middlewares/Third_Party/FatFs/src/ff.c **** 
 252:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 775	/* Baltic (OEM) */
 253:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 254:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x91,0xA0,0x8E,0x95,0x8F,0x80,0xAD,0xED,0x8A,0x8A,0xA1,0x8D,0x8E,0x8F,0x9
 255:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0xA1,0xE0,0xA3,0xA3,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF,0xB0,0xB1,0xB2,
 256:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xB5,0xB6,0xB7,
 257:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE5,0xE5,0xE6,0xE3,0xE8,0xE8,0xEA,0xEA,0xEE,0xED,0xEE,0xEF,0xF0,0xF1,0xF2,
 258:Middlewares/Third_Party/FatFs/src/ff.c **** 
 259:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 850	/* Multilingual Latin 1 (OEM) */
 260:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 261:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x90,0xB6,0x8E,0xB7,0x8F,0x80,0xD2,0xD3,0xD4,0xD8,0xD7,0xDE,0x8E,0x8F,0x9
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 6


 262:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB5,0xD6,0xE0,0xE9,0xA5,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0x21,0xAE,0xAF,0xB0,0xB1,0xB2,
 263:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC7,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 264:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE5,0xE5,0xE6,0xE7,0xE7,0xE9,0xEA,0xEB,0xED,0xED,0xEE,0xEF,0xF0,0xF1,0xF2,
 265:Middlewares/Third_Party/FatFs/src/ff.c **** 
 266:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 852	/* Latin 2 (OEM) */
 267:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 268:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x90,0xB6,0x8E,0xDE,0x8F,0x80,0x9D,0xD3,0x8A,0x8A,0xD7,0x8D,0x8E,0x8F,0x9
 269:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB5,0xD6,0xE0,0xE9,0xA4,0xA4,0xA6,0xA6,0xA8,0xA8,0xAA,0x8D,0xAC,0xB8,0xAE,0xAF,0xB0,0xB1,0xB2,
 270:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC6,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD1,0xD1,0xD2,
 271:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE3,0xD5,0xE6,0xE6,0xE8,0xE9,0xE8,0xEB,0xED,0xED,0xDD,0xEF,0xF0,0xF1,0xF2,
 272:Middlewares/Third_Party/FatFs/src/ff.c **** 
 273:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 855	/* Cyrillic (OEM) */
 274:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 275:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x81,0x81,0x83,0x83,0x85,0x85,0x87,0x87,0x89,0x89,0x8B,0x8B,0x8D,0x8D,0x8F,0x8F,0x9
 276:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA1,0xA1,0xA3,0xA3,0xA5,0xA5,0xA7,0xA7,0xA9,0xA9,0xAB,0xAB,0xAD,0xAD,0xAE,0xAF,0xB0,0xB1,0xB2,
 277:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC7,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD1,0xD1,0xD3,
 278:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE2,0xE2,0xE4,0xE4,0xE6,0xE6,0xE8,0xE8,0xEA,0xEA,0xEC,0xEC,0xEE,0xEE,0xEF,0xF0,0xF2,0xF2,
 279:Middlewares/Third_Party/FatFs/src/ff.c **** 
 280:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 857	/* Turkish (OEM) */
 281:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 282:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x90,0xB6,0x8E,0xB7,0x8F,0x80,0xD2,0xD3,0xD4,0xD8,0xD7,0x98,0x8E,0x8F,0x9
 283:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB5,0xD6,0xE0,0xE9,0xA5,0xA5,0xA6,0xA6,0xA8,0xA9,0xAA,0xAB,0xAC,0x21,0xAE,0xAF,0xB0,0xB1,0xB2,
 284:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC7,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 285:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE5,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xDE,0x59,0xEE,0xEF,0xF0,0xF1,0xF2,
 286:Middlewares/Third_Party/FatFs/src/ff.c **** 
 287:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 858	/* Multilingual Latin 1 + Euro (OEM) */
 288:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 289:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x90,0xB6,0x8E,0xB7,0x8F,0x80,0xD2,0xD3,0xD4,0xD8,0xD7,0xDE,0x8E,0x8F,0x9
 290:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB5,0xD6,0xE0,0xE9,0xA5,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0x21,0xAE,0xAF,0xB0,0xB1,0xB2,
 291:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC7,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD1,0xD1,0xD2,
 292:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE5,0xE5,0xE6,0xE7,0xE7,0xE9,0xEA,0xEB,0xED,0xED,0xEE,0xEF,0xF0,0xF1,0xF2,
 293:Middlewares/Third_Party/FatFs/src/ff.c **** 
 294:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 862	/* Hebrew (OEM) */
 295:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 296:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x9
 297:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x41,0x49,0x4F,0x55,0xA5,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0x21,0xAE,0xAF,0xB0,0xB1,0xB2,
 298:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 299:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF,0xF0,0xF1,0xF2,
 300:Middlewares/Third_Party/FatFs/src/ff.c **** 
 301:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 866	/* Russian (OEM) */
 302:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 303:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x9
 304:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0xB0,0xB1,0xB2,
 305:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 306:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x92,0x93,0x9d,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F,0xF0,0xF0,0xF2,
 307:Middlewares/Third_Party/FatFs/src/ff.c **** 
 308:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 874	/* Thai (OEM, Windows) */
 309:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 310:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x9
 311:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0xA1,0xA2,0xA3,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF,0xB0,0xB1,0xB2,
 312:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 313:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF,0xF0,0xF1,0xF2,
 314:Middlewares/Third_Party/FatFs/src/ff.c **** 
 315:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 1250 /* Central Europe (Windows) */
 316:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 317:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x9
 318:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0xA1,0xA2,0xA3,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF,0xB0,0xB1,0xB2,
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 7


 319:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 320:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 321:Middlewares/Third_Party/FatFs/src/ff.c **** 
 322:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 1251 /* Cyrillic (Windows) */
 323:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 324:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x82,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x8
 325:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0xA2,0xA2,0xA3,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF,0xB0,0xB1,0xB2,
 326:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 327:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 328:Middlewares/Third_Party/FatFs/src/ff.c **** 
 329:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 1252 /* Latin 1 (Windows) */
 330:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 331:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x9
 332:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0x21,0xA2,0xA3,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF,0xB0,0xB1,0xB2,
 333:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 334:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 335:Middlewares/Third_Party/FatFs/src/ff.c **** 
 336:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 1253 /* Greek (Windows) */
 337:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 338:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x9
 339:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0xA1,0xA2,0xA3,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF,0xB0,0xB1,0xB2,
 340:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 341:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xF2,
 342:Middlewares/Third_Party/FatFs/src/ff.c **** 
 343:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 1254 /* Turkish (Windows) */
 344:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 345:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x9
 346:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0x21,0xA2,0xA3,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF,0xB0,0xB1,0xB2,
 347:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 348:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 349:Middlewares/Third_Party/FatFs/src/ff.c **** 
 350:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 1255 /* Hebrew (Windows) */
 351:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 352:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x9
 353:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0x21,0xA2,0xA3,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF,0xB0,0xB1,0xB2,
 354:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 355:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF,0xF0,0xF1,0xF2,
 356:Middlewares/Third_Party/FatFs/src/ff.c **** 
 357:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 1256 /* Arabic (Windows) */
 358:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 359:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x9
 360:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0xA1,0xA2,0xA3,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF,0xB0,0xB1,0xB2,
 361:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 362:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x41,0xE1,0x41,0xE3,0xE4,0xE5,0xE6,0x43,0x45,0x45,0x45,0x45,0xEC,0xED,0x49,0x49,0xF0,0xF1,0xF2,
 363:Middlewares/Third_Party/FatFs/src/ff.c **** 
 364:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 1257 /* Baltic (Windows) */
 365:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 366:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x9
 367:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0xA1,0xA2,0xA3,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF,0xB0,0xB1,0xB2,
 368:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 369:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 370:Middlewares/Third_Party/FatFs/src/ff.c **** 
 371:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 1258 /* Vietnam (OEM, Windows) */
 372:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 373:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x9
 374:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0x21,0xA2,0xA3,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF,0xB0,0xB1,0xB2,
 375:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 8


 376:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xEC,0xCD,0xCE,0xCF,0xD0,0xD1,0xF2,
 377:Middlewares/Third_Party/FatFs/src/ff.c **** 
 378:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 1	/* ASCII (for only non-LFN cfg) */
 379:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
 380:Middlewares/Third_Party/FatFs/src/ff.c **** #error Cannot use LFN feature without valid code page.
 381:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 382:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 383:Middlewares/Third_Party/FatFs/src/ff.c **** 
 384:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 385:Middlewares/Third_Party/FatFs/src/ff.c **** #error Unknown code page
 386:Middlewares/Third_Party/FatFs/src/ff.c **** 
 387:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 388:Middlewares/Third_Party/FatFs/src/ff.c **** 
 389:Middlewares/Third_Party/FatFs/src/ff.c **** 
 390:Middlewares/Third_Party/FatFs/src/ff.c **** /* Character code support macros */
 391:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsUpper(c)	(((c)>='A')&&((c)<='Z'))
 392:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsLower(c)	(((c)>='a')&&((c)<='z'))
 393:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDigit(c)	(((c)>='0')&&((c)<='9'))
 394:Middlewares/Third_Party/FatFs/src/ff.c **** 
 395:Middlewares/Third_Party/FatFs/src/ff.c **** #if _DF1S		/* Code page is DBCS */
 396:Middlewares/Third_Party/FatFs/src/ff.c **** 
 397:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _DF2S	/* Two 1st byte areas */
 398:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS1(c)	(((BYTE)(c) >= _DF1S && (BYTE)(c) <= _DF1E) || ((BYTE)(c) >= _DF2S && (BYTE)(c) 
 399:Middlewares/Third_Party/FatFs/src/ff.c **** #else			/* One 1st byte area */
 400:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS1(c)	((BYTE)(c) >= _DF1S && (BYTE)(c) <= _DF1E)
 401:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 402:Middlewares/Third_Party/FatFs/src/ff.c **** 
 403:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _DS3S	/* Three 2nd byte areas */
 404:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS2(c)	(((BYTE)(c) >= _DS1S && (BYTE)(c) <= _DS1E) || ((BYTE)(c) >= _DS2S && (BYTE)(c) 
 405:Middlewares/Third_Party/FatFs/src/ff.c **** #else			/* Two 2nd byte areas */
 406:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS2(c)	(((BYTE)(c) >= _DS1S && (BYTE)(c) <= _DS1E) || ((BYTE)(c) >= _DS2S && (BYTE)(c) 
 407:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 408:Middlewares/Third_Party/FatFs/src/ff.c **** 
 409:Middlewares/Third_Party/FatFs/src/ff.c **** #else			/* Code page is SBCS */
 410:Middlewares/Third_Party/FatFs/src/ff.c **** 
 411:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS1(c)	0
 412:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS2(c)	0
 413:Middlewares/Third_Party/FatFs/src/ff.c **** 
 414:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _DF1S */
 415:Middlewares/Third_Party/FatFs/src/ff.c **** 
 416:Middlewares/Third_Party/FatFs/src/ff.c **** 
 417:Middlewares/Third_Party/FatFs/src/ff.c **** /* Name status flags */
 418:Middlewares/Third_Party/FatFs/src/ff.c **** #define NSFLAG		11		/* Index of name status byte in fn[] */
 419:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_LOSS		0x01	/* Out of 8.3 format */
 420:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_LFN		0x02	/* Force to create LFN entry */
 421:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_LAST		0x04	/* Last segment */
 422:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_BODY		0x08	/* Lower case flag (body) */
 423:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_EXT		0x10	/* Lower case flag (ext) */
 424:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_DOT		0x20	/* Dot entry */
 425:Middlewares/Third_Party/FatFs/src/ff.c **** 
 426:Middlewares/Third_Party/FatFs/src/ff.c **** 
 427:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT sub-type boundaries (Differ from specs but correct for real DOS/Windows) */
 428:Middlewares/Third_Party/FatFs/src/ff.c **** #define MIN_FAT16	4086U	/* Minimum number of clusters as FAT16 */
 429:Middlewares/Third_Party/FatFs/src/ff.c **** #define	MIN_FAT32	65526U	/* Minimum number of clusters as FAT32 */
 430:Middlewares/Third_Party/FatFs/src/ff.c **** 
 431:Middlewares/Third_Party/FatFs/src/ff.c **** 
 432:Middlewares/Third_Party/FatFs/src/ff.c **** /* FatFs refers the members in the FAT structures as byte array instead of
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 9


 433:Middlewares/Third_Party/FatFs/src/ff.c **** / structure member because the structure is not binary compatible between
 434:Middlewares/Third_Party/FatFs/src/ff.c **** / different platforms */
 435:Middlewares/Third_Party/FatFs/src/ff.c **** 
 436:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_jmpBoot			0		/* x86 jump instruction (3) */
 437:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_OEMName			3		/* OEM name (8) */
 438:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_BytsPerSec		11		/* Sector size [byte] (2) */
 439:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_SecPerClus		13		/* Cluster size [sector] (1) */
 440:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_RsvdSecCnt		14		/* Size of reserved area [sector] (2) */
 441:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_NumFATs			16		/* Number of FAT copies (1) */
 442:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_RootEntCnt		17		/* Number of root directory entries for FAT12/16 (2) */
 443:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_TotSec16		19		/* Volume size [sector] (2) */
 444:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_Media			21		/* Media descriptor (1) */
 445:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_FATSz16			22		/* FAT size [sector] (2) */
 446:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_SecPerTrk		24		/* Track size [sector] (2) */
 447:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_NumHeads		26		/* Number of heads (2) */
 448:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_HiddSec			28		/* Number of special hidden sectors (4) */
 449:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_TotSec32		32		/* Volume size [sector] (4) */
 450:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_DrvNum			36		/* Physical drive number (2) */
 451:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_BootSig			38		/* Extended boot signature (1) */
 452:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_VolID			39		/* Volume serial number (4) */
 453:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_VolLab			43		/* Volume label (8) */
 454:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_FilSysType		54		/* File system type (1) */
 455:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_FATSz32			36		/* FAT size [sector] (4) */
 456:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_ExtFlags		40		/* Extended flags (2) */
 457:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_FSVer			42		/* File system version (2) */
 458:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_RootClus		44		/* Root directory first cluster (4) */
 459:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_FSInfo			48		/* Offset of FSINFO sector (2) */
 460:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_BkBootSec		50		/* Offset of backup boot sector (2) */
 461:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_DrvNum32			64		/* Physical drive number (2) */
 462:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_BootSig32		66		/* Extended boot signature (1) */
 463:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_VolID32			67		/* Volume serial number (4) */
 464:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_VolLab32			71		/* Volume label (8) */
 465:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_FilSysType32		82		/* File system type (1) */
 466:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FSI_LeadSig			0		/* FSI: Leading signature (4) */
 467:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FSI_StrucSig		484		/* FSI: Structure signature (4) */
 468:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FSI_Free_Count		488		/* FSI: Number of free clusters (4) */
 469:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FSI_Nxt_Free		492		/* FSI: Last allocated cluster (4) */
 470:Middlewares/Third_Party/FatFs/src/ff.c **** #define MBR_Table			446		/* MBR: Partition table offset (2) */
 471:Middlewares/Third_Party/FatFs/src/ff.c **** #define	SZ_PTE				16		/* MBR: Size of a partition table entry */
 472:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_55AA				510		/* Signature word (2) */
 473:Middlewares/Third_Party/FatFs/src/ff.c **** 
 474:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_Name			0		/* Short file name (11) */
 475:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_Attr			11		/* Attribute (1) */
 476:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_NTres			12		/* Lower case flag (1) */
 477:Middlewares/Third_Party/FatFs/src/ff.c **** #define DIR_CrtTimeTenth	13		/* Created time sub-second (1) */
 478:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_CrtTime			14		/* Created time (2) */
 479:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_CrtDate			16		/* Created date (2) */
 480:Middlewares/Third_Party/FatFs/src/ff.c **** #define DIR_LstAccDate		18		/* Last accessed date (2) */
 481:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_FstClusHI		20		/* Higher 16-bit of first cluster (2) */
 482:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_WrtTime			22		/* Modified time (2) */
 483:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_WrtDate			24		/* Modified date (2) */
 484:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_FstClusLO		26		/* Lower 16-bit of first cluster (2) */
 485:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_FileSize		28		/* File size (4) */
 486:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LDIR_Ord			0		/* LFN entry order and LLE flag (1) */
 487:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LDIR_Attr			11		/* LFN attribute (1) */
 488:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LDIR_Type			12		/* LFN type (1) */
 489:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LDIR_Chksum			13		/* Sum of corresponding SFN entry */
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 10


 490:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LDIR_FstClusLO		26		/* Must be zero (0) */
 491:Middlewares/Third_Party/FatFs/src/ff.c **** #define	SZ_DIRE				32		/* Size of a directory entry */
 492:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LLEF				0x40	/* Last long entry flag in LDIR_Ord */
 493:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DDEM				0xE5	/* Deleted directory entry mark at DIR_Name[0] */
 494:Middlewares/Third_Party/FatFs/src/ff.c **** #define	RDDEM				0x05	/* Replacement of the character collides with DDEM */
 495:Middlewares/Third_Party/FatFs/src/ff.c **** 
 496:Middlewares/Third_Party/FatFs/src/ff.c **** 
 497:Middlewares/Third_Party/FatFs/src/ff.c **** 
 498:Middlewares/Third_Party/FatFs/src/ff.c **** 
 499:Middlewares/Third_Party/FatFs/src/ff.c **** /*------------------------------------------------------------*/
 500:Middlewares/Third_Party/FatFs/src/ff.c **** /* Module private work area                                   */
 501:Middlewares/Third_Party/FatFs/src/ff.c **** /*------------------------------------------------------------*/
 502:Middlewares/Third_Party/FatFs/src/ff.c **** /* Remark: Uninitialized variables with static duration are
 503:Middlewares/Third_Party/FatFs/src/ff.c **** /  guaranteed zero/null at start-up. If not, either the linker
 504:Middlewares/Third_Party/FatFs/src/ff.c **** /  or start-up routine being used is out of ANSI-C standard.
 505:Middlewares/Third_Party/FatFs/src/ff.c **** */
 506:Middlewares/Third_Party/FatFs/src/ff.c **** 
 507:Middlewares/Third_Party/FatFs/src/ff.c **** #if _VOLUMES < 1 || _VOLUMES > 9
 508:Middlewares/Third_Party/FatFs/src/ff.c **** #error Wrong _VOLUMES setting
 509:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 510:Middlewares/Third_Party/FatFs/src/ff.c **** static FATFS *FatFs[_VOLUMES];	/* Pointer to the file system objects (logical drives) */
 511:Middlewares/Third_Party/FatFs/src/ff.c **** static WORD Fsid;				/* File system mount ID */
 512:Middlewares/Third_Party/FatFs/src/ff.c **** 
 513:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH && _VOLUMES >= 2
 514:Middlewares/Third_Party/FatFs/src/ff.c **** static BYTE CurrVol;			/* Current drive */
 515:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 516:Middlewares/Third_Party/FatFs/src/ff.c **** 
 517:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
 518:Middlewares/Third_Party/FatFs/src/ff.c **** static FILESEM Files[_FS_LOCK];	/* Open object lock semaphores */
 519:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 520:Middlewares/Third_Party/FatFs/src/ff.c **** 
 521:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN == 0			/* Non LFN feature */
 522:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DEFINE_NAMEBUF		BYTE sfn[12]
 523:Middlewares/Third_Party/FatFs/src/ff.c **** #define INIT_BUF(dobj)		(dobj).fn = sfn
 524:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FREE_BUF()
 525:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 526:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_LFN < 12 || _MAX_LFN > 255
 527:Middlewares/Third_Party/FatFs/src/ff.c **** #error Wrong _MAX_LFN setting
 528:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 529:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN == 1			/* LFN feature with static working buffer */
 530:Middlewares/Third_Party/FatFs/src/ff.c **** static WCHAR LfnBuf[_MAX_LFN + 1];
 531:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DEFINE_NAMEBUF		BYTE sfn[12]
 532:Middlewares/Third_Party/FatFs/src/ff.c **** #define INIT_BUF(dobj)		{ (dobj).fn = sfn; (dobj).lfn = LfnBuf; }
 533:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FREE_BUF()
 534:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _USE_LFN == 2 		/* LFN feature with dynamic working buffer on the stack */
 535:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DEFINE_NAMEBUF		BYTE sfn[12]; WCHAR lbuf[_MAX_LFN + 1]
 536:Middlewares/Third_Party/FatFs/src/ff.c **** #define INIT_BUF(dobj)		{ (dobj).fn = sfn; (dobj).lfn = lbuf; }
 537:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FREE_BUF()
 538:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _USE_LFN == 3 		/* LFN feature with dynamic working buffer on the heap */
 539:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DEFINE_NAMEBUF		BYTE sfn[12]; WCHAR *lfn
 540:Middlewares/Third_Party/FatFs/src/ff.c **** #define INIT_BUF(dobj)		{ lfn = ff_memalloc((_MAX_LFN + 1) * 2); if (!lfn) LEAVE_FF((dobj).fs, FR_N
 541:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FREE_BUF()			ff_memfree(lfn)
 542:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 543:Middlewares/Third_Party/FatFs/src/ff.c **** #error Wrong _USE_LFN setting
 544:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 545:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 546:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 11


 547:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
 548:Middlewares/Third_Party/FatFs/src/ff.c **** static const BYTE ExCvt[] = _EXCVT;	/* Upper conversion table for extended characters */
 549:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 550:Middlewares/Third_Party/FatFs/src/ff.c **** 
 551:Middlewares/Third_Party/FatFs/src/ff.c **** 
 552:Middlewares/Third_Party/FatFs/src/ff.c **** 
 553:Middlewares/Third_Party/FatFs/src/ff.c **** 
 554:Middlewares/Third_Party/FatFs/src/ff.c **** 
 555:Middlewares/Third_Party/FatFs/src/ff.c **** 
 556:Middlewares/Third_Party/FatFs/src/ff.c **** /*--------------------------------------------------------------------------
 557:Middlewares/Third_Party/FatFs/src/ff.c **** 
 558:Middlewares/Third_Party/FatFs/src/ff.c ****    Module Private Functions
 559:Middlewares/Third_Party/FatFs/src/ff.c **** 
 560:Middlewares/Third_Party/FatFs/src/ff.c **** ---------------------------------------------------------------------------*/
 561:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD clust2sect (FATFS* fs, DWORD clst);
 562:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD get_fat (FATFS* fs,	DWORD clst);
 563:Middlewares/Third_Party/FatFs/src/ff.c **** 
 564:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 565:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT put_fat (FATFS* fs,	DWORD clst,	DWORD val);
 566:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
 567:Middlewares/Third_Party/FatFs/src/ff.c **** 
 568:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
 569:Middlewares/Third_Party/FatFs/src/ff.c **** static void gen_numname (BYTE* dst, const BYTE* src, const WCHAR* lfn, UINT seq);
 570:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_USE_LFN */
 571:Middlewares/Third_Party/FatFs/src/ff.c **** 
 572:Middlewares/Third_Party/FatFs/src/ff.c **** 
 573:Middlewares/Third_Party/FatFs/src/ff.c **** 
 574:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 575:Middlewares/Third_Party/FatFs/src/ff.c **** /* String functions                                                      */
 576:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 577:Middlewares/Third_Party/FatFs/src/ff.c **** 
 578:Middlewares/Third_Party/FatFs/src/ff.c **** /* Copy memory to memory */
 579:Middlewares/Third_Party/FatFs/src/ff.c **** static
 580:Middlewares/Third_Party/FatFs/src/ff.c **** void mem_cpy (void* dst, const void* src, UINT cnt) {
  26              		.loc 1 580 0
  27              		.cfi_startproc
  28              		@ args = 0, pretend = 0, frame = 0
  29              		@ frame_needed = 0, uses_anonymous_args = 0
  30              	.LVL0:
  31 0000 10B5     		push	{r4, lr}
  32              	.LCFI0:
  33              		.cfi_def_cfa_offset 8
  34              		.cfi_offset 4, -8
  35              		.cfi_offset 14, -4
 581:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *d = (BYTE*)dst;
 582:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE *s = (const BYTE*)src;
 583:Middlewares/Third_Party/FatFs/src/ff.c **** 
 584:Middlewares/Third_Party/FatFs/src/ff.c **** #if _WORD_ACCESS == 1
 585:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (cnt >= sizeof (int)) {
 586:Middlewares/Third_Party/FatFs/src/ff.c **** 		*(int*)d = *(int*)s;
 587:Middlewares/Third_Party/FatFs/src/ff.c **** 		d += sizeof (int); s += sizeof (int);
 588:Middlewares/Third_Party/FatFs/src/ff.c **** 		cnt -= sizeof (int);
 589:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 590:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 591:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (cnt--)
  36              		.loc 1 591 0
  37 0002 0023     		movs	r3, #0
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 12


  38              	.LVL1:
  39              	.L2:
  40              		.loc 1 591 0 is_stmt 0 discriminator 1
  41 0004 9342     		cmp	r3, r2
  42 0006 03D0     		beq	.L5
  43              	.LVL2:
 592:Middlewares/Third_Party/FatFs/src/ff.c **** 		*d++ = *s++;
  44              		.loc 1 592 0 is_stmt 1
  45 0008 CC5C     		ldrb	r4, [r1, r3]	@ zero_extendqisi2
  46 000a C454     		strb	r4, [r0, r3]
  47 000c 0133     		adds	r3, r3, #1
  48              	.LVL3:
  49 000e F9E7     		b	.L2
  50              	.LVL4:
  51              	.L5:
 593:Middlewares/Third_Party/FatFs/src/ff.c **** }
  52              		.loc 1 593 0
  53 0010 10BD     		pop	{r4, pc}
  54              		.cfi_endproc
  55              	.LFE125:
  57              		.section	.text.mem_set,"ax",%progbits
  58              		.align	1
  59              		.thumb
  60              		.thumb_func
  62              	mem_set:
  63              	.LFB126:
 594:Middlewares/Third_Party/FatFs/src/ff.c **** 
 595:Middlewares/Third_Party/FatFs/src/ff.c **** /* Fill memory */
 596:Middlewares/Third_Party/FatFs/src/ff.c **** static
 597:Middlewares/Third_Party/FatFs/src/ff.c **** void mem_set (void* dst, int val, UINT cnt) {
  64              		.loc 1 597 0
  65              		.cfi_startproc
  66              		@ args = 0, pretend = 0, frame = 0
  67              		@ frame_needed = 0, uses_anonymous_args = 0
  68              		@ link register save eliminated.
  69              	.LVL5:
  70 0000 0244     		add	r2, r2, r0
  71              	.LVL6:
  72              	.L7:
 598:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *d = (BYTE*)dst;
 599:Middlewares/Third_Party/FatFs/src/ff.c **** 
 600:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (cnt--)
  73              		.loc 1 600 0 discriminator 1
  74 0002 9042     		cmp	r0, r2
  75 0004 02D0     		beq	.L9
 601:Middlewares/Third_Party/FatFs/src/ff.c **** 		*d++ = (BYTE)val;
  76              		.loc 1 601 0
  77 0006 00F8011B 		strb	r1, [r0], #1
  78              	.LVL7:
  79 000a FAE7     		b	.L7
  80              	.LVL8:
  81              	.L9:
 602:Middlewares/Third_Party/FatFs/src/ff.c **** }
  82              		.loc 1 602 0
  83 000c 7047     		bx	lr
  84              		.cfi_endproc
  85              	.LFE126:
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 13


  87              		.section	.text.chk_lock,"ax",%progbits
  88              		.align	1
  89              		.thumb
  90              		.thumb_func
  92              	chk_lock:
  93              	.LFB129:
 603:Middlewares/Third_Party/FatFs/src/ff.c **** 
 604:Middlewares/Third_Party/FatFs/src/ff.c **** /* Compare memory to memory */
 605:Middlewares/Third_Party/FatFs/src/ff.c **** static
 606:Middlewares/Third_Party/FatFs/src/ff.c **** int mem_cmp (const void* dst, const void* src, UINT cnt) {
 607:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE *d = (const BYTE *)dst, *s = (const BYTE *)src;
 608:Middlewares/Third_Party/FatFs/src/ff.c **** 	int r = 0;
 609:Middlewares/Third_Party/FatFs/src/ff.c **** 
 610:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (cnt-- && (r = *d++ - *s++) == 0) ;
 611:Middlewares/Third_Party/FatFs/src/ff.c **** 	return r;
 612:Middlewares/Third_Party/FatFs/src/ff.c **** }
 613:Middlewares/Third_Party/FatFs/src/ff.c **** 
 614:Middlewares/Third_Party/FatFs/src/ff.c **** /* Check if chr is contained in the string */
 615:Middlewares/Third_Party/FatFs/src/ff.c **** static
 616:Middlewares/Third_Party/FatFs/src/ff.c **** int chk_chr (const char* str, int chr) {
 617:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (*str && *str != chr) str++;
 618:Middlewares/Third_Party/FatFs/src/ff.c **** 	return *str;
 619:Middlewares/Third_Party/FatFs/src/ff.c **** }
 620:Middlewares/Third_Party/FatFs/src/ff.c **** 
 621:Middlewares/Third_Party/FatFs/src/ff.c **** 
 622:Middlewares/Third_Party/FatFs/src/ff.c **** 
 623:Middlewares/Third_Party/FatFs/src/ff.c **** 
 624:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 625:Middlewares/Third_Party/FatFs/src/ff.c **** /* Request/Release grant to access the volume                            */
 626:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 627:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 628:Middlewares/Third_Party/FatFs/src/ff.c **** static
 629:Middlewares/Third_Party/FatFs/src/ff.c **** int lock_fs (
 630:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs		/* File system object */
 631:Middlewares/Third_Party/FatFs/src/ff.c **** )
 632:Middlewares/Third_Party/FatFs/src/ff.c **** {
 633:Middlewares/Third_Party/FatFs/src/ff.c **** 	return ff_req_grant(fs->sobj);
 634:Middlewares/Third_Party/FatFs/src/ff.c **** }
 635:Middlewares/Third_Party/FatFs/src/ff.c **** 
 636:Middlewares/Third_Party/FatFs/src/ff.c **** 
 637:Middlewares/Third_Party/FatFs/src/ff.c **** static
 638:Middlewares/Third_Party/FatFs/src/ff.c **** void unlock_fs (
 639:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,		/* File system object */
 640:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res		/* Result code to be returned */
 641:Middlewares/Third_Party/FatFs/src/ff.c **** )
 642:Middlewares/Third_Party/FatFs/src/ff.c **** {
 643:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs &&
 644:Middlewares/Third_Party/FatFs/src/ff.c **** 		res != FR_NOT_ENABLED &&
 645:Middlewares/Third_Party/FatFs/src/ff.c **** 		res != FR_INVALID_DRIVE &&
 646:Middlewares/Third_Party/FatFs/src/ff.c **** 		res != FR_INVALID_OBJECT &&
 647:Middlewares/Third_Party/FatFs/src/ff.c **** 		res != FR_TIMEOUT) {
 648:Middlewares/Third_Party/FatFs/src/ff.c **** 		ff_rel_grant(fs->sobj);
 649:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 650:Middlewares/Third_Party/FatFs/src/ff.c **** }
 651:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 652:Middlewares/Third_Party/FatFs/src/ff.c **** 
 653:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 14


 654:Middlewares/Third_Party/FatFs/src/ff.c **** 
 655:Middlewares/Third_Party/FatFs/src/ff.c **** 
 656:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 657:Middlewares/Third_Party/FatFs/src/ff.c **** /* File lock control functions                                           */
 658:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 659:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
 660:Middlewares/Third_Party/FatFs/src/ff.c **** 
 661:Middlewares/Third_Party/FatFs/src/ff.c **** static
 662:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT chk_lock (	/* Check if the file can be accessed */
 663:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,		/* Directory object pointing the file to be checked */
 664:Middlewares/Third_Party/FatFs/src/ff.c **** 	int acc			/* Desired access type (0:Read, 1:Write, 2:Delete/Rename) */
 665:Middlewares/Third_Party/FatFs/src/ff.c **** )
 666:Middlewares/Third_Party/FatFs/src/ff.c **** {
  94              		.loc 1 666 0
  95              		.cfi_startproc
  96              		@ args = 0, pretend = 0, frame = 0
  97              		@ frame_needed = 0, uses_anonymous_args = 0
  98              	.LVL9:
  99 0000 70B5     		push	{r4, r5, r6, lr}
 100              	.LCFI1:
 101              		.cfi_def_cfa_offset 16
 102              		.cfi_offset 4, -16
 103              		.cfi_offset 5, -12
 104              		.cfi_offset 6, -8
 105              		.cfi_offset 14, -4
 106 0002 194B     		ldr	r3, .L28
 667:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, be;
 668:Middlewares/Third_Party/FatFs/src/ff.c **** 
 669:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Search file semaphore table */
 670:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = be = 0; i < _FS_LOCK; i++) {
 107              		.loc 1 670 0
 108 0004 0024     		movs	r4, #0
 109 0006 2246     		mov	r2, r4
 110              	.LVL10:
 111              	.L14:
 671:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs) {	/* Existing entry */
 112              		.loc 1 671 0
 113 0008 53F8085C 		ldr	r5, [r3, #-8]
 114 000c 7DB1     		cbz	r5, .L18
 672:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (Files[i].fs == dp->fs &&	 	/* Check if the object matched with an open object */
 115              		.loc 1 672 0
 116 000e D0F80062 		ldr	r6, [r0, #512]
 117 0012 B542     		cmp	r5, r6
 118 0014 0CD1     		bne	.L11
 119              		.loc 1 672 0 is_stmt 0 discriminator 1
 120 0016 53F8046C 		ldr	r6, [r3, #-4]
 121 001a D0F80852 		ldr	r5, [r0, #520]
 122 001e AE42     		cmp	r6, r5
 123 0020 06D1     		bne	.L11
 673:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].clu == dp->sclust &&
 124              		.loc 1 673 0 is_stmt 1
 125 0022 1E88     		ldrh	r6, [r3]
 126 0024 B0F80652 		ldrh	r5, [r0, #518]
 127 0028 AE42     		cmp	r6, r5
 128 002a 01D1     		bne	.L11
 129 002c 06E0     		b	.L26
 130              	.L18:
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 15


 674:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].idx == dp->index) break;
 675:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {			/* Blank entry */
 676:Middlewares/Third_Party/FatFs/src/ff.c **** 			be = 1;
 131              		.loc 1 676 0
 132 002e 0124     		movs	r4, #1
 133              	.L11:
 670:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = be = 0; i < _FS_LOCK; i++) {
 134              		.loc 1 670 0
 135 0030 0132     		adds	r2, r2, #1
 136              	.LVL11:
 137 0032 022A     		cmp	r2, #2
 138 0034 03F10C03 		add	r3, r3, #12
 139 0038 0ED0     		beq	.L13
 140 003a E5E7     		b	.L14
 141              	.L26:
 677:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 678:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 679:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i == _FS_LOCK)	/* The object is not opened */
 680:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 681:Middlewares/Third_Party/FatFs/src/ff.c **** 
 682:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* The object has been opened. Reject any open against writing file and all write mode open */
 683:Middlewares/Third_Party/FatFs/src/ff.c **** 	return (acc || Files[i].ctr == 0x100) ? FR_LOCKED : FR_OK;
 142              		.loc 1 683 0
 143 003c 51B9     		cbnz	r1, .L21
 144              		.loc 1 683 0 is_stmt 0 discriminator 2
 145 003e 0B4B     		ldr	r3, .L28+4
 146 0040 0C21     		movs	r1, #12
 147              	.LVL12:
 148 0042 01FB0232 		mla	r2, r1, r2, r3
 149              	.LVL13:
 150 0046 5389     		ldrh	r3, [r2, #10]
 151 0048 B3F5807F 		cmp	r3, #256
 152 004c 14BF     		ite	ne
 153 004e 0020     		movne	r0, #0
 154 0050 1020     		moveq	r0, #16
 155              	.LVL14:
 156 0052 70BD     		pop	{r4, r5, r6, pc}
 157              	.LVL15:
 158              	.L21:
 159              		.loc 1 683 0
 160 0054 1020     		movs	r0, #16
 161              	.LVL16:
 162 0056 70BD     		pop	{r4, r5, r6, pc}
 163              	.LVL17:
 164              	.L13:
 680:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 165              		.loc 1 680 0 is_stmt 1
 166 0058 24B9     		cbnz	r4, .L27
 680:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 167              		.loc 1 680 0 is_stmt 0 discriminator 2
 168 005a 0229     		cmp	r1, #2
 169 005c 14BF     		ite	ne
 170 005e 1220     		movne	r0, #18
 171 0060 0020     		moveq	r0, #0
 172              	.LVL18:
 173 0062 70BD     		pop	{r4, r5, r6, pc}
 174              	.LVL19:
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 16


 175              	.L27:
 680:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 176              		.loc 1 680 0
 177 0064 0020     		movs	r0, #0
 178              	.LVL20:
 179 0066 70BD     		pop	{r4, r5, r6, pc}
 180              	.L29:
 181              		.align	2
 182              	.L28:
 183 0068 08000000 		.word	.LANCHOR0+8
 184 006c 00000000 		.word	.LANCHOR0
 185              		.cfi_endproc
 186              	.LFE129:
 188              		.section	.text.inc_lock,"ax",%progbits
 189              		.align	1
 190              		.thumb
 191              		.thumb_func
 193              	inc_lock:
 194              	.LFB131:
 684:Middlewares/Third_Party/FatFs/src/ff.c **** }
 685:Middlewares/Third_Party/FatFs/src/ff.c **** 
 686:Middlewares/Third_Party/FatFs/src/ff.c **** 
 687:Middlewares/Third_Party/FatFs/src/ff.c **** static
 688:Middlewares/Third_Party/FatFs/src/ff.c **** int enq_lock (void)	/* Check if an entry is available for a new object */
 689:Middlewares/Third_Party/FatFs/src/ff.c **** {
 690:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 691:Middlewares/Third_Party/FatFs/src/ff.c **** 
 692:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = 0; i < _FS_LOCK && Files[i].fs; i++) ;
 693:Middlewares/Third_Party/FatFs/src/ff.c **** 	return (i == _FS_LOCK) ? 0 : 1;
 694:Middlewares/Third_Party/FatFs/src/ff.c **** }
 695:Middlewares/Third_Party/FatFs/src/ff.c **** 
 696:Middlewares/Third_Party/FatFs/src/ff.c **** 
 697:Middlewares/Third_Party/FatFs/src/ff.c **** static
 698:Middlewares/Third_Party/FatFs/src/ff.c **** UINT inc_lock (	/* Increment object open counter and returns its index (0:Internal error) */
 699:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,	/* Directory object pointing the file to register or increment */
 700:Middlewares/Third_Party/FatFs/src/ff.c **** 	int acc		/* Desired access (0:Read, 1:Write, 2:Delete/Rename) */
 701:Middlewares/Third_Party/FatFs/src/ff.c **** )
 702:Middlewares/Third_Party/FatFs/src/ff.c **** {
 195              		.loc 1 702 0 is_stmt 1
 196              		.cfi_startproc
 197              		@ args = 0, pretend = 0, frame = 0
 198              		@ frame_needed = 0, uses_anonymous_args = 0
 199              	.LVL21:
 200 0000 70B5     		push	{r4, r5, r6, lr}
 201              	.LCFI2:
 202              		.cfi_def_cfa_offset 16
 203              		.cfi_offset 4, -16
 204              		.cfi_offset 5, -12
 205              		.cfi_offset 6, -8
 206              		.cfi_offset 14, -4
 207 0002 214A     		ldr	r2, .L44
 703:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 704:Middlewares/Third_Party/FatFs/src/ff.c **** 
 705:Middlewares/Third_Party/FatFs/src/ff.c **** 
 706:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = 0; i < _FS_LOCK; i++) {	/* Find the object */
 707:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == dp->fs &&
 208              		.loc 1 707 0
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 17


 209 0004 D0F80062 		ldr	r6, [r0, #512]
 706:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = 0; i < _FS_LOCK; i++) {	/* Find the object */
 210              		.loc 1 706 0
 211 0008 0023     		movs	r3, #0
 212              	.LVL22:
 213              	.L34:
 214              		.loc 1 707 0
 215 000a 52F8084C 		ldr	r4, [r2, #-8]
 216 000e B442     		cmp	r4, r6
 217 0010 0AD1     		bne	.L31
 218              		.loc 1 707 0 is_stmt 0 discriminator 1
 219 0012 52F8045C 		ldr	r5, [r2, #-4]
 220 0016 D0F80842 		ldr	r4, [r0, #520]
 221 001a A542     		cmp	r5, r4
 222 001c 04D1     		bne	.L31
 708:Middlewares/Third_Party/FatFs/src/ff.c **** 			Files[i].clu == dp->sclust &&
 223              		.loc 1 708 0 is_stmt 1
 224 001e 1588     		ldrh	r5, [r2]
 225 0020 B0F80642 		ldrh	r4, [r0, #518]
 226 0024 A542     		cmp	r5, r4
 227 0026 15D0     		beq	.L32
 228              	.L31:
 706:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = 0; i < _FS_LOCK; i++) {	/* Find the object */
 229              		.loc 1 706 0
 230 0028 0133     		adds	r3, r3, #1
 231              	.LVL23:
 232 002a 022B     		cmp	r3, #2
 233 002c 02F10C02 		add	r2, r2, #12
 234 0030 EBD1     		bne	.L34
 235              	.LVL24:
 709:Middlewares/Third_Party/FatFs/src/ff.c **** 			Files[i].idx == dp->index) break;
 710:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 711:Middlewares/Third_Party/FatFs/src/ff.c **** 
 712:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i == _FS_LOCK) {				/* Not opened. Register it as new. */
 713:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < _FS_LOCK && Files[i].fs; i++) ;
 236              		.loc 1 713 0
 237 0032 164C     		ldr	r4, .L44+4
 238 0034 2368     		ldr	r3, [r4]
 239 0036 13BB     		cbnz	r3, .L40
 240              	.LVL25:
 241              	.L35:
 714:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == _FS_LOCK) return 0;	/* No free entry to register (int err) */
 715:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].fs = dp->fs;
 242              		.loc 1 715 0
 243 0038 0C25     		movs	r5, #12
 244 003a 5D43     		muls	r5, r3, r5
 245 003c 6219     		adds	r2, r4, r5
 246 003e 6651     		str	r6, [r4, r5]
 716:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].clu = dp->sclust;
 247              		.loc 1 716 0
 248 0040 D0F80842 		ldr	r4, [r0, #520]
 249 0044 5460     		str	r4, [r2, #4]
 717:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].idx = dp->index;
 250              		.loc 1 717 0
 251 0046 B0F80602 		ldrh	r0, [r0, #518]
 252              	.LVL26:
 253 004a 1081     		strh	r0, [r2, #8]	@ movhi
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 18


 254 004c 02F10804 		add	r4, r2, #8
 718:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ctr = 0;
 255              		.loc 1 718 0
 256 0050 0022     		movs	r2, #0
 257 0052 6280     		strh	r2, [r4, #2]	@ movhi
 258              	.L32:
 259              	.LVL27:
 260 0054 0D4A     		ldr	r2, .L44+4
 261 0056 0C20     		movs	r0, #12
 719:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 720:Middlewares/Third_Party/FatFs/src/ff.c **** 
 721:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (acc && Files[i].ctr) return 0;	/* Access violation (int err) */
 262              		.loc 1 721 0
 263 0058 00FB0320 		mla	r0, r0, r3, r2
 264 005c 31B1     		cbz	r1, .L37
 265              		.loc 1 721 0 is_stmt 0 discriminator 1
 266 005e 4189     		ldrh	r1, [r0, #10]
 267              	.LVL28:
 268 0060 09B1     		cbz	r1, .L43
 269              	.LVL29:
 270              	.L38:
 714:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == _FS_LOCK) return 0;	/* No free entry to register (int err) */
 271              		.loc 1 714 0 is_stmt 1
 272 0062 0020     		movs	r0, #0
 273 0064 70BD     		pop	{r4, r5, r6, pc}
 274              	.LVL30:
 275              	.L43:
 722:Middlewares/Third_Party/FatFs/src/ff.c **** 
 723:Middlewares/Third_Party/FatFs/src/ff.c **** 	Files[i].ctr = acc ? 0x100 : Files[i].ctr + 1;	/* Set semaphore value */
 276              		.loc 1 723 0
 277 0066 4FF48071 		mov	r1, #256
 278 006a 02E0     		b	.L39
 279              	.LVL31:
 280              	.L37:
 281              		.loc 1 723 0 is_stmt 0 discriminator 1
 282 006c 4189     		ldrh	r1, [r0, #10]
 283              	.LVL32:
 284 006e 0131     		adds	r1, r1, #1
 285 0070 89B2     		uxth	r1, r1
 286              	.L39:
 287              		.loc 1 723 0 discriminator 3
 288 0072 0C20     		movs	r0, #12
 289 0074 00FB0322 		mla	r2, r0, r3, r2
 724:Middlewares/Third_Party/FatFs/src/ff.c **** 
 725:Middlewares/Third_Party/FatFs/src/ff.c **** 	return i + 1;
 290              		.loc 1 725 0 is_stmt 1 discriminator 3
 291 0078 581C     		adds	r0, r3, #1
 723:Middlewares/Third_Party/FatFs/src/ff.c **** 	Files[i].ctr = acc ? 0x100 : Files[i].ctr + 1;	/* Set semaphore value */
 292              		.loc 1 723 0 discriminator 3
 293 007a 5181     		strh	r1, [r2, #10]	@ movhi
 294              		.loc 1 725 0 discriminator 3
 295 007c 70BD     		pop	{r4, r5, r6, pc}
 296              	.LVL33:
 297              	.L40:
 713:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < _FS_LOCK && Files[i].fs; i++) ;
 298              		.loc 1 713 0
 299 007e E368     		ldr	r3, [r4, #12]
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 19


 300 0080 002B     		cmp	r3, #0
 301 0082 EED1     		bne	.L38
 302 0084 0123     		movs	r3, #1
 303 0086 D7E7     		b	.L35
 304              	.L45:
 305              		.align	2
 306              	.L44:
 307 0088 08000000 		.word	.LANCHOR0+8
 308 008c 00000000 		.word	.LANCHOR0
 309              		.cfi_endproc
 310              	.LFE131:
 312              		.section	.text.dec_lock,"ax",%progbits
 313              		.align	1
 314              		.thumb
 315              		.thumb_func
 317              	dec_lock:
 318              	.LFB132:
 726:Middlewares/Third_Party/FatFs/src/ff.c **** }
 727:Middlewares/Third_Party/FatFs/src/ff.c **** 
 728:Middlewares/Third_Party/FatFs/src/ff.c **** 
 729:Middlewares/Third_Party/FatFs/src/ff.c **** static
 730:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dec_lock (	/* Decrement object open counter */
 731:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i			/* Semaphore index (1..) */
 732:Middlewares/Third_Party/FatFs/src/ff.c **** )
 733:Middlewares/Third_Party/FatFs/src/ff.c **** {
 319              		.loc 1 733 0
 320              		.cfi_startproc
 321              		@ args = 0, pretend = 0, frame = 0
 322              		@ frame_needed = 0, uses_anonymous_args = 0
 323              	.LVL34:
 734:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD n;
 735:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 736:Middlewares/Third_Party/FatFs/src/ff.c **** 
 737:Middlewares/Third_Party/FatFs/src/ff.c **** 
 738:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (--i < _FS_LOCK) {	/* Shift index number origin from 0 */
 324              		.loc 1 738 0
 325 0000 0138     		subs	r0, r0, #1
 326              	.LVL35:
 327 0002 0128     		cmp	r0, #1
 733:Middlewares/Third_Party/FatFs/src/ff.c **** {
 328              		.loc 1 733 0
 329 0004 10B5     		push	{r4, lr}
 330              	.LCFI3:
 331              		.cfi_def_cfa_offset 8
 332              		.cfi_offset 4, -8
 333              		.cfi_offset 14, -4
 334              		.loc 1 738 0
 335 0006 11D8     		bhi	.L49
 739:Middlewares/Third_Party/FatFs/src/ff.c **** 		n = Files[i].ctr;
 336              		.loc 1 739 0
 337 0008 0A4C     		ldr	r4, .L52
 338 000a 0C21     		movs	r1, #12
 339 000c 01FB0043 		mla	r3, r1, r0, r4
 340 0010 5A89     		ldrh	r2, [r3, #10]
 341              	.LVL36:
 740:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (n == 0x100) n = 0;		/* If write mode open, delete the entry */
 741:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (n) n--;					/* Decrement read mode open count */
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 20


 342              		.loc 1 741 0
 343 0012 22F48073 		bic	r3, r2, #256
 344              	.LVL37:
 345 0016 9BB2     		uxth	r3, r3
 346 0018 0BB1     		cbz	r3, .L48
 347              		.loc 1 741 0 is_stmt 0 discriminator 1
 348 001a 531E     		subs	r3, r2, #1
 349 001c 9BB2     		uxth	r3, r3
 350              	.LVL38:
 351              	.L48:
 742:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ctr = n;
 352              		.loc 1 742 0 is_stmt 1
 353 001e 4843     		muls	r0, r1, r0
 354              	.LVL39:
 355 0020 0444     		add	r4, r4, r0
 356 0022 6381     		strh	r3, [r4, #10]	@ movhi
 743:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!n) Files[i].fs = 0;	/* Delete the entry if open count gets zero */
 357              		.loc 1 743 0
 358 0024 23B9     		cbnz	r3, .L51
 359              	.LVL40:
 360              		.loc 1 743 0 is_stmt 0 discriminator 1
 361 0026 034A     		ldr	r2, .L52
 362 0028 1350     		str	r3, [r2, r0]
 363 002a 01E0     		b	.L51
 364              	.LVL41:
 365              	.L49:
 744:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_OK;
 745:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 746:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_INT_ERR;			/* Invalid index nunber */
 366              		.loc 1 746 0 is_stmt 1
 367 002c 0220     		movs	r0, #2
 368              	.LVL42:
 369 002e 10BD     		pop	{r4, pc}
 370              	.L51:
 744:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_OK;
 371              		.loc 1 744 0
 372 0030 0020     		movs	r0, #0
 373              	.LVL43:
 747:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 748:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 749:Middlewares/Third_Party/FatFs/src/ff.c **** }
 374              		.loc 1 749 0
 375 0032 10BD     		pop	{r4, pc}
 376              	.L53:
 377              		.align	2
 378              	.L52:
 379 0034 00000000 		.word	.LANCHOR0
 380              		.cfi_endproc
 381              	.LFE132:
 383              		.section	.text.clmt_clust,"ax",%progbits
 384              		.align	1
 385              		.thumb
 386              		.thumb_func
 388              	clmt_clust:
 389              	.LFB142:
 750:Middlewares/Third_Party/FatFs/src/ff.c **** 
 751:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 21


 752:Middlewares/Third_Party/FatFs/src/ff.c **** static
 753:Middlewares/Third_Party/FatFs/src/ff.c **** void clear_lock (	/* Clear lock entries of the volume */
 754:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs
 755:Middlewares/Third_Party/FatFs/src/ff.c **** )
 756:Middlewares/Third_Party/FatFs/src/ff.c **** {
 757:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 758:Middlewares/Third_Party/FatFs/src/ff.c **** 
 759:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = 0; i < _FS_LOCK; i++) {
 760:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 761:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 762:Middlewares/Third_Party/FatFs/src/ff.c **** }
 763:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 764:Middlewares/Third_Party/FatFs/src/ff.c **** 
 765:Middlewares/Third_Party/FatFs/src/ff.c **** 
 766:Middlewares/Third_Party/FatFs/src/ff.c **** 
 767:Middlewares/Third_Party/FatFs/src/ff.c **** 
 768:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 769:Middlewares/Third_Party/FatFs/src/ff.c **** /* Move/Flush disk access window in the file system object               */
 770:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 771:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 772:Middlewares/Third_Party/FatFs/src/ff.c **** static
 773:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT sync_window (
 774:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs		/* File system object */
 775:Middlewares/Third_Party/FatFs/src/ff.c **** )
 776:Middlewares/Third_Party/FatFs/src/ff.c **** {
 777:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD wsect;
 778:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nf;
 779:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_OK;
 780:Middlewares/Third_Party/FatFs/src/ff.c **** 
 781:Middlewares/Third_Party/FatFs/src/ff.c **** 
 782:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->wflag) {	/* Write back the sector if it is dirty */
 783:Middlewares/Third_Party/FatFs/src/ff.c **** 		wsect = fs->winsect;	/* Current sector number */
 784:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(fs->drv, fs->win.d8, wsect, 1) != RES_OK) {
 785:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_DISK_ERR;
 786:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 787:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 0;
 788:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (wsect - fs->fatbase < fs->fsize) {		/* Is it in the FAT area? */
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (nf = fs->n_fats; nf >= 2; nf--) {	/* Reflect the change to all FAT copies */
 790:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 791:Middlewares/Third_Party/FatFs/src/ff.c **** 					disk_write(fs->drv, fs->win.d8, wsect, 1);
 792:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 793:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 794:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 795:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 796:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 797:Middlewares/Third_Party/FatFs/src/ff.c **** }
 798:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 799:Middlewares/Third_Party/FatFs/src/ff.c **** 
 800:Middlewares/Third_Party/FatFs/src/ff.c **** 
 801:Middlewares/Third_Party/FatFs/src/ff.c **** static
 802:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT move_window (
 803:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,		/* File system object */
 804:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sector	/* Sector number to make appearance in the fs->win[].d8 */
 805:Middlewares/Third_Party/FatFs/src/ff.c **** )
 806:Middlewares/Third_Party/FatFs/src/ff.c **** {
 807:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_OK;
 808:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 22


 809:Middlewares/Third_Party/FatFs/src/ff.c **** 
 810:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sector != fs->winsect) {	/* Window offset changed? */
 811:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 812:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = sync_window(fs);		/* Write-back changes */
 813:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 814:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {			/* Fill sector window with new data */
 815:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_read(fs->drv, fs->win.d8, sector, 1) != RES_OK) {
 816:Middlewares/Third_Party/FatFs/src/ff.c **** 				sector = 0xFFFFFFFF;	/* Invalidate window if data is not reliable */
 817:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_DISK_ERR;
 818:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 819:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->winsect = sector;
 820:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 821:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 822:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 823:Middlewares/Third_Party/FatFs/src/ff.c **** }
 824:Middlewares/Third_Party/FatFs/src/ff.c **** 
 825:Middlewares/Third_Party/FatFs/src/ff.c **** 
 826:Middlewares/Third_Party/FatFs/src/ff.c **** 
 827:Middlewares/Third_Party/FatFs/src/ff.c **** 
 828:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 829:Middlewares/Third_Party/FatFs/src/ff.c **** /* Synchronize file system and strage device                             */
 830:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 831:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 832:Middlewares/Third_Party/FatFs/src/ff.c **** static
 833:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT sync_fs (	/* FR_OK: successful, FR_DISK_ERR: failed */
 834:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs		/* File system object */
 835:Middlewares/Third_Party/FatFs/src/ff.c **** )
 836:Middlewares/Third_Party/FatFs/src/ff.c **** {
 837:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 838:Middlewares/Third_Party/FatFs/src/ff.c **** 
 839:Middlewares/Third_Party/FatFs/src/ff.c **** 
 840:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = sync_window(fs);
 841:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 842:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Update FSINFO sector if needed */
 843:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->fs_type == FS_FAT32 && fs->fsi_flag == 1) {
 844:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Create FSINFO structure */
 845:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(fs->win.d8, 0, SS(fs));
 846:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_WORD(fs->win.d8 + BS_55AA, 0xAA55);
 847:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_LeadSig, 0x41615252);
 848:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_StrucSig, 0x61417272);
 849:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_Free_Count, fs->free_clust);
 850:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_Nxt_Free, fs->last_clust);
 851:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Write it into the FSINFO sector */
 852:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->winsect = fs->volbase + 1;
 853:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(fs->drv, fs->win.d8, fs->winsect, 1);
 854:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag = 0;
 855:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 856:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Make sure that no pending write process in the physical drive */
 857:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_ioctl(fs->drv, CTRL_SYNC, 0) != RES_OK)
 858:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_DISK_ERR;
 859:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 860:Middlewares/Third_Party/FatFs/src/ff.c **** 
 861:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 862:Middlewares/Third_Party/FatFs/src/ff.c **** }
 863:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 864:Middlewares/Third_Party/FatFs/src/ff.c **** 
 865:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 23


 866:Middlewares/Third_Party/FatFs/src/ff.c **** 
 867:Middlewares/Third_Party/FatFs/src/ff.c **** 
 868:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 869:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get sector# from cluster#                                             */
 870:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 871:Middlewares/Third_Party/FatFs/src/ff.c **** /* Hidden API for hacks and disk tools */
 872:Middlewares/Third_Party/FatFs/src/ff.c **** 
 873:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD clust2sect (	/* !=0: Sector number, 0: Failed - invalid cluster# */
 874:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,		/* File system object */
 875:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst		/* Cluster# to be converted */
 876:Middlewares/Third_Party/FatFs/src/ff.c **** )
 877:Middlewares/Third_Party/FatFs/src/ff.c **** {
 878:Middlewares/Third_Party/FatFs/src/ff.c **** 	clst -= 2;
 879:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst >= fs->n_fatent - 2) return 0;		/* Invalid cluster# */
 880:Middlewares/Third_Party/FatFs/src/ff.c **** 	return clst * fs->csize + fs->database;
 881:Middlewares/Third_Party/FatFs/src/ff.c **** }
 882:Middlewares/Third_Party/FatFs/src/ff.c **** 
 883:Middlewares/Third_Party/FatFs/src/ff.c **** 
 884:Middlewares/Third_Party/FatFs/src/ff.c **** 
 885:Middlewares/Third_Party/FatFs/src/ff.c **** 
 886:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 887:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT access - Read value of a FAT entry                                */
 888:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 889:Middlewares/Third_Party/FatFs/src/ff.c **** /* Hidden API for hacks and disk tools */
 890:Middlewares/Third_Party/FatFs/src/ff.c **** 
 891:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD get_fat (	/* 0xFFFFFFFF:Disk error, 1:Internal error, 2..0x0FFFFFFF:Cluster status */
 892:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,	/* File system object */
 893:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst	/* FAT index number (cluster number) to get the value */
 894:Middlewares/Third_Party/FatFs/src/ff.c **** )
 895:Middlewares/Third_Party/FatFs/src/ff.c **** {
 896:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT wc, bc;
 897:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *p;
 898:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD val;
 899:Middlewares/Third_Party/FatFs/src/ff.c **** 
 900:Middlewares/Third_Party/FatFs/src/ff.c **** 
 901:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst < 2 || clst >= fs->n_fatent) {	/* Check range */
 902:Middlewares/Third_Party/FatFs/src/ff.c **** 		val = 1;	/* Internal error */
 903:Middlewares/Third_Party/FatFs/src/ff.c **** 
 904:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 905:Middlewares/Third_Party/FatFs/src/ff.c **** 		val = 0xFFFFFFFF;	/* Default value falls on disk error */
 906:Middlewares/Third_Party/FatFs/src/ff.c **** 
 907:Middlewares/Third_Party/FatFs/src/ff.c **** 		switch (fs->fs_type) {
 908:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :
 909:Middlewares/Third_Party/FatFs/src/ff.c **** 			bc = (UINT)clst; bc += bc / 2;
 910:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 911:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = fs->win.d8[bc++ % SS(fs)];
 912:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 913:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc |= fs->win.d8[bc % SS(fs)] << 8;
 914:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = clst & 1 ? wc >> 4 : (wc & 0xFFF);
 915:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 916:Middlewares/Third_Party/FatFs/src/ff.c **** 
 917:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT16 :
 918:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (clst / (SS(fs) / 2))) != FR_OK) break;
 919:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 2 % SS(fs)];
 920:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = LD_WORD(p);
 921:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 922:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 24


 923:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT32 :
 924:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (clst / (SS(fs) / 4))) != FR_OK) break;
 925:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 4 % SS(fs)];
 926:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = LD_DWORD(p) & 0x0FFFFFFF;
 927:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 928:Middlewares/Third_Party/FatFs/src/ff.c **** 
 929:Middlewares/Third_Party/FatFs/src/ff.c **** 		default:
 930:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = 1;	/* Internal error */
 931:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 932:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 933:Middlewares/Third_Party/FatFs/src/ff.c **** 
 934:Middlewares/Third_Party/FatFs/src/ff.c **** 	return val;
 935:Middlewares/Third_Party/FatFs/src/ff.c **** }
 936:Middlewares/Third_Party/FatFs/src/ff.c **** 
 937:Middlewares/Third_Party/FatFs/src/ff.c **** 
 938:Middlewares/Third_Party/FatFs/src/ff.c **** 
 939:Middlewares/Third_Party/FatFs/src/ff.c **** 
 940:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 941:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT access - Change value of a FAT entry                              */
 942:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 943:Middlewares/Third_Party/FatFs/src/ff.c **** /* Hidden API for hacks and disk tools */
 944:Middlewares/Third_Party/FatFs/src/ff.c **** 
 945:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 946:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT put_fat (
 947:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,	/* File system object */
 948:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst,	/* FAT index number (cluster number) to be changed */
 949:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD val	/* New value to be set to the entry */
 950:Middlewares/Third_Party/FatFs/src/ff.c **** )
 951:Middlewares/Third_Party/FatFs/src/ff.c **** {
 952:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT bc;
 953:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *p;
 954:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 955:Middlewares/Third_Party/FatFs/src/ff.c **** 
 956:Middlewares/Third_Party/FatFs/src/ff.c **** 
 957:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst < 2 || clst >= fs->n_fatent) {	/* Check range */
 958:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_INT_ERR;
 959:Middlewares/Third_Party/FatFs/src/ff.c **** 
 960:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 961:Middlewares/Third_Party/FatFs/src/ff.c **** 		switch (fs->fs_type) {
 962:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :
 963:Middlewares/Third_Party/FatFs/src/ff.c **** 			bc = (UINT)clst; bc += bc / 2;
 964:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
 965:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 966:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[bc++ % SS(fs)];
 967:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? ((*p & 0x0F) | ((BYTE)val << 4)) : (BYTE)val;
 968:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 969:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
 970:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 971:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[bc % SS(fs)];
 972:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? (BYTE)(val >> 4) : ((*p & 0xF0) | ((BYTE)(val >> 8) & 0x0F));
 973:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 974:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 975:Middlewares/Third_Party/FatFs/src/ff.c **** 
 976:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT16 :
 977:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (clst / (SS(fs) / 2)));
 978:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 979:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 2 % SS(fs)];
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 25


 980:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_WORD(p, (WORD)val);
 981:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 982:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 983:Middlewares/Third_Party/FatFs/src/ff.c **** 
 984:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT32 :
 985:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (clst / (SS(fs) / 4)));
 986:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 987:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 4 % SS(fs)];
 988:Middlewares/Third_Party/FatFs/src/ff.c **** 			val |= LD_DWORD(p) & 0xF0000000;
 989:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(p, val);
 990:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 991:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 992:Middlewares/Third_Party/FatFs/src/ff.c **** 
 993:Middlewares/Third_Party/FatFs/src/ff.c **** 		default :
 994:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INT_ERR;
 995:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 996:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 997:Middlewares/Third_Party/FatFs/src/ff.c **** 
 998:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 999:Middlewares/Third_Party/FatFs/src/ff.c **** }
1000:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
1001:Middlewares/Third_Party/FatFs/src/ff.c **** 
1002:Middlewares/Third_Party/FatFs/src/ff.c **** 
1003:Middlewares/Third_Party/FatFs/src/ff.c **** 
1004:Middlewares/Third_Party/FatFs/src/ff.c **** 
1005:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1006:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT handling - Remove a cluster chain                                 */
1007:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1008:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1009:Middlewares/Third_Party/FatFs/src/ff.c **** static
1010:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT remove_chain (
1011:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,			/* File system object */
1012:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst			/* Cluster# to remove a chain from */
1013:Middlewares/Third_Party/FatFs/src/ff.c **** )
1014:Middlewares/Third_Party/FatFs/src/ff.c **** {
1015:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
1016:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD nxt;
1017:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_TRIM
1018:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD scl = clst, ecl = clst, rt[2];
1019:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1020:Middlewares/Third_Party/FatFs/src/ff.c **** 
1021:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst < 2 || clst >= fs->n_fatent) {	/* Check range */
1022:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_INT_ERR;
1023:Middlewares/Third_Party/FatFs/src/ff.c **** 
1024:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
1025:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_OK;
1026:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (clst < fs->n_fatent) {			/* Not a last link? */
1027:Middlewares/Third_Party/FatFs/src/ff.c **** 			nxt = get_fat(fs, clst);			/* Get cluster status */
1028:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (nxt == 0) break;				/* Empty cluster? */
1029:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (nxt == 1) { res = FR_INT_ERR; break; }	/* Internal error? */
1030:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (nxt == 0xFFFFFFFF) { res = FR_DISK_ERR; break; }	/* Disk error? */
1031:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = put_fat(fs, clst, 0);			/* Mark the cluster "empty" */
1032:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
1033:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->free_clust != 0xFFFFFFFF) {	/* Update FSINFO */
1034:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->free_clust++;
1035:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->fsi_flag |= 1;
1036:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 26


1037:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_TRIM
1038:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ecl + 1 == nxt) {	/* Is next cluster contiguous? */
1039:Middlewares/Third_Party/FatFs/src/ff.c **** 				ecl = nxt;
1040:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {				/* End of contiguous clusters */ 
1041:Middlewares/Third_Party/FatFs/src/ff.c **** 				rt[0] = clust2sect(fs, scl);					/* Start sector */
1042:Middlewares/Third_Party/FatFs/src/ff.c **** 				rt[1] = clust2sect(fs, ecl) + fs->csize - 1;	/* End sector */
1043:Middlewares/Third_Party/FatFs/src/ff.c **** 				disk_ioctl(fs->drv, CTRL_TRIM, rt);				/* Erase the block */
1044:Middlewares/Third_Party/FatFs/src/ff.c **** 				scl = ecl = nxt;
1045:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1046:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1047:Middlewares/Third_Party/FatFs/src/ff.c **** 			clst = nxt;	/* Next cluster */
1048:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1049:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1050:Middlewares/Third_Party/FatFs/src/ff.c **** 
1051:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
1052:Middlewares/Third_Party/FatFs/src/ff.c **** }
1053:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1054:Middlewares/Third_Party/FatFs/src/ff.c **** 
1055:Middlewares/Third_Party/FatFs/src/ff.c **** 
1056:Middlewares/Third_Party/FatFs/src/ff.c **** 
1057:Middlewares/Third_Party/FatFs/src/ff.c **** 
1058:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1059:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT handling - Stretch or Create a cluster chain                      */
1060:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1061:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1062:Middlewares/Third_Party/FatFs/src/ff.c **** static
1063:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD create_chain (	/* 0:No free cluster, 1:Internal error, 0xFFFFFFFF:Disk error, >=2:New cluster
1064:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,			/* File system object */
1065:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst			/* Cluster# to stretch. 0 means create a new chain. */
1066:Middlewares/Third_Party/FatFs/src/ff.c **** )
1067:Middlewares/Third_Party/FatFs/src/ff.c **** {
1068:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cs, ncl, scl;
1069:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
1070:Middlewares/Third_Party/FatFs/src/ff.c **** 
1071:Middlewares/Third_Party/FatFs/src/ff.c **** 
1072:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst == 0) {		/* Create a new chain */
1073:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = fs->last_clust;			/* Get suggested start point */
1074:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!scl || scl >= fs->n_fatent) scl = 1;
1075:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1076:Middlewares/Third_Party/FatFs/src/ff.c **** 	else {					/* Stretch the current chain */
1077:Middlewares/Third_Party/FatFs/src/ff.c **** 		cs = get_fat(fs, clst);			/* Check the cluster status */
1078:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs < 2) return 1;			/* Invalid value */
1079:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs == 0xFFFFFFFF) return cs;	/* A disk error occurred */
1080:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs < fs->n_fatent) return cs;	/* It is already followed by next cluster */
1081:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = clst;
1082:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1083:Middlewares/Third_Party/FatFs/src/ff.c **** 
1084:Middlewares/Third_Party/FatFs/src/ff.c **** 	ncl = scl;				/* Start cluster */
1085:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
1086:Middlewares/Third_Party/FatFs/src/ff.c **** 		ncl++;							/* Next cluster */
1087:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ncl >= fs->n_fatent) {		/* Check wrap around */
1088:Middlewares/Third_Party/FatFs/src/ff.c **** 			ncl = 2;
1089:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl > scl) return 0;	/* No free cluster */
1090:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1091:Middlewares/Third_Party/FatFs/src/ff.c **** 		cs = get_fat(fs, ncl);			/* Get the cluster status */
1092:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs == 0) break;				/* Found a free cluster */
1093:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs == 0xFFFFFFFF || cs == 1)/* An error occurred */
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 27


1094:Middlewares/Third_Party/FatFs/src/ff.c **** 			return cs;
1095:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ncl == scl) return 0;		/* No free cluster */
1096:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1097:Middlewares/Third_Party/FatFs/src/ff.c **** 
1098:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = put_fat(fs, ncl, 0x0FFFFFFF);	/* Mark the new cluster "last link" */
1099:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK && clst != 0) {
1100:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = put_fat(fs, clst, ncl);	/* Link it to the previous one if needed */
1101:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1102:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
1103:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->last_clust = ncl;			/* Update FSINFO */
1104:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->free_clust != 0xFFFFFFFF) {
1105:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clust--;
1106:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag |= 1;
1107:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1108:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
1109:Middlewares/Third_Party/FatFs/src/ff.c **** 		ncl = (res == FR_DISK_ERR) ? 0xFFFFFFFF : 1;
1110:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1111:Middlewares/Third_Party/FatFs/src/ff.c **** 
1112:Middlewares/Third_Party/FatFs/src/ff.c **** 	return ncl;		/* Return new cluster number or error code */
1113:Middlewares/Third_Party/FatFs/src/ff.c **** }
1114:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
1115:Middlewares/Third_Party/FatFs/src/ff.c **** 
1116:Middlewares/Third_Party/FatFs/src/ff.c **** 
1117:Middlewares/Third_Party/FatFs/src/ff.c **** 
1118:Middlewares/Third_Party/FatFs/src/ff.c **** 
1119:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1120:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT handling - Convert offset into cluster with link map table        */
1121:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1122:Middlewares/Third_Party/FatFs/src/ff.c **** 
1123:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
1124:Middlewares/Third_Party/FatFs/src/ff.c **** static
1125:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD clmt_clust (	/* <2:Error, >=2:Cluster number */
1126:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp,		/* Pointer to the file object */
1127:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ofs		/* File offset to be converted to cluster# */
1128:Middlewares/Third_Party/FatFs/src/ff.c **** )
1129:Middlewares/Third_Party/FatFs/src/ff.c **** {
 390              		.loc 1 1129 0
 391              		.cfi_startproc
 392              		@ args = 0, pretend = 0, frame = 0
 393              		@ frame_needed = 0, uses_anonymous_args = 0
 394              		@ link register save eliminated.
 395              	.LVL44:
1130:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cl, ncl, *tbl;
1131:Middlewares/Third_Party/FatFs/src/ff.c **** 
1132:Middlewares/Third_Party/FatFs/src/ff.c **** 
1133:Middlewares/Third_Party/FatFs/src/ff.c **** 	tbl = fp->cltbl + 1;	/* Top of CLMT */
1134:Middlewares/Third_Party/FatFs/src/ff.c **** 	cl = ofs / SS(fp->fs) / fp->fs->csize;	/* Cluster order from top of the file */
 396              		.loc 1 1134 0
 397 0000 D0F80022 		ldr	r2, [r0, #512]
1133:Middlewares/Third_Party/FatFs/src/ff.c **** 	tbl = fp->cltbl + 1;	/* Top of CLMT */
 398              		.loc 1 1133 0
 399 0004 D0F82432 		ldr	r3, [r0, #548]
 400              		.loc 1 1134 0
 401 0008 92F80222 		ldrb	r2, [r2, #514]	@ zero_extendqisi2
 402 000c 490A     		lsrs	r1, r1, #9
 403              	.LVL45:
1133:Middlewares/Third_Party/FatFs/src/ff.c **** 	tbl = fp->cltbl + 1;	/* Top of CLMT */
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 28


 404              		.loc 1 1133 0
 405 000e 0433     		adds	r3, r3, #4
 406              	.LVL46:
 407              		.loc 1 1134 0
 408 0010 B1FBF2F1 		udiv	r1, r1, r2
 409              	.LVL47:
 410              	.L57:
1135:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
1136:Middlewares/Third_Party/FatFs/src/ff.c **** 		ncl = *tbl++;			/* Number of cluters in the fragment */
 411              		.loc 1 1136 0
 412 0014 1868     		ldr	r0, [r3]
 413              	.LVL48:
1137:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!ncl) return 0;		/* End of table? (error) */
 414              		.loc 1 1137 0
 415 0016 30B1     		cbz	r0, .L55
1138:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cl < ncl) break;	/* In this fragment? */
 416              		.loc 1 1138 0
 417 0018 8142     		cmp	r1, r0
 418 001a 02D3     		bcc	.L56
1139:Middlewares/Third_Party/FatFs/src/ff.c **** 		cl -= ncl; tbl++;		/* Next fragment */
 419              		.loc 1 1139 0
 420 001c 091A     		subs	r1, r1, r0
 421              	.LVL49:
 422 001e 0833     		adds	r3, r3, #8
 423              	.LVL50:
1140:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 424              		.loc 1 1140 0
 425 0020 F8E7     		b	.L57
 426              	.LVL51:
 427              	.L56:
1141:Middlewares/Third_Party/FatFs/src/ff.c **** 	return cl + *tbl;	/* Return the cluster number */
 428              		.loc 1 1141 0
 429 0022 5868     		ldr	r0, [r3, #4]
 430              	.LVL52:
 431 0024 0844     		add	r0, r0, r1
 432              	.L55:
1142:Middlewares/Third_Party/FatFs/src/ff.c **** }
 433              		.loc 1 1142 0
 434 0026 7047     		bx	lr
 435              		.cfi_endproc
 436              	.LFE142:
 438              		.section	.text.get_fileinfo,"ax",%progbits
 439              		.align	1
 440              		.thumb
 441              		.thumb_func
 443              	get_fileinfo:
 444              	.LFB152:
1143:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _USE_FASTSEEK */
1144:Middlewares/Third_Party/FatFs/src/ff.c **** 
1145:Middlewares/Third_Party/FatFs/src/ff.c **** 
1146:Middlewares/Third_Party/FatFs/src/ff.c **** 
1147:Middlewares/Third_Party/FatFs/src/ff.c **** 
1148:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1149:Middlewares/Third_Party/FatFs/src/ff.c **** /* Directory handling - Set directory index                              */
1150:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1151:Middlewares/Third_Party/FatFs/src/ff.c **** 
1152:Middlewares/Third_Party/FatFs/src/ff.c **** static
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 29


1153:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_sdi (
1154:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,		/* Pointer to directory object */
1155:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT idx		/* Index of directory table */
1156:Middlewares/Third_Party/FatFs/src/ff.c **** )
1157:Middlewares/Third_Party/FatFs/src/ff.c **** {
1158:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, sect;
1159:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT ic;
1160:Middlewares/Third_Party/FatFs/src/ff.c **** 
1161:Middlewares/Third_Party/FatFs/src/ff.c **** 
1162:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->index = (WORD)idx;	/* Current index */
1163:Middlewares/Third_Party/FatFs/src/ff.c **** 	clst = dp->sclust;		/* Table start cluster (0:root) */
1164:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst == 1 || clst >= dp->fs->n_fatent)	/* Check start cluster range */
1165:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INT_ERR;
1166:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!clst && dp->fs->fs_type == FS_FAT32)	/* Replace cluster# 0 with root cluster# if in FAT32 */
1167:Middlewares/Third_Party/FatFs/src/ff.c **** 		clst = dp->fs->dirbase;
1168:Middlewares/Third_Party/FatFs/src/ff.c **** 
1169:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst == 0) {	/* Static table (root-directory in FAT12/16) */
1170:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (idx >= dp->fs->n_rootdir)	/* Is index out of range? */
1171:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_INT_ERR;
1172:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = dp->fs->dirbase;
1173:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1174:Middlewares/Third_Party/FatFs/src/ff.c **** 	else {				/* Dynamic table (root-directory in FAT32 or sub-directory) */
1175:Middlewares/Third_Party/FatFs/src/ff.c **** 		ic = SS(dp->fs) / SZ_DIRE * dp->fs->csize;	/* Entries per cluster */
1176:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (idx >= ic) {	/* Follow cluster chain */
1177:Middlewares/Third_Party/FatFs/src/ff.c **** 			clst = get_fat(dp->fs, clst);				/* Get next cluster */
1178:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
1179:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst < 2 || clst >= dp->fs->n_fatent)	/* Reached to end of table or internal error */
1180:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_INT_ERR;
1181:Middlewares/Third_Party/FatFs/src/ff.c **** 			idx -= ic;
1182:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1183:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = clust2sect(dp->fs, clst);
1184:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1185:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->clust = clst;	/* Current cluster# */
1186:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!sect) return FR_INT_ERR;
1187:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->sect = sect + idx / (SS(dp->fs) / SZ_DIRE);					/* Sector# of the directory entry */
1188:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = dp->fs->win.d8 + (idx % (SS(dp->fs) / SZ_DIRE)) * SZ_DIRE;	/* Ptr to the entry in the se
1189:Middlewares/Third_Party/FatFs/src/ff.c **** 
1190:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
1191:Middlewares/Third_Party/FatFs/src/ff.c **** }
1192:Middlewares/Third_Party/FatFs/src/ff.c **** 
1193:Middlewares/Third_Party/FatFs/src/ff.c **** 
1194:Middlewares/Third_Party/FatFs/src/ff.c **** 
1195:Middlewares/Third_Party/FatFs/src/ff.c **** 
1196:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1197:Middlewares/Third_Party/FatFs/src/ff.c **** /* Directory handling - Move directory table index next                  */
1198:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1199:Middlewares/Third_Party/FatFs/src/ff.c **** 
1200:Middlewares/Third_Party/FatFs/src/ff.c **** static
1201:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_next (	/* FR_OK:Succeeded, FR_NO_FILE:End of table, FR_DENIED:Could not stretch */
1202:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,		/* Pointer to the directory object */
1203:Middlewares/Third_Party/FatFs/src/ff.c **** 	int stretch		/* 0: Do not stretch table, 1: Stretch table if needed */
1204:Middlewares/Third_Party/FatFs/src/ff.c **** )
1205:Middlewares/Third_Party/FatFs/src/ff.c **** {
1206:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst;
1207:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
1208:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1209:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT c;
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 30


1210:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1211:Middlewares/Third_Party/FatFs/src/ff.c **** 
1212:Middlewares/Third_Party/FatFs/src/ff.c **** 
1213:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = dp->index + 1;
1214:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(i & 0xFFFF) || !dp->sect)	/* Report EOT when index has reached 65535 */
1215:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILE;
1216:Middlewares/Third_Party/FatFs/src/ff.c **** 
1217:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(i % (SS(dp->fs) / SZ_DIRE))) {	/* Sector changed? */
1218:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect++;					/* Next sector */
1219:Middlewares/Third_Party/FatFs/src/ff.c **** 
1220:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!dp->clust) {		/* Static table */
1221:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i >= dp->fs->n_rootdir)	/* Report EOT if it reached end of static table */
1222:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_NO_FILE;
1223:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1224:Middlewares/Third_Party/FatFs/src/ff.c **** 		else {					/* Dynamic table */
1225:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (((i / (SS(dp->fs) / SZ_DIRE)) & (dp->fs->csize - 1)) == 0) {	/* Cluster changed? */
1226:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = get_fat(dp->fs, dp->clust);				/* Get next cluster */
1227:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst <= 1) return FR_INT_ERR;
1228:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) return FR_DISK_ERR;
1229:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst >= dp->fs->n_fatent) {					/* If it reached end of dynamic table, */
1230:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1231:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!stretch) return FR_NO_FILE;			/* If do not stretch, report EOT */
1232:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = create_chain(dp->fs, dp->clust);		/* Stretch cluster chain */
1233:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0) return FR_DENIED;			/* No free cluster */
1234:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) return FR_INT_ERR;
1235:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) return FR_DISK_ERR;
1236:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Clean-up stretched table */
1237:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (sync_window(dp->fs)) return FR_DISK_ERR;/* Flush disk access window */
1238:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(dp->fs->win.d8, 0, SS(dp->fs));		/* Clear window buffer */
1239:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->fs->winsect = clust2sect(dp->fs, clst);	/* Cluster start sector */
1240:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (c = 0; c < dp->fs->csize; c++) {		/* Fill the new cluster with 0 */
1241:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->fs->wflag = 1;
1242:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (sync_window(dp->fs)) return FR_DISK_ERR;
1243:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->fs->winsect++;
1244:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
1245:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->fs->winsect -= c;						/* Rewind window offset */
1246:Middlewares/Third_Party/FatFs/src/ff.c **** #else
1247:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!stretch) return FR_NO_FILE;			/* If do not stretch, report EOT (this is to suppress warni
1248:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_NO_FILE;							/* Report EOT */
1249:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1250:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
1251:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->clust = clst;				/* Initialize data for new cluster */
1252:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->sect = clust2sect(dp->fs, clst);
1253:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1254:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1255:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1256:Middlewares/Third_Party/FatFs/src/ff.c **** 
1257:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->index = (WORD)i;	/* Current index */
1258:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = dp->fs->win.d8 + (i % (SS(dp->fs) / SZ_DIRE)) * SZ_DIRE;	/* Current entry in the window 
1259:Middlewares/Third_Party/FatFs/src/ff.c **** 
1260:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
1261:Middlewares/Third_Party/FatFs/src/ff.c **** }
1262:Middlewares/Third_Party/FatFs/src/ff.c **** 
1263:Middlewares/Third_Party/FatFs/src/ff.c **** 
1264:Middlewares/Third_Party/FatFs/src/ff.c **** 
1265:Middlewares/Third_Party/FatFs/src/ff.c **** 
1266:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 31


1267:Middlewares/Third_Party/FatFs/src/ff.c **** /* Directory handling - Reserve directory entry                          */
1268:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1269:Middlewares/Third_Party/FatFs/src/ff.c **** 
1270:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1271:Middlewares/Third_Party/FatFs/src/ff.c **** static
1272:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_alloc (
1273:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,	/* Pointer to the directory object */
1274:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nent	/* Number of contiguous entries to allocate (1-21) */
1275:Middlewares/Third_Party/FatFs/src/ff.c **** )
1276:Middlewares/Third_Party/FatFs/src/ff.c **** {
1277:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
1278:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT n;
1279:Middlewares/Third_Party/FatFs/src/ff.c **** 
1280:Middlewares/Third_Party/FatFs/src/ff.c **** 
1281:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_sdi(dp, 0);
1282:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
1283:Middlewares/Third_Party/FatFs/src/ff.c **** 		n = 0;
1284:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
1285:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(dp->fs, dp->sect);
1286:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
1287:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dp->dir[0] == DDEM || dp->dir[0] == 0) {	/* Is it a free entry? */
1288:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (++n == nent) break;	/* A block of contiguous free entries is found */
1289:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
1290:Middlewares/Third_Party/FatFs/src/ff.c **** 				n = 0;					/* Not a blank entry. Restart to search */
1291:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1292:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_next(dp, 1);		/* Next entry with table stretch enabled */
1293:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (res == FR_OK);
1294:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1295:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_NO_FILE) res = FR_DENIED;	/* No directory entry to allocate */
1296:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
1297:Middlewares/Third_Party/FatFs/src/ff.c **** }
1298:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1299:Middlewares/Third_Party/FatFs/src/ff.c **** 
1300:Middlewares/Third_Party/FatFs/src/ff.c **** 
1301:Middlewares/Third_Party/FatFs/src/ff.c **** 
1302:Middlewares/Third_Party/FatFs/src/ff.c **** 
1303:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1304:Middlewares/Third_Party/FatFs/src/ff.c **** /* Directory handling - Load/Store start cluster number                  */
1305:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1306:Middlewares/Third_Party/FatFs/src/ff.c **** 
1307:Middlewares/Third_Party/FatFs/src/ff.c **** static
1308:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD ld_clust (
1309:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,	/* Pointer to the fs object */
1310:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dir	/* Pointer to the directory entry */
1311:Middlewares/Third_Party/FatFs/src/ff.c **** )
1312:Middlewares/Third_Party/FatFs/src/ff.c **** {
1313:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cl;
1314:Middlewares/Third_Party/FatFs/src/ff.c **** 
1315:Middlewares/Third_Party/FatFs/src/ff.c **** 	cl = LD_WORD(dir + DIR_FstClusLO);
1316:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_FAT32)
1317:Middlewares/Third_Party/FatFs/src/ff.c **** 		cl |= (DWORD)LD_WORD(dir + DIR_FstClusHI) << 16;
1318:Middlewares/Third_Party/FatFs/src/ff.c **** 
1319:Middlewares/Third_Party/FatFs/src/ff.c **** 	return cl;
1320:Middlewares/Third_Party/FatFs/src/ff.c **** }
1321:Middlewares/Third_Party/FatFs/src/ff.c **** 
1322:Middlewares/Third_Party/FatFs/src/ff.c **** 
1323:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 32


1324:Middlewares/Third_Party/FatFs/src/ff.c **** static
1325:Middlewares/Third_Party/FatFs/src/ff.c **** void st_clust (
1326:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dir,	/* Pointer to the directory entry */
1327:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cl	/* Value to be set */
1328:Middlewares/Third_Party/FatFs/src/ff.c **** )
1329:Middlewares/Third_Party/FatFs/src/ff.c **** {
1330:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(dir + DIR_FstClusLO, cl);
1331:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(dir + DIR_FstClusHI, cl >> 16);
1332:Middlewares/Third_Party/FatFs/src/ff.c **** }
1333:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1334:Middlewares/Third_Party/FatFs/src/ff.c **** 
1335:Middlewares/Third_Party/FatFs/src/ff.c **** 
1336:Middlewares/Third_Party/FatFs/src/ff.c **** 
1337:Middlewares/Third_Party/FatFs/src/ff.c **** 
1338:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1339:Middlewares/Third_Party/FatFs/src/ff.c **** /* LFN handling - Test/Pick/Fit an LFN segment from/to directory entry   */
1340:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1341:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
1342:Middlewares/Third_Party/FatFs/src/ff.c **** static
1343:Middlewares/Third_Party/FatFs/src/ff.c **** const BYTE LfnOfs[] = {1,3,5,7,9,14,16,18,20,22,24,28,30};	/* Offset of LFN characters in the direc
1344:Middlewares/Third_Party/FatFs/src/ff.c **** 
1345:Middlewares/Third_Party/FatFs/src/ff.c **** 
1346:Middlewares/Third_Party/FatFs/src/ff.c **** static
1347:Middlewares/Third_Party/FatFs/src/ff.c **** int cmp_lfn (			/* 1:Matched, 0:Not matched */
1348:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR* lfnbuf,		/* Pointer to the LFN to be compared */
1349:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dir			/* Pointer to the directory entry containing a part of LFN */
1350:Middlewares/Third_Party/FatFs/src/ff.c **** )
1351:Middlewares/Third_Party/FatFs/src/ff.c **** {
1352:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, s;
1353:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR wc, uc;
1354:Middlewares/Third_Party/FatFs/src/ff.c **** 
1355:Middlewares/Third_Party/FatFs/src/ff.c **** 
1356:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = ((dir[LDIR_Ord] & ~LLEF) - 1) * 13;	/* Get offset in the LFN buffer */
1357:Middlewares/Third_Party/FatFs/src/ff.c **** 	s = 0; wc = 1;
1358:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
1359:Middlewares/Third_Party/FatFs/src/ff.c **** 		uc = LD_WORD(dir + LfnOfs[s]);	/* Pick an LFN character from the entry */
1360:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wc) {	/* Last character has not been processed */
1361:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = ff_wtoupper(uc);		/* Convert it to upper case */
1362:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i >= _MAX_LFN || wc != ff_wtoupper(lfnbuf[i++]))	/* Compare it */
1363:Middlewares/Third_Party/FatFs/src/ff.c **** 				return 0;				/* Not matched */
1364:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
1365:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (uc != 0xFFFF) return 0;	/* Check filler */
1366:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1367:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (++s < 13);				/* Repeat until all characters in the entry are checked */
1368:Middlewares/Third_Party/FatFs/src/ff.c **** 
1369:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((dir[LDIR_Ord] & LLEF) && wc && lfnbuf[i])	/* Last segment matched but different length */
1370:Middlewares/Third_Party/FatFs/src/ff.c **** 		return 0;
1371:Middlewares/Third_Party/FatFs/src/ff.c **** 
1372:Middlewares/Third_Party/FatFs/src/ff.c **** 	return 1;						/* The part of LFN matched */
1373:Middlewares/Third_Party/FatFs/src/ff.c **** }
1374:Middlewares/Third_Party/FatFs/src/ff.c **** 
1375:Middlewares/Third_Party/FatFs/src/ff.c **** 
1376:Middlewares/Third_Party/FatFs/src/ff.c **** 
1377:Middlewares/Third_Party/FatFs/src/ff.c **** static
1378:Middlewares/Third_Party/FatFs/src/ff.c **** int pick_lfn (			/* 1:Succeeded, 0:Buffer overflow */
1379:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR* lfnbuf,		/* Pointer to the Unicode-LFN buffer */
1380:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dir			/* Pointer to the directory entry */
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 33


1381:Middlewares/Third_Party/FatFs/src/ff.c **** )
1382:Middlewares/Third_Party/FatFs/src/ff.c **** {
1383:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, s;
1384:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR wc, uc;
1385:Middlewares/Third_Party/FatFs/src/ff.c **** 
1386:Middlewares/Third_Party/FatFs/src/ff.c **** 
1387:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = ((dir[LDIR_Ord] & 0x3F) - 1) * 13;	/* Offset in the LFN buffer */
1388:Middlewares/Third_Party/FatFs/src/ff.c **** 
1389:Middlewares/Third_Party/FatFs/src/ff.c **** 	s = 0; wc = 1;
1390:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
1391:Middlewares/Third_Party/FatFs/src/ff.c **** 		uc = LD_WORD(dir + LfnOfs[s]);		/* Pick an LFN character from the entry */
1392:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wc) {	/* Last character has not been processed */
1393:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i >= _MAX_LFN) return 0;	/* Buffer overflow? */
1394:Middlewares/Third_Party/FatFs/src/ff.c **** 			lfnbuf[i++] = wc = uc;			/* Store it */
1395:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
1396:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (uc != 0xFFFF) return 0;		/* Check filler */
1397:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1398:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (++s < 13);						/* Read all character in the entry */
1399:Middlewares/Third_Party/FatFs/src/ff.c **** 
1400:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (dir[LDIR_Ord] & LLEF) {				/* Put terminator if it is the last LFN part */
1401:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i >= _MAX_LFN) return 0;		/* Buffer overflow? */
1402:Middlewares/Third_Party/FatFs/src/ff.c **** 		lfnbuf[i] = 0;
1403:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1404:Middlewares/Third_Party/FatFs/src/ff.c **** 
1405:Middlewares/Third_Party/FatFs/src/ff.c **** 	return 1;
1406:Middlewares/Third_Party/FatFs/src/ff.c **** }
1407:Middlewares/Third_Party/FatFs/src/ff.c **** 
1408:Middlewares/Third_Party/FatFs/src/ff.c **** 
1409:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1410:Middlewares/Third_Party/FatFs/src/ff.c **** static
1411:Middlewares/Third_Party/FatFs/src/ff.c **** void fit_lfn (
1412:Middlewares/Third_Party/FatFs/src/ff.c **** 	const WCHAR* lfnbuf,	/* Pointer to the LFN buffer */
1413:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dir,				/* Pointer to the directory entry */
1414:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE ord,				/* LFN order (1-20) */
1415:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE sum				/* SFN sum */
1416:Middlewares/Third_Party/FatFs/src/ff.c **** )
1417:Middlewares/Third_Party/FatFs/src/ff.c **** {
1418:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, s;
1419:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR wc;
1420:Middlewares/Third_Party/FatFs/src/ff.c **** 
1421:Middlewares/Third_Party/FatFs/src/ff.c **** 
1422:Middlewares/Third_Party/FatFs/src/ff.c **** 	dir[LDIR_Chksum] = sum;			/* Set check sum */
1423:Middlewares/Third_Party/FatFs/src/ff.c **** 	dir[LDIR_Attr] = AM_LFN;		/* Set attribute. LFN entry */
1424:Middlewares/Third_Party/FatFs/src/ff.c **** 	dir[LDIR_Type] = 0;
1425:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(dir + LDIR_FstClusLO, 0);
1426:Middlewares/Third_Party/FatFs/src/ff.c **** 
1427:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = (ord - 1) * 13;				/* Get offset in the LFN buffer */
1428:Middlewares/Third_Party/FatFs/src/ff.c **** 	s = wc = 0;
1429:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
1430:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wc != 0xFFFF) wc = lfnbuf[i++];	/* Get an effective character */
1431:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(dir+LfnOfs[s], wc);	/* Put it */
1432:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!wc) wc = 0xFFFF;		/* Padding characters following last character */
1433:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (++s < 13);
1434:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (wc == 0xFFFF || !lfnbuf[i]) ord |= LLEF;	/* Bottom LFN part is the start of LFN sequence */
1435:Middlewares/Third_Party/FatFs/src/ff.c **** 	dir[LDIR_Ord] = ord;			/* Set the LFN order */
1436:Middlewares/Third_Party/FatFs/src/ff.c **** }
1437:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 34


1438:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1439:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1440:Middlewares/Third_Party/FatFs/src/ff.c **** 
1441:Middlewares/Third_Party/FatFs/src/ff.c **** 
1442:Middlewares/Third_Party/FatFs/src/ff.c **** 
1443:Middlewares/Third_Party/FatFs/src/ff.c **** 
1444:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1445:Middlewares/Third_Party/FatFs/src/ff.c **** /* Create numbered name                                                  */
1446:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1447:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
1448:Middlewares/Third_Party/FatFs/src/ff.c **** static
1449:Middlewares/Third_Party/FatFs/src/ff.c **** void gen_numname (
1450:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dst,			/* Pointer to the buffer to store numbered SFN */
1451:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE* src,	/* Pointer to SFN */
1452:Middlewares/Third_Party/FatFs/src/ff.c **** 	const WCHAR* lfn,	/* Pointer to LFN */
1453:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT seq			/* Sequence number */
1454:Middlewares/Third_Party/FatFs/src/ff.c **** )
1455:Middlewares/Third_Party/FatFs/src/ff.c **** {
1456:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE ns[8], c;
1457:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, j;
1458:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR wc;
1459:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sr;
1460:Middlewares/Third_Party/FatFs/src/ff.c **** 
1461:Middlewares/Third_Party/FatFs/src/ff.c **** 
1462:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_cpy(dst, src, 11);
1463:Middlewares/Third_Party/FatFs/src/ff.c **** 
1464:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (seq > 5) {	/* On many collisions, generate a hash number instead of sequential number */
1465:Middlewares/Third_Party/FatFs/src/ff.c **** 		sr = seq;
1466:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (*lfn) {	/* Create a CRC */
1467:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = *lfn++;
1468:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (i = 0; i < 16; i++) {
1469:Middlewares/Third_Party/FatFs/src/ff.c **** 				sr = (sr << 1) + (wc & 1);
1470:Middlewares/Third_Party/FatFs/src/ff.c **** 				wc >>= 1;
1471:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (sr & 0x10000) sr ^= 0x11021;
1472:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1473:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1474:Middlewares/Third_Party/FatFs/src/ff.c **** 		seq = (UINT)sr;
1475:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1476:Middlewares/Third_Party/FatFs/src/ff.c **** 
1477:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* itoa (hexdecimal) */
1478:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = 7;
1479:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
1480:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = (seq % 16) + '0';
1481:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c > '9') c += 7;
1482:Middlewares/Third_Party/FatFs/src/ff.c **** 		ns[i--] = c;
1483:Middlewares/Third_Party/FatFs/src/ff.c **** 		seq /= 16;
1484:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (seq);
1485:Middlewares/Third_Party/FatFs/src/ff.c **** 	ns[i] = '~';
1486:Middlewares/Third_Party/FatFs/src/ff.c **** 
1487:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Append the number */
1488:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (j = 0; j < i && dst[j] != ' '; j++) {
1489:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(dst[j])) {
1490:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (j == i - 1) break;
1491:Middlewares/Third_Party/FatFs/src/ff.c **** 			j++;
1492:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1493:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1494:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 35


1495:Middlewares/Third_Party/FatFs/src/ff.c **** 		dst[j++] = (i < 8) ? ns[i++] : ' ';
1496:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (j < 8);
1497:Middlewares/Third_Party/FatFs/src/ff.c **** }
1498:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1499:Middlewares/Third_Party/FatFs/src/ff.c **** 
1500:Middlewares/Third_Party/FatFs/src/ff.c **** 
1501:Middlewares/Third_Party/FatFs/src/ff.c **** 
1502:Middlewares/Third_Party/FatFs/src/ff.c **** 
1503:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1504:Middlewares/Third_Party/FatFs/src/ff.c **** /* Calculate sum of an SFN                                               */
1505:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1506:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
1507:Middlewares/Third_Party/FatFs/src/ff.c **** static
1508:Middlewares/Third_Party/FatFs/src/ff.c **** BYTE sum_sfn (
1509:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE* dir		/* Pointer to the SFN entry */
1510:Middlewares/Third_Party/FatFs/src/ff.c **** )
1511:Middlewares/Third_Party/FatFs/src/ff.c **** {
1512:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE sum = 0;
1513:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT n = 11;
1514:Middlewares/Third_Party/FatFs/src/ff.c **** 
1515:Middlewares/Third_Party/FatFs/src/ff.c **** 	do sum = (sum >> 1) + (sum << 7) + *dir++; while (--n);
1516:Middlewares/Third_Party/FatFs/src/ff.c **** 	return sum;
1517:Middlewares/Third_Party/FatFs/src/ff.c **** }
1518:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1519:Middlewares/Third_Party/FatFs/src/ff.c **** 
1520:Middlewares/Third_Party/FatFs/src/ff.c **** 
1521:Middlewares/Third_Party/FatFs/src/ff.c **** 
1522:Middlewares/Third_Party/FatFs/src/ff.c **** 
1523:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1524:Middlewares/Third_Party/FatFs/src/ff.c **** /* Directory handling - Find an object in the directory                  */
1525:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1526:Middlewares/Third_Party/FatFs/src/ff.c **** 
1527:Middlewares/Third_Party/FatFs/src/ff.c **** static
1528:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_find (
1529:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp			/* Pointer to the directory object linked to the file name */
1530:Middlewares/Third_Party/FatFs/src/ff.c **** )
1531:Middlewares/Third_Party/FatFs/src/ff.c **** {
1532:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
1533:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE c, *dir;
1534:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
1535:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE a, ord, sum;
1536:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1537:Middlewares/Third_Party/FatFs/src/ff.c **** 
1538:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_sdi(dp, 0);			/* Rewind directory object */
1539:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) return res;
1540:Middlewares/Third_Party/FatFs/src/ff.c **** 
1541:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
1542:Middlewares/Third_Party/FatFs/src/ff.c **** 	ord = sum = 0xFF; dp->lfn_idx = 0xFFFF;	/* Reset LFN sequence */
1543:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1544:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
1545:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->fs, dp->sect);
1546:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
1547:Middlewares/Third_Party/FatFs/src/ff.c **** 		dir = dp->dir;					/* Ptr to the directory entry of current index */
1548:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = dir[DIR_Name];
1549:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) { res = FR_NO_FILE; break; }	/* Reached to end of table */
1550:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN	/* LFN configuration */
1551:Middlewares/Third_Party/FatFs/src/ff.c **** 		a = dir[DIR_Attr] & AM_MASK;
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 36


1552:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == DDEM || ((a & AM_VOL) && a != AM_LFN)) {	/* An entry without valid data */
1553:Middlewares/Third_Party/FatFs/src/ff.c **** 			ord = 0xFF; dp->lfn_idx = 0xFFFF;	/* Reset LFN sequence */
1554:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
1555:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (a == AM_LFN) {			/* An LFN entry is found */
1556:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dp->lfn) {
1557:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (c & LLEF) {		/* Is it start of LFN sequence? */
1558:Middlewares/Third_Party/FatFs/src/ff.c **** 						sum = dir[LDIR_Chksum];
1559:Middlewares/Third_Party/FatFs/src/ff.c **** 						c &= ~LLEF; ord = c;	/* LFN start order */
1560:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->lfn_idx = dp->index;	/* Start index of LFN */
1561:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
1562:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Check validity of the LFN entry and compare it with given name */
1563:Middlewares/Third_Party/FatFs/src/ff.c **** 					ord = (c == ord && sum == dir[LDIR_Chksum] && cmp_lfn(dp->lfn, dir)) ? ord - 1 : 0xFF;
1564:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
1565:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {					/* An SFN entry is found */
1566:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!ord && sum == sum_sfn(dir)) break;	/* LFN matched? */
1567:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!(dp->fn[NSFLAG] & NS_LOSS) && !mem_cmp(dir, dp->fn, 11)) break;	/* SFN matched? */
1568:Middlewares/Third_Party/FatFs/src/ff.c **** 				ord = 0xFF; dp->lfn_idx = 0xFFFF;	/* Reset LFN sequence */
1569:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1570:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1571:Middlewares/Third_Party/FatFs/src/ff.c **** #else		/* Non LFN configuration */
1572:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(dir[DIR_Attr] & AM_VOL) && !mem_cmp(dir, dp->fn, 11)) /* Is it a valid entry? */
1573:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
1574:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1575:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_next(dp, 0);		/* Next entry */
1576:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (res == FR_OK);
1577:Middlewares/Third_Party/FatFs/src/ff.c **** 
1578:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
1579:Middlewares/Third_Party/FatFs/src/ff.c **** }
1580:Middlewares/Third_Party/FatFs/src/ff.c **** 
1581:Middlewares/Third_Party/FatFs/src/ff.c **** 
1582:Middlewares/Third_Party/FatFs/src/ff.c **** 
1583:Middlewares/Third_Party/FatFs/src/ff.c **** 
1584:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1585:Middlewares/Third_Party/FatFs/src/ff.c **** /* Read an object from the directory                                     */
1586:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1587:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 1 || _USE_LABEL || _FS_RPATH >= 2
1588:Middlewares/Third_Party/FatFs/src/ff.c **** static
1589:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_read (
1590:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,		/* Pointer to the directory object */
1591:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol			/* Filtered by 0:file/directory or 1:volume label */
1592:Middlewares/Third_Party/FatFs/src/ff.c **** )
1593:Middlewares/Third_Party/FatFs/src/ff.c **** {
1594:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
1595:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE a, c, *dir;
1596:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
1597:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE ord = 0xFF, sum = 0xFF;
1598:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1599:Middlewares/Third_Party/FatFs/src/ff.c **** 
1600:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = FR_NO_FILE;
1601:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (dp->sect) {
1602:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->fs, dp->sect);
1603:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
1604:Middlewares/Third_Party/FatFs/src/ff.c **** 		dir = dp->dir;					/* Ptr to the directory entry of current index */
1605:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = dir[DIR_Name];
1606:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) { res = FR_NO_FILE; break; }	/* Reached to end of table */
1607:Middlewares/Third_Party/FatFs/src/ff.c **** 		a = dir[DIR_Attr] & AM_MASK;
1608:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN	/* LFN configuration */
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 37


1609:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == DDEM || (!_FS_RPATH && c == '.') || (int)((a & ~AM_ARC) == AM_VOL) != vol) {	/* An entry
1610:Middlewares/Third_Party/FatFs/src/ff.c **** 			ord = 0xFF;
1611:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
1612:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (a == AM_LFN) {			/* An LFN entry is found */
1613:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (c & LLEF) {			/* Is it start of LFN sequence? */
1614:Middlewares/Third_Party/FatFs/src/ff.c **** 					sum = dir[LDIR_Chksum];
1615:Middlewares/Third_Party/FatFs/src/ff.c **** 					c &= ~LLEF; ord = c;
1616:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->lfn_idx = dp->index;
1617:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
1618:Middlewares/Third_Party/FatFs/src/ff.c **** 				/* Check LFN validity and capture it */
1619:Middlewares/Third_Party/FatFs/src/ff.c **** 				ord = (c == ord && sum == dir[LDIR_Chksum] && pick_lfn(dp->lfn, dir)) ? ord - 1 : 0xFF;
1620:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {					/* An SFN entry is found */
1621:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ord || sum != sum_sfn(dir))	/* Is there a valid LFN? */
1622:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->lfn_idx = 0xFFFF;		/* It has no LFN. */
1623:Middlewares/Third_Party/FatFs/src/ff.c **** 				break;
1624:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1625:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1626:Middlewares/Third_Party/FatFs/src/ff.c **** #else		/* Non LFN configuration */
1627:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c != DDEM && (_FS_RPATH || c != '.') && a != AM_LFN && (int)((a & ~AM_ARC) == AM_VOL) == vol)
1628:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
1629:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1630:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_next(dp, 0);				/* Next entry */
1631:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
1632:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1633:Middlewares/Third_Party/FatFs/src/ff.c **** 
1634:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) dp->sect = 0;
1635:Middlewares/Third_Party/FatFs/src/ff.c **** 
1636:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
1637:Middlewares/Third_Party/FatFs/src/ff.c **** }
1638:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _FS_MINIMIZE <= 1 || _USE_LABEL || _FS_RPATH >= 2 */
1639:Middlewares/Third_Party/FatFs/src/ff.c **** 
1640:Middlewares/Third_Party/FatFs/src/ff.c **** 
1641:Middlewares/Third_Party/FatFs/src/ff.c **** 
1642:Middlewares/Third_Party/FatFs/src/ff.c **** 
1643:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1644:Middlewares/Third_Party/FatFs/src/ff.c **** /* Register an object to the directory                                   */
1645:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1646:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1647:Middlewares/Third_Party/FatFs/src/ff.c **** static
1648:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_register (	/* FR_OK:Successful, FR_DENIED:No free entry or too many SFN collision, FR_D
1649:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp				/* Target directory with object name to be created */
1650:Middlewares/Third_Party/FatFs/src/ff.c **** )
1651:Middlewares/Third_Party/FatFs/src/ff.c **** {
1652:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
1653:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN	/* LFN configuration */
1654:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT n, nent;
1655:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE sn[12], *fn, sum;
1656:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR *lfn;
1657:Middlewares/Third_Party/FatFs/src/ff.c **** 
1658:Middlewares/Third_Party/FatFs/src/ff.c **** 
1659:Middlewares/Third_Party/FatFs/src/ff.c **** 	fn = dp->fn; lfn = dp->lfn;
1660:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_cpy(sn, fn, 12);
1661:Middlewares/Third_Party/FatFs/src/ff.c **** 
1662:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (_FS_RPATH && (sn[NSFLAG] & NS_DOT))		/* Cannot create dot entry */
1663:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INVALID_NAME;
1664:Middlewares/Third_Party/FatFs/src/ff.c **** 
1665:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sn[NSFLAG] & NS_LOSS) {			/* When LFN is out of 8.3 format, generate a numbered name */
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 38


1666:Middlewares/Third_Party/FatFs/src/ff.c **** 		fn[NSFLAG] = 0; dp->lfn = 0;			/* Find only SFN */
1667:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (n = 1; n < 100; n++) {
1668:Middlewares/Third_Party/FatFs/src/ff.c **** 			gen_numname(fn, sn, lfn, n);	/* Generate a numbered name */
1669:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_find(dp);				/* Check if the name collides with existing SFN */
1670:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
1671:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1672:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (n == 100) return FR_DENIED;		/* Abort if too many collisions */
1673:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_NO_FILE) return res;	/* Abort if the result is other than 'not collided' */
1674:Middlewares/Third_Party/FatFs/src/ff.c **** 		fn[NSFLAG] = sn[NSFLAG]; dp->lfn = lfn;
1675:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1676:Middlewares/Third_Party/FatFs/src/ff.c **** 
1677:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sn[NSFLAG] & NS_LFN) {			/* When LFN is to be created, allocate entries for an SFN + LFNs. */
1678:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (n = 0; lfn[n]; n++) ;
1679:Middlewares/Third_Party/FatFs/src/ff.c **** 		nent = (n + 25) / 13;
1680:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {						/* Otherwise allocate an entry for an SFN  */
1681:Middlewares/Third_Party/FatFs/src/ff.c **** 		nent = 1;
1682:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1683:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_alloc(dp, nent);		/* Allocate entries */
1684:Middlewares/Third_Party/FatFs/src/ff.c **** 
1685:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK && --nent) {	/* Set LFN entry if needed */
1686:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_sdi(dp, dp->index - nent);
1687:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
1688:Middlewares/Third_Party/FatFs/src/ff.c **** 			sum = sum_sfn(dp->fn);	/* Sum value of the SFN tied to the LFN */
1689:Middlewares/Third_Party/FatFs/src/ff.c **** 			do {					/* Store LFN entries in bottom first */
1690:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = move_window(dp->fs, dp->sect);
1691:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res != FR_OK) break;
1692:Middlewares/Third_Party/FatFs/src/ff.c **** 				fit_lfn(dp->lfn, dp->dir, (BYTE)nent, sum);
1693:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->fs->wflag = 1;
1694:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_next(dp, 0);	/* Next entry */
1695:Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (res == FR_OK && --nent);
1696:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1697:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1698:Middlewares/Third_Party/FatFs/src/ff.c **** #else	/* Non LFN configuration */
1699:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_alloc(dp, 1);		/* Allocate an entry for SFN */
1700:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1701:Middlewares/Third_Party/FatFs/src/ff.c **** 
1702:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {				/* Set SFN entry */
1703:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->fs, dp->sect);
1704:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
1705:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(dp->dir, 0, SZ_DIRE);	/* Clean the entry */
1706:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(dp->dir, dp->fn, 11);	/* Put SFN */
1707:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
1708:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->dir[DIR_NTres] = dp->fn[NSFLAG] & (NS_BODY | NS_EXT);	/* Put NT flag */
1709:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1710:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->fs->wflag = 1;
1711:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1712:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1713:Middlewares/Third_Party/FatFs/src/ff.c **** 
1714:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
1715:Middlewares/Third_Party/FatFs/src/ff.c **** }
1716:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
1717:Middlewares/Third_Party/FatFs/src/ff.c **** 
1718:Middlewares/Third_Party/FatFs/src/ff.c **** 
1719:Middlewares/Third_Party/FatFs/src/ff.c **** 
1720:Middlewares/Third_Party/FatFs/src/ff.c **** 
1721:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1722:Middlewares/Third_Party/FatFs/src/ff.c **** /* Remove an object from the directory                                   */
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 39


1723:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1724:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && !_FS_MINIMIZE
1725:Middlewares/Third_Party/FatFs/src/ff.c **** static
1726:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_remove (	/* FR_OK: Successful, FR_DISK_ERR: A disk error */
1727:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp				/* Directory object pointing the entry to be removed */
1728:Middlewares/Third_Party/FatFs/src/ff.c **** )
1729:Middlewares/Third_Party/FatFs/src/ff.c **** {
1730:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
1731:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN	/* LFN configuration */
1732:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
1733:Middlewares/Third_Party/FatFs/src/ff.c **** 
1734:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = dp->index;	/* SFN index */
1735:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_sdi(dp, (dp->lfn_idx == 0xFFFF) ? i : dp->lfn_idx);	/* Goto the SFN or top of the LFN en
1736:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
1737:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
1738:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(dp->fs, dp->sect);
1739:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
1740:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(dp->dir, 0, SZ_DIRE);	/* Clear and mark the entry "deleted" */
1741:Middlewares/Third_Party/FatFs/src/ff.c **** 			*dp->dir = DDEM;
1742:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->fs->wflag = 1;
1743:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dp->index >= i) break;	/* When reached SFN, all entries of the object has been deleted. */
1744:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_next(dp, 0);		/* Next entry */
1745:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (res == FR_OK);
1746:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_NO_FILE) res = FR_INT_ERR;
1747:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1748:Middlewares/Third_Party/FatFs/src/ff.c **** 
1749:Middlewares/Third_Party/FatFs/src/ff.c **** #else			/* Non LFN configuration */
1750:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_sdi(dp, dp->index);
1751:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
1752:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->fs, dp->sect);
1753:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
1754:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(dp->dir, 0, SZ_DIRE);	/* Clear and mark the entry "deleted" */
1755:Middlewares/Third_Party/FatFs/src/ff.c **** 			*dp->dir = DDEM;
1756:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->fs->wflag = 1;
1757:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1758:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1759:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1760:Middlewares/Third_Party/FatFs/src/ff.c **** 
1761:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
1762:Middlewares/Third_Party/FatFs/src/ff.c **** }
1763:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
1764:Middlewares/Third_Party/FatFs/src/ff.c **** 
1765:Middlewares/Third_Party/FatFs/src/ff.c **** 
1766:Middlewares/Third_Party/FatFs/src/ff.c **** 
1767:Middlewares/Third_Party/FatFs/src/ff.c **** 
1768:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1769:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get file information from directory entry                             */
1770:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1771:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 1 || _FS_RPATH >= 2
1772:Middlewares/Third_Party/FatFs/src/ff.c **** static
1773:Middlewares/Third_Party/FatFs/src/ff.c **** void get_fileinfo (		/* No return code */
1774:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,			/* Pointer to the directory object */
1775:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO* fno	 	/* Pointer to the file information to be filled */
1776:Middlewares/Third_Party/FatFs/src/ff.c **** )
1777:Middlewares/Third_Party/FatFs/src/ff.c **** {
 445              		.loc 1 1777 0
 446              		.cfi_startproc
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 40


 447              		@ args = 0, pretend = 0, frame = 0
 448              		@ frame_needed = 0, uses_anonymous_args = 0
 449              	.LVL53:
1778:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
1779:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR *p, c;
1780:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir;
1781:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
1782:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR w, *lfn;
1783:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1784:Middlewares/Third_Party/FatFs/src/ff.c **** 
1785:Middlewares/Third_Party/FatFs/src/ff.c **** 	p = fno->fname;
1786:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (dp->sect) {		/* Get SFN */
 450              		.loc 1 1786 0
 451 0000 D0F81032 		ldr	r3, [r0, #528]
1777:Middlewares/Third_Party/FatFs/src/ff.c **** {
 452              		.loc 1 1777 0
 453 0004 30B5     		push	{r4, r5, lr}
 454              	.LCFI4:
 455              		.cfi_def_cfa_offset 12
 456              		.cfi_offset 4, -12
 457              		.cfi_offset 5, -8
 458              		.cfi_offset 14, -4
1785:Middlewares/Third_Party/FatFs/src/ff.c **** 	p = fno->fname;
 459              		.loc 1 1785 0
 460 0006 01F10902 		add	r2, r1, #9
 461              	.LVL54:
 462              		.loc 1 1786 0
 463 000a 5BB3     		cbz	r3, .L60
1787:Middlewares/Third_Party/FatFs/src/ff.c **** 		dir = dp->dir;
 464              		.loc 1 1787 0
 465 000c D0F81432 		ldr	r3, [r0, #532]
 466              	.LVL55:
1788:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = 0;
 467              		.loc 1 1788 0
 468 0010 0020     		movs	r0, #0
 469              	.LVL56:
 470              	.L65:
1789:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (i < 11) {		/* Copy name body and extension */
1790:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = (TCHAR)dir[i++];
 471              		.loc 1 1790 0
 472 0012 0130     		adds	r0, r0, #1
 473              	.LVL57:
 474 0014 1C18     		adds	r4, r3, r0
 475 0016 14F8014C 		ldrb	r4, [r4, #-1]	@ zero_extendqisi2
 476              	.LVL58:
1791:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c == ' ') continue;				/* Skip padding spaces */
 477              		.loc 1 1791 0
 478 001a 202C     		cmp	r4, #32
 479 001c 09D0     		beq	.L61
1792:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c == RDDEM) c = (TCHAR)DDEM;	/* Restore replaced DDEM character */
 480              		.loc 1 1792 0
 481 001e 052C     		cmp	r4, #5
 482 0020 08BF     		it	eq
 483 0022 E524     		moveq	r4, #229
 484              	.LVL59:
1793:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i == 9) *p++ = '.';				/* Insert a . if extension is exist */
 485              		.loc 1 1793 0
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 41


 486 0024 0928     		cmp	r0, #9
 487 0026 02D1     		bne	.L63
 488              	.LVL60:
 489              		.loc 1 1793 0 is_stmt 0 discriminator 1
 490 0028 2E25     		movs	r5, #46
 491 002a 1570     		strb	r5, [r2]
 492 002c 0132     		adds	r2, r2, #1
 493              	.LVL61:
 494              	.L63:
1794:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
1795:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (IsUpper(c) && (dir[DIR_NTres] & (i >= 9 ? NS_EXT : NS_BODY)))
1796:Middlewares/Third_Party/FatFs/src/ff.c **** 				c += 0x20;			/* To lower */
1797:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
1798:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (IsDBCS1(c) && i != 8 && i != 11 && IsDBCS2(dir[i]))
1799:Middlewares/Third_Party/FatFs/src/ff.c **** 				c = c << 8 | dir[i++];
1800:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = ff_convert(c, 1);	/* OEM -> Unicode */
1801:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!c) c = '?';
1802:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1803:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1804:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p++ = c;
 495              		.loc 1 1804 0 is_stmt 1
 496 002e 1470     		strb	r4, [r2]
 497 0030 0132     		adds	r2, r2, #1
 498              	.LVL62:
 499              	.L61:
1789:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (i < 11) {		/* Copy name body and extension */
 500              		.loc 1 1789 0 discriminator 1
 501 0032 0B28     		cmp	r0, #11
 502 0034 EDD1     		bne	.L65
1805:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1806:Middlewares/Third_Party/FatFs/src/ff.c **** 		fno->fattrib = dir[DIR_Attr];				/* Attribute */
 503              		.loc 1 1806 0
 504 0036 D87A     		ldrb	r0, [r3, #11]	@ zero_extendqisi2
 505              	.LVL63:
 506 0038 0872     		strb	r0, [r1, #8]
1807:Middlewares/Third_Party/FatFs/src/ff.c **** 		fno->fsize = LD_DWORD(dir + DIR_FileSize);	/* Size */
 507              		.loc 1 1807 0
 508 003a 987F     		ldrb	r0, [r3, #30]	@ zero_extendqisi2
 509 003c DC7F     		ldrb	r4, [r3, #31]	@ zero_extendqisi2
 510 003e 0004     		lsls	r0, r0, #16
 511 0040 40EA0460 		orr	r0, r0, r4, lsl #24
 512 0044 1C7F     		ldrb	r4, [r3, #28]	@ zero_extendqisi2
 513 0046 2043     		orrs	r0, r0, r4
 514 0048 5C7F     		ldrb	r4, [r3, #29]	@ zero_extendqisi2
 515 004a 40EA0420 		orr	r0, r0, r4, lsl #8
 516 004e 0860     		str	r0, [r1]
1808:Middlewares/Third_Party/FatFs/src/ff.c **** 		fno->fdate = LD_WORD(dir + DIR_WrtDate);	/* Date */
 517              		.loc 1 1808 0
 518 0050 5C7E     		ldrb	r4, [r3, #25]	@ zero_extendqisi2
 519 0052 187E     		ldrb	r0, [r3, #24]	@ zero_extendqisi2
 520 0054 40EA0420 		orr	r0, r0, r4, lsl #8
 521 0058 8880     		strh	r0, [r1, #4]	@ movhi
1809:Middlewares/Third_Party/FatFs/src/ff.c **** 		fno->ftime = LD_WORD(dir + DIR_WrtTime);	/* Time */
 522              		.loc 1 1809 0
 523 005a D87D     		ldrb	r0, [r3, #23]	@ zero_extendqisi2
 524 005c 9B7D     		ldrb	r3, [r3, #22]	@ zero_extendqisi2
 525              	.LVL64:
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 42


 526 005e 43EA0023 		orr	r3, r3, r0, lsl #8
 527 0062 CB80     		strh	r3, [r1, #6]	@ movhi
 528              	.L60:
1810:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1811:Middlewares/Third_Party/FatFs/src/ff.c **** 	*p = 0;		/* Terminate SFN string by a \0 */
 529              		.loc 1 1811 0
 530 0064 0023     		movs	r3, #0
 531 0066 1370     		strb	r3, [r2]
 532 0068 30BD     		pop	{r4, r5, pc}
 533              		.cfi_endproc
 534              	.LFE152:
 536              		.section	.text.get_ldnumber,"ax",%progbits
 537              		.align	1
 538              		.thumb
 539              		.thumb_func
 541              	get_ldnumber:
 542              	.LFB155:
1812:Middlewares/Third_Party/FatFs/src/ff.c **** 
1813:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
1814:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fno->lfname) {
1815:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = 0; p = fno->lfname;
1816:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (dp->sect && fno->lfsize && dp->lfn_idx != 0xFFFF) {	/* Get LFN if available */
1817:Middlewares/Third_Party/FatFs/src/ff.c **** 			lfn = dp->lfn;
1818:Middlewares/Third_Party/FatFs/src/ff.c **** 			while ((w = *lfn++) != 0) {		/* Get an LFN character */
1819:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
1820:Middlewares/Third_Party/FatFs/src/ff.c **** 				w = ff_convert(w, 0);		/* Unicode -> OEM */
1821:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!w) { i = 0; break; }	/* No LFN if it could not be converted */
1822:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (_DF1S && w >= 0x100)	/* Put 1st byte if it is a DBC (always false on SBCS cfg) */
1823:Middlewares/Third_Party/FatFs/src/ff.c **** 					p[i++] = (TCHAR)(w >> 8);
1824:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1825:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i >= fno->lfsize - 1) { i = 0; break; }	/* No LFN if buffer overflow */
1826:Middlewares/Third_Party/FatFs/src/ff.c **** 				p[i++] = (TCHAR)w;
1827:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1828:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1829:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[i] = 0;	/* Terminate LFN string by a \0 */
1830:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1831:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1832:Middlewares/Third_Party/FatFs/src/ff.c **** }
1833:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_MINIMIZE <= 1 || _FS_RPATH >= 2 */
1834:Middlewares/Third_Party/FatFs/src/ff.c **** 
1835:Middlewares/Third_Party/FatFs/src/ff.c **** 
1836:Middlewares/Third_Party/FatFs/src/ff.c **** 
1837:Middlewares/Third_Party/FatFs/src/ff.c **** 
1838:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1839:Middlewares/Third_Party/FatFs/src/ff.c **** /* Pattern matching                                                      */
1840:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1841:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FIND && _FS_MINIMIZE <= 1
1842:Middlewares/Third_Party/FatFs/src/ff.c **** static
1843:Middlewares/Third_Party/FatFs/src/ff.c **** WCHAR get_achar (		/* Get a character and advances ptr 1 or 2 */
1844:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR** ptr	/* Pointer to pointer to the SBCS/DBCS/Unicode string */
1845:Middlewares/Third_Party/FatFs/src/ff.c **** )
1846:Middlewares/Third_Party/FatFs/src/ff.c **** {
1847:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR chr;
1848:Middlewares/Third_Party/FatFs/src/ff.c **** 
1849:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
1850:Middlewares/Third_Party/FatFs/src/ff.c **** 	chr = (BYTE)*(*ptr)++;					/* Get a byte */
1851:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (IsLower(chr)) chr -= 0x20;			/* To upper ASCII char */
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 43


1852:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (IsDBCS1(chr) && IsDBCS2(**ptr))		/* Get DBC 2nd byte if needed */
1853:Middlewares/Third_Party/FatFs/src/ff.c **** 		chr = chr << 8 | (BYTE)*(*ptr)++;
1854:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
1855:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (chr >= 0x80) chr = ExCvt[chr - 0x80];	/* To upper SBCS extended char */
1856:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1857:Middlewares/Third_Party/FatFs/src/ff.c **** #else
1858:Middlewares/Third_Party/FatFs/src/ff.c **** 	chr = ff_wtoupper(*(*ptr)++);			/* Get a word and to upper */
1859:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1860:Middlewares/Third_Party/FatFs/src/ff.c **** 	return chr;
1861:Middlewares/Third_Party/FatFs/src/ff.c **** }
1862:Middlewares/Third_Party/FatFs/src/ff.c **** 
1863:Middlewares/Third_Party/FatFs/src/ff.c **** 
1864:Middlewares/Third_Party/FatFs/src/ff.c **** static
1865:Middlewares/Third_Party/FatFs/src/ff.c **** int pattern_matching (	/* Return value: 0:mismatched, 1:matched */
1866:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* pat,	/* Matching pattern */
1867:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* nam,	/* String to be tested */
1868:Middlewares/Third_Party/FatFs/src/ff.c **** 	int skip,			/* Number of pre-skip chars (number of ?s) */
1869:Middlewares/Third_Party/FatFs/src/ff.c **** 	int inf				/* Infinite search (* specified) */
1870:Middlewares/Third_Party/FatFs/src/ff.c **** )
1871:Middlewares/Third_Party/FatFs/src/ff.c **** {
1872:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR *pp, *np;
1873:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR pc, nc;
1874:Middlewares/Third_Party/FatFs/src/ff.c **** 	int nm, nx;
1875:Middlewares/Third_Party/FatFs/src/ff.c **** 
1876:Middlewares/Third_Party/FatFs/src/ff.c **** 
1877:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (skip--) {				/* Pre-skip name chars */
1878:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!get_achar(&nam)) return 0;	/* Branch mismatched if less name chars */
1879:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1880:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!*pat && inf) return 1;		/* (short circuit) */
1881:Middlewares/Third_Party/FatFs/src/ff.c **** 
1882:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
1883:Middlewares/Third_Party/FatFs/src/ff.c **** 		pp = pat; np = nam;			/* Top of pattern and name to match */
1884:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (;;) {
1885:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (*pp == '?' || *pp == '*') {	/* Wildcard? */
1886:Middlewares/Third_Party/FatFs/src/ff.c **** 				nm = nx = 0;
1887:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {				/* Analyze the wildcard chars */
1888:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (*pp++ == '?') nm++; else nx = 1;
1889:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (*pp == '?' || *pp == '*');
1890:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (pattern_matching(pp, np, nm, nx)) return 1;	/* Test new branch (recurs upto number of wildc
1891:Middlewares/Third_Party/FatFs/src/ff.c **** 				nc = *np; break;	/* Branch mismatched */
1892:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1893:Middlewares/Third_Party/FatFs/src/ff.c **** 			pc = get_achar(&pp);	/* Get a pattern char */
1894:Middlewares/Third_Party/FatFs/src/ff.c **** 			nc = get_achar(&np);	/* Get a name char */
1895:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (pc != nc) break;	/* Branch mismatched? */
1896:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!pc) return 1;		/* Branch matched? (matched at end of both strings) */
1897:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1898:Middlewares/Third_Party/FatFs/src/ff.c **** 		get_achar(&nam);			/* nam++ */
1899:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (inf && nc);			/* Retry until end of name if infinite search is specified */
1900:Middlewares/Third_Party/FatFs/src/ff.c **** 
1901:Middlewares/Third_Party/FatFs/src/ff.c **** 	return 0;
1902:Middlewares/Third_Party/FatFs/src/ff.c **** }
1903:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _USE_FIND && _FS_MINIMIZE <= 1 */
1904:Middlewares/Third_Party/FatFs/src/ff.c **** 
1905:Middlewares/Third_Party/FatFs/src/ff.c **** 
1906:Middlewares/Third_Party/FatFs/src/ff.c **** 
1907:Middlewares/Third_Party/FatFs/src/ff.c **** 
1908:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 44


1909:Middlewares/Third_Party/FatFs/src/ff.c **** /* Pick a segment and create the object name in directory form           */
1910:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1911:Middlewares/Third_Party/FatFs/src/ff.c **** 
1912:Middlewares/Third_Party/FatFs/src/ff.c **** static
1913:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT create_name (
1914:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,			/* Pointer to the directory object */
1915:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR** path	/* Pointer to pointer to the segment in the path string */
1916:Middlewares/Third_Party/FatFs/src/ff.c **** )
1917:Middlewares/Third_Party/FatFs/src/ff.c **** {
1918:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN	/* LFN configuration */
1919:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE b, cf;
1920:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR w, *lfn;
1921:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, ni, si, di;
1922:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR *p;
1923:Middlewares/Third_Party/FatFs/src/ff.c **** 
1924:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create LFN in Unicode */
1925:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (p = *path; *p == '/' || *p == '\\'; p++) ;	/* Strip duplicated separator */
1926:Middlewares/Third_Party/FatFs/src/ff.c **** 	lfn = dp->lfn;
1927:Middlewares/Third_Party/FatFs/src/ff.c **** 	si = di = 0;
1928:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
1929:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = p[si++];					/* Get a character */
1930:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w < ' ' || w == '/' || w == '\\') break;	/* Break on end of segment */
1931:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (di >= _MAX_LFN)				/* Reject too long name */
1932:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_INVALID_NAME;
1933:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
1934:Middlewares/Third_Party/FatFs/src/ff.c **** 		w &= 0xFF;
1935:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(w)) {				/* Check if it is a DBC 1st byte (always false on SBCS cfg) */
1936:Middlewares/Third_Party/FatFs/src/ff.c **** #if _DF1S
1937:Middlewares/Third_Party/FatFs/src/ff.c **** 			b = (BYTE)p[si++];			/* Get 2nd byte */
1938:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = (w << 8) + b;			/* Create a DBC */
1939:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!IsDBCS2(b))
1940:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_INVALID_NAME;	/* Reject invalid sequence */
1941:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1942:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1943:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = ff_convert(w, 1);			/* Convert ANSI/OEM to Unicode */
1944:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!w) return FR_INVALID_NAME;	/* Reject invalid code */
1945:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1946:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w < 0x80 && chk_chr("\"*:<>\?|\x7F", w)) /* Reject illegal characters for LFN */
1947:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_INVALID_NAME;
1948:Middlewares/Third_Party/FatFs/src/ff.c **** 		lfn[di++] = w;					/* Store the Unicode character */
1949:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1950:Middlewares/Third_Party/FatFs/src/ff.c **** 	*path = &p[si];						/* Return pointer to the next segment */
1951:Middlewares/Third_Party/FatFs/src/ff.c **** 	cf = (w < ' ') ? NS_LAST : 0;		/* Set last segment flag if end of path */
1952:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH
1953:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((di == 1 && lfn[di - 1] == '.') || /* Is this a dot entry? */
1954:Middlewares/Third_Party/FatFs/src/ff.c **** 		(di == 2 && lfn[di - 1] == '.' && lfn[di - 2] == '.')) {
1955:Middlewares/Third_Party/FatFs/src/ff.c **** 		lfn[di] = 0;
1956:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < 11; i++)
1957:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->fn[i] = (i < di) ? '.' : ' ';
1958:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[i] = cf | NS_DOT;		/* This is a dot entry */
1959:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_OK;
1960:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1961:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1962:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (di) {						/* Strip trailing spaces and dots */
1963:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = lfn[di - 1];
1964:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w != ' ' && w != '.') break;
1965:Middlewares/Third_Party/FatFs/src/ff.c **** 		di--;
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 45


1966:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1967:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!di) return FR_INVALID_NAME;	/* Reject nul string */
1968:Middlewares/Third_Party/FatFs/src/ff.c **** 
1969:Middlewares/Third_Party/FatFs/src/ff.c **** 	lfn[di] = 0;						/* LFN is created */
1970:Middlewares/Third_Party/FatFs/src/ff.c **** 
1971:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create SFN in directory form */
1972:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_set(dp->fn, ' ', 11);
1973:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (si = 0; lfn[si] == ' ' || lfn[si] == '.'; si++) ;	/* Strip leading spaces and dots */
1974:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (si) cf |= NS_LOSS | NS_LFN;
1975:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (di && lfn[di - 1] != '.') di--;	/* Find extension (di<=si: no extension) */
1976:Middlewares/Third_Party/FatFs/src/ff.c **** 
1977:Middlewares/Third_Party/FatFs/src/ff.c **** 	b = i = 0; ni = 8;
1978:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
1979:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = lfn[si++];					/* Get an LFN character */
1980:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!w) break;					/* Break on end of the LFN */
1981:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w == ' ' || (w == '.' && si != di)) {	/* Remove spaces and dots */
1982:Middlewares/Third_Party/FatFs/src/ff.c **** 			cf |= NS_LOSS | NS_LFN; continue;
1983:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1984:Middlewares/Third_Party/FatFs/src/ff.c **** 
1985:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i >= ni || si == di) {		/* Extension or end of SFN */
1986:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ni == 11) {				/* Long extension */
1987:Middlewares/Third_Party/FatFs/src/ff.c **** 				cf |= NS_LOSS | NS_LFN; break;
1988:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1989:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (si != di) cf |= NS_LOSS | NS_LFN;	/* Out of 8.3 format */
1990:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (si > di) break;			/* No extension */
1991:Middlewares/Third_Party/FatFs/src/ff.c **** 			si = di; i = 8; ni = 11;	/* Enter extension section */
1992:Middlewares/Third_Party/FatFs/src/ff.c **** 			b <<= 2; continue;
1993:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1994:Middlewares/Third_Party/FatFs/src/ff.c **** 
1995:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w >= 0x80) {				/* Non ASCII character */
1996:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
1997:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = ff_convert(w, 0);		/* Unicode -> OEM code */
1998:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (w) w = ExCvt[w - 0x80];	/* Convert extended character to upper (SBCS) */
1999:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2000:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = ff_convert(ff_wtoupper(w), 0);	/* Upper converted Unicode -> OEM code */
2001:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2002:Middlewares/Third_Party/FatFs/src/ff.c **** 			cf |= NS_LFN;				/* Force create LFN entry */
2003:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2004:Middlewares/Third_Party/FatFs/src/ff.c **** 
2005:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_DF1S && w >= 0x100) {		/* DBC (always false at SBCS cfg) */
2006:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i >= ni - 1) {
2007:Middlewares/Third_Party/FatFs/src/ff.c **** 				cf |= NS_LOSS | NS_LFN; i = ni; continue;
2008:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2009:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->fn[i++] = (BYTE)(w >> 8);
2010:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {						/* SBC */
2011:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!w || chk_chr("+,;=[]", w)) {	/* Replace illegal characters for SFN */
2012:Middlewares/Third_Party/FatFs/src/ff.c **** 				w = '_'; cf |= NS_LOSS | NS_LFN;/* Lossy conversion */
2013:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
2014:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (IsUpper(w)) {		/* ASCII large capital */
2015:Middlewares/Third_Party/FatFs/src/ff.c **** 					b |= 2;
2016:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
2017:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (IsLower(w)) {	/* ASCII small capital */
2018:Middlewares/Third_Party/FatFs/src/ff.c **** 						b |= 1; w -= 0x20;
2019:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
2020:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2021:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2022:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 46


2023:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[i++] = (BYTE)w;
2024:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2025:Middlewares/Third_Party/FatFs/src/ff.c **** 
2026:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (dp->fn[0] == DDEM) dp->fn[0] = RDDEM;	/* If the first character collides with deleted mark, re
2027:Middlewares/Third_Party/FatFs/src/ff.c **** 
2028:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ni == 8) b <<= 2;
2029:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x0C) == 0x0C || (b & 0x03) == 0x03)	/* Create LFN entry when there are composite capital
2030:Middlewares/Third_Party/FatFs/src/ff.c **** 		cf |= NS_LFN;
2031:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(cf & NS_LFN)) {						/* When LFN is in 8.3 format without extended character, NT flags are c
2032:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((b & 0x03) == 0x01) cf |= NS_EXT;	/* NT flag (Extension has only small capital) */
2033:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((b & 0x0C) == 0x04) cf |= NS_BODY;	/* NT flag (Filename has only small capital) */
2034:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2035:Middlewares/Third_Party/FatFs/src/ff.c **** 
2036:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->fn[NSFLAG] = cf;	/* SFN is created */
2037:Middlewares/Third_Party/FatFs/src/ff.c **** 
2038:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
2039:Middlewares/Third_Party/FatFs/src/ff.c **** 
2040:Middlewares/Third_Party/FatFs/src/ff.c **** 
2041:Middlewares/Third_Party/FatFs/src/ff.c **** #else	/* Non-LFN configuration */
2042:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE b, c, d, *sfn;
2043:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT ni, si, i;
2044:Middlewares/Third_Party/FatFs/src/ff.c **** 	const char *p;
2045:Middlewares/Third_Party/FatFs/src/ff.c **** 
2046:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create file name in directory form */
2047:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (p = *path; *p == '/' || *p == '\\'; p++) ;	/* Strip duplicated separator */
2048:Middlewares/Third_Party/FatFs/src/ff.c **** 	sfn = dp->fn;
2049:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_set(sfn, ' ', 11);
2050:Middlewares/Third_Party/FatFs/src/ff.c **** 	si = i = b = 0; ni = 8;
2051:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH
2052:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (p[si] == '.') { /* Is this a dot entry? */
2053:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (;;) {
2054:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = (BYTE)p[si++];
2055:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c != '.' || si >= 3) break;
2056:Middlewares/Third_Party/FatFs/src/ff.c **** 			sfn[i++] = c;
2057:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2058:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c != '/' && c != '\\' && c > ' ') return FR_INVALID_NAME;
2059:Middlewares/Third_Party/FatFs/src/ff.c **** 		*path = &p[si];									/* Return pointer to the next segment */
2060:Middlewares/Third_Party/FatFs/src/ff.c **** 		sfn[NSFLAG] = (c <= ' ') ? NS_LAST | NS_DOT : NS_DOT;	/* Set last segment flag if end of path */
2061:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_OK;
2062:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2063:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2064:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
2065:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = (BYTE)p[si++];
2066:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c <= ' ' || c == '/' || c == '\\') break;	/* Break on end of segment */
2067:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '.' || i >= ni) {
2068:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ni != 8 || c != '.') return FR_INVALID_NAME;
2069:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = 8; ni = 11;
2070:Middlewares/Third_Party/FatFs/src/ff.c **** 			b <<= 2; continue;
2071:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2072:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c >= 0x80) {				/* Extended character? */
2073:Middlewares/Third_Party/FatFs/src/ff.c **** 			b |= 3;						/* Eliminate NT flag */
2074:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
2075:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = ExCvt[c - 0x80];		/* To upper extended characters (SBCS cfg) */
2076:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2077:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_DF1S
2078:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_INVALID_NAME;		/* Reject extended characters (ASCII cfg) */
2079:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 47


2080:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2081:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2082:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(c)) {				/* Check if it is a DBC 1st byte (always false on SBCS cfg) */
2083:Middlewares/Third_Party/FatFs/src/ff.c **** 			d = (BYTE)p[si++];			/* Get 2nd byte */
2084:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!IsDBCS2(d) || i >= ni - 1)	/* Reject invalid DBC */
2085:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_INVALID_NAME;
2086:Middlewares/Third_Party/FatFs/src/ff.c **** 			sfn[i++] = c;
2087:Middlewares/Third_Party/FatFs/src/ff.c **** 			sfn[i++] = d;
2088:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {						/* SBC */
2089:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (chk_chr("\"*+,:;<=>\?[]|\x7F", c))	/* Reject illegal chrs for SFN */
2090:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_INVALID_NAME;
2091:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (IsUpper(c)) {			/* ASCII large capital? */
2092:Middlewares/Third_Party/FatFs/src/ff.c **** 				b |= 2;
2093:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
2094:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (IsLower(c)) {		/* ASCII small capital? */
2095:Middlewares/Third_Party/FatFs/src/ff.c **** 					b |= 1; c -= 0x20;
2096:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2097:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2098:Middlewares/Third_Party/FatFs/src/ff.c **** 			sfn[i++] = c;
2099:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2100:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2101:Middlewares/Third_Party/FatFs/src/ff.c **** 	*path = &p[si];						/* Return pointer to the next segment */
2102:Middlewares/Third_Party/FatFs/src/ff.c **** 	c = (c <= ' ') ? NS_LAST : 0;		/* Set last segment flag if end of path */
2103:Middlewares/Third_Party/FatFs/src/ff.c **** 
2104:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!i) return FR_INVALID_NAME;		/* Reject nul string */
2105:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sfn[0] == DDEM) sfn[0] = RDDEM;	/* When first character collides with DDEM, replace it with RD
2106:Middlewares/Third_Party/FatFs/src/ff.c **** 
2107:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ni == 8) b <<= 2;
2108:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x03) == 0x01) c |= NS_EXT;	/* NT flag (Name extension has only small capital) */
2109:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x0C) == 0x04) c |= NS_BODY;	/* NT flag (Name body has only small capital) */
2110:Middlewares/Third_Party/FatFs/src/ff.c **** 
2111:Middlewares/Third_Party/FatFs/src/ff.c **** 	sfn[NSFLAG] = c;		/* Store NT flag, File name is created */
2112:Middlewares/Third_Party/FatFs/src/ff.c **** 
2113:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
2114:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2115:Middlewares/Third_Party/FatFs/src/ff.c **** }
2116:Middlewares/Third_Party/FatFs/src/ff.c **** 
2117:Middlewares/Third_Party/FatFs/src/ff.c **** 
2118:Middlewares/Third_Party/FatFs/src/ff.c **** 
2119:Middlewares/Third_Party/FatFs/src/ff.c **** 
2120:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2121:Middlewares/Third_Party/FatFs/src/ff.c **** /* Follow a file path                                                    */
2122:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2123:Middlewares/Third_Party/FatFs/src/ff.c **** 
2124:Middlewares/Third_Party/FatFs/src/ff.c **** static
2125:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT follow_path (	/* FR_OK(0): successful, !=0: error code */
2126:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,			/* Directory object to return last directory and found object */
2127:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path	/* Full-path string to find a file or directory */
2128:Middlewares/Third_Party/FatFs/src/ff.c **** )
2129:Middlewares/Third_Party/FatFs/src/ff.c **** {
2130:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
2131:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir, ns;
2132:Middlewares/Third_Party/FatFs/src/ff.c **** 
2133:Middlewares/Third_Party/FatFs/src/ff.c **** 
2134:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH
2135:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (*path == '/' || *path == '\\') {	/* There is a heading separator */
2136:Middlewares/Third_Party/FatFs/src/ff.c **** 		path++;	dp->sclust = 0;				/* Strip it and start from the root directory */
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 48


2137:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {								/* No heading separator */
2138:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sclust = dp->fs->cdir;			/* Start from the current directory */
2139:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2140:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2141:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (*path == '/' || *path == '\\')		/* Strip heading separator if exist */
2142:Middlewares/Third_Party/FatFs/src/ff.c **** 		path++;
2143:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->sclust = 0;							/* Always start from the root directory */
2144:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2145:Middlewares/Third_Party/FatFs/src/ff.c **** 
2146:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((UINT)*path < ' ') {				/* Null path name is the origin directory itself */
2147:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_sdi(dp, 0);
2148:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->dir = 0;
2149:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {								/* Follow path */
2150:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (;;) {
2151:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = create_name(dp, &path);	/* Get a segment name of the path */
2152:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
2153:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_find(dp);				/* Find an object with the sagment name */
2154:Middlewares/Third_Party/FatFs/src/ff.c **** 			ns = dp->fn[NSFLAG];
2155:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {				/* Failed to find the object */
2156:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) {	/* Object is not found */
2157:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (_FS_RPATH && (ns & NS_DOT)) {	/* If dot entry is not exist, */
2158:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->sclust = 0; dp->dir = 0;	/* it is the root directory and stay there */
2159:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!(ns & NS_LAST)) continue;	/* Continue to follow if not last segment */
2160:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_OK;					/* Ended at the root directroy. Function completed. */
2161:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {							/* Could not find the object */
2162:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!(ns & NS_LAST)) res = FR_NO_PATH;	/* Adjust error code if not last segment */
2163:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
2164:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2165:Middlewares/Third_Party/FatFs/src/ff.c **** 				break;
2166:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2167:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ns & NS_LAST) break;			/* Last segment matched. Function completed. */
2168:Middlewares/Third_Party/FatFs/src/ff.c **** 			dir = dp->dir;						/* Follow the sub-directory */
2169:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!(dir[DIR_Attr] & AM_DIR)) {	/* It is not a sub-directory and cannot follow */
2170:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NO_PATH; break;
2171:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2172:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->sclust = ld_clust(dp->fs, dir);
2173:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2174:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2175:Middlewares/Third_Party/FatFs/src/ff.c **** 
2176:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
2177:Middlewares/Third_Party/FatFs/src/ff.c **** }
2178:Middlewares/Third_Party/FatFs/src/ff.c **** 
2179:Middlewares/Third_Party/FatFs/src/ff.c **** 
2180:Middlewares/Third_Party/FatFs/src/ff.c **** 
2181:Middlewares/Third_Party/FatFs/src/ff.c **** 
2182:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2183:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get logical drive number from path name                               */
2184:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2185:Middlewares/Third_Party/FatFs/src/ff.c **** 
2186:Middlewares/Third_Party/FatFs/src/ff.c **** static
2187:Middlewares/Third_Party/FatFs/src/ff.c **** int get_ldnumber (		/* Returns logical drive number (-1:invalid drive) */
2188:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR** path	/* Pointer to pointer to the path name */
2189:Middlewares/Third_Party/FatFs/src/ff.c **** )
2190:Middlewares/Third_Party/FatFs/src/ff.c **** {
 543              		.loc 1 2190 0
 544              		.cfi_startproc
 545              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 49


 546              		@ frame_needed = 0, uses_anonymous_args = 0
 547              	.LVL65:
2191:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR *tp, *tt;
2192:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
2193:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol = -1;
2194:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STR_VOLUME_ID		/* Find string drive id */
2195:Middlewares/Third_Party/FatFs/src/ff.c **** 	static const char* const str[] = {_VOLUME_STRS};
2196:Middlewares/Third_Party/FatFs/src/ff.c **** 	const char *sp;
2197:Middlewares/Third_Party/FatFs/src/ff.c **** 	char c;
2198:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR tc;
2199:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2200:Middlewares/Third_Party/FatFs/src/ff.c **** 
2201:Middlewares/Third_Party/FatFs/src/ff.c **** 
2202:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (*path) {	/* If the pointer is not a null */
 548              		.loc 1 2202 0
 549 0000 0368     		ldr	r3, [r0]
2190:Middlewares/Third_Party/FatFs/src/ff.c **** {
 550              		.loc 1 2190 0
 551 0002 10B5     		push	{r4, lr}
 552              	.LCFI5:
 553              		.cfi_def_cfa_offset 8
 554              		.cfi_offset 4, -8
 555              		.cfi_offset 14, -4
 556              		.loc 1 2202 0
 557 0004 93B1     		cbz	r3, .L85
 558 0006 1A46     		mov	r2, r3
 559              	.L76:
 560 0008 1446     		mov	r4, r2
 561              	.LVL66:
2203:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (tt = *path; (UINT)*tt >= (_USE_LFN ? ' ' : '!') && *tt != ':'; tt++) ;	/* Find ':' in the pa
 562              		.loc 1 2203 0 discriminator 1
 563 000a 12F8011B 		ldrb	r1, [r2], #1	@ zero_extendqisi2
 564              	.LVL67:
 565 000e 2029     		cmp	r1, #32
 566 0010 0AD9     		bls	.L81
 567              		.loc 1 2203 0 is_stmt 0 discriminator 2
 568 0012 3A29     		cmp	r1, #58
 569 0014 F8D1     		bne	.L76
 570              	.LVL68:
2204:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (*tt == ':') {	/* If a ':' is exist in the path name */
2205:Middlewares/Third_Party/FatFs/src/ff.c **** 			tp = *path;
2206:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = *tp++ - '0'; 
 571              		.loc 1 2206 0 is_stmt 1
 572 0016 1A46     		mov	r2, r3
 573 0018 12F8011B 		ldrb	r1, [r2], #1	@ zero_extendqisi2
 574              	.LVL69:
2207:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i < 10 && tp == tt) {	/* Is there a numeric drive id? */
 575              		.loc 1 2207 0
 576 001c 9442     		cmp	r4, r2
 577 001e 05D1     		bne	.L85
2208:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i < _VOLUMES) {	/* If a drive id is found, get the value and strip it */
 578              		.loc 1 2208 0
 579 0020 3029     		cmp	r1, #48
 580 0022 03D1     		bne	.L85
 581              	.LVL70:
2209:Middlewares/Third_Party/FatFs/src/ff.c **** 					vol = (int)i;
2210:Middlewares/Third_Party/FatFs/src/ff.c **** 					*path = ++tt;
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 50


 582              		.loc 1 2210 0
 583 0024 0233     		adds	r3, r3, #2
 584              	.LVL71:
 585 0026 0360     		str	r3, [r0]
 586              	.LVL72:
 587              	.L81:
2211:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2212:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2213:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STR_VOLUME_ID
2214:Middlewares/Third_Party/FatFs/src/ff.c **** 			 else {	/* No numeric drive number, find string drive id */
2215:Middlewares/Third_Party/FatFs/src/ff.c **** 				i = 0; tt++;
2216:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
2217:Middlewares/Third_Party/FatFs/src/ff.c **** 					sp = str[i]; tp = *path;
2218:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {	/* Compare a string drive id with path name */
2219:Middlewares/Third_Party/FatFs/src/ff.c **** 						c = *sp++; tc = *tp++;
2220:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (IsLower(tc)) tc -= 0x20;
2221:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (c && (TCHAR)c == tc);
2222:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while ((c || tp != tt) && ++i < _VOLUMES);	/* Repeat for each id until pattern match */
2223:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i < _VOLUMES) {	/* If a drive id is found, get the value and strip it */
2224:Middlewares/Third_Party/FatFs/src/ff.c **** 					vol = (int)i;
2225:Middlewares/Third_Party/FatFs/src/ff.c **** 					*path = tt;
2226:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2227:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2228:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2229:Middlewares/Third_Party/FatFs/src/ff.c **** 			return vol;
2230:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2231:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH && _VOLUMES >= 2
2232:Middlewares/Third_Party/FatFs/src/ff.c **** 		vol = CurrVol;	/* Current drive */
2233:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2234:Middlewares/Third_Party/FatFs/src/ff.c **** 		vol = 0;		/* Drive 0 */
 588              		.loc 1 2234 0
 589 0028 0020     		movs	r0, #0
 590              	.LVL73:
 591 002a 10BD     		pop	{r4, pc}
 592              	.LVL74:
 593              	.L85:
2193:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol = -1;
 594              		.loc 1 2193 0
 595 002c 4FF0FF30 		mov	r0, #-1
 596              	.LVL75:
2235:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2236:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2237:Middlewares/Third_Party/FatFs/src/ff.c **** 	return vol;
2238:Middlewares/Third_Party/FatFs/src/ff.c **** }
 597              		.loc 1 2238 0
 598 0030 10BD     		pop	{r4, pc}
 599              		.cfi_endproc
 600              	.LFE155:
 602              		.section	.text.validate,"ax",%progbits
 603              		.align	1
 604              		.thumb
 605              		.thumb_func
 607              	validate:
 608              	.LFB158:
2239:Middlewares/Third_Party/FatFs/src/ff.c **** 
2240:Middlewares/Third_Party/FatFs/src/ff.c **** 
2241:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 51


2242:Middlewares/Third_Party/FatFs/src/ff.c **** 
2243:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2244:Middlewares/Third_Party/FatFs/src/ff.c **** /* Load a sector and check if it is an FAT boot sector                   */
2245:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2246:Middlewares/Third_Party/FatFs/src/ff.c **** 
2247:Middlewares/Third_Party/FatFs/src/ff.c **** static
2248:Middlewares/Third_Party/FatFs/src/ff.c **** BYTE check_fs (	/* 0:FAT boor sector, 1:Valid boor sector but not FAT, 2:Not a boot sector, 3:Disk 
2249:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,	/* File system object */
2250:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sect	/* Sector# (lba) to check if it is an FAT boot record or not */
2251:Middlewares/Third_Party/FatFs/src/ff.c **** )
2252:Middlewares/Third_Party/FatFs/src/ff.c **** {
2253:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->wflag = 0; fs->winsect = 0xFFFFFFFF;	/* Invaidate window */
2254:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (move_window(fs, sect) != FR_OK)			/* Load boot record */
2255:Middlewares/Third_Party/FatFs/src/ff.c **** 		return 3;
2256:Middlewares/Third_Party/FatFs/src/ff.c **** 
2257:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (LD_WORD(&fs->win.d8[BS_55AA]) != 0xAA55)	/* Check boot record signature (always placed at offs
2258:Middlewares/Third_Party/FatFs/src/ff.c **** 		return 2;
2259:Middlewares/Third_Party/FatFs/src/ff.c **** 
2260:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((LD_DWORD(&fs->win.d8[BS_FilSysType]) & 0xFFFFFF) == 0x544146)		/* Check "FAT" string */
2261:Middlewares/Third_Party/FatFs/src/ff.c **** 		return 0;
2262:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((LD_DWORD(&fs->win.d8[BS_FilSysType32]) & 0xFFFFFF) == 0x544146)	/* Check "FAT" string */
2263:Middlewares/Third_Party/FatFs/src/ff.c **** 		return 0;
2264:Middlewares/Third_Party/FatFs/src/ff.c **** 
2265:Middlewares/Third_Party/FatFs/src/ff.c **** 	return 1;
2266:Middlewares/Third_Party/FatFs/src/ff.c **** }
2267:Middlewares/Third_Party/FatFs/src/ff.c **** 
2268:Middlewares/Third_Party/FatFs/src/ff.c **** 
2269:Middlewares/Third_Party/FatFs/src/ff.c **** 
2270:Middlewares/Third_Party/FatFs/src/ff.c **** 
2271:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2272:Middlewares/Third_Party/FatFs/src/ff.c **** /* Find logical drive and check if the volume is mounted                 */
2273:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2274:Middlewares/Third_Party/FatFs/src/ff.c **** 
2275:Middlewares/Third_Party/FatFs/src/ff.c **** static
2276:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT find_volume (	/* FR_OK(0): successful, !=0: any error occurred */
2277:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS** rfs,		/* Pointer to pointer to the found file system object */
2278:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR** path,	/* Pointer to pointer to the path name (drive number) */
2279:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE wmode			/* !=0: Check write protection for write access */
2280:Middlewares/Third_Party/FatFs/src/ff.c **** )
2281:Middlewares/Third_Party/FatFs/src/ff.c **** {
2282:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE fmt, *pt;
2283:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol;
2284:Middlewares/Third_Party/FatFs/src/ff.c **** 	DSTATUS stat;
2285:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD bsect, fasize, tsect, sysect, nclst, szbfat, br[4];
2286:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD nrsv;
2287:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
2288:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
2289:Middlewares/Third_Party/FatFs/src/ff.c **** 
2290:Middlewares/Third_Party/FatFs/src/ff.c **** 
2291:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number from the path name */
2292:Middlewares/Third_Party/FatFs/src/ff.c **** 	*rfs = 0;
2293:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(path);
2294:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
2295:Middlewares/Third_Party/FatFs/src/ff.c **** 
2296:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Check if the file system object is valid or not */
2297:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs = FatFs[vol];					/* Get pointer to the file system object */
2298:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs) return FR_NOT_ENABLED;		/* Is the file system object available? */
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 52


2299:Middlewares/Third_Party/FatFs/src/ff.c **** 
2300:Middlewares/Third_Party/FatFs/src/ff.c **** 	ENTER_FF(fs);						/* Lock the volume */
2301:Middlewares/Third_Party/FatFs/src/ff.c **** 	*rfs = fs;							/* Return pointer to the file system object */
2302:Middlewares/Third_Party/FatFs/src/ff.c **** 
2303:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type) {					/* If the volume has been mounted */
2304:Middlewares/Third_Party/FatFs/src/ff.c **** 		stat = disk_status(fs->drv);
2305:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(stat & STA_NOINIT)) {		/* and the physical drive is kept initialized */
2306:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!_FS_READONLY && wmode && (stat & STA_PROTECT))	/* Check write protection if needed */
2307:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_WRITE_PROTECTED;
2308:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_OK;				/* The file system object is valid */
2309:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2310:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2311:Middlewares/Third_Party/FatFs/src/ff.c **** 
2312:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* The file system object is not valid. */
2313:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Following code attempts to mount the volume. (analyze BPB and initialize the fs object) */
2314:Middlewares/Third_Party/FatFs/src/ff.c **** 
2315:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fs_type = 0;					/* Clear the file system object */
2316:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->drv = LD2PD(vol);				/* Bind the logical drive and a physical drive */
2317:Middlewares/Third_Party/FatFs/src/ff.c **** 	stat = disk_initialize(fs->drv);	/* Initialize the physical drive */
2318:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT)				/* Check if the initialization succeeded */
2319:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NOT_READY;			/* Failed to initialize due to no medium or hard error */
2320:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!_FS_READONLY && wmode && (stat & STA_PROTECT))	/* Check disk write protection if needed */
2321:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_WRITE_PROTECTED;
2322:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS						/* Get sector size (multiple sector size cfg only) */
2323:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(fs->drv, GET_SECTOR_SIZE, &SS(fs)) != RES_OK
2324:Middlewares/Third_Party/FatFs/src/ff.c **** 		|| SS(fs) < _MIN_SS || SS(fs) > _MAX_SS) return FR_DISK_ERR;
2325:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2326:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Find an FAT partition on the drive. Supports only generic partitioning, FDISK and SFD. */
2327:Middlewares/Third_Party/FatFs/src/ff.c **** 	bsect = 0;
2328:Middlewares/Third_Party/FatFs/src/ff.c **** 	fmt = check_fs(fs, bsect);					/* Load sector 0 and check if it is an FAT boot sector as SFD */
2329:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == 1 || (!fmt && (LD2PT(vol)))) {	/* Not an FAT boot sector or forced partition number */
2330:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < 4; i++) {			/* Get partition offset */
2331:Middlewares/Third_Party/FatFs/src/ff.c **** 			pt = fs->win.d8 + MBR_Table + i * SZ_PTE;
2332:Middlewares/Third_Party/FatFs/src/ff.c **** 			br[i] = pt[4] ? LD_DWORD(&pt[8]) : 0;
2333:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2334:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = LD2PT(vol);						/* Partition number: 0:auto, 1-4:forced */
2335:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i) i--;
2336:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {								/* Find an FAT volume */
2337:Middlewares/Third_Party/FatFs/src/ff.c **** 			bsect = br[i];
2338:Middlewares/Third_Party/FatFs/src/ff.c **** 			fmt = bsect ? check_fs(fs, bsect) : 2;	/* Check the partition */
2339:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (!LD2PT(vol) && fmt && ++i < 4);
2340:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2341:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == 3) return FR_DISK_ERR;		/* An error occured in the disk I/O layer */
2342:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt) return FR_NO_FILESYSTEM;		/* No FAT volume is found */
2343:Middlewares/Third_Party/FatFs/src/ff.c **** 
2344:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* An FAT volume is found. Following code initializes the file system object */
2345:Middlewares/Third_Party/FatFs/src/ff.c **** 
2346:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (LD_WORD(fs->win.d8 + BPB_BytsPerSec) != SS(fs))	/* (BPB_BytsPerSec must be equal to the physic
2347:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
2348:Middlewares/Third_Party/FatFs/src/ff.c **** 
2349:Middlewares/Third_Party/FatFs/src/ff.c **** 	fasize = LD_WORD(fs->win.d8 + BPB_FATSz16);			/* Number of sectors per FAT */
2350:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fasize) fasize = LD_DWORD(fs->win.d8 + BPB_FATSz32);
2351:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fsize = fasize;
2352:Middlewares/Third_Party/FatFs/src/ff.c **** 
2353:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->n_fats = fs->win.d8[BPB_NumFATs];					/* Number of FAT copies */
2354:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->n_fats != 1 && fs->n_fats != 2)				/* (Must be 1 or 2) */
2355:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 53


2356:Middlewares/Third_Party/FatFs/src/ff.c **** 	fasize *= fs->n_fats;								/* Number of sectors for FAT area */
2357:Middlewares/Third_Party/FatFs/src/ff.c **** 
2358:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->csize = fs->win.d8[BPB_SecPerClus];				/* Number of sectors per cluster */
2359:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs->csize || (fs->csize & (fs->csize - 1)))	/* (Must be power of 2) */
2360:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
2361:Middlewares/Third_Party/FatFs/src/ff.c **** 
2362:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->n_rootdir = LD_WORD(fs->win.d8 + BPB_RootEntCnt);	/* Number of root directory entries */
2363:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->n_rootdir % (SS(fs) / SZ_DIRE))				/* (Must be sector aligned) */
2364:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
2365:Middlewares/Third_Party/FatFs/src/ff.c **** 
2366:Middlewares/Third_Party/FatFs/src/ff.c **** 	tsect = LD_WORD(fs->win.d8 + BPB_TotSec16);			/* Number of sectors on the volume */
2367:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!tsect) tsect = LD_DWORD(fs->win.d8 + BPB_TotSec32);
2368:Middlewares/Third_Party/FatFs/src/ff.c **** 
2369:Middlewares/Third_Party/FatFs/src/ff.c **** 	nrsv = LD_WORD(fs->win.d8 + BPB_RsvdSecCnt);			/* Number of reserved sectors */
2370:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!nrsv) return FR_NO_FILESYSTEM;					/* (Must not be 0) */
2371:Middlewares/Third_Party/FatFs/src/ff.c **** 
2372:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Determine the FAT sub type */
2373:Middlewares/Third_Party/FatFs/src/ff.c **** 	sysect = nrsv + fasize + fs->n_rootdir / (SS(fs) / SZ_DIRE);	/* RSV + FAT + DIR */
2374:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (tsect < sysect) return FR_NO_FILESYSTEM;		/* (Invalid volume size) */
2375:Middlewares/Third_Party/FatFs/src/ff.c **** 	nclst = (tsect - sysect) / fs->csize;				/* Number of clusters */
2376:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!nclst) return FR_NO_FILESYSTEM;				/* (Invalid volume size) */
2377:Middlewares/Third_Party/FatFs/src/ff.c **** 	fmt = FS_FAT12;
2378:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (nclst >= MIN_FAT16) fmt = FS_FAT16;
2379:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (nclst >= MIN_FAT32) fmt = FS_FAT32;
2380:Middlewares/Third_Party/FatFs/src/ff.c **** 
2381:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Boundaries and Limits */
2382:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->n_fatent = nclst + 2;							/* Number of FAT entries */
2383:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->volbase = bsect;								/* Volume start sector */
2384:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fatbase = bsect + nrsv; 						/* FAT start sector */
2385:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->database = bsect + sysect;						/* Data start sector */
2386:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32) {
2387:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->n_rootdir) return FR_NO_FILESYSTEM;		/* (BPB_RootEntCnt must be 0) */
2388:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->dirbase = LD_DWORD(fs->win.d8 + BPB_RootClus);	/* Root directory start cluster */
2389:Middlewares/Third_Party/FatFs/src/ff.c **** 		szbfat = fs->n_fatent * 4;						/* (Needed FAT size) */
2390:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
2391:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!fs->n_rootdir)	return FR_NO_FILESYSTEM;	/* (BPB_RootEntCnt must not be 0) */
2392:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->dirbase = fs->fatbase + fasize;				/* Root directory start sector */
2393:Middlewares/Third_Party/FatFs/src/ff.c **** 		szbfat = (fmt == FS_FAT16) ?					/* (Needed FAT size) */
2394:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->n_fatent * 2 : fs->n_fatent * 3 / 2 + (fs->n_fatent & 1);
2395:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2396:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fsize < (szbfat + (SS(fs) - 1)) / SS(fs))	/* (BPB_FATSz must not be less than the size nee
2397:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
2398:Middlewares/Third_Party/FatFs/src/ff.c **** 
2399:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
2400:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Initialize cluster allocation information */
2401:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->last_clust = fs->free_clust = 0xFFFFFFFF;
2402:Middlewares/Third_Party/FatFs/src/ff.c **** 
2403:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get fsinfo if available */
2404:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fsi_flag = 0x80;
2405:Middlewares/Third_Party/FatFs/src/ff.c **** #if (_FS_NOFSINFO & 3) != 3
2406:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32				/* Enable FSINFO only if FAT32 and BPB_FSInfo is 1 */
2407:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& LD_WORD(fs->win.d8 + BPB_FSInfo) == 1
2408:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& move_window(fs, bsect + 1) == FR_OK)
2409:Middlewares/Third_Party/FatFs/src/ff.c **** 	{
2410:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag = 0;
2411:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (LD_WORD(fs->win.d8 + BS_55AA) == 0xAA55	/* Load FSINFO data if available */
2412:Middlewares/Third_Party/FatFs/src/ff.c **** 			&& LD_DWORD(fs->win.d8 + FSI_LeadSig) == 0x41615252
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 54


2413:Middlewares/Third_Party/FatFs/src/ff.c **** 			&& LD_DWORD(fs->win.d8 + FSI_StrucSig) == 0x61417272)
2414:Middlewares/Third_Party/FatFs/src/ff.c **** 		{
2415:Middlewares/Third_Party/FatFs/src/ff.c **** #if (_FS_NOFSINFO & 1) == 0
2416:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clust = LD_DWORD(fs->win.d8 + FSI_Free_Count);
2417:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2418:Middlewares/Third_Party/FatFs/src/ff.c **** #if (_FS_NOFSINFO & 2) == 0
2419:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->last_clust = LD_DWORD(fs->win.d8 + FSI_Nxt_Free);
2420:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2421:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2422:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2423:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2424:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2425:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fs_type = fmt;	/* FAT sub-type */
2426:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->id = ++Fsid;	/* File system mount ID */
2427:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH
2428:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->cdir = 0;		/* Set current directory to root */
2429:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2430:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK			/* Clear file lock semaphores */
2431:Middlewares/Third_Party/FatFs/src/ff.c **** 	clear_lock(fs);
2432:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2433:Middlewares/Third_Party/FatFs/src/ff.c **** 
2434:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
2435:Middlewares/Third_Party/FatFs/src/ff.c **** }
2436:Middlewares/Third_Party/FatFs/src/ff.c **** 
2437:Middlewares/Third_Party/FatFs/src/ff.c **** 
2438:Middlewares/Third_Party/FatFs/src/ff.c **** 
2439:Middlewares/Third_Party/FatFs/src/ff.c **** 
2440:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2441:Middlewares/Third_Party/FatFs/src/ff.c **** /* Check if the file/directory object is valid or not                    */
2442:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2443:Middlewares/Third_Party/FatFs/src/ff.c **** 
2444:Middlewares/Third_Party/FatFs/src/ff.c **** static
2445:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT validate (	/* FR_OK(0): The object is valid, !=0: Invalid */
2446:Middlewares/Third_Party/FatFs/src/ff.c **** 	void* obj		/* Pointer to the object FIL/DIR to check validity */
2447:Middlewares/Third_Party/FatFs/src/ff.c **** )
2448:Middlewares/Third_Party/FatFs/src/ff.c **** {
 609              		.loc 1 2448 0
 610              		.cfi_startproc
 611              		@ args = 0, pretend = 0, frame = 0
 612              		@ frame_needed = 0, uses_anonymous_args = 0
 613              	.LVL76:
 614 0000 08B5     		push	{r3, lr}
 615              	.LCFI6:
 616              		.cfi_def_cfa_offset 8
 617              		.cfi_offset 3, -8
 618              		.cfi_offset 14, -4
2449:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL *fil = (FIL*)obj;	/* Assuming offset of .fs and .id in the FIL/DIR structure is identical */
2450:Middlewares/Third_Party/FatFs/src/ff.c **** 
2451:Middlewares/Third_Party/FatFs/src/ff.c **** 
2452:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fil || !fil->fs || !fil->fs->fs_type || fil->fs->id != fil->id || (disk_status(fil->fs->drv) 
 619              		.loc 1 2452 0
 620 0002 A8B1     		cbz	r0, .L91
 621              		.loc 1 2452 0 is_stmt 0 discriminator 1
 622 0004 D0F80032 		ldr	r3, [r0, #512]
 623 0008 93B1     		cbz	r3, .L91
 624 000a 93F80022 		ldrb	r2, [r3, #512]	@ zero_extendqisi2
 625 000e 7AB1     		cbz	r2, .L91
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 55


 626 0010 B3F80612 		ldrh	r1, [r3, #518]
 627 0014 B0F80422 		ldrh	r2, [r0, #516]
 628 0018 9142     		cmp	r1, r2
 629 001a 09D1     		bne	.L91
 630 001c 93F80102 		ldrb	r0, [r3, #513]	@ zero_extendqisi2
 631              	.LVL77:
 632 0020 FFF7FEFF 		bl	disk_status
 633              	.LVL78:
 634 0024 10F0010F 		tst	r0, #1
2453:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INVALID_OBJECT;
2454:Middlewares/Third_Party/FatFs/src/ff.c **** 
2455:Middlewares/Third_Party/FatFs/src/ff.c **** 	ENTER_FF(fil->fs);		/* Lock file system */
2456:Middlewares/Third_Party/FatFs/src/ff.c **** 
2457:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
 635              		.loc 1 2457 0 is_stmt 1 discriminator 1
 636 0028 14BF     		ite	ne
 637 002a 0920     		movne	r0, #9
 638 002c 0020     		moveq	r0, #0
 639 002e 08BD     		pop	{r3, pc}
 640              	.LVL79:
 641              	.L91:
2453:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INVALID_OBJECT;
 642              		.loc 1 2453 0
 643 0030 0920     		movs	r0, #9
 644              	.LVL80:
2458:Middlewares/Third_Party/FatFs/src/ff.c **** }
 645              		.loc 1 2458 0
 646 0032 08BD     		pop	{r3, pc}
 647              		.cfi_endproc
 648              	.LFE158:
 650              		.section	.text.ld_clust.isra.0,"ax",%progbits
 651              		.align	1
 652              		.thumb
 653              		.thumb_func
 655              	ld_clust.isra.0:
 656              	.LFB183:
1308:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD ld_clust (
 657              		.loc 1 1308 0
 658              		.cfi_startproc
 659              		@ args = 0, pretend = 0, frame = 0
 660              		@ frame_needed = 0, uses_anonymous_args = 0
 661              		@ link register save eliminated.
 662              	.LVL81:
1315:Middlewares/Third_Party/FatFs/src/ff.c **** 	cl = LD_WORD(dir + DIR_FstClusLO);
 663              		.loc 1 1315 0
 664 0000 CA7E     		ldrb	r2, [r1, #27]	@ zero_extendqisi2
 665 0002 8B7E     		ldrb	r3, [r1, #26]	@ zero_extendqisi2
1316:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_FAT32)
 666              		.loc 1 1316 0
 667 0004 0328     		cmp	r0, #3
1315:Middlewares/Third_Party/FatFs/src/ff.c **** 	cl = LD_WORD(dir + DIR_FstClusLO);
 668              		.loc 1 1315 0
 669 0006 43EA0223 		orr	r3, r3, r2, lsl #8
 670              	.LVL82:
1316:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_FAT32)
 671              		.loc 1 1316 0
 672 000a 05D1     		bne	.L94
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 56


1317:Middlewares/Third_Party/FatFs/src/ff.c **** 		cl |= (DWORD)LD_WORD(dir + DIR_FstClusHI) << 16;
 673              		.loc 1 1317 0
 674 000c 487D     		ldrb	r0, [r1, #21]	@ zero_extendqisi2
 675 000e 0A7D     		ldrb	r2, [r1, #20]	@ zero_extendqisi2
 676 0010 42EA0022 		orr	r2, r2, r0, lsl #8
 677 0014 43EA0243 		orr	r3, r3, r2, lsl #16
 678              	.LVL83:
 679              	.L94:
1320:Middlewares/Third_Party/FatFs/src/ff.c **** }
 680              		.loc 1 1320 0
 681 0018 1846     		mov	r0, r3
 682 001a 7047     		bx	lr
 683              		.cfi_endproc
 684              	.LFE183:
 686              		.section	.text.sync_window.part.2,"ax",%progbits
 687              		.align	1
 688              		.thumb
 689              		.thumb_func
 691              	sync_window.part.2:
 692              	.LFB185:
 773:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT sync_window (
 693              		.loc 1 773 0
 694              		.cfi_startproc
 695              		@ args = 0, pretend = 0, frame = 0
 696              		@ frame_needed = 0, uses_anonymous_args = 0
 697              	.LVL84:
 698 0000 70B5     		push	{r4, r5, r6, lr}
 699              	.LCFI7:
 700              		.cfi_def_cfa_offset 16
 701              		.cfi_offset 4, -16
 702              		.cfi_offset 5, -12
 703              		.cfi_offset 6, -8
 704              		.cfi_offset 14, -4
 783:Middlewares/Third_Party/FatFs/src/ff.c **** 		wsect = fs->winsect;	/* Current sector number */
 705              		.loc 1 783 0
 706 0002 D0F82C52 		ldr	r5, [r0, #556]
 707              	.LVL85:
 773:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT sync_window (
 708              		.loc 1 773 0
 709 0006 0446     		mov	r4, r0
 784:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(fs->drv, fs->win.d8, wsect, 1) != RES_OK) {
 710              		.loc 1 784 0
 711 0008 2146     		mov	r1, r4
 712 000a 90F80102 		ldrb	r0, [r0, #513]	@ zero_extendqisi2
 713              	.LVL86:
 714 000e 2A46     		mov	r2, r5
 715 0010 0123     		movs	r3, #1
 716 0012 FFF7FEFF 		bl	disk_write
 717              	.LVL87:
 718 0016 D0B9     		cbnz	r0, .L101
 788:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (wsect - fs->fatbase < fs->fsize) {		/* Is it in the FAT area? */
 719              		.loc 1 788 0
 720 0018 D4F82032 		ldr	r3, [r4, #544]
 787:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 0;
 721              		.loc 1 787 0
 722 001c 84F80402 		strb	r0, [r4, #516]
 788:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (wsect - fs->fatbase < fs->fsize) {		/* Is it in the FAT area? */
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 57


 723              		.loc 1 788 0
 724 0020 EA1A     		subs	r2, r5, r3
 725 0022 D4F81832 		ldr	r3, [r4, #536]
 726 0026 9A42     		cmp	r2, r3
 727 0028 01D3     		bcc	.L97
 728              	.L100:
 779:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_OK;
 729              		.loc 1 779 0
 730 002a 0020     		movs	r0, #0
 731 002c 70BD     		pop	{r4, r5, r6, pc}
 732              	.LVL88:
 733              	.L97:
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (nf = fs->n_fats; nf >= 2; nf--) {	/* Reflect the change to all FAT copies */
 734              		.loc 1 789 0
 735 002e 94F80362 		ldrb	r6, [r4, #515]	@ zero_extendqisi2
 736              	.LVL89:
 737              	.L98:
 738 0032 012E     		cmp	r6, #1
 739 0034 F9D9     		bls	.L100
 790:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 740              		.loc 1 790 0
 741 0036 D4F81832 		ldr	r3, [r4, #536]
 791:Middlewares/Third_Party/FatFs/src/ff.c **** 					disk_write(fs->drv, fs->win.d8, wsect, 1);
 742              		.loc 1 791 0
 743 003a 94F80102 		ldrb	r0, [r4, #513]	@ zero_extendqisi2
 790:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 744              		.loc 1 790 0
 745 003e 1D44     		add	r5, r5, r3
 746              	.LVL90:
 791:Middlewares/Third_Party/FatFs/src/ff.c **** 					disk_write(fs->drv, fs->win.d8, wsect, 1);
 747              		.loc 1 791 0
 748 0040 2146     		mov	r1, r4
 749 0042 2A46     		mov	r2, r5
 750 0044 0123     		movs	r3, #1
 751 0046 FFF7FEFF 		bl	disk_write
 752              	.LVL91:
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (nf = fs->n_fats; nf >= 2; nf--) {	/* Reflect the change to all FAT copies */
 753              		.loc 1 789 0
 754 004a 013E     		subs	r6, r6, #1
 755              	.LVL92:
 756 004c F1E7     		b	.L98
 757              	.LVL93:
 758              	.L101:
 785:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_DISK_ERR;
 759              		.loc 1 785 0
 760 004e 0120     		movs	r0, #1
 761              	.LVL94:
 797:Middlewares/Third_Party/FatFs/src/ff.c **** }
 762              		.loc 1 797 0
 763 0050 70BD     		pop	{r4, r5, r6, pc}
 764              		.cfi_endproc
 765              	.LFE185:
 767              		.section	.text.sync_window,"ax",%progbits
 768              		.align	1
 769              		.thumb
 770              		.thumb_func
 772              	sync_window:
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 58


 773              	.LFB134:
 776:Middlewares/Third_Party/FatFs/src/ff.c **** {
 774              		.loc 1 776 0
 775              		.cfi_startproc
 776              		@ args = 0, pretend = 0, frame = 0
 777              		@ frame_needed = 0, uses_anonymous_args = 0
 778              		@ link register save eliminated.
 779              	.LVL95:
 782:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->wflag) {	/* Write back the sector if it is dirty */
 780              		.loc 1 782 0
 781 0000 90F80432 		ldrb	r3, [r0, #516]	@ zero_extendqisi2
 782 0004 0BB1     		cbz	r3, .L103
 783 0006 FFF7FEBF 		b	sync_window.part.2
 784              	.LVL96:
 785              	.L103:
 797:Middlewares/Third_Party/FatFs/src/ff.c **** }
 786              		.loc 1 797 0
 787 000a 1846     		mov	r0, r3
 788              	.LVL97:
 789 000c 7047     		bx	lr
 790              		.cfi_endproc
 791              	.LFE134:
 793              		.section	.text.sync_fs,"ax",%progbits
 794              		.align	1
 795              		.thumb
 796              		.thumb_func
 798              	sync_fs:
 799              	.LFB136:
 836:Middlewares/Third_Party/FatFs/src/ff.c **** {
 800              		.loc 1 836 0
 801              		.cfi_startproc
 802              		@ args = 0, pretend = 0, frame = 0
 803              		@ frame_needed = 0, uses_anonymous_args = 0
 804              	.LVL98:
 805 0000 70B5     		push	{r4, r5, r6, lr}
 806              	.LCFI8:
 807              		.cfi_def_cfa_offset 16
 808              		.cfi_offset 4, -16
 809              		.cfi_offset 5, -12
 810              		.cfi_offset 6, -8
 811              		.cfi_offset 14, -4
 836:Middlewares/Third_Party/FatFs/src/ff.c **** {
 812              		.loc 1 836 0
 813 0002 0446     		mov	r4, r0
 840:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = sync_window(fs);
 814              		.loc 1 840 0
 815 0004 FFF7FEFF 		bl	sync_window
 816              	.LVL99:
 817 0008 0546     		mov	r5, r0
 818              	.LVL100:
 841:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 819              		.loc 1 841 0
 820 000a 002D     		cmp	r5, #0
 821 000c 55D1     		bne	.L105
 843:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->fs_type == FS_FAT32 && fs->fsi_flag == 1) {
 822              		.loc 1 843 0
 823 000e 94F80032 		ldrb	r3, [r4, #512]	@ zero_extendqisi2
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 59


 824 0012 032B     		cmp	r3, #3
 825 0014 48D1     		bne	.L106
 843:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->fs_type == FS_FAT32 && fs->fsi_flag == 1) {
 826              		.loc 1 843 0 is_stmt 0 discriminator 1
 827 0016 94F80562 		ldrb	r6, [r4, #517]	@ zero_extendqisi2
 828 001a 012E     		cmp	r6, #1
 829 001c 44D1     		bne	.L106
 845:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(fs->win.d8, 0, SS(fs));
 830              		.loc 1 845 0 is_stmt 1
 831 001e 2046     		mov	r0, r4
 832              	.LVL101:
 833 0020 2946     		mov	r1, r5
 834 0022 4FF40072 		mov	r2, #512
 835 0026 FFF7FEFF 		bl	mem_set
 836              	.LVL102:
 846:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_WORD(fs->win.d8 + BS_55AA, 0xAA55);
 837              		.loc 1 846 0
 838 002a 5523     		movs	r3, #85
 847:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_LeadSig, 0x41615252);
 839              		.loc 1 847 0
 840 002c 4122     		movs	r2, #65
 846:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_WORD(fs->win.d8 + BS_55AA, 0xAA55);
 841              		.loc 1 846 0
 842 002e 84F8FE31 		strb	r3, [r4, #510]
 843 0032 AA23     		movs	r3, #170
 844 0034 84F8FF31 		strb	r3, [r4, #511]
 847:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_LeadSig, 0x41615252);
 845              		.loc 1 847 0
 846 0038 E270     		strb	r2, [r4, #3]
 847 003a 5223     		movs	r3, #82
 848:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_StrucSig, 0x61417272);
 848              		.loc 1 848 0
 849 003c 84F8E621 		strb	r2, [r4, #486]
 849:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_Free_Count, fs->free_clust);
 850              		.loc 1 849 0
 851 0040 D4F81022 		ldr	r2, [r4, #528]
 847:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_LeadSig, 0x41615252);
 852              		.loc 1 847 0
 853 0044 2370     		strb	r3, [r4]
 854 0046 6370     		strb	r3, [r4, #1]
 855 0048 6123     		movs	r3, #97
 856 004a A370     		strb	r3, [r4, #2]
 848:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_StrucSig, 0x61417272);
 857              		.loc 1 848 0
 858 004c 84F8E731 		strb	r3, [r4, #487]
 849:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_Free_Count, fs->free_clust);
 859              		.loc 1 849 0
 860 0050 C2F30723 		ubfx	r3, r2, #8, #8
 861 0054 84F8E821 		strb	r2, [r4, #488]
 862 0058 84F8E931 		strb	r3, [r4, #489]
 863 005c 130C     		lsrs	r3, r2, #16
 864 005e 120E     		lsrs	r2, r2, #24
 865 0060 84F8EB21 		strb	r2, [r4, #491]
 850:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_Nxt_Free, fs->last_clust);
 866              		.loc 1 850 0
 867 0064 D4F80C22 		ldr	r2, [r4, #524]
 849:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_Free_Count, fs->free_clust);
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 60


 868              		.loc 1 849 0
 869 0068 84F8EA31 		strb	r3, [r4, #490]
 850:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_Nxt_Free, fs->last_clust);
 870              		.loc 1 850 0
 871 006c C2F30723 		ubfx	r3, r2, #8, #8
 872 0070 84F8EC21 		strb	r2, [r4, #492]
 873 0074 84F8ED31 		strb	r3, [r4, #493]
 874 0078 130C     		lsrs	r3, r2, #16
 875 007a 120E     		lsrs	r2, r2, #24
 876 007c 84F8EF21 		strb	r2, [r4, #495]
 852:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->winsect = fs->volbase + 1;
 877              		.loc 1 852 0
 878 0080 D4F81C22 		ldr	r2, [r4, #540]
 850:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_Nxt_Free, fs->last_clust);
 879              		.loc 1 850 0
 880 0084 84F8EE31 		strb	r3, [r4, #494]
 848:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_StrucSig, 0x61417272);
 881              		.loc 1 848 0
 882 0088 7221     		movs	r1, #114
 852:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->winsect = fs->volbase + 1;
 883              		.loc 1 852 0
 884 008a 0132     		adds	r2, r2, #1
 848:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_StrucSig, 0x61417272);
 885              		.loc 1 848 0
 886 008c 84F8E411 		strb	r1, [r4, #484]
 887 0090 84F8E511 		strb	r1, [r4, #485]
 852:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->winsect = fs->volbase + 1;
 888              		.loc 1 852 0
 889 0094 C4F82C22 		str	r2, [r4, #556]
 853:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(fs->drv, fs->win.d8, fs->winsect, 1);
 890              		.loc 1 853 0
 891 0098 94F80102 		ldrb	r0, [r4, #513]	@ zero_extendqisi2
 892 009c 2146     		mov	r1, r4
 893 009e 3346     		mov	r3, r6
 894 00a0 FFF7FEFF 		bl	disk_write
 895              	.LVL103:
 854:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag = 0;
 896              		.loc 1 854 0
 897 00a4 84F80552 		strb	r5, [r4, #517]
 898              	.L106:
 857:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_ioctl(fs->drv, CTRL_SYNC, 0) != RES_OK)
 899              		.loc 1 857 0
 900 00a8 0021     		movs	r1, #0
 901 00aa 94F80102 		ldrb	r0, [r4, #513]	@ zero_extendqisi2
 902 00ae 0A46     		mov	r2, r1
 903 00b0 FFF7FEFF 		bl	disk_ioctl
 904              	.LVL104:
 905 00b4 0030     		adds	r0, r0, #0
 906 00b6 18BF     		it	ne
 907 00b8 0120     		movne	r0, #1
 908              	.L105:
 909              	.LVL105:
 862:Middlewares/Third_Party/FatFs/src/ff.c **** }
 910              		.loc 1 862 0
 911 00ba 70BD     		pop	{r4, r5, r6, pc}
 912              		.cfi_endproc
 913              	.LFE136:
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 61


 915              		.section	.text.move_window,"ax",%progbits
 916              		.align	1
 917              		.thumb
 918              		.thumb_func
 920              	move_window:
 921              	.LFB135:
 806:Middlewares/Third_Party/FatFs/src/ff.c **** {
 922              		.loc 1 806 0
 923              		.cfi_startproc
 924              		@ args = 0, pretend = 0, frame = 0
 925              		@ frame_needed = 0, uses_anonymous_args = 0
 926              	.LVL106:
 810:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sector != fs->winsect) {	/* Window offset changed? */
 927              		.loc 1 810 0
 928 0000 D0F82C32 		ldr	r3, [r0, #556]
 929 0004 9942     		cmp	r1, r3
 806:Middlewares/Third_Party/FatFs/src/ff.c **** {
 930              		.loc 1 806 0
 931 0006 70B5     		push	{r4, r5, r6, lr}
 932              	.LCFI9:
 933              		.cfi_def_cfa_offset 16
 934              		.cfi_offset 4, -16
 935              		.cfi_offset 5, -12
 936              		.cfi_offset 6, -8
 937              		.cfi_offset 14, -4
 806:Middlewares/Third_Party/FatFs/src/ff.c **** {
 938              		.loc 1 806 0
 939 0008 0646     		mov	r6, r0
 940 000a 0D46     		mov	r5, r1
 810:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sector != fs->winsect) {	/* Window offset changed? */
 941              		.loc 1 810 0
 942 000c 13D0     		beq	.L111
 943              	.LVL107:
 944              	.LBB4:
 945              	.LBB5:
 812:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = sync_window(fs);		/* Write-back changes */
 946              		.loc 1 812 0
 947 000e FFF7FEFF 		bl	sync_window
 948              	.LVL108:
 814:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {			/* Fill sector window with new data */
 949              		.loc 1 814 0
 950 0012 0446     		mov	r4, r0
 951 0014 80B9     		cbnz	r0, .L108
 815:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_read(fs->drv, fs->win.d8, sector, 1) != RES_OK) {
 952              		.loc 1 815 0
 953 0016 2A46     		mov	r2, r5
 954 0018 96F80102 		ldrb	r0, [r6, #513]	@ zero_extendqisi2
 955              	.LVL109:
 956 001c 3146     		mov	r1, r6
 957 001e 0123     		movs	r3, #1
 958 0020 FFF7FEFF 		bl	disk_read
 959              	.LVL110:
 960 0024 0028     		cmp	r0, #0
 817:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_DISK_ERR;
 961              		.loc 1 817 0
 962 0026 18BF     		it	ne
 963 0028 4FF0FF35 		movne	r5, #-1
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 62


 964              	.LVL111:
 965 002c 18BF     		it	ne
 966 002e 0124     		movne	r4, #1
 967              	.LVL112:
 819:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->winsect = sector;
 968              		.loc 1 819 0
 969 0030 C6F82C52 		str	r5, [r6, #556]
 970 0034 00E0     		b	.L108
 971              	.LVL113:
 972              	.L111:
 973              	.LBE5:
 974              	.LBE4:
 807:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_OK;
 975              		.loc 1 807 0
 976 0036 0024     		movs	r4, #0
 977              	.LVL114:
 978              	.L108:
 823:Middlewares/Third_Party/FatFs/src/ff.c **** }
 979              		.loc 1 823 0
 980 0038 2046     		mov	r0, r4
 981 003a 70BD     		pop	{r4, r5, r6, pc}
 982              		.cfi_endproc
 983              	.LFE135:
 985              		.section	.text.check_fs,"ax",%progbits
 986              		.align	1
 987              		.thumb
 988              		.thumb_func
 990              	check_fs:
 991              	.LFB156:
2252:Middlewares/Third_Party/FatFs/src/ff.c **** {
 992              		.loc 1 2252 0
 993              		.cfi_startproc
 994              		@ args = 0, pretend = 0, frame = 0
 995              		@ frame_needed = 0, uses_anonymous_args = 0
 996              	.LVL115:
2253:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->wflag = 0; fs->winsect = 0xFFFFFFFF;	/* Invaidate window */
 997              		.loc 1 2253 0
 998 0000 0023     		movs	r3, #0
2252:Middlewares/Third_Party/FatFs/src/ff.c **** {
 999              		.loc 1 2252 0
 1000 0002 10B5     		push	{r4, lr}
 1001              	.LCFI10:
 1002              		.cfi_def_cfa_offset 8
 1003              		.cfi_offset 4, -8
 1004              		.cfi_offset 14, -4
2253:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->wflag = 0; fs->winsect = 0xFFFFFFFF;	/* Invaidate window */
 1005              		.loc 1 2253 0
 1006 0004 80F80432 		strb	r3, [r0, #516]
 1007 0008 4FF0FF33 		mov	r3, #-1
 1008 000c C0F82C32 		str	r3, [r0, #556]
2252:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1009              		.loc 1 2252 0
 1010 0010 0446     		mov	r4, r0
2254:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (move_window(fs, sect) != FR_OK)			/* Load boot record */
 1011              		.loc 1 2254 0
 1012 0012 FFF7FEFF 		bl	move_window
 1013              	.LVL116:
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 63


 1014 0016 80BB     		cbnz	r0, .L115
2257:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (LD_WORD(&fs->win.d8[BS_55AA]) != 0xAA55)	/* Check boot record signature (always placed at offs
 1015              		.loc 1 2257 0
 1016 0018 94F8FE31 		ldrb	r3, [r4, #510]	@ zero_extendqisi2
 1017 001c 94F8FF21 		ldrb	r2, [r4, #511]	@ zero_extendqisi2
 1018 0020 43EA0222 		orr	r2, r3, r2, lsl #8
 1019 0024 174B     		ldr	r3, .L118
 1020 0026 12B2     		sxth	r2, r2
 1021 0028 9A42     		cmp	r2, r3
 1022 002a 28D1     		bne	.L116
2260:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((LD_DWORD(&fs->win.d8[BS_FilSysType]) & 0xFFFFFF) == 0x544146)		/* Check "FAT" string */
 1023              		.loc 1 2260 0
 1024 002c 94F83820 		ldrb	r2, [r4, #56]	@ zero_extendqisi2
 1025 0030 94F83930 		ldrb	r3, [r4, #57]	@ zero_extendqisi2
 1026 0034 1204     		lsls	r2, r2, #16
 1027 0036 42EA0362 		orr	r2, r2, r3, lsl #24
 1028 003a 94F83630 		ldrb	r3, [r4, #54]	@ zero_extendqisi2
 1029 003e 1A43     		orrs	r2, r2, r3
 1030 0040 94F83730 		ldrb	r3, [r4, #55]	@ zero_extendqisi2
 1031 0044 42EA0322 		orr	r2, r2, r3, lsl #8
 1032 0048 0F4B     		ldr	r3, .L118+4
 1033 004a 22F07F42 		bic	r2, r2, #-16777216
 1034 004e 9A42     		cmp	r2, r3
 1035 0050 16D0     		beq	.L114
 1036              	.LVL117:
 1037              	.LBB8:
 1038              	.LBB9:
2262:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((LD_DWORD(&fs->win.d8[BS_FilSysType32]) & 0xFFFFFF) == 0x544146)	/* Check "FAT" string */
 1039              		.loc 1 2262 0
 1040 0052 94F85400 		ldrb	r0, [r4, #84]	@ zero_extendqisi2
 1041 0056 94F85520 		ldrb	r2, [r4, #85]	@ zero_extendqisi2
 1042 005a 0004     		lsls	r0, r0, #16
 1043 005c 40EA0260 		orr	r0, r0, r2, lsl #24
 1044 0060 94F85220 		ldrb	r2, [r4, #82]	@ zero_extendqisi2
 1045 0064 1043     		orrs	r0, r0, r2
 1046 0066 94F85320 		ldrb	r2, [r4, #83]	@ zero_extendqisi2
 1047 006a 40EA0220 		orr	r0, r0, r2, lsl #8
 1048 006e 20F07F40 		bic	r0, r0, #-16777216
2263:Middlewares/Third_Party/FatFs/src/ff.c **** 		return 0;
 1049              		.loc 1 2263 0
 1050 0072 C01A     		subs	r0, r0, r3
 1051 0074 18BF     		it	ne
 1052 0076 0120     		movne	r0, #1
 1053 0078 10BD     		pop	{r4, pc}
 1054              	.LVL118:
 1055              	.L115:
 1056              	.LBE9:
 1057              	.LBE8:
2255:Middlewares/Third_Party/FatFs/src/ff.c **** 		return 3;
 1058              		.loc 1 2255 0
 1059 007a 0320     		movs	r0, #3
 1060 007c 10BD     		pop	{r4, pc}
 1061              	.LVL119:
 1062              	.L116:
2258:Middlewares/Third_Party/FatFs/src/ff.c **** 		return 2;
 1063              		.loc 1 2258 0
 1064 007e 0220     		movs	r0, #2
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 64


 1065              	.L114:
2266:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1066              		.loc 1 2266 0
 1067 0080 10BD     		pop	{r4, pc}
 1068              	.LVL120:
 1069              	.L119:
 1070 0082 00BF     		.align	2
 1071              	.L118:
 1072 0084 55AAFFFF 		.word	-21931
 1073 0088 46415400 		.word	5521734
 1074              		.cfi_endproc
 1075              	.LFE156:
 1077              		.section	.text.find_volume,"ax",%progbits
 1078              		.align	1
 1079              		.thumb
 1080              		.thumb_func
 1082              	find_volume:
 1083              	.LFB157:
2281:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1084              		.loc 1 2281 0
 1085              		.cfi_startproc
 1086              		@ args = 0, pretend = 0, frame = 16
 1087              		@ frame_needed = 0, uses_anonymous_args = 0
 1088              	.LVL121:
 1089 0000 2DE9FF41 		push	{r0, r1, r2, r3, r4, r5, r6, r7, r8, lr}
 1090              	.LCFI11:
 1091              		.cfi_def_cfa_offset 40
 1092              		.cfi_offset 0, -40
 1093              		.cfi_offset 1, -36
 1094              		.cfi_offset 2, -32
 1095              		.cfi_offset 3, -28
 1096              		.cfi_offset 4, -24
 1097              		.cfi_offset 5, -20
 1098              		.cfi_offset 6, -16
 1099              		.cfi_offset 7, -12
 1100              		.cfi_offset 8, -8
 1101              		.cfi_offset 14, -4
2292:Middlewares/Third_Party/FatFs/src/ff.c **** 	*rfs = 0;
 1102              		.loc 1 2292 0
 1103 0004 0023     		movs	r3, #0
 1104 0006 0360     		str	r3, [r0]
2281:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1105              		.loc 1 2281 0
 1106 0008 0646     		mov	r6, r0
2293:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(path);
 1107              		.loc 1 2293 0
 1108 000a 0846     		mov	r0, r1
 1109              	.LVL122:
2281:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1110              		.loc 1 2281 0
 1111 000c 1546     		mov	r5, r2
2293:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(path);
 1112              		.loc 1 2293 0
 1113 000e FFF7FEFF 		bl	get_ldnumber
 1114              	.LVL123:
2294:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 1115              		.loc 1 2294 0
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 65


 1116 0012 071E     		subs	r7, r0, #0
 1117 0014 C0F27281 		blt	.L143
2297:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs = FatFs[vol];					/* Get pointer to the file system object */
 1118              		.loc 1 2297 0
 1119 0018 BF4B     		ldr	r3, .L184
 1120 001a 53F82740 		ldr	r4, [r3, r7, lsl #2]
 1121              	.LVL124:
2298:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs) return FR_NOT_ENABLED;		/* Is the file system object available? */
 1122              		.loc 1 2298 0
 1123 001e 002C     		cmp	r4, #0
 1124 0020 00F06E81 		beq	.L144
2301:Middlewares/Third_Party/FatFs/src/ff.c **** 	*rfs = fs;							/* Return pointer to the file system object */
 1125              		.loc 1 2301 0
 1126 0024 3460     		str	r4, [r6]
2303:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type) {					/* If the volume has been mounted */
 1127              		.loc 1 2303 0
 1128 0026 94F80032 		ldrb	r3, [r4, #512]	@ zero_extendqisi2
 1129 002a 73B1     		cbz	r3, .L122
2304:Middlewares/Third_Party/FatFs/src/ff.c **** 		stat = disk_status(fs->drv);
 1130              		.loc 1 2304 0
 1131 002c 94F80102 		ldrb	r0, [r4, #513]	@ zero_extendqisi2
 1132              	.LVL125:
 1133 0030 FFF7FEFF 		bl	disk_status
 1134              	.LVL126:
2305:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(stat & STA_NOINIT)) {		/* and the physical drive is kept initialized */
 1135              		.loc 1 2305 0
 1136 0034 C607     		lsls	r6, r0, #31
 1137              	.LVL127:
 1138 0036 08D4     		bmi	.L122
2306:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!_FS_READONLY && wmode && (stat & STA_PROTECT))	/* Check write protection if needed */
 1139              		.loc 1 2306 0
 1140 0038 002D     		cmp	r5, #0
 1141 003a 00F06381 		beq	.L145
2307:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_WRITE_PROTECTED;
 1142              		.loc 1 2307 0 discriminator 1
 1143 003e 10F0040F 		tst	r0, #4
 1144 0042 0CBF     		ite	eq
 1145 0044 0020     		moveq	r0, #0
 1146 0046 0A20     		movne	r0, #10
 1147              	.LVL128:
 1148 0048 63E1     		b	.L121
 1149              	.L122:
2315:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fs_type = 0;					/* Clear the file system object */
 1150              		.loc 1 2315 0
 1151 004a 0023     		movs	r3, #0
2316:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->drv = LD2PD(vol);				/* Bind the logical drive and a physical drive */
 1152              		.loc 1 2316 0
 1153 004c F8B2     		uxtb	r0, r7
2315:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fs_type = 0;					/* Clear the file system object */
 1154              		.loc 1 2315 0
 1155 004e 84F80032 		strb	r3, [r4, #512]
2316:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->drv = LD2PD(vol);				/* Bind the logical drive and a physical drive */
 1156              		.loc 1 2316 0
 1157 0052 84F80102 		strb	r0, [r4, #513]
2317:Middlewares/Third_Party/FatFs/src/ff.c **** 	stat = disk_initialize(fs->drv);	/* Initialize the physical drive */
 1158              		.loc 1 2317 0
 1159 0056 FFF7FEFF 		bl	disk_initialize
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 66


 1160              	.LVL129:
2318:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT)				/* Check if the initialization succeeded */
 1161              		.loc 1 2318 0
 1162 005a C107     		lsls	r1, r0, #31
 1163 005c 00F15481 		bmi	.L147
2320:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!_FS_READONLY && wmode && (stat & STA_PROTECT))	/* Check disk write protection if needed */
 1164              		.loc 1 2320 0
 1165 0060 15B1     		cbz	r5, .L123
2320:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!_FS_READONLY && wmode && (stat & STA_PROTECT))	/* Check disk write protection if needed */
 1166              		.loc 1 2320 0 is_stmt 0 discriminator 1
 1167 0062 4207     		lsls	r2, r0, #29
 1168 0064 00F15281 		bmi	.L148
 1169              	.L123:
 1170              	.LVL130:
2328:Middlewares/Third_Party/FatFs/src/ff.c **** 	fmt = check_fs(fs, bsect);					/* Load sector 0 and check if it is an FAT boot sector as SFD */
 1171              		.loc 1 2328 0 is_stmt 1
 1172 0068 2046     		mov	r0, r4
 1173              	.LVL131:
 1174 006a 0021     		movs	r1, #0
 1175 006c FFF7FEFF 		bl	check_fs
 1176              	.LVL132:
2329:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == 1 || (!fmt && (LD2PT(vol)))) {	/* Not an FAT boot sector or forced partition number */
 1177              		.loc 1 2329 0
 1178 0070 0128     		cmp	r0, #1
 1179 0072 24D1     		bne	.L149
 1180 0074 04F5E173 		add	r3, r4, #450
 1181 0078 0022     		movs	r2, #0
 1182              	.LVL133:
 1183              	.L127:
2332:Middlewares/Third_Party/FatFs/src/ff.c **** 			br[i] = pt[4] ? LD_DWORD(&pt[8]) : 0;
 1184              		.loc 1 2332 0
 1185 007a 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 1186 007c 49B1     		cbz	r1, .L125
2332:Middlewares/Third_Party/FatFs/src/ff.c **** 			br[i] = pt[4] ? LD_DWORD(&pt[8]) : 0;
 1187              		.loc 1 2332 0 is_stmt 0 discriminator 1
 1188 007e 9979     		ldrb	r1, [r3, #6]	@ zero_extendqisi2
 1189 0080 D879     		ldrb	r0, [r3, #7]	@ zero_extendqisi2
 1190 0082 0904     		lsls	r1, r1, #16
 1191 0084 41EA0061 		orr	r1, r1, r0, lsl #24
 1192 0088 1879     		ldrb	r0, [r3, #4]	@ zero_extendqisi2
 1193 008a 0143     		orrs	r1, r1, r0
 1194 008c 5879     		ldrb	r0, [r3, #5]	@ zero_extendqisi2
 1195 008e 41EA0021 		orr	r1, r1, r0, lsl #8
 1196              	.L125:
2332:Middlewares/Third_Party/FatFs/src/ff.c **** 			br[i] = pt[4] ? LD_DWORD(&pt[8]) : 0;
 1197              		.loc 1 2332 0 discriminator 3
 1198 0092 4DF80210 		str	r1, [sp, r2]
 1199              	.LVL134:
 1200 0096 0432     		adds	r2, r2, #4
2330:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < 4; i++) {			/* Get partition offset */
 1201              		.loc 1 2330 0 is_stmt 1 discriminator 3
 1202 0098 102A     		cmp	r2, #16
 1203 009a 03F11003 		add	r3, r3, #16
 1204              	.LVL135:
 1205 009e ECD1     		bne	.L127
2330:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < 4; i++) {			/* Get partition offset */
 1206              		.loc 1 2330 0 is_stmt 0
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 67


 1207 00a0 0026     		movs	r6, #0
 1208              	.LVL136:
 1209              	.L130:
2337:Middlewares/Third_Party/FatFs/src/ff.c **** 			bsect = br[i];
 1210              		.loc 1 2337 0 is_stmt 1
 1211 00a2 5DF80650 		ldr	r5, [sp, r6]
 1212              	.LVL137:
2338:Middlewares/Third_Party/FatFs/src/ff.c **** 			fmt = bsect ? check_fs(fs, bsect) : 2;	/* Check the partition */
 1213              		.loc 1 2338 0
 1214 00a6 2DB1     		cbz	r5, .L151
2338:Middlewares/Third_Party/FatFs/src/ff.c **** 			fmt = bsect ? check_fs(fs, bsect) : 2;	/* Check the partition */
 1215              		.loc 1 2338 0 is_stmt 0 discriminator 1
 1216 00a8 2046     		mov	r0, r4
 1217 00aa 2946     		mov	r1, r5
 1218 00ac FFF7FEFF 		bl	check_fs
 1219              	.LVL138:
2339:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (!LD2PT(vol) && fmt && ++i < 4);
 1220              		.loc 1 2339 0 is_stmt 1 discriminator 1
 1221 00b0 08B9     		cbnz	r0, .L128
 1222 00b2 0BE0     		b	.L129
 1223              	.LVL139:
 1224              	.L151:
2338:Middlewares/Third_Party/FatFs/src/ff.c **** 			fmt = bsect ? check_fs(fs, bsect) : 2;	/* Check the partition */
 1225              		.loc 1 2338 0
 1226 00b4 0220     		movs	r0, #2
 1227              	.L128:
 1228 00b6 0436     		adds	r6, r6, #4
2339:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (!LD2PT(vol) && fmt && ++i < 4);
 1229              		.loc 1 2339 0 discriminator 1
 1230 00b8 102E     		cmp	r6, #16
 1231 00ba F2D1     		bne	.L130
 1232 00bc 00E0     		b	.L124
 1233              	.LVL140:
 1234              	.L149:
2327:Middlewares/Third_Party/FatFs/src/ff.c **** 	bsect = 0;
 1235              		.loc 1 2327 0
 1236 00be 0025     		movs	r5, #0
 1237              	.LVL141:
 1238              	.L124:
2341:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == 3) return FR_DISK_ERR;		/* An error occured in the disk I/O layer */
 1239              		.loc 1 2341 0
 1240 00c0 0328     		cmp	r0, #3
 1241 00c2 00F02581 		beq	.L152
2342:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt) return FR_NO_FILESYSTEM;		/* No FAT volume is found */
 1242              		.loc 1 2342 0
 1243 00c6 08B1     		cbz	r0, .L129
 1244              	.LVL142:
 1245              	.L131:
 1246 00c8 0D20     		movs	r0, #13
 1247 00ca 22E1     		b	.L121
 1248              	.LVL143:
 1249              	.L129:
2346:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (LD_WORD(fs->win.d8 + BPB_BytsPerSec) != SS(fs))	/* (BPB_BytsPerSec must be equal to the physic
 1250              		.loc 1 2346 0
 1251 00cc 227B     		ldrb	r2, [r4, #12]	@ zero_extendqisi2
 1252 00ce E37A     		ldrb	r3, [r4, #11]	@ zero_extendqisi2
 1253 00d0 43EA0223 		orr	r3, r3, r2, lsl #8
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 68


 1254 00d4 B3F5007F 		cmp	r3, #512
 1255 00d8 F6D1     		bne	.L131
2349:Middlewares/Third_Party/FatFs/src/ff.c **** 	fasize = LD_WORD(fs->win.d8 + BPB_FATSz16);			/* Number of sectors per FAT */
 1256              		.loc 1 2349 0
 1257 00da E07D     		ldrb	r0, [r4, #23]	@ zero_extendqisi2
 1258 00dc A37D     		ldrb	r3, [r4, #22]	@ zero_extendqisi2
 1259              	.LVL144:
2350:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fasize) fasize = LD_DWORD(fs->win.d8 + BPB_FATSz32);
 1260              		.loc 1 2350 0
 1261 00de 53EA0020 		orrs	r0, r3, r0, lsl #8
 1262              	.LVL145:
 1263 00e2 0DD1     		bne	.L132
2350:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fasize) fasize = LD_DWORD(fs->win.d8 + BPB_FATSz32);
 1264              		.loc 1 2350 0 is_stmt 0 discriminator 1
 1265 00e4 94F82600 		ldrb	r0, [r4, #38]	@ zero_extendqisi2
 1266              	.LVL146:
 1267 00e8 94F82730 		ldrb	r3, [r4, #39]	@ zero_extendqisi2
 1268              	.LVL147:
 1269 00ec 0004     		lsls	r0, r0, #16
 1270 00ee 40EA0360 		orr	r0, r0, r3, lsl #24
 1271 00f2 94F82430 		ldrb	r3, [r4, #36]	@ zero_extendqisi2
 1272 00f6 1843     		orrs	r0, r0, r3
 1273 00f8 94F82530 		ldrb	r3, [r4, #37]	@ zero_extendqisi2
 1274 00fc 40EA0320 		orr	r0, r0, r3, lsl #8
 1275              	.LVL148:
 1276              	.L132:
2353:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->n_fats = fs->win.d8[BPB_NumFATs];					/* Number of FAT copies */
 1277              		.loc 1 2353 0 is_stmt 1
 1278 0100 267C     		ldrb	r6, [r4, #16]	@ zero_extendqisi2
2351:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fsize = fasize;
 1279              		.loc 1 2351 0
 1280 0102 C4F81802 		str	r0, [r4, #536]
2354:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->n_fats != 1 && fs->n_fats != 2)				/* (Must be 1 or 2) */
 1281              		.loc 1 2354 0
 1282 0106 731E     		subs	r3, r6, #1
 1283 0108 012B     		cmp	r3, #1
2353:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->n_fats = fs->win.d8[BPB_NumFATs];					/* Number of FAT copies */
 1284              		.loc 1 2353 0
 1285 010a 84F80362 		strb	r6, [r4, #515]
2354:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->n_fats != 1 && fs->n_fats != 2)				/* (Must be 1 or 2) */
 1286              		.loc 1 2354 0
 1287 010e DBD8     		bhi	.L131
 1288              	.LVL149:
2358:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->csize = fs->win.d8[BPB_SecPerClus];				/* Number of sectors per cluster */
 1289              		.loc 1 2358 0
 1290 0110 617B     		ldrb	r1, [r4, #13]	@ zero_extendqisi2
 1291 0112 84F80212 		strb	r1, [r4, #514]
2359:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs->csize || (fs->csize & (fs->csize - 1)))	/* (Must be power of 2) */
 1292              		.loc 1 2359 0
 1293 0116 0029     		cmp	r1, #0
 1294 0118 D6D0     		beq	.L131
2359:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs->csize || (fs->csize & (fs->csize - 1)))	/* (Must be power of 2) */
 1295              		.loc 1 2359 0 is_stmt 0 discriminator 1
 1296 011a 4B1E     		subs	r3, r1, #1
 1297 011c 0B42     		tst	r3, r1
 1298 011e D3D1     		bne	.L131
2362:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->n_rootdir = LD_WORD(fs->win.d8 + BPB_RootEntCnt);	/* Number of root directory entries */
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 69


 1299              		.loc 1 2362 0 is_stmt 1
 1300 0120 637C     		ldrb	r3, [r4, #17]	@ zero_extendqisi2
 1301 0122 A27C     		ldrb	r2, [r4, #18]	@ zero_extendqisi2
 1302 0124 43EA0222 		orr	r2, r3, r2, lsl #8
2363:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->n_rootdir % (SS(fs) / SZ_DIRE))				/* (Must be sector aligned) */
 1303              		.loc 1 2363 0
 1304 0128 1307     		lsls	r3, r2, #28
2362:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->n_rootdir = LD_WORD(fs->win.d8 + BPB_RootEntCnt);	/* Number of root directory entries */
 1305              		.loc 1 2362 0
 1306 012a A4F80822 		strh	r2, [r4, #520]	@ movhi
2363:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->n_rootdir % (SS(fs) / SZ_DIRE))				/* (Must be sector aligned) */
 1307              		.loc 1 2363 0
 1308 012e CBD1     		bne	.L131
2366:Middlewares/Third_Party/FatFs/src/ff.c **** 	tsect = LD_WORD(fs->win.d8 + BPB_TotSec16);			/* Number of sectors on the volume */
 1309              		.loc 1 2366 0
 1310 0130 277D     		ldrb	r7, [r4, #20]	@ zero_extendqisi2
 1311              	.LVL150:
 1312 0132 E37C     		ldrb	r3, [r4, #19]	@ zero_extendqisi2
 1313              	.LVL151:
2367:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!tsect) tsect = LD_DWORD(fs->win.d8 + BPB_TotSec32);
 1314              		.loc 1 2367 0
 1315 0134 53EA0723 		orrs	r3, r3, r7, lsl #8
 1316              	.LVL152:
 1317 0138 0DD1     		bne	.L133
2367:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!tsect) tsect = LD_DWORD(fs->win.d8 + BPB_TotSec32);
 1318              		.loc 1 2367 0 is_stmt 0 discriminator 1
 1319 013a 94F82230 		ldrb	r3, [r4, #34]	@ zero_extendqisi2
 1320              	.LVL153:
 1321 013e 94F82370 		ldrb	r7, [r4, #35]	@ zero_extendqisi2
 1322              	.LVL154:
 1323 0142 1B04     		lsls	r3, r3, #16
 1324 0144 43EA0763 		orr	r3, r3, r7, lsl #24
 1325 0148 94F82070 		ldrb	r7, [r4, #32]	@ zero_extendqisi2
 1326 014c 3B43     		orrs	r3, r3, r7
 1327 014e 94F82170 		ldrb	r7, [r4, #33]	@ zero_extendqisi2
 1328 0152 43EA0723 		orr	r3, r3, r7, lsl #8
 1329              	.LVL155:
 1330              	.L133:
2369:Middlewares/Third_Party/FatFs/src/ff.c **** 	nrsv = LD_WORD(fs->win.d8 + BPB_RsvdSecCnt);			/* Number of reserved sectors */
 1331              		.loc 1 2369 0 is_stmt 1
 1332 0156 94F80F80 		ldrb	r8, [r4, #15]	@ zero_extendqisi2
 1333 015a A77B     		ldrb	r7, [r4, #14]	@ zero_extendqisi2
 1334              	.LVL156:
2370:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!nrsv) return FR_NO_FILESYSTEM;					/* (Must not be 0) */
 1335              		.loc 1 2370 0
 1336 015c 57EA0828 		orrs	r8, r7, r8, lsl #8
 1337              	.LVL157:
 1338 0160 B2D0     		beq	.L131
2356:Middlewares/Third_Party/FatFs/src/ff.c **** 	fasize *= fs->n_fats;								/* Number of sectors for FAT area */
 1339              		.loc 1 2356 0
 1340 0162 06FB00FC 		mul	ip, r6, r0
2373:Middlewares/Third_Party/FatFs/src/ff.c **** 	sysect = nrsv + fasize + fs->n_rootdir / (SS(fs) / SZ_DIRE);	/* RSV + FAT + DIR */
 1341              		.loc 1 2373 0
 1342 0166 08EB1217 		add	r7, r8, r2, lsr #4
 1343              	.LVL158:
 1344 016a 6744     		add	r7, r7, ip
 1345              	.LVL159:
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 70


2374:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (tsect < sysect) return FR_NO_FILESYSTEM;		/* (Invalid volume size) */
 1346              		.loc 1 2374 0
 1347 016c BB42     		cmp	r3, r7
 1348 016e ABD3     		bcc	.L131
2375:Middlewares/Third_Party/FatFs/src/ff.c **** 	nclst = (tsect - sysect) / fs->csize;				/* Number of clusters */
 1349              		.loc 1 2375 0
 1350 0170 DB1B     		subs	r3, r3, r7
 1351              	.LVL160:
 1352 0172 B3FBF1F3 		udiv	r3, r3, r1
 1353              	.LVL161:
2376:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!nclst) return FR_NO_FILESYSTEM;				/* (Invalid volume size) */
 1354              		.loc 1 2376 0
 1355 0176 002B     		cmp	r3, #0
 1356 0178 A6D0     		beq	.L131
 1357              	.LVL162:
2378:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (nclst >= MIN_FAT16) fmt = FS_FAT16;
 1358              		.loc 1 2378 0
 1359 017a 40F6F571 		movw	r1, #4085
 1360 017e 8B42     		cmp	r3, r1
 1361 0180 06D9     		bls	.L153
 1362              	.LVL163:
 1363 0182 4FF6F576 		movw	r6, #65525
 1364              	.LVL164:
 1365 0186 B342     		cmp	r3, r6
 1366 0188 8CBF     		ite	hi
 1367 018a 0326     		movhi	r6, #3
 1368 018c 0226     		movls	r6, #2
 1369 018e 00E0     		b	.L135
 1370              	.LVL165:
 1371              	.L153:
2377:Middlewares/Third_Party/FatFs/src/ff.c **** 	fmt = FS_FAT12;
 1372              		.loc 1 2377 0
 1373 0190 0126     		movs	r6, #1
 1374              	.LVL166:
 1375              	.L135:
2382:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->n_fatent = nclst + 2;							/* Number of FAT entries */
 1376              		.loc 1 2382 0
 1377 0192 0233     		adds	r3, r3, #2
 1378              	.LVL167:
2384:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fatbase = bsect + nrsv; 						/* FAT start sector */
 1379              		.loc 1 2384 0
 1380 0194 05EB0801 		add	r1, r5, r8
2385:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->database = bsect + sysect;						/* Data start sector */
 1381              		.loc 1 2385 0
 1382 0198 2F44     		add	r7, r7, r5
 1383              	.LVL168:
2386:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32) {
 1384              		.loc 1 2386 0
 1385 019a 032E     		cmp	r6, #3
2382:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->n_fatent = nclst + 2;							/* Number of FAT entries */
 1386              		.loc 1 2382 0
 1387 019c C4F81432 		str	r3, [r4, #532]
2383:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->volbase = bsect;								/* Volume start sector */
 1388              		.loc 1 2383 0
 1389 01a0 C4F81C52 		str	r5, [r4, #540]
2384:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fatbase = bsect + nrsv; 						/* FAT start sector */
 1390              		.loc 1 2384 0
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 71


 1391 01a4 C4F82012 		str	r1, [r4, #544]
2385:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->database = bsect + sysect;						/* Data start sector */
 1392              		.loc 1 2385 0
 1393 01a8 C4F82872 		str	r7, [r4, #552]
2386:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32) {
 1394              		.loc 1 2386 0
 1395 01ac 13D1     		bne	.L136
 1396              	.LVL169:
2387:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->n_rootdir) return FR_NO_FILESYSTEM;		/* (BPB_RootEntCnt must be 0) */
 1397              		.loc 1 2387 0
 1398 01ae 002A     		cmp	r2, #0
 1399 01b0 8AD1     		bne	.L131
2388:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->dirbase = LD_DWORD(fs->win.d8 + BPB_RootClus);	/* Root directory start cluster */
 1400              		.loc 1 2388 0
 1401 01b2 94F82E20 		ldrb	r2, [r4, #46]	@ zero_extendqisi2
 1402              	.LVL170:
 1403 01b6 94F82F10 		ldrb	r1, [r4, #47]	@ zero_extendqisi2
 1404 01ba 1204     		lsls	r2, r2, #16
 1405 01bc 42EA0162 		orr	r2, r2, r1, lsl #24
 1406 01c0 94F82C10 		ldrb	r1, [r4, #44]	@ zero_extendqisi2
 1407 01c4 0A43     		orrs	r2, r2, r1
 1408 01c6 94F82D10 		ldrb	r1, [r4, #45]	@ zero_extendqisi2
 1409 01ca 42EA0122 		orr	r2, r2, r1, lsl #8
 1410 01ce C4F82422 		str	r2, [r4, #548]
2389:Middlewares/Third_Party/FatFs/src/ff.c **** 		szbfat = fs->n_fatent * 4;						/* (Needed FAT size) */
 1411              		.loc 1 2389 0
 1412 01d2 9B00     		lsls	r3, r3, #2
 1413              	.LVL171:
 1414 01d4 11E0     		b	.L137
 1415              	.LVL172:
 1416              	.L136:
2391:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!fs->n_rootdir)	return FR_NO_FILESYSTEM;	/* (BPB_RootEntCnt must not be 0) */
 1417              		.loc 1 2391 0
 1418 01d6 002A     		cmp	r2, #0
 1419 01d8 3FF476AF 		beq	.L131
2394:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->n_fatent * 2 : fs->n_fatent * 3 / 2 + (fs->n_fatent & 1);
 1420              		.loc 1 2394 0
 1421 01dc 022E     		cmp	r6, #2
 1422 01de 4FEA4302 		lsl	r2, r3, #1
 1423              	.LVL173:
 1424 01e2 18BF     		it	ne
 1425 01e4 D218     		addne	r2, r2, r3
2392:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->dirbase = fs->fatbase + fasize;				/* Root directory start sector */
 1426              		.loc 1 2392 0
 1427 01e6 6144     		add	r1, r1, ip
2394:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->n_fatent * 2 : fs->n_fatent * 3 / 2 + (fs->n_fatent & 1);
 1428              		.loc 1 2394 0
 1429 01e8 18BF     		it	ne
 1430 01ea 03F00103 		andne	r3, r3, #1
 1431              	.LVL174:
2392:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->dirbase = fs->fatbase + fasize;				/* Root directory start sector */
 1432              		.loc 1 2392 0
 1433 01ee C4F82412 		str	r1, [r4, #548]
2394:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->n_fatent * 2 : fs->n_fatent * 3 / 2 + (fs->n_fatent & 1);
 1434              		.loc 1 2394 0
 1435 01f2 0CBF     		ite	eq
 1436 01f4 1346     		moveq	r3, r2
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 72


 1437 01f6 03EB5203 		addne	r3, r3, r2, lsr #1
 1438              	.LVL175:
 1439              	.L137:
2396:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fsize < (szbfat + (SS(fs) - 1)) / SS(fs))	/* (BPB_FATSz must not be less than the size nee
 1440              		.loc 1 2396 0
 1441 01fa 03F2FF13 		addw	r3, r3, #511
 1442              	.LVL176:
 1443 01fe B0EB532F 		cmp	r0, r3, lsr #9
 1444 0202 FFF461AF 		bcc	.L131
2401:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->last_clust = fs->free_clust = 0xFFFFFFFF;
 1445              		.loc 1 2401 0
 1446 0206 4FF0FF33 		mov	r3, #-1
 1447              	.LVL177:
 1448 020a C4F81032 		str	r3, [r4, #528]
 1449 020e C4F80C32 		str	r3, [r4, #524]
2406:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32				/* Enable FSINFO only if FAT32 and BPB_FSInfo is 1 */
 1450              		.loc 1 2406 0
 1451 0212 032E     		cmp	r6, #3
2404:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fsi_flag = 0x80;
 1452              		.loc 1 2404 0
 1453 0214 4FF08003 		mov	r3, #128
 1454 0218 84F80532 		strb	r3, [r4, #517]
2406:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32				/* Enable FSINFO only if FAT32 and BPB_FSInfo is 1 */
 1455              		.loc 1 2406 0
 1456 021c 57D1     		bne	.L140
2407:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& LD_WORD(fs->win.d8 + BPB_FSInfo) == 1
 1457              		.loc 1 2407 0
 1458 021e 94F83120 		ldrb	r2, [r4, #49]	@ zero_extendqisi2
 1459 0222 94F83030 		ldrb	r3, [r4, #48]	@ zero_extendqisi2
 1460 0226 43EA0223 		orr	r3, r3, r2, lsl #8
 1461 022a 012B     		cmp	r3, #1
 1462 022c 4FD1     		bne	.L140
2408:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& move_window(fs, bsect + 1) == FR_OK)
 1463              		.loc 1 2408 0
 1464 022e 2046     		mov	r0, r4
 1465              	.LVL178:
 1466 0230 691C     		adds	r1, r5, #1
 1467 0232 FFF7FEFF 		bl	move_window
 1468              	.LVL179:
 1469 0236 0028     		cmp	r0, #0
 1470 0238 49D1     		bne	.L140
2411:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (LD_WORD(fs->win.d8 + BS_55AA) == 0xAA55	/* Load FSINFO data if available */
 1471              		.loc 1 2411 0
 1472 023a 94F8FE31 		ldrb	r3, [r4, #510]	@ zero_extendqisi2
 1473 023e 94F8FF21 		ldrb	r2, [r4, #511]	@ zero_extendqisi2
2410:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag = 0;
 1474              		.loc 1 2410 0
 1475 0242 84F80502 		strb	r0, [r4, #517]
2411:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (LD_WORD(fs->win.d8 + BS_55AA) == 0xAA55	/* Load FSINFO data if available */
 1476              		.loc 1 2411 0
 1477 0246 43EA0222 		orr	r2, r3, r2, lsl #8
 1478 024a 344B     		ldr	r3, .L184+4
 1479 024c 12B2     		sxth	r2, r2
 1480 024e 9A42     		cmp	r2, r3
 1481 0250 3DD1     		bne	.L140
2412:Middlewares/Third_Party/FatFs/src/ff.c **** 			&& LD_DWORD(fs->win.d8 + FSI_LeadSig) == 0x41615252
 1482              		.loc 1 2412 0
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 73


 1483 0252 A278     		ldrb	r2, [r4, #2]	@ zero_extendqisi2
 1484 0254 E378     		ldrb	r3, [r4, #3]	@ zero_extendqisi2
 1485 0256 1204     		lsls	r2, r2, #16
 1486 0258 42EA0362 		orr	r2, r2, r3, lsl #24
 1487 025c 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 1488 025e 1A43     		orrs	r2, r2, r3
 1489 0260 6378     		ldrb	r3, [r4, #1]	@ zero_extendqisi2
 1490 0262 42EA0322 		orr	r2, r2, r3, lsl #8
 1491 0266 2E4B     		ldr	r3, .L184+8
 1492 0268 9A42     		cmp	r2, r3
 1493 026a 30D1     		bne	.L140
2413:Middlewares/Third_Party/FatFs/src/ff.c **** 			&& LD_DWORD(fs->win.d8 + FSI_StrucSig) == 0x61417272)
 1494              		.loc 1 2413 0
 1495 026c 94F8E621 		ldrb	r2, [r4, #486]	@ zero_extendqisi2
 1496 0270 94F8E731 		ldrb	r3, [r4, #487]	@ zero_extendqisi2
 1497 0274 1204     		lsls	r2, r2, #16
 1498 0276 42EA0362 		orr	r2, r2, r3, lsl #24
 1499 027a 94F8E431 		ldrb	r3, [r4, #484]	@ zero_extendqisi2
 1500 027e 1A43     		orrs	r2, r2, r3
 1501 0280 94F8E531 		ldrb	r3, [r4, #485]	@ zero_extendqisi2
 1502 0284 42EA0322 		orr	r2, r2, r3, lsl #8
 1503 0288 264B     		ldr	r3, .L184+12
 1504 028a 9A42     		cmp	r2, r3
 1505 028c 1FD1     		bne	.L140
2416:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clust = LD_DWORD(fs->win.d8 + FSI_Free_Count);
 1506              		.loc 1 2416 0
 1507 028e 94F8EA31 		ldrb	r3, [r4, #490]	@ zero_extendqisi2
 1508 0292 94F8EB21 		ldrb	r2, [r4, #491]	@ zero_extendqisi2
 1509 0296 1B04     		lsls	r3, r3, #16
 1510 0298 43EA0263 		orr	r3, r3, r2, lsl #24
 1511 029c 94F8E821 		ldrb	r2, [r4, #488]	@ zero_extendqisi2
 1512 02a0 1343     		orrs	r3, r3, r2
 1513 02a2 94F8E921 		ldrb	r2, [r4, #489]	@ zero_extendqisi2
 1514 02a6 43EA0223 		orr	r3, r3, r2, lsl #8
 1515 02aa C4F81032 		str	r3, [r4, #528]
2419:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->last_clust = LD_DWORD(fs->win.d8 + FSI_Nxt_Free);
 1516              		.loc 1 2419 0
 1517 02ae 94F8EE31 		ldrb	r3, [r4, #494]	@ zero_extendqisi2
 1518 02b2 94F8EF21 		ldrb	r2, [r4, #495]	@ zero_extendqisi2
 1519 02b6 1B04     		lsls	r3, r3, #16
 1520 02b8 43EA0263 		orr	r3, r3, r2, lsl #24
 1521 02bc 94F8EC21 		ldrb	r2, [r4, #492]	@ zero_extendqisi2
 1522 02c0 1343     		orrs	r3, r3, r2
 1523 02c2 94F8ED21 		ldrb	r2, [r4, #493]	@ zero_extendqisi2
 1524 02c6 43EA0223 		orr	r3, r3, r2, lsl #8
 1525 02ca C4F80C32 		str	r3, [r4, #524]
 1526              	.L140:
2426:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->id = ++Fsid;	/* File system mount ID */
 1527              		.loc 1 2426 0
 1528 02ce 164A     		ldr	r2, .L184+16
2425:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fs_type = fmt;	/* FAT sub-type */
 1529              		.loc 1 2425 0
 1530 02d0 84F80062 		strb	r6, [r4, #512]
2426:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->id = ++Fsid;	/* File system mount ID */
 1531              		.loc 1 2426 0
 1532 02d4 1388     		ldrh	r3, [r2]
 1533 02d6 0133     		adds	r3, r3, #1
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 74


 1534 02d8 9BB2     		uxth	r3, r3
 1535 02da 1380     		strh	r3, [r2]	@ movhi
 1536 02dc A4F80632 		strh	r3, [r4, #518]	@ movhi
 1537              	.LVL180:
 1538              	.LBB12:
 1539              	.LBB13:
 760:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 1540              		.loc 1 760 0
 1541 02e0 124B     		ldr	r3, .L184+20
 1542 02e2 1A68     		ldr	r2, [r3]
 1543 02e4 A242     		cmp	r2, r4
 1544 02e6 04BF     		itt	eq
 1545 02e8 0022     		moveq	r2, #0
 1546 02ea 1A60     		streq	r2, [r3]
 1547              	.LVL181:
 1548 02ec DB68     		ldr	r3, [r3, #12]
 1549 02ee A342     		cmp	r3, r4
 1550 02f0 4FF00000 		mov	r0, #0
 1551 02f4 0DD1     		bne	.L121
 1552 02f6 0D4B     		ldr	r3, .L184+20
 1553 02f8 D860     		str	r0, [r3, #12]
 1554 02fa 0AE0     		b	.L121
 1555              	.LVL182:
 1556              	.L143:
 1557              	.LBE13:
 1558              	.LBE12:
2294:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 1559              		.loc 1 2294 0
 1560 02fc 0B20     		movs	r0, #11
 1561              	.LVL183:
 1562 02fe 08E0     		b	.L121
 1563              	.LVL184:
 1564              	.L144:
2298:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs) return FR_NOT_ENABLED;		/* Is the file system object available? */
 1565              		.loc 1 2298 0
 1566 0300 0C20     		movs	r0, #12
 1567              	.LVL185:
 1568 0302 06E0     		b	.L121
 1569              	.LVL186:
 1570              	.L145:
2308:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_OK;				/* The file system object is valid */
 1571              		.loc 1 2308 0
 1572 0304 2846     		mov	r0, r5
 1573              	.LVL187:
 1574 0306 04E0     		b	.L121
 1575              	.LVL188:
 1576              	.L147:
2319:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NOT_READY;			/* Failed to initialize due to no medium or hard error */
 1577              		.loc 1 2319 0
 1578 0308 0320     		movs	r0, #3
 1579              	.LVL189:
 1580 030a 02E0     		b	.L121
 1581              	.LVL190:
 1582              	.L148:
2321:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_WRITE_PROTECTED;
 1583              		.loc 1 2321 0
 1584 030c 0A20     		movs	r0, #10
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 75


 1585              	.LVL191:
 1586 030e 00E0     		b	.L121
 1587              	.LVL192:
 1588              	.L152:
2341:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == 3) return FR_DISK_ERR;		/* An error occured in the disk I/O layer */
 1589              		.loc 1 2341 0
 1590 0310 0120     		movs	r0, #1
 1591              	.LVL193:
 1592              	.L121:
2435:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1593              		.loc 1 2435 0
 1594 0312 04B0     		add	sp, sp, #16
 1595              		@ sp needed
 1596 0314 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1597              	.L185:
 1598              		.align	2
 1599              	.L184:
 1600 0318 00000000 		.word	.LANCHOR1
 1601 031c 55AAFFFF 		.word	-21931
 1602 0320 52526141 		.word	1096897106
 1603 0324 72724161 		.word	1631679090
 1604 0328 00000000 		.word	.LANCHOR2
 1605 032c 00000000 		.word	.LANCHOR0
 1606              		.cfi_endproc
 1607              	.LFE157:
 1609              		.section	.text.clust2sect,"ax",%progbits
 1610              		.align	1
 1611              		.global	clust2sect
 1612              		.thumb
 1613              		.thumb_func
 1615              	clust2sect:
 1616              	.LFB137:
 877:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1617              		.loc 1 877 0
 1618              		.cfi_startproc
 1619              		@ args = 0, pretend = 0, frame = 0
 1620              		@ frame_needed = 0, uses_anonymous_args = 0
 1621              		@ link register save eliminated.
 1622              	.LVL194:
 879:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst >= fs->n_fatent - 2) return 0;		/* Invalid cluster# */
 1623              		.loc 1 879 0
 1624 0000 D0F81432 		ldr	r3, [r0, #532]
 878:Middlewares/Third_Party/FatFs/src/ff.c **** 	clst -= 2;
 1625              		.loc 1 878 0
 1626 0004 0239     		subs	r1, r1, #2
 1627              	.LVL195:
 879:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst >= fs->n_fatent - 2) return 0;		/* Invalid cluster# */
 1628              		.loc 1 879 0
 1629 0006 023B     		subs	r3, r3, #2
 1630 0008 9942     		cmp	r1, r3
 880:Middlewares/Third_Party/FatFs/src/ff.c **** 	return clst * fs->csize + fs->database;
 1631              		.loc 1 880 0
 1632 000a 3DBF     		ittte	cc
 1633 000c 90F80222 		ldrbcc	r2, [r0, #514]	@ zero_extendqisi2
 1634 0010 D0F82832 		ldrcc	r3, [r0, #552]
 1635 0014 02FB0130 		mlacc	r0, r2, r1, r3
 1636              	.LVL196:
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 76


 879:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst >= fs->n_fatent - 2) return 0;		/* Invalid cluster# */
 1637              		.loc 1 879 0
 1638 0018 0020     		movcs	r0, #0
 881:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1639              		.loc 1 881 0
 1640 001a 7047     		bx	lr
 1641              		.cfi_endproc
 1642              	.LFE137:
 1644              		.section	.text.get_fat,"ax",%progbits
 1645              		.align	1
 1646              		.global	get_fat
 1647              		.thumb
 1648              		.thumb_func
 1650              	get_fat:
 1651              	.LFB138:
 895:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1652              		.loc 1 895 0
 1653              		.cfi_startproc
 1654              		@ args = 0, pretend = 0, frame = 0
 1655              		@ frame_needed = 0, uses_anonymous_args = 0
 1656              	.LVL197:
 901:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst < 2 || clst >= fs->n_fatent) {	/* Check range */
 1657              		.loc 1 901 0
 1658 0000 0129     		cmp	r1, #1
 895:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1659              		.loc 1 895 0
 1660 0002 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1661              	.LCFI12:
 1662              		.cfi_def_cfa_offset 24
 1663              		.cfi_offset 3, -24
 1664              		.cfi_offset 4, -20
 1665              		.cfi_offset 5, -16
 1666              		.cfi_offset 6, -12
 1667              		.cfi_offset 7, -8
 1668              		.cfi_offset 14, -4
 895:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1669              		.loc 1 895 0
 1670 0004 0446     		mov	r4, r0
 1671 0006 0D46     		mov	r5, r1
 901:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst < 2 || clst >= fs->n_fatent) {	/* Check range */
 1672              		.loc 1 901 0
 1673 0008 59D9     		bls	.L199
 901:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst < 2 || clst >= fs->n_fatent) {	/* Check range */
 1674              		.loc 1 901 0 is_stmt 0 discriminator 1
 1675 000a D0F81432 		ldr	r3, [r0, #532]
 1676 000e 9942     		cmp	r1, r3
 1677 0010 55D2     		bcs	.L199
 1678              	.LVL198:
 1679              	.LBB16:
 1680              	.LBB17:
 907:Middlewares/Third_Party/FatFs/src/ff.c **** 		switch (fs->fs_type) {
 1681              		.loc 1 907 0 is_stmt 1
 1682 0012 90F80032 		ldrb	r3, [r0, #512]	@ zero_extendqisi2
 1683 0016 022B     		cmp	r3, #2
 1684 0018 27D0     		beq	.L192
 1685 001a 032B     		cmp	r3, #3
 1686 001c 36D0     		beq	.L193
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 77


 1687 001e 012B     		cmp	r3, #1
 1688 0020 4DD1     		bne	.L199
 1689              	.LVL199:
 909:Middlewares/Third_Party/FatFs/src/ff.c **** 			bc = (UINT)clst; bc += bc / 2;
 1690              		.loc 1 909 0
 1691 0022 01EB5106 		add	r6, r1, r1, lsr #1
 1692              	.LVL200:
 910:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 1693              		.loc 1 910 0
 1694 0026 D0F82012 		ldr	r1, [r0, #544]
 1695              	.LVL201:
 1696 002a 01EB5621 		add	r1, r1, r6, lsr #9
 1697 002e FFF7FEFF 		bl	move_window
 1698              	.LVL202:
 1699 0032 10B1     		cbz	r0, .L195
 1700              	.LVL203:
 1701              	.L196:
 905:Middlewares/Third_Party/FatFs/src/ff.c **** 		val = 0xFFFFFFFF;	/* Default value falls on disk error */
 1702              		.loc 1 905 0
 1703 0034 4FF0FF30 		mov	r0, #-1
 1704 0038 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1705              	.LVL204:
 1706              	.L195:
 912:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 1707              		.loc 1 912 0
 1708 003a D4F82012 		ldr	r1, [r4, #544]
 911:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = fs->win.d8[bc++ % SS(fs)];
 1709              		.loc 1 911 0
 1710 003e 771C     		adds	r7, r6, #1
 1711              	.LVL205:
 1712 0040 C6F30806 		ubfx	r6, r6, #0, #9
 912:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 1713              		.loc 1 912 0
 1714 0044 2046     		mov	r0, r4
 1715 0046 01EB5721 		add	r1, r1, r7, lsr #9
 911:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = fs->win.d8[bc++ % SS(fs)];
 1716              		.loc 1 911 0
 1717 004a A65D     		ldrb	r6, [r4, r6]	@ zero_extendqisi2
 1718              	.LVL206:
 912:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 1719              		.loc 1 912 0
 1720 004c FFF7FEFF 		bl	move_window
 1721              	.LVL207:
 1722 0050 0028     		cmp	r0, #0
 1723 0052 EFD1     		bne	.L196
 913:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc |= fs->win.d8[bc % SS(fs)] << 8;
 1724              		.loc 1 913 0
 1725 0054 C7F30807 		ubfx	r7, r7, #0, #9
 1726              	.LVL208:
 914:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = clst & 1 ? wc >> 4 : (wc & 0xFFF);
 1727              		.loc 1 914 0
 1728 0058 EB07     		lsls	r3, r5, #31
 913:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc |= fs->win.d8[bc % SS(fs)] << 8;
 1729              		.loc 1 913 0
 1730 005a E05D     		ldrb	r0, [r4, r7]	@ zero_extendqisi2
 1731 005c 46EA0020 		orr	r0, r6, r0, lsl #8
 1732              	.LVL209:
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 78


 914:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = clst & 1 ? wc >> 4 : (wc & 0xFFF);
 1733              		.loc 1 914 0
 1734 0060 4CBF     		ite	mi
 1735 0062 0009     		lsrmi	r0, r0, #4
 1736              	.LVL210:
 1737 0064 C0F30B00 		ubfxpl	r0, r0, #0, #12
 1738 0068 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1739              	.LVL211:
 1740              	.L192:
 918:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (clst / (SS(fs) / 2))) != FR_OK) break;
 1741              		.loc 1 918 0
 1742 006a D0F82012 		ldr	r1, [r0, #544]
 1743              	.LVL212:
 1744 006e 01EB1521 		add	r1, r1, r5, lsr #8
 1745 0072 FFF7FEFF 		bl	move_window
 1746              	.LVL213:
 1747 0076 0028     		cmp	r0, #0
 1748 0078 DCD1     		bne	.L196
 919:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 2 % SS(fs)];
 1749              		.loc 1 919 0
 1750 007a 6D00     		lsls	r5, r5, #1
 1751              	.LVL214:
 1752 007c 05F4FF75 		and	r5, r5, #510
 1753              	.LVL215:
 920:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = LD_WORD(p);
 1754              		.loc 1 920 0
 1755 0080 635D     		ldrb	r3, [r4, r5]	@ zero_extendqisi2
 1756 0082 2C44     		add	r4, r4, r5
 1757              	.LVL216:
 1758 0084 6078     		ldrb	r0, [r4, #1]	@ zero_extendqisi2
 1759 0086 43EA0020 		orr	r0, r3, r0, lsl #8
 1760              	.LVL217:
 1761 008a F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1762              	.LVL218:
 1763              	.L193:
 924:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (clst / (SS(fs) / 4))) != FR_OK) break;
 1764              		.loc 1 924 0
 1765 008c D0F82012 		ldr	r1, [r0, #544]
 1766              	.LVL219:
 1767 0090 01EBD511 		add	r1, r1, r5, lsr #7
 1768 0094 FFF7FEFF 		bl	move_window
 1769              	.LVL220:
 1770 0098 0028     		cmp	r0, #0
 1771 009a CBD1     		bne	.L196
 925:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 4 % SS(fs)];
 1772              		.loc 1 925 0
 1773 009c AD00     		lsls	r5, r5, #2
 1774              	.LVL221:
 1775 009e 05F4FE75 		and	r5, r5, #508
 1776 00a2 6319     		adds	r3, r4, r5
 1777              	.LVL222:
 926:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = LD_DWORD(p) & 0x0FFFFFFF;
 1778              		.loc 1 926 0
 1779 00a4 D878     		ldrb	r0, [r3, #3]	@ zero_extendqisi2
 1780 00a6 9A78     		ldrb	r2, [r3, #2]	@ zero_extendqisi2
 1781 00a8 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 1782              	.LVL223:
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 79


 1783 00aa 0006     		lsls	r0, r0, #24
 1784 00ac 40EA0240 		orr	r0, r0, r2, lsl #16
 1785 00b0 40EA0320 		orr	r0, r0, r3, lsl #8
 1786 00b4 635D     		ldrb	r3, [r4, r5]	@ zero_extendqisi2
 1787 00b6 1843     		orrs	r0, r0, r3
 1788 00b8 20F07040 		bic	r0, r0, #-268435456
 1789              	.LVL224:
 1790 00bc F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1791              	.LVL225:
 1792              	.L199:
 1793              	.LBE17:
 1794              	.LBE16:
 902:Middlewares/Third_Party/FatFs/src/ff.c **** 		val = 1;	/* Internal error */
 1795              		.loc 1 902 0
 1796 00be 0120     		movs	r0, #1
 1797              	.LVL226:
 935:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1798              		.loc 1 935 0
 1799 00c0 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1800              		.cfi_endproc
 1801              	.LFE138:
 1803              		.section	.text.dir_sdi,"ax",%progbits
 1804              		.align	1
 1805              		.thumb
 1806              		.thumb_func
 1808              	dir_sdi:
 1809              	.LFB143:
1157:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1810              		.loc 1 1157 0
 1811              		.cfi_startproc
 1812              		@ args = 0, pretend = 0, frame = 0
 1813              		@ frame_needed = 0, uses_anonymous_args = 0
 1814              	.LVL227:
 1815 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1816              	.LCFI13:
 1817              		.cfi_def_cfa_offset 24
 1818              		.cfi_offset 3, -24
 1819              		.cfi_offset 4, -20
 1820              		.cfi_offset 5, -16
 1821              		.cfi_offset 6, -12
 1822              		.cfi_offset 7, -8
 1823              		.cfi_offset 14, -4
1163:Middlewares/Third_Party/FatFs/src/ff.c **** 	clst = dp->sclust;		/* Table start cluster (0:root) */
 1824              		.loc 1 1163 0
 1825 0002 D0F80842 		ldr	r4, [r0, #520]
 1826              	.LVL228:
1157:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1827              		.loc 1 1157 0
 1828 0006 0546     		mov	r5, r0
1164:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst == 1 || clst >= dp->fs->n_fatent)	/* Check start cluster range */
 1829              		.loc 1 1164 0
 1830 0008 012C     		cmp	r4, #1
1157:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1831              		.loc 1 1157 0
 1832 000a 0E46     		mov	r6, r1
1162:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->index = (WORD)idx;	/* Current index */
 1833              		.loc 1 1162 0
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 80


 1834 000c A5F80612 		strh	r1, [r5, #518]	@ movhi
1164:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst == 1 || clst >= dp->fs->n_fatent)	/* Check start cluster range */
 1835              		.loc 1 1164 0
 1836 0010 01D1     		bne	.L203
 1837              	.LVL229:
 1838              	.L205:
1165:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INT_ERR;
 1839              		.loc 1 1165 0
 1840 0012 0220     		movs	r0, #2
 1841 0014 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1842              	.LVL230:
 1843              	.L203:
1164:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst == 1 || clst >= dp->fs->n_fatent)	/* Check start cluster range */
 1844              		.loc 1 1164 0 discriminator 1
 1845 0016 D0F80032 		ldr	r3, [r0, #512]
 1846 001a D3F81422 		ldr	r2, [r3, #532]
 1847 001e 9442     		cmp	r4, r2
 1848 0020 F7D2     		bcs	.L205
1166:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!clst && dp->fs->fs_type == FS_FAT32)	/* Replace cluster# 0 with root cluster# if in FAT32 */
 1849              		.loc 1 1166 0
 1850 0022 74B9     		cbnz	r4, .L206
1166:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!clst && dp->fs->fs_type == FS_FAT32)	/* Replace cluster# 0 with root cluster# if in FAT32 */
 1851              		.loc 1 1166 0 is_stmt 0 discriminator 1
 1852 0024 93F80022 		ldrb	r2, [r3, #512]	@ zero_extendqisi2
 1853 0028 032A     		cmp	r2, #3
 1854 002a 02D1     		bne	.L207
1167:Middlewares/Third_Party/FatFs/src/ff.c **** 		clst = dp->fs->dirbase;
 1855              		.loc 1 1167 0 is_stmt 1
 1856 002c D3F82422 		ldr	r2, [r3, #548]
 1857              	.LVL231:
1169:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst == 0) {	/* Static table (root-directory in FAT12/16) */
 1858              		.loc 1 1169 0
 1859 0030 32B9     		cbnz	r2, .L211
 1860              	.LVL232:
 1861              	.L207:
1170:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (idx >= dp->fs->n_rootdir)	/* Is index out of range? */
 1862              		.loc 1 1170 0
 1863 0032 B3F80822 		ldrh	r2, [r3, #520]
 1864 0036 9642     		cmp	r6, r2
 1865 0038 EBD2     		bcs	.L205
1172:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = dp->fs->dirbase;
 1866              		.loc 1 1172 0
 1867 003a D3F82402 		ldr	r0, [r3, #548]
 1868              	.LVL233:
 1869 003e 19E0     		b	.L208
 1870              	.LVL234:
 1871              	.L211:
 1872 0040 1446     		mov	r4, r2
 1873              	.LVL235:
 1874              	.L206:
1175:Middlewares/Third_Party/FatFs/src/ff.c **** 		ic = SS(dp->fs) / SZ_DIRE * dp->fs->csize;	/* Entries per cluster */
 1875              		.loc 1 1175 0
 1876 0042 93F80272 		ldrb	r7, [r3, #514]	@ zero_extendqisi2
 1877 0046 3F01     		lsls	r7, r7, #4
 1878              	.LVL236:
 1879              	.L209:
1176:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (idx >= ic) {	/* Follow cluster chain */
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 81


 1880              		.loc 1 1176 0 discriminator 1
 1881 0048 BE42     		cmp	r6, r7
1177:Middlewares/Third_Party/FatFs/src/ff.c **** 			clst = get_fat(dp->fs, clst);				/* Get next cluster */
 1882              		.loc 1 1177 0 discriminator 1
 1883 004a D5F80002 		ldr	r0, [r5, #512]
 1884 004e 2146     		mov	r1, r4
1176:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (idx >= ic) {	/* Follow cluster chain */
 1885              		.loc 1 1176 0 discriminator 1
 1886 0050 0ED3     		bcc	.L216
 1887              	.LVL237:
1177:Middlewares/Third_Party/FatFs/src/ff.c **** 			clst = get_fat(dp->fs, clst);				/* Get next cluster */
 1888              		.loc 1 1177 0
 1889 0052 FFF7FEFF 		bl	get_fat
 1890              	.LVL238:
1178:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
 1891              		.loc 1 1178 0
 1892 0056 431C     		adds	r3, r0, #1
1177:Middlewares/Third_Party/FatFs/src/ff.c **** 			clst = get_fat(dp->fs, clst);				/* Get next cluster */
 1893              		.loc 1 1177 0
 1894 0058 0446     		mov	r4, r0
 1895              	.LVL239:
1178:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
 1896              		.loc 1 1178 0
 1897 005a 1DD0     		beq	.L212
1179:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst < 2 || clst >= dp->fs->n_fatent)	/* Reached to end of table or internal error */
 1898              		.loc 1 1179 0
 1899 005c 0128     		cmp	r0, #1
 1900 005e D8D9     		bls	.L205
1179:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst < 2 || clst >= dp->fs->n_fatent)	/* Reached to end of table or internal error */
 1901              		.loc 1 1179 0 is_stmt 0 discriminator 1
 1902 0060 D5F80032 		ldr	r3, [r5, #512]
 1903 0064 D3F81432 		ldr	r3, [r3, #532]
 1904 0068 9842     		cmp	r0, r3
 1905 006a D2D2     		bcs	.L205
1181:Middlewares/Third_Party/FatFs/src/ff.c **** 			idx -= ic;
 1906              		.loc 1 1181 0 is_stmt 1
 1907 006c F61B     		subs	r6, r6, r7
 1908              	.LVL240:
 1909 006e EBE7     		b	.L209
 1910              	.LVL241:
 1911              	.L216:
1183:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = clust2sect(dp->fs, clst);
 1912              		.loc 1 1183 0
 1913 0070 FFF7FEFF 		bl	clust2sect
 1914              	.LVL242:
 1915              	.L208:
1185:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->clust = clst;	/* Current cluster# */
 1916              		.loc 1 1185 0
 1917 0074 C5F80C42 		str	r4, [r5, #524]
1186:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!sect) return FR_INT_ERR;
 1918              		.loc 1 1186 0
 1919 0078 0028     		cmp	r0, #0
 1920 007a CAD0     		beq	.L205
1188:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = dp->fs->win.d8 + (idx % (SS(dp->fs) / SZ_DIRE)) * SZ_DIRE;	/* Ptr to the entry in the se
 1921              		.loc 1 1188 0
 1922 007c D5F80032 		ldr	r3, [r5, #512]
1187:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->sect = sect + idx / (SS(dp->fs) / SZ_DIRE);					/* Sector# of the directory entry */
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 82


 1923              		.loc 1 1187 0
 1924 0080 00EB1610 		add	r0, r0, r6, lsr #4
 1925              	.LVL243:
1188:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = dp->fs->win.d8 + (idx % (SS(dp->fs) / SZ_DIRE)) * SZ_DIRE;	/* Ptr to the entry in the se
 1926              		.loc 1 1188 0
 1927 0084 06F00F06 		and	r6, r6, #15
 1928              	.LVL244:
 1929 0088 03EB4613 		add	r3, r3, r6, lsl #5
1187:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->sect = sect + idx / (SS(dp->fs) / SZ_DIRE);					/* Sector# of the directory entry */
 1930              		.loc 1 1187 0
 1931 008c C5F81002 		str	r0, [r5, #528]
1188:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = dp->fs->win.d8 + (idx % (SS(dp->fs) / SZ_DIRE)) * SZ_DIRE;	/* Ptr to the entry in the se
 1932              		.loc 1 1188 0
 1933 0090 C5F81432 		str	r3, [r5, #532]
1190:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
 1934              		.loc 1 1190 0
 1935 0094 0020     		movs	r0, #0
 1936 0096 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1937              	.LVL245:
 1938              	.L212:
1178:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
 1939              		.loc 1 1178 0
 1940 0098 0120     		movs	r0, #1
 1941              	.LVL246:
1191:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1942              		.loc 1 1191 0
 1943 009a F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1944              		.cfi_endproc
 1945              	.LFE143:
 1947              		.section	.text.dir_remove,"ax",%progbits
 1948              		.align	1
 1949              		.thumb
 1950              		.thumb_func
 1952              	dir_remove:
 1953              	.LFB151:
1729:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1954              		.loc 1 1729 0
 1955              		.cfi_startproc
 1956              		@ args = 0, pretend = 0, frame = 0
 1957              		@ frame_needed = 0, uses_anonymous_args = 0
 1958              	.LVL247:
 1959 0000 38B5     		push	{r3, r4, r5, lr}
 1960              	.LCFI14:
 1961              		.cfi_def_cfa_offset 16
 1962              		.cfi_offset 3, -16
 1963              		.cfi_offset 4, -12
 1964              		.cfi_offset 5, -8
 1965              		.cfi_offset 14, -4
1750:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_sdi(dp, dp->index);
 1966              		.loc 1 1750 0
 1967 0002 B0F80612 		ldrh	r1, [r0, #518]
1729:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1968              		.loc 1 1729 0
 1969 0006 0446     		mov	r4, r0
1750:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_sdi(dp, dp->index);
 1970              		.loc 1 1750 0
 1971 0008 FFF7FEFF 		bl	dir_sdi
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 83


 1972              	.LVL248:
1751:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 1973              		.loc 1 1751 0
 1974 000c 0546     		mov	r5, r0
 1975 000e B0B9     		cbnz	r0, .L218
 1976              	.LVL249:
 1977              	.LBB20:
 1978              	.LBB21:
1752:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->fs, dp->sect);
 1979              		.loc 1 1752 0
 1980 0010 D4F80002 		ldr	r0, [r4, #512]
 1981              	.LVL250:
 1982 0014 D4F81012 		ldr	r1, [r4, #528]
 1983 0018 FFF7FEFF 		bl	move_window
 1984              	.LVL251:
1753:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 1985              		.loc 1 1753 0
 1986 001c 0546     		mov	r5, r0
 1987 001e 70B9     		cbnz	r0, .L218
1754:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(dp->dir, 0, SZ_DIRE);	/* Clear and mark the entry "deleted" */
 1988              		.loc 1 1754 0
 1989 0020 2022     		movs	r2, #32
 1990 0022 D4F81402 		ldr	r0, [r4, #532]
 1991              	.LVL252:
 1992 0026 2946     		mov	r1, r5
 1993 0028 FFF7FEFF 		bl	mem_set
 1994              	.LVL253:
1755:Middlewares/Third_Party/FatFs/src/ff.c **** 			*dp->dir = DDEM;
 1995              		.loc 1 1755 0
 1996 002c D4F81432 		ldr	r3, [r4, #532]
 1997 0030 E522     		movs	r2, #229
 1998 0032 1A70     		strb	r2, [r3]
1756:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->fs->wflag = 1;
 1999              		.loc 1 1756 0
 2000 0034 D4F80032 		ldr	r3, [r4, #512]
 2001 0038 0122     		movs	r2, #1
 2002 003a 83F80422 		strb	r2, [r3, #516]
 2003              	.LVL254:
 2004              	.L218:
 2005              	.LBE21:
 2006              	.LBE20:
1762:Middlewares/Third_Party/FatFs/src/ff.c **** }
 2007              		.loc 1 1762 0
 2008 003e 2846     		mov	r0, r5
 2009 0040 38BD     		pop	{r3, r4, r5, pc}
 2010              		.cfi_endproc
 2011              	.LFE151:
 2013              		.section	.text.put_fat,"ax",%progbits
 2014              		.align	1
 2015              		.global	put_fat
 2016              		.thumb
 2017              		.thumb_func
 2019              	put_fat:
 2020              	.LFB139:
 951:Middlewares/Third_Party/FatFs/src/ff.c **** {
 2021              		.loc 1 951 0
 2022              		.cfi_startproc
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 84


 2023              		@ args = 0, pretend = 0, frame = 0
 2024              		@ frame_needed = 0, uses_anonymous_args = 0
 2025              	.LVL255:
 957:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst < 2 || clst >= fs->n_fatent) {	/* Check range */
 2026              		.loc 1 957 0
 2027 0000 0129     		cmp	r1, #1
 951:Middlewares/Third_Party/FatFs/src/ff.c **** {
 2028              		.loc 1 951 0
 2029 0002 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 2030              	.LCFI15:
 2031              		.cfi_def_cfa_offset 24
 2032              		.cfi_offset 4, -24
 2033              		.cfi_offset 5, -20
 2034              		.cfi_offset 6, -16
 2035              		.cfi_offset 7, -12
 2036              		.cfi_offset 8, -8
 2037              		.cfi_offset 14, -4
 951:Middlewares/Third_Party/FatFs/src/ff.c **** {
 2038              		.loc 1 951 0
 2039 0006 0446     		mov	r4, r0
 2040 0008 0D46     		mov	r5, r1
 2041 000a 1646     		mov	r6, r2
 957:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst < 2 || clst >= fs->n_fatent) {	/* Check range */
 2042              		.loc 1 957 0
 2043 000c 6CD9     		bls	.L231
 957:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst < 2 || clst >= fs->n_fatent) {	/* Check range */
 2044              		.loc 1 957 0 is_stmt 0 discriminator 1
 2045 000e D0F81432 		ldr	r3, [r0, #532]
 2046 0012 9942     		cmp	r1, r3
 2047 0014 68D2     		bcs	.L231
 2048              	.LVL256:
 2049              	.LBB24:
 2050              	.LBB25:
 961:Middlewares/Third_Party/FatFs/src/ff.c **** 		switch (fs->fs_type) {
 2051              		.loc 1 961 0 is_stmt 1
 2052 0016 90F80032 		ldrb	r3, [r0, #512]	@ zero_extendqisi2
 2053 001a 022B     		cmp	r3, #2
 2054 001c 37D0     		beq	.L223
 2055 001e 032B     		cmp	r3, #3
 2056 0020 45D0     		beq	.L224
 2057 0022 012B     		cmp	r3, #1
 2058 0024 60D1     		bne	.L231
 2059              	.LVL257:
 963:Middlewares/Third_Party/FatFs/src/ff.c **** 			bc = (UINT)clst; bc += bc / 2;
 2060              		.loc 1 963 0
 2061 0026 01EB5107 		add	r7, r1, r1, lsr #1
 2062              	.LVL258:
 964:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
 2063              		.loc 1 964 0
 2064 002a D0F82012 		ldr	r1, [r0, #544]
 2065              	.LVL259:
 2066 002e 01EB5721 		add	r1, r1, r7, lsr #9
 2067 0032 FFF7FEFF 		bl	move_window
 2068              	.LVL260:
 965:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 2069              		.loc 1 965 0
 2070 0036 0028     		cmp	r0, #0
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 85


 2071 0038 57D1     		bne	.L221
 967:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? ((*p & 0x0F) | ((BYTE)val << 4)) : (BYTE)val;
 2072              		.loc 1 967 0
 2073 003a 15F00105 		ands	r5, r5, #1
 2074              	.LVL261:
 966:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[bc++ % SS(fs)];
 2075              		.loc 1 966 0
 2076 003e 07F10108 		add	r8, r7, #1
 2077              	.LVL262:
 2078 0042 F3B2     		uxtb	r3, r6
 2079 0044 C7F30807 		ubfx	r7, r7, #0, #9
 2080              	.LVL263:
 967:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? ((*p & 0x0F) | ((BYTE)val << 4)) : (BYTE)val;
 2081              		.loc 1 967 0
 2082 0048 05D0     		beq	.L227
 2083 004a E25D     		ldrb	r2, [r4, r7]	@ zero_extendqisi2
 2084 004c 02F00F02 		and	r2, r2, #15
 2085 0050 42EA0313 		orr	r3, r2, r3, lsl #4
 2086 0054 DBB2     		uxtb	r3, r3
 2087              	.L227:
 969:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
 2088              		.loc 1 969 0
 2089 0056 D4F82012 		ldr	r1, [r4, #544]
 967:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? ((*p & 0x0F) | ((BYTE)val << 4)) : (BYTE)val;
 2090              		.loc 1 967 0
 2091 005a E355     		strb	r3, [r4, r7]
 968:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 2092              		.loc 1 968 0
 2093 005c 0123     		movs	r3, #1
 2094 005e 84F80432 		strb	r3, [r4, #516]
 969:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
 2095              		.loc 1 969 0
 2096 0062 2046     		mov	r0, r4
 2097              	.LVL264:
 2098 0064 01EB5821 		add	r1, r1, r8, lsr #9
 2099 0068 FFF7FEFF 		bl	move_window
 2100              	.LVL265:
 970:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 2101              		.loc 1 970 0
 2102 006c E8BB     		cbnz	r0, .L221
 971:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[bc % SS(fs)];
 2103              		.loc 1 971 0
 2104 006e C8F30808 		ubfx	r8, r8, #0, #9
 2105              	.LVL266:
 972:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? (BYTE)(val >> 4) : ((*p & 0xF0) | ((BYTE)(val >> 8) & 0x0F));
 2106              		.loc 1 972 0
 2107 0072 15B1     		cbz	r5, .L228
 2108 0074 C6F30716 		ubfx	r6, r6, #4, #8
 2109              	.LVL267:
 2110 0078 06E0     		b	.L229
 2111              	.LVL268:
 2112              	.L228:
 2113 007a 14F80830 		ldrb	r3, [r4, r8]	@ zero_extendqisi2
 2114 007e C6F30326 		ubfx	r6, r6, #8, #4
 2115              	.LVL269:
 2116 0082 23F00F03 		bic	r3, r3, #15
 2117 0086 1E43     		orrs	r6, r6, r3
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 86


 2118              	.L229:
 2119 0088 04F80860 		strb	r6, [r4, r8]
 2120 008c 27E0     		b	.L234
 2121              	.LVL270:
 2122              	.L223:
 977:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (clst / (SS(fs) / 2)));
 2123              		.loc 1 977 0
 2124 008e D0F82012 		ldr	r1, [r0, #544]
 2125              	.LVL271:
 2126 0092 01EB1521 		add	r1, r1, r5, lsr #8
 2127 0096 FFF7FEFF 		bl	move_window
 2128              	.LVL272:
 978:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 2129              		.loc 1 978 0
 2130 009a 30BB     		cbnz	r0, .L221
 979:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 2 % SS(fs)];
 2131              		.loc 1 979 0
 2132 009c 6D00     		lsls	r5, r5, #1
 2133              	.LVL273:
 2134 009e 05F4FF75 		and	r5, r5, #510
 2135              	.LVL274:
 980:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_WORD(p, (WORD)val);
 2136              		.loc 1 980 0
 2137 00a2 6655     		strb	r6, [r4, r5]
 2138 00a4 2544     		add	r5, r5, r4
 2139              	.LVL275:
 2140 00a6 C6F30726 		ubfx	r6, r6, #8, #8
 2141              	.LVL276:
 2142 00aa 6E70     		strb	r6, [r5, #1]
 2143 00ac 17E0     		b	.L234
 2144              	.LVL277:
 2145              	.L224:
 985:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (clst / (SS(fs) / 4)));
 2146              		.loc 1 985 0
 2147 00ae D0F82012 		ldr	r1, [r0, #544]
 2148              	.LVL278:
 2149 00b2 01EBD511 		add	r1, r1, r5, lsr #7
 2150 00b6 FFF7FEFF 		bl	move_window
 2151              	.LVL279:
 986:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 2152              		.loc 1 986 0
 2153 00ba B0B9     		cbnz	r0, .L221
 987:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 4 % SS(fs)];
 2154              		.loc 1 987 0
 2155 00bc AD00     		lsls	r5, r5, #2
 2156              	.LVL280:
 2157 00be 05F4FE75 		and	r5, r5, #508
 2158 00c2 6319     		adds	r3, r4, r5
 2159              	.LVL281:
 988:Middlewares/Third_Party/FatFs/src/ff.c **** 			val |= LD_DWORD(p) & 0xF0000000;
 2160              		.loc 1 988 0
 2161 00c4 DA78     		ldrb	r2, [r3, #3]	@ zero_extendqisi2
 2162 00c6 1206     		lsls	r2, r2, #24
 2163 00c8 02F07042 		and	r2, r2, #-268435456
 2164 00cc 1643     		orrs	r6, r6, r2
 2165              	.LVL282:
 989:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(p, val);
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 87


 2166              		.loc 1 989 0
 2167 00ce C6F30722 		ubfx	r2, r6, #8, #8
 2168 00d2 6655     		strb	r6, [r4, r5]
 2169 00d4 5A70     		strb	r2, [r3, #1]
 2170 00d6 320C     		lsrs	r2, r6, #16
 2171 00d8 360E     		lsrs	r6, r6, #24
 2172              	.LVL283:
 2173 00da 9A70     		strb	r2, [r3, #2]
 2174 00dc DE70     		strb	r6, [r3, #3]
 2175              	.LVL284:
 2176              	.L234:
 990:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 2177              		.loc 1 990 0
 2178 00de 0123     		movs	r3, #1
 2179 00e0 84F80432 		strb	r3, [r4, #516]
 2180 00e4 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2181              	.LVL285:
 2182              	.L231:
 2183              	.LBE25:
 2184              	.LBE24:
 958:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_INT_ERR;
 2185              		.loc 1 958 0
 2186 00e8 0220     		movs	r0, #2
 2187              	.LVL286:
 2188              	.L221:
 999:Middlewares/Third_Party/FatFs/src/ff.c **** }
 2189              		.loc 1 999 0
 2190 00ea BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2191              		.cfi_endproc
 2192              	.LFE139:
 2194              		.section	.text.create_chain,"ax",%progbits
 2195              		.align	1
 2196              		.thumb
 2197              		.thumb_func
 2199              	create_chain:
 2200              	.LFB141:
1067:Middlewares/Third_Party/FatFs/src/ff.c **** {
 2201              		.loc 1 1067 0
 2202              		.cfi_startproc
 2203              		@ args = 0, pretend = 0, frame = 0
 2204              		@ frame_needed = 0, uses_anonymous_args = 0
 2205              	.LVL287:
 2206 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 2207              	.LCFI16:
 2208              		.cfi_def_cfa_offset 24
 2209              		.cfi_offset 3, -24
 2210              		.cfi_offset 4, -20
 2211              		.cfi_offset 5, -16
 2212              		.cfi_offset 6, -12
 2213              		.cfi_offset 7, -8
 2214              		.cfi_offset 14, -4
1067:Middlewares/Third_Party/FatFs/src/ff.c **** {
 2215              		.loc 1 1067 0
 2216 0002 0446     		mov	r4, r0
1072:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst == 0) {		/* Create a new chain */
 2217              		.loc 1 1072 0
 2218 0004 0F46     		mov	r7, r1
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 88


 2219 0006 41B9     		cbnz	r1, .L236
1073:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = fs->last_clust;			/* Get suggested start point */
 2220              		.loc 1 1073 0
 2221 0008 D0F80C62 		ldr	r6, [r0, #524]
 2222              	.LVL288:
1074:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!scl || scl >= fs->n_fatent) scl = 1;
 2223              		.loc 1 1074 0
 2224 000c A6B1     		cbz	r6, .L251
1074:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!scl || scl >= fs->n_fatent) scl = 1;
 2225              		.loc 1 1074 0 is_stmt 0 discriminator 2
 2226 000e D0F81432 		ldr	r3, [r0, #532]
 2227 0012 9E42     		cmp	r6, r3
 2228 0014 28BF     		it	cs
 2229 0016 0126     		movcs	r6, #1
 2230              	.LVL289:
 2231 0018 0FE0     		b	.L237
 2232              	.LVL290:
 2233              	.L236:
1077:Middlewares/Third_Party/FatFs/src/ff.c **** 		cs = get_fat(fs, clst);			/* Check the cluster status */
 2234              		.loc 1 1077 0 is_stmt 1
 2235 001a FFF7FEFF 		bl	get_fat
 2236              	.LVL291:
1078:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs < 2) return 1;			/* Invalid value */
 2237              		.loc 1 1078 0
 2238 001e 0128     		cmp	r0, #1
 2239 0020 46D9     		bls	.L267
1079:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs == 0xFFFFFFFF) return cs;	/* A disk error occurred */
 2240              		.loc 1 1079 0
 2241 0022 451C     		adds	r5, r0, #1
 2242 0024 02D1     		bne	.L240
 2243              	.LVL292:
 2244              	.L243:
1078:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs < 2) return 1;			/* Invalid value */
 2245              		.loc 1 1078 0
 2246 0026 4FF0FF30 		mov	r0, #-1
 2247 002a F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 2248              	.LVL293:
 2249              	.L240:
1080:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs < fs->n_fatent) return cs;	/* It is already followed by next cluster */
 2250              		.loc 1 1080 0
 2251 002c D4F81432 		ldr	r3, [r4, #532]
 2252 0030 9842     		cmp	r0, r3
 2253 0032 3ED3     		bcc	.L239
 2254 0034 3E46     		mov	r6, r7
 2255 0036 00E0     		b	.L237
 2256              	.LVL294:
 2257              	.L251:
1074:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!scl || scl >= fs->n_fatent) scl = 1;
 2258              		.loc 1 1074 0
 2259 0038 0126     		movs	r6, #1
 2260              	.LVL295:
 2261              	.L237:
 2262 003a 3546     		mov	r5, r6
 2263              	.LVL296:
 2264              	.L246:
1087:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ncl >= fs->n_fatent) {		/* Check wrap around */
 2265              		.loc 1 1087 0
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 89


 2266 003c D4F81432 		ldr	r3, [r4, #532]
1086:Middlewares/Third_Party/FatFs/src/ff.c **** 		ncl++;							/* Next cluster */
 2267              		.loc 1 1086 0
 2268 0040 0135     		adds	r5, r5, #1
 2269              	.LVL297:
1087:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ncl >= fs->n_fatent) {		/* Check wrap around */
 2270              		.loc 1 1087 0
 2271 0042 9D42     		cmp	r5, r3
 2272 0044 04D3     		bcc	.L241
 2273              	.LVL298:
1089:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl > scl) return 0;	/* No free cluster */
 2274              		.loc 1 1089 0
 2275 0046 012E     		cmp	r6, #1
 2276 0048 01D8     		bhi	.L254
 2277              	.LVL299:
 2278              	.L245:
 2279 004a 0020     		movs	r0, #0
 2280 004c F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 2281              	.LVL300:
 2282              	.L254:
1088:Middlewares/Third_Party/FatFs/src/ff.c **** 			ncl = 2;
 2283              		.loc 1 1088 0
 2284 004e 0225     		movs	r5, #2
 2285              	.LVL301:
 2286              	.L241:
1091:Middlewares/Third_Party/FatFs/src/ff.c **** 		cs = get_fat(fs, ncl);			/* Get the cluster status */
 2287              		.loc 1 1091 0
 2288 0050 2046     		mov	r0, r4
 2289 0052 2946     		mov	r1, r5
 2290 0054 FFF7FEFF 		bl	get_fat
 2291              	.LVL302:
1092:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs == 0) break;				/* Found a free cluster */
 2292              		.loc 1 1092 0
 2293 0058 30B1     		cbz	r0, .L242
1093:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs == 0xFFFFFFFF || cs == 1)/* An error occurred */
 2294              		.loc 1 1093 0
 2295 005a 411C     		adds	r1, r0, #1
 2296 005c E3D0     		beq	.L243
1093:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs == 0xFFFFFFFF || cs == 1)/* An error occurred */
 2297              		.loc 1 1093 0 is_stmt 0 discriminator 1
 2298 005e 0128     		cmp	r0, #1
 2299 0060 26D0     		beq	.L267
1095:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ncl == scl) return 0;		/* No free cluster */
 2300              		.loc 1 1095 0 is_stmt 1
 2301 0062 B542     		cmp	r5, r6
 2302 0064 EAD1     		bne	.L246
 2303 0066 F0E7     		b	.L245
 2304              	.L242:
1098:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = put_fat(fs, ncl, 0x0FFFFFFF);	/* Mark the new cluster "last link" */
 2305              		.loc 1 1098 0
 2306 0068 2046     		mov	r0, r4
 2307              	.LVL303:
 2308 006a 2946     		mov	r1, r5
 2309 006c 6FF07042 		mvn	r2, #-268435456
 2310 0070 FFF7FEFF 		bl	put_fat
 2311              	.LVL304:
1099:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK && clst != 0) {
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 90


 2312              		.loc 1 1099 0
 2313 0074 D0B9     		cbnz	r0, .L247
1099:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK && clst != 0) {
 2314              		.loc 1 1099 0 is_stmt 0 discriminator 1
 2315 0076 7FB9     		cbnz	r7, .L248
 2316              	.L250:
 2317              	.LVL305:
1104:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->free_clust != 0xFFFFFFFF) {
 2318              		.loc 1 1104 0 is_stmt 1
 2319 0078 D4F81032 		ldr	r3, [r4, #528]
1103:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->last_clust = ncl;			/* Update FSINFO */
 2320              		.loc 1 1103 0
 2321 007c C4F80C52 		str	r5, [r4, #524]
1104:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->free_clust != 0xFFFFFFFF) {
 2322              		.loc 1 1104 0
 2323 0080 5A1C     		adds	r2, r3, #1
 2324 0082 11D0     		beq	.L268
1105:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clust--;
 2325              		.loc 1 1105 0
 2326 0084 013B     		subs	r3, r3, #1
 2327 0086 C4F81032 		str	r3, [r4, #528]
1106:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag |= 1;
 2328              		.loc 1 1106 0
 2329 008a 94F80532 		ldrb	r3, [r4, #517]	@ zero_extendqisi2
 2330 008e 43F00103 		orr	r3, r3, #1
 2331 0092 84F80532 		strb	r3, [r4, #517]
 2332 0096 07E0     		b	.L268
 2333              	.LVL306:
 2334              	.L248:
1100:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = put_fat(fs, clst, ncl);	/* Link it to the previous one if needed */
 2335              		.loc 1 1100 0
 2336 0098 2046     		mov	r0, r4
 2337              	.LVL307:
 2338 009a 3946     		mov	r1, r7
 2339 009c 2A46     		mov	r2, r5
 2340 009e FFF7FEFF 		bl	put_fat
 2341              	.LVL308:
1102:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 2342              		.loc 1 1102 0
 2343 00a2 0028     		cmp	r0, #0
 2344 00a4 E8D0     		beq	.L250
 2345 00a6 01E0     		b	.L247
 2346              	.LVL309:
 2347              	.L268:
1106:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag |= 1;
 2348              		.loc 1 1106 0
 2349 00a8 2846     		mov	r0, r5
 2350 00aa F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 2351              	.LVL310:
 2352              	.L247:
1109:Middlewares/Third_Party/FatFs/src/ff.c **** 		ncl = (res == FR_DISK_ERR) ? 0xFFFFFFFF : 1;
 2353              		.loc 1 1109 0
 2354 00ac 0128     		cmp	r0, #1
 2355 00ae BAD0     		beq	.L243
 2356              	.LVL311:
 2357              	.L267:
 2358 00b0 0120     		movs	r0, #1
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 91


 2359              	.L239:
1113:Middlewares/Third_Party/FatFs/src/ff.c **** }
 2360              		.loc 1 1113 0
 2361 00b2 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 2362              		.cfi_endproc
 2363              	.LFE141:
 2365              		.section	.text.dir_next,"ax",%progbits
 2366              		.align	1
 2367              		.thumb
 2368              		.thumb_func
 2370              	dir_next:
 2371              	.LFB144:
1205:Middlewares/Third_Party/FatFs/src/ff.c **** {
 2372              		.loc 1 1205 0
 2373              		.cfi_startproc
 2374              		@ args = 0, pretend = 0, frame = 0
 2375              		@ frame_needed = 0, uses_anonymous_args = 0
 2376              	.LVL312:
 2377 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 2378              	.LCFI17:
 2379              		.cfi_def_cfa_offset 32
 2380              		.cfi_offset 3, -32
 2381              		.cfi_offset 4, -28
 2382              		.cfi_offset 5, -24
 2383              		.cfi_offset 6, -20
 2384              		.cfi_offset 7, -16
 2385              		.cfi_offset 8, -12
 2386              		.cfi_offset 9, -8
 2387              		.cfi_offset 14, -4
1213:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = dp->index + 1;
 2388              		.loc 1 1213 0
 2389 0004 B0F80662 		ldrh	r6, [r0, #518]
 2390 0008 0136     		adds	r6, r6, #1
 2391              	.LVL313:
1214:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(i & 0xFFFF) || !dp->sect)	/* Report EOT when index has reached 65535 */
 2392              		.loc 1 1214 0
 2393 000a B3B2     		uxth	r3, r6
1205:Middlewares/Third_Party/FatFs/src/ff.c **** {
 2394              		.loc 1 1205 0
 2395 000c 0446     		mov	r4, r0
 2396 000e 0F46     		mov	r7, r1
1214:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(i & 0xFFFF) || !dp->sect)	/* Report EOT when index has reached 65535 */
 2397              		.loc 1 1214 0
 2398 0010 13B9     		cbnz	r3, .L270
 2399              	.LVL314:
 2400              	.L272:
1215:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILE;
 2401              		.loc 1 1215 0
 2402 0012 0420     		movs	r0, #4
 2403 0014 BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 2404              	.LVL315:
 2405              	.L270:
1214:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(i & 0xFFFF) || !dp->sect)	/* Report EOT when index has reached 65535 */
 2406              		.loc 1 1214 0 discriminator 1
 2407 0018 D0F81032 		ldr	r3, [r0, #528]
 2408 001c 002B     		cmp	r3, #0
 2409 001e F8D0     		beq	.L272
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 92


1217:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(i % (SS(dp->fs) / SZ_DIRE))) {	/* Sector changed? */
 2410              		.loc 1 1217 0
 2411 0020 16F00F08 		ands	r8, r6, #15
 2412 0024 6ED1     		bne	.L274
1220:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!dp->clust) {		/* Static table */
 2413              		.loc 1 1220 0
 2414 0026 D0F80C12 		ldr	r1, [r0, #524]
 2415              	.LVL316:
1218:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect++;					/* Next sector */
 2416              		.loc 1 1218 0
 2417 002a 0133     		adds	r3, r3, #1
 2418 002c C0F81032 		str	r3, [r0, #528]
 2419 0030 D0F80002 		ldr	r0, [r0, #512]
 2420              	.LVL317:
1220:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!dp->clust) {		/* Static table */
 2421              		.loc 1 1220 0
 2422 0034 21B9     		cbnz	r1, .L275
1221:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i >= dp->fs->n_rootdir)	/* Report EOT if it reached end of static table */
 2423              		.loc 1 1221 0
 2424 0036 B0F80832 		ldrh	r3, [r0, #520]
 2425 003a 9E42     		cmp	r6, r3
 2426 003c E9D2     		bcs	.L272
 2427 003e 61E0     		b	.L274
 2428              	.L275:
1225:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (((i / (SS(dp->fs) / SZ_DIRE)) & (dp->fs->csize - 1)) == 0) {	/* Cluster changed? */
 2429              		.loc 1 1225 0
 2430 0040 90F80222 		ldrb	r2, [r0, #514]	@ zero_extendqisi2
 2431 0044 013A     		subs	r2, r2, #1
 2432 0046 12EA1612 		ands	r2, r2, r6, lsr #4
 2433 004a 5BD1     		bne	.L274
1226:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = get_fat(dp->fs, dp->clust);				/* Get next cluster */
 2434              		.loc 1 1226 0
 2435 004c FFF7FEFF 		bl	get_fat
 2436              	.LVL318:
1227:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst <= 1) return FR_INT_ERR;
 2437              		.loc 1 1227 0
 2438 0050 0128     		cmp	r0, #1
1226:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = get_fat(dp->fs, dp->clust);				/* Get next cluster */
 2439              		.loc 1 1226 0
 2440 0052 0546     		mov	r5, r0
 2441              	.LVL319:
1227:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst <= 1) return FR_INT_ERR;
 2442              		.loc 1 1227 0
 2443 0054 02D8     		bhi	.L277
 2444              	.L280:
 2445 0056 0220     		movs	r0, #2
 2446              	.LVL320:
 2447 0058 BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 2448              	.LVL321:
 2449              	.L277:
1228:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) return FR_DISK_ERR;
 2450              		.loc 1 1228 0
 2451 005c 421C     		adds	r2, r0, #1
 2452 005e 02D1     		bne	.L278
 2453              	.LVL322:
 2454              	.L281:
 2455 0060 0120     		movs	r0, #1
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 93


 2456 0062 BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 2457              	.LVL323:
 2458              	.L278:
1229:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst >= dp->fs->n_fatent) {					/* If it reached end of dynamic table, */
 2459              		.loc 1 1229 0
 2460 0066 D4F80002 		ldr	r0, [r4, #512]
 2461              	.LVL324:
 2462 006a D0F81432 		ldr	r3, [r0, #532]
 2463 006e 9D42     		cmp	r5, r3
 2464 0070 3FD3     		bcc	.L279
1231:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!stretch) return FR_NO_FILE;			/* If do not stretch, report EOT */
 2465              		.loc 1 1231 0
 2466 0072 002F     		cmp	r7, #0
 2467 0074 CDD0     		beq	.L272
1232:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = create_chain(dp->fs, dp->clust);		/* Stretch cluster chain */
 2468              		.loc 1 1232 0
 2469 0076 D4F80C12 		ldr	r1, [r4, #524]
 2470 007a FFF7FEFF 		bl	create_chain
 2471              	.LVL325:
1233:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0) return FR_DENIED;			/* No free cluster */
 2472              		.loc 1 1233 0
 2473 007e 0546     		mov	r5, r0
 2474 0080 0028     		cmp	r0, #0
 2475 0082 4AD0     		beq	.L284
1234:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) return FR_INT_ERR;
 2476              		.loc 1 1234 0
 2477 0084 0128     		cmp	r0, #1
 2478 0086 E6D0     		beq	.L280
1235:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) return FR_DISK_ERR;
 2479              		.loc 1 1235 0
 2480 0088 431C     		adds	r3, r0, #1
 2481 008a E9D0     		beq	.L281
1237:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (sync_window(dp->fs)) return FR_DISK_ERR;/* Flush disk access window */
 2482              		.loc 1 1237 0
 2483 008c D4F80002 		ldr	r0, [r4, #512]
 2484              	.LVL326:
 2485 0090 FFF7FEFF 		bl	sync_window
 2486              	.LVL327:
 2487 0094 0746     		mov	r7, r0
 2488              	.LVL328:
 2489 0096 0028     		cmp	r0, #0
 2490 0098 E2D1     		bne	.L281
1238:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(dp->fs->win.d8, 0, SS(dp->fs));		/* Clear window buffer */
 2491              		.loc 1 1238 0
 2492 009a D4F80002 		ldr	r0, [r4, #512]
 2493 009e 3946     		mov	r1, r7
 2494 00a0 4FF40072 		mov	r2, #512
 2495 00a4 FFF7FEFF 		bl	mem_set
 2496              	.LVL329:
1239:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->fs->winsect = clust2sect(dp->fs, clst);	/* Cluster start sector */
 2497              		.loc 1 1239 0
 2498 00a8 D4F80092 		ldr	r9, [r4, #512]
 2499 00ac 2946     		mov	r1, r5
 2500 00ae 4846     		mov	r0, r9
 2501 00b0 FFF7FEFF 		bl	clust2sect
 2502              	.LVL330:
 2503 00b4 C9F82C02 		str	r0, [r9, #556]
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 94


 2504              	.LVL331:
 2505              	.L282:
1240:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (c = 0; c < dp->fs->csize; c++) {		/* Fill the new cluster with 0 */
 2506              		.loc 1 1240 0 discriminator 1
 2507 00b8 D4F80032 		ldr	r3, [r4, #512]
 2508 00bc 93F80222 		ldrb	r2, [r3, #514]	@ zero_extendqisi2
 2509 00c0 9742     		cmp	r7, r2
 2510 00c2 11D2     		bcs	.L297
1241:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->fs->wflag = 1;
 2511              		.loc 1 1241 0
 2512 00c4 0122     		movs	r2, #1
 2513 00c6 83F80422 		strb	r2, [r3, #516]
1242:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (sync_window(dp->fs)) return FR_DISK_ERR;
 2514              		.loc 1 1242 0
 2515 00ca D4F80002 		ldr	r0, [r4, #512]
 2516 00ce FFF7FEFF 		bl	sync_window
 2517              	.LVL332:
 2518 00d2 0028     		cmp	r0, #0
 2519 00d4 C4D1     		bne	.L281
1243:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->fs->winsect++;
 2520              		.loc 1 1243 0
 2521 00d6 D4F80032 		ldr	r3, [r4, #512]
 2522 00da D3F82C22 		ldr	r2, [r3, #556]
 2523 00de 0132     		adds	r2, r2, #1
 2524 00e0 C3F82C22 		str	r2, [r3, #556]
1240:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (c = 0; c < dp->fs->csize; c++) {		/* Fill the new cluster with 0 */
 2525              		.loc 1 1240 0
 2526 00e4 0137     		adds	r7, r7, #1
 2527              	.LVL333:
 2528 00e6 E7E7     		b	.L282
 2529              	.L297:
1245:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->fs->winsect -= c;						/* Rewind window offset */
 2530              		.loc 1 1245 0
 2531 00e8 D3F82C22 		ldr	r2, [r3, #556]
 2532 00ec D71B     		subs	r7, r2, r7
 2533              	.LVL334:
 2534 00ee C3F82C72 		str	r7, [r3, #556]
 2535              	.L279:
1251:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->clust = clst;				/* Initialize data for new cluster */
 2536              		.loc 1 1251 0
 2537 00f2 C4F80C52 		str	r5, [r4, #524]
1252:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->sect = clust2sect(dp->fs, clst);
 2538              		.loc 1 1252 0
 2539 00f6 D4F80002 		ldr	r0, [r4, #512]
 2540 00fa 2946     		mov	r1, r5
 2541 00fc FFF7FEFF 		bl	clust2sect
 2542              	.LVL335:
 2543 0100 C4F81002 		str	r0, [r4, #528]
 2544              	.LVL336:
 2545              	.L274:
1258:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = dp->fs->win.d8 + (i % (SS(dp->fs) / SZ_DIRE)) * SZ_DIRE;	/* Current entry in the window 
 2546              		.loc 1 1258 0
 2547 0104 D4F80032 		ldr	r3, [r4, #512]
1257:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->index = (WORD)i;	/* Current index */
 2548              		.loc 1 1257 0
 2549 0108 A4F80662 		strh	r6, [r4, #518]	@ movhi
1258:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = dp->fs->win.d8 + (i % (SS(dp->fs) / SZ_DIRE)) * SZ_DIRE;	/* Current entry in the window 
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 95


 2550              		.loc 1 1258 0
 2551 010c 03EB4813 		add	r3, r3, r8, lsl #5
 2552 0110 C4F81432 		str	r3, [r4, #532]
1260:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
 2553              		.loc 1 1260 0
 2554 0114 0020     		movs	r0, #0
 2555 0116 BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 2556              	.LVL337:
 2557              	.L284:
1233:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0) return FR_DENIED;			/* No free cluster */
 2558              		.loc 1 1233 0
 2559 011a 0720     		movs	r0, #7
 2560              	.LVL338:
1261:Middlewares/Third_Party/FatFs/src/ff.c **** }
 2561              		.loc 1 1261 0
 2562 011c BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 2563              		.cfi_endproc
 2564              	.LFE144:
 2566              		.section	.text.follow_path,"ax",%progbits
 2567              		.align	1
 2568              		.thumb
 2569              		.thumb_func
 2571              	follow_path:
 2572              	.LFB154:
2129:Middlewares/Third_Party/FatFs/src/ff.c **** {
 2573              		.loc 1 2129 0
 2574              		.cfi_startproc
 2575              		@ args = 0, pretend = 0, frame = 0
 2576              		@ frame_needed = 0, uses_anonymous_args = 0
 2577              	.LVL339:
 2578 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 2579              	.LCFI18:
 2580              		.cfi_def_cfa_offset 24
 2581              		.cfi_offset 4, -24
 2582              		.cfi_offset 5, -20
 2583              		.cfi_offset 6, -16
 2584              		.cfi_offset 7, -12
 2585              		.cfi_offset 8, -8
 2586              		.cfi_offset 14, -4
2141:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (*path == '/' || *path == '\\')		/* Strip heading separator if exist */
 2587              		.loc 1 2141 0
 2588 0004 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 2589 0006 2F2B     		cmp	r3, #47
2129:Middlewares/Third_Party/FatFs/src/ff.c **** {
 2590              		.loc 1 2129 0
 2591 0008 0446     		mov	r4, r0
 2592 000a 0E46     		mov	r6, r1
2141:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (*path == '/' || *path == '\\')		/* Strip heading separator if exist */
 2593              		.loc 1 2141 0
 2594 000c 01D0     		beq	.L299
2141:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (*path == '/' || *path == '\\')		/* Strip heading separator if exist */
 2595              		.loc 1 2141 0 is_stmt 0 discriminator 1
 2596 000e 5C2B     		cmp	r3, #92
 2597 0010 00D1     		bne	.L300
 2598              	.L299:
2142:Middlewares/Third_Party/FatFs/src/ff.c **** 		path++;
 2599              		.loc 1 2142 0 is_stmt 1
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 96


 2600 0012 0136     		adds	r6, r6, #1
 2601              	.LVL340:
 2602              	.L300:
2143:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->sclust = 0;							/* Always start from the root directory */
 2603              		.loc 1 2143 0
 2604 0014 0025     		movs	r5, #0
 2605 0016 C4F80852 		str	r5, [r4, #520]
2146:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((UINT)*path < ' ') {				/* Null path name is the origin directory itself */
 2606              		.loc 1 2146 0
 2607 001a 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
 2608 001c 1F2B     		cmp	r3, #31
 2609 001e 50D8     		bhi	.L303
2147:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_sdi(dp, 0);
 2610              		.loc 1 2147 0
 2611 0020 2046     		mov	r0, r4
 2612              	.LVL341:
 2613 0022 2946     		mov	r1, r5
 2614 0024 FFF7FEFF 		bl	dir_sdi
 2615              	.LVL342:
2148:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->dir = 0;
 2616              		.loc 1 2148 0
 2617 0028 C4F81452 		str	r5, [r4, #532]
 2618 002c BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2619              	.LVL343:
 2620              	.L364:
 2621              	.LBB34:
 2622              	.LBB35:
2047:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (p = *path; *p == '/' || *p == '\\'; p++) ;	/* Strip duplicated separator */
 2623              		.loc 1 2047 0
 2624 0030 5C2B     		cmp	r3, #92
 2625 0032 46D0     		beq	.L303
2048:Middlewares/Third_Party/FatFs/src/ff.c **** 	sfn = dp->fn;
 2626              		.loc 1 2048 0
 2627 0034 D4F81872 		ldr	r7, [r4, #536]
 2628              	.LVL344:
2049:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_set(sfn, ' ', 11);
 2629              		.loc 1 2049 0
 2630 0038 2021     		movs	r1, #32
 2631 003a 3846     		mov	r0, r7
 2632 003c 0B22     		movs	r2, #11
2050:Middlewares/Third_Party/FatFs/src/ff.c **** 	si = i = b = 0; ni = 8;
 2633              		.loc 1 2050 0
 2634 003e 0025     		movs	r5, #0
2049:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_set(sfn, ' ', 11);
 2635              		.loc 1 2049 0
 2636 0040 FFF7FEFF 		bl	mem_set
 2637              	.LVL345:
2050:Middlewares/Third_Party/FatFs/src/ff.c **** 	si = i = b = 0; ni = 8;
 2638              		.loc 1 2050 0
 2639 0044 2846     		mov	r0, r5
 2640 0046 0821     		movs	r1, #8
 2641 0048 2A46     		mov	r2, r5
 2642              	.LVL346:
 2643              	.L305:
2065:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = (BYTE)p[si++];
 2644              		.loc 1 2065 0
 2645 004a 0130     		adds	r0, r0, #1
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 97


 2646              	.LVL347:
 2647 004c 08EB0006 		add	r6, r8, r0
 2648 0050 16F8013C 		ldrb	r3, [r6, #-1]	@ zero_extendqisi2
 2649              	.LVL348:
2066:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c <= ' ' || c == '/' || c == '\\') break;	/* Break on end of segment */
 2650              		.loc 1 2066 0
 2651 0054 202B     		cmp	r3, #32
 2652 0056 3BD8     		bhi	.L361
 2653              	.L306:
 2654              	.LVL349:
2102:Middlewares/Third_Party/FatFs/src/ff.c **** 	c = (c <= ' ') ? NS_LAST : 0;		/* Set last segment flag if end of path */
 2655              		.loc 1 2102 0
 2656 0058 202B     		cmp	r3, #32
 2657 005a 8CBF     		ite	hi
 2658 005c 0023     		movhi	r3, #0
 2659 005e 0423     		movls	r3, #4
 2660              	.LVL350:
2104:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!i) return FR_INVALID_NAME;		/* Reject nul string */
 2661              		.loc 1 2104 0
 2662 0060 002D     		cmp	r5, #0
 2663 0062 7DD0     		beq	.L343
2105:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sfn[0] == DDEM) sfn[0] = RDDEM;	/* When first character collides with DDEM, replace it with RD
 2664              		.loc 1 2105 0
 2665 0064 3878     		ldrb	r0, [r7]	@ zero_extendqisi2
 2666              	.LVL351:
 2667 0066 E528     		cmp	r0, #229
 2668 0068 04BF     		itt	eq
 2669 006a 0520     		moveq	r0, #5
 2670 006c 3870     		strbeq	r0, [r7]
2107:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ni == 8) b <<= 2;
 2671              		.loc 1 2107 0
 2672 006e 0829     		cmp	r1, #8
 2673 0070 04BF     		itt	eq
 2674 0072 9200     		lsleq	r2, r2, #2
 2675              	.LVL352:
 2676 0074 D2B2     		uxtbeq	r2, r2
 2677              	.LVL353:
2108:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x03) == 0x01) c |= NS_EXT;	/* NT flag (Name extension has only small capital) */
 2678              		.loc 1 2108 0
 2679 0076 02F00301 		and	r1, r2, #3
 2680              	.LVL354:
 2681 007a 0129     		cmp	r1, #1
2109:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x0C) == 0x04) c |= NS_BODY;	/* NT flag (Name body has only small capital) */
 2682              		.loc 1 2109 0
 2683 007c 02F00C02 		and	r2, r2, #12
 2684              	.LVL355:
2108:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x03) == 0x01) c |= NS_EXT;	/* NT flag (Name extension has only small capital) */
 2685              		.loc 1 2108 0
 2686 0080 08BF     		it	eq
 2687 0082 43F01003 		orreq	r3, r3, #16
 2688              	.LVL356:
2109:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x0C) == 0x04) c |= NS_BODY;	/* NT flag (Name body has only small capital) */
 2689              		.loc 1 2109 0
 2690 0086 042A     		cmp	r2, #4
 2691 0088 08BF     		it	eq
 2692 008a 43F00803 		orreq	r3, r3, #8
 2693              	.LVL357:
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 98


2111:Middlewares/Third_Party/FatFs/src/ff.c **** 	sfn[NSFLAG] = c;		/* Store NT flag, File name is created */
 2694              		.loc 1 2111 0
 2695 008e FB72     		strb	r3, [r7, #11]
 2696              	.LVL358:
 2697              	.LBE35:
 2698              	.LBE34:
 2699              	.LBB40:
 2700              	.LBB41:
1538:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_sdi(dp, 0);			/* Rewind directory object */
 2701              		.loc 1 1538 0
 2702 0090 2046     		mov	r0, r4
 2703 0092 0021     		movs	r1, #0
 2704 0094 FFF7FEFF 		bl	dir_sdi
 2705              	.LVL359:
 2706              	.L360:
1539:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) return res;
 2707              		.loc 1 1539 0
 2708 0098 88B3     		cbz	r0, .L362
 2709              	.LVL360:
 2710              	.L320:
 2711              	.LBE41:
 2712              	.LBE40:
2154:Middlewares/Third_Party/FatFs/src/ff.c **** 			ns = dp->fn[NSFLAG];
 2713              		.loc 1 2154 0
 2714 009a D4F81822 		ldr	r2, [r4, #536]
 2715 009e D27A     		ldrb	r2, [r2, #11]	@ zero_extendqisi2
 2716              	.LVL361:
2155:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {				/* Failed to find the object */
 2717              		.loc 1 2155 0
 2718 00a0 0028     		cmp	r0, #0
 2719 00a2 52D1     		bne	.L363
2167:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ns & NS_LAST) break;			/* Last segment matched. Function completed. */
 2720              		.loc 1 2167 0
 2721 00a4 5207     		lsls	r2, r2, #29
 2722 00a6 77D4     		bmi	.L347
2168:Middlewares/Third_Party/FatFs/src/ff.c **** 			dir = dp->dir;						/* Follow the sub-directory */
 2723              		.loc 1 2168 0
 2724 00a8 D4F81412 		ldr	r1, [r4, #532]
 2725              	.LVL362:
2169:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!(dir[DIR_Attr] & AM_DIR)) {	/* It is not a sub-directory and cannot follow */
 2726              		.loc 1 2169 0
 2727 00ac CB7A     		ldrb	r3, [r1, #11]	@ zero_extendqisi2
 2728 00ae DB06     		lsls	r3, r3, #27
 2729 00b0 53D5     		bpl	.L342
2172:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->sclust = ld_clust(dp->fs, dir);
 2730              		.loc 1 2172 0
 2731 00b2 D4F80032 		ldr	r3, [r4, #512]
 2732 00b6 93F80002 		ldrb	r0, [r3, #512]	@ zero_extendqisi2
 2733 00ba FFF7FEFF 		bl	ld_clust.isra.0
 2734              	.LVL363:
 2735 00be C4F80802 		str	r0, [r4, #520]
 2736              	.LVL364:
 2737              	.L303:
 2738              	.LBB45:
 2739              	.LBB38:
2047:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (p = *path; *p == '/' || *p == '\\'; p++) ;	/* Strip duplicated separator */
 2740              		.loc 1 2047 0
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 99


 2741 00c2 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
 2742 00c4 2F2B     		cmp	r3, #47
 2743 00c6 B046     		mov	r8, r6
 2744              	.LVL365:
 2745 00c8 06F10106 		add	r6, r6, #1
 2746              	.LVL366:
 2747 00cc B0D1     		bne	.L364
 2748 00ce F8E7     		b	.L303
 2749              	.LVL367:
 2750              	.L361:
2066:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c <= ' ' || c == '/' || c == '\\') break;	/* Break on end of segment */
 2751              		.loc 1 2066 0
 2752 00d0 2F2B     		cmp	r3, #47
 2753 00d2 C1D0     		beq	.L306
 2754 00d4 5C2B     		cmp	r3, #92
 2755 00d6 BFD0     		beq	.L306
2067:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '.' || i >= ni) {
 2756              		.loc 1 2067 0
 2757 00d8 2E2B     		cmp	r3, #46
 2758 00da 56D0     		beq	.L307
 2759 00dc 8D42     		cmp	r5, r1
 2760 00de 3FD2     		bcs	.L343
2072:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c >= 0x80) {				/* Extended character? */
 2761              		.loc 1 2072 0
 2762 00e0 1E06     		lsls	r6, r3, #24
 2763              	.LVL368:
 2764 00e2 04D5     		bpl	.L310
2075:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = ExCvt[c - 0x80];		/* To upper extended characters (SBCS cfg) */
 2765              		.loc 1 2075 0
 2766 00e4 803B     		subs	r3, r3, #128
 2767 00e6 2D4E     		ldr	r6, .L366
 2768 00e8 F35C     		ldrb	r3, [r6, r3]	@ zero_extendqisi2
2073:Middlewares/Third_Party/FatFs/src/ff.c **** 			b |= 3;						/* Eliminate NT flag */
 2769              		.loc 1 2073 0
 2770 00ea 42F00302 		orr	r2, r2, #3
 2771              	.LVL369:
 2772              	.L310:
 2773 00ee DFF8B0C0 		ldr	ip, .L366+4
 2774              	.LVL370:
 2775              	.L311:
 2776              	.LBB36:
 2777              	.LBB37:
 617:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (*str && *str != chr) str++;
 2778              		.loc 1 617 0
 2779 00f2 1CF8016F 		ldrb	r6, [ip, #1]!	@ zero_extendqisi2
 2780              	.LVL371:
 2781 00f6 B6B3     		cbz	r6, .L312
 2782 00f8 9E42     		cmp	r6, r3
 2783 00fa FAD1     		bne	.L311
 2784 00fc 30E0     		b	.L343
 2785              	.LVL372:
 2786              	.L362:
 2787              	.LBE37:
 2788              	.LBE36:
 2789              	.LBE38:
 2790              	.LBE45:
 2791              	.LBB46:
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 100


 2792              	.LBB44:
1545:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->fs, dp->sect);
 2793              		.loc 1 1545 0
 2794 00fe D4F80002 		ldr	r0, [r4, #512]
 2795              	.LVL373:
 2796 0102 D4F81012 		ldr	r1, [r4, #528]
 2797 0106 FFF7FEFF 		bl	move_window
 2798              	.LVL374:
1546:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 2799              		.loc 1 1546 0
 2800 010a 0028     		cmp	r0, #0
 2801 010c C5D1     		bne	.L320
1547:Middlewares/Third_Party/FatFs/src/ff.c **** 		dir = dp->dir;					/* Ptr to the directory entry of current index */
 2802              		.loc 1 1547 0
 2803 010e D4F81422 		ldr	r2, [r4, #532]
 2804              	.LVL375:
1549:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) { res = FR_NO_FILE; break; }	/* Reached to end of table */
 2805              		.loc 1 1549 0
 2806 0112 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 2807 0114 BBB1     		cbz	r3, .L338
1572:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(dir[DIR_Attr] & AM_VOL) && !mem_cmp(dir, dp->fn, 11)) /* Is it a valid entry? */
 2808              		.loc 1 1572 0
 2809 0116 D17A     		ldrb	r1, [r2, #11]	@ zero_extendqisi2
 2810 0118 01F00801 		and	r1, r1, #8
 2811 011c 01F0FF03 		and	r3, r1, #255
 2812 0120 61B9     		cbnz	r1, .L321
 2813 0122 D4F81852 		ldr	r5, [r4, #536]
 2814              	.LVL376:
 2815              	.L322:
 2816              	.LBB42:
 2817              	.LBB43:
 610:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (cnt-- && (r = *d++ - *s++) == 0) ;
 2818              		.loc 1 610 0
 2819 0126 D15C     		ldrb	r1, [r2, r3]	@ zero_extendqisi2
 2820              	.LVL377:
 2821 0128 0133     		adds	r3, r3, #1
 2822              	.LVL378:
 2823 012a E818     		adds	r0, r5, r3
 2824 012c 10F8010C 		ldrb	r0, [r0, #-1]	@ zero_extendqisi2
 2825              	.LVL379:
 2826 0130 8842     		cmp	r0, r1
 2827 0132 03D1     		bne	.L321
 2828              	.LVL380:
 2829 0134 0B2B     		cmp	r3, #11
 2830 0136 F6D1     		bne	.L322
 2831 0138 0020     		movs	r0, #0
 2832 013a AEE7     		b	.L320
 2833              	.LVL381:
 2834              	.L321:
 2835              	.LBE43:
 2836              	.LBE42:
1575:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_next(dp, 0);		/* Next entry */
 2837              		.loc 1 1575 0
 2838 013c 2046     		mov	r0, r4
 2839 013e 0021     		movs	r1, #0
 2840 0140 FFF7FEFF 		bl	dir_next
 2841              	.LVL382:
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 101


 2842 0144 A8E7     		b	.L360
 2843              	.LVL383:
 2844              	.L338:
1549:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) { res = FR_NO_FILE; break; }	/* Reached to end of table */
 2845              		.loc 1 1549 0
 2846 0146 0420     		movs	r0, #4
 2847              	.LVL384:
 2848 0148 A7E7     		b	.L320
 2849              	.LVL385:
 2850              	.L363:
 2851              	.LBE44:
 2852              	.LBE46:
2156:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) {	/* Object is not found */
 2853              		.loc 1 2156 0
 2854 014a 0428     		cmp	r0, #4
 2855 014c 24D1     		bne	.L347
2162:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!(ns & NS_LAST)) res = FR_NO_PATH;	/* Adjust error code if not last segment */
 2856              		.loc 1 2162 0
 2857 014e 12F0040F 		tst	r2, #4
 2858 0152 08BF     		it	eq
 2859 0154 0520     		moveq	r0, #5
 2860 0156 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2861              	.LVL386:
 2862              	.L342:
2170:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NO_PATH; break;
 2863              		.loc 1 2170 0
 2864 015a 0520     		movs	r0, #5
 2865 015c BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2866              	.LVL387:
 2867              	.L343:
 2868              	.LBB47:
 2869              	.LBB39:
2068:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ni != 8 || c != '.') return FR_INVALID_NAME;
 2870              		.loc 1 2068 0
 2871 0160 0620     		movs	r0, #6
 2872              	.LVL388:
 2873 0162 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2874              	.LVL389:
 2875              	.L312:
2091:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (IsUpper(c)) {			/* ASCII large capital? */
 2876              		.loc 1 2091 0
 2877 0166 A3F14106 		sub	r6, r3, #65
 2878 016a 192E     		cmp	r6, #25
 2879 016c 02D8     		bhi	.L365
2092:Middlewares/Third_Party/FatFs/src/ff.c **** 				b |= 2;
 2880              		.loc 1 2092 0
 2881 016e 42F00202 		orr	r2, r2, #2
 2882              	.LVL390:
 2883 0172 07E0     		b	.L314
 2884              	.L365:
2094:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (IsLower(c)) {		/* ASCII small capital? */
 2885              		.loc 1 2094 0
 2886 0174 A3F16106 		sub	r6, r3, #97
 2887 0178 192E     		cmp	r6, #25
 2888 017a 03D8     		bhi	.L314
2095:Middlewares/Third_Party/FatFs/src/ff.c **** 					b |= 1; c -= 0x20;
 2889              		.loc 1 2095 0
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 102


 2890 017c 203B     		subs	r3, r3, #32
 2891              	.LVL391:
 2892 017e 42F00102 		orr	r2, r2, #1
 2893              	.LVL392:
 2894 0182 DBB2     		uxtb	r3, r3
 2895              	.LVL393:
 2896              	.L314:
2098:Middlewares/Third_Party/FatFs/src/ff.c **** 			sfn[i++] = c;
 2897              		.loc 1 2098 0
 2898 0184 7B55     		strb	r3, [r7, r5]
 2899 0186 0135     		adds	r5, r5, #1
 2900              	.LVL394:
 2901 0188 5FE7     		b	.L305
 2902              	.LVL395:
 2903              	.L307:
2068:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ni != 8 || c != '.') return FR_INVALID_NAME;
 2904              		.loc 1 2068 0
 2905 018a 0829     		cmp	r1, #8
 2906 018c E8D1     		bne	.L343
 2907              	.LVL396:
2070:Middlewares/Third_Party/FatFs/src/ff.c **** 			b <<= 2; continue;
 2908              		.loc 1 2070 0
 2909 018e 9200     		lsls	r2, r2, #2
 2910              	.LVL397:
2069:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = 8; ni = 11;
 2911              		.loc 1 2069 0
 2912 0190 0D46     		mov	r5, r1
2070:Middlewares/Third_Party/FatFs/src/ff.c **** 			b <<= 2; continue;
 2913              		.loc 1 2070 0
 2914 0192 D2B2     		uxtb	r2, r2
 2915              	.LVL398:
2069:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = 8; ni = 11;
 2916              		.loc 1 2069 0
 2917 0194 0B21     		movs	r1, #11
 2918 0196 58E7     		b	.L305
 2919              	.LVL399:
 2920              	.L347:
 2921              	.LBE39:
 2922              	.LBE47:
2177:Middlewares/Third_Party/FatFs/src/ff.c **** }
 2923              		.loc 1 2177 0
 2924 0198 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2925              	.LVL400:
 2926              	.L367:
 2927              		.align	2
 2928              	.L366:
 2929 019c 00000000 		.word	.LANCHOR3
 2930 01a0 FFFFFFFF 		.word	.LC0-1
 2931              		.cfi_endproc
 2932              	.LFE154:
 2934              		.section	.text.dir_read.constprop.11,"ax",%progbits
 2935              		.align	1
 2936              		.thumb
 2937              		.thumb_func
 2939              	dir_read.constprop.11:
 2940              	.LFB197:
1589:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_read (
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 103


 2941              		.loc 1 1589 0
 2942              		.cfi_startproc
 2943              		@ args = 0, pretend = 0, frame = 0
 2944              		@ frame_needed = 0, uses_anonymous_args = 0
 2945              	.LVL401:
 2946 0000 10B5     		push	{r4, lr}
 2947              	.LCFI19:
 2948              		.cfi_def_cfa_offset 8
 2949              		.cfi_offset 4, -8
 2950              		.cfi_offset 14, -4
1600:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = FR_NO_FILE;
 2951              		.loc 1 1600 0
 2952 0002 0423     		movs	r3, #4
1589:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_read (
 2953              		.loc 1 1589 0
 2954 0004 0446     		mov	r4, r0
 2955              	.LVL402:
 2956              	.L369:
1601:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (dp->sect) {
 2957              		.loc 1 1601 0
 2958 0006 D4F81012 		ldr	r1, [r4, #528]
 2959 000a E1B1     		cbz	r1, .L389
1602:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->fs, dp->sect);
 2960              		.loc 1 1602 0
 2961 000c D4F80002 		ldr	r0, [r4, #512]
 2962 0010 FFF7FEFF 		bl	move_window
 2963              	.LVL403:
1603:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 2964              		.loc 1 1603 0
 2965 0014 F8B9     		cbnz	r0, .L370
1604:Middlewares/Third_Party/FatFs/src/ff.c **** 		dir = dp->dir;					/* Ptr to the directory entry of current index */
 2966              		.loc 1 1604 0
 2967 0016 D4F81422 		ldr	r2, [r4, #532]
 2968              	.LVL404:
1605:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = dir[DIR_Name];
 2969              		.loc 1 1605 0
 2970 001a 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 2971              	.LVL405:
1606:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) { res = FR_NO_FILE; break; }	/* Reached to end of table */
 2972              		.loc 1 1606 0
 2973 001c D3B1     		cbz	r3, .L375
1627:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c != DDEM && (_FS_RPATH || c != '.') && a != AM_LFN && (int)((a & ~AM_ARC) == AM_VOL) == vol)
 2974              		.loc 1 1627 0
 2975 001e E52B     		cmp	r3, #229
1607:Middlewares/Third_Party/FatFs/src/ff.c **** 		a = dir[DIR_Attr] & AM_MASK;
 2976              		.loc 1 1607 0
 2977 0020 D27A     		ldrb	r2, [r2, #11]	@ zero_extendqisi2
 2978              	.LVL406:
1627:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c != DDEM && (_FS_RPATH || c != '.') && a != AM_LFN && (int)((a & ~AM_ARC) == AM_VOL) == vol)
 2979              		.loc 1 1627 0
 2980 0022 09D0     		beq	.L371
 2981 0024 2E2B     		cmp	r3, #46
 2982 0026 07D0     		beq	.L371
1607:Middlewares/Third_Party/FatFs/src/ff.c **** 		a = dir[DIR_Attr] & AM_MASK;
 2983              		.loc 1 1607 0
 2984 0028 02F03F03 		and	r3, r2, #63
1627:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c != DDEM && (_FS_RPATH || c != '.') && a != AM_LFN && (int)((a & ~AM_ARC) == AM_VOL) == vol)
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 104


 2985              		.loc 1 1627 0
 2986 002c 0F2B     		cmp	r3, #15
 2987 002e 03D0     		beq	.L371
 2988 0030 23F02003 		bic	r3, r3, #32
 2989 0034 082B     		cmp	r3, #8
 2990 0036 10D1     		bne	.L380
 2991              	.L371:
1630:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_next(dp, 0);				/* Next entry */
 2992              		.loc 1 1630 0
 2993 0038 2046     		mov	r0, r4
 2994              	.LVL407:
 2995 003a 0021     		movs	r1, #0
 2996 003c FFF7FEFF 		bl	dir_next
 2997              	.LVL408:
1631:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 2998              		.loc 1 1631 0
 2999 0040 48B9     		cbnz	r0, .L370
1630:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_next(dp, 0);				/* Next entry */
 3000              		.loc 1 1630 0
 3001 0042 0346     		mov	r3, r0
 3002 0044 DFE7     		b	.L369
 3003              	.LVL409:
 3004              	.L389:
1601:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (dp->sect) {
 3005              		.loc 1 1601 0
 3006 0046 1846     		mov	r0, r3
 3007              	.LVL410:
1634:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) dp->sect = 0;
 3008              		.loc 1 1634 0
 3009 0048 3BB1     		cbz	r3, .L380
 3010              	.LVL411:
 3011              	.L374:
 3012 004a 0022     		movs	r2, #0
 3013 004c C4F81022 		str	r2, [r4, #528]
 3014 0050 1846     		mov	r0, r3
 3015 0052 10BD     		pop	{r4, pc}
 3016              	.LVL412:
 3017              	.L375:
1606:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) { res = FR_NO_FILE; break; }	/* Reached to end of table */
 3018              		.loc 1 1606 0
 3019 0054 0420     		movs	r0, #4
 3020              	.LVL413:
 3021              	.L370:
1601:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (dp->sect) {
 3022              		.loc 1 1601 0
 3023 0056 0346     		mov	r3, r0
 3024 0058 F7E7     		b	.L374
 3025              	.LVL414:
 3026              	.L380:
1637:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3027              		.loc 1 1637 0
 3028 005a 10BD     		pop	{r4, pc}
 3029              		.cfi_endproc
 3030              	.LFE197:
 3032              		.section	.text.dir_register,"ax",%progbits
 3033              		.align	1
 3034              		.thumb
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 105


 3035              		.thumb_func
 3037              	dir_register:
 3038              	.LFB150:
1651:Middlewares/Third_Party/FatFs/src/ff.c **** {
 3039              		.loc 1 1651 0
 3040              		.cfi_startproc
 3041              		@ args = 0, pretend = 0, frame = 0
 3042              		@ frame_needed = 0, uses_anonymous_args = 0
 3043              	.LVL415:
 3044 0000 38B5     		push	{r3, r4, r5, lr}
 3045              	.LCFI20:
 3046              		.cfi_def_cfa_offset 16
 3047              		.cfi_offset 3, -16
 3048              		.cfi_offset 4, -12
 3049              		.cfi_offset 5, -8
 3050              		.cfi_offset 14, -4
 3051              	.LBB52:
 3052              	.LBB53:
1281:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_sdi(dp, 0);
 3053              		.loc 1 1281 0
 3054 0002 0021     		movs	r1, #0
 3055              	.LBE53:
 3056              	.LBE52:
1651:Middlewares/Third_Party/FatFs/src/ff.c **** {
 3057              		.loc 1 1651 0
 3058 0004 0546     		mov	r5, r0
 3059              	.LVL416:
 3060              	.LBB55:
 3061              	.LBB54:
1281:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_sdi(dp, 0);
 3062              		.loc 1 1281 0
 3063 0006 FFF7FEFF 		bl	dir_sdi
 3064              	.LVL417:
 3065              	.L406:
1282:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 3066              		.loc 1 1282 0
 3067 000a 0446     		mov	r4, r0
 3068 000c 90B9     		cbnz	r0, .L391
 3069              	.LVL418:
1285:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(dp->fs, dp->sect);
 3070              		.loc 1 1285 0
 3071 000e D5F80002 		ldr	r0, [r5, #512]
 3072              	.LVL419:
 3073 0012 D5F81012 		ldr	r1, [r5, #528]
 3074 0016 FFF7FEFF 		bl	move_window
 3075              	.LVL420:
1286:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3076              		.loc 1 1286 0
 3077 001a 0446     		mov	r4, r0
 3078 001c 50B9     		cbnz	r0, .L391
1287:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dp->dir[0] == DDEM || dp->dir[0] == 0) {	/* Is it a free entry? */
 3079              		.loc 1 1287 0
 3080 001e D5F81432 		ldr	r3, [r5, #532]
 3081 0022 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3082 0024 E52B     		cmp	r3, #229
 3083 0026 09D0     		beq	.L392
 3084 0028 43B1     		cbz	r3, .L392
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 106


1292:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_next(dp, 1);		/* Next entry with table stretch enabled */
 3085              		.loc 1 1292 0
 3086 002a 2846     		mov	r0, r5
 3087              	.LVL421:
 3088 002c 0121     		movs	r1, #1
 3089 002e FFF7FEFF 		bl	dir_next
 3090              	.LVL422:
 3091 0032 EAE7     		b	.L406
 3092              	.LVL423:
 3093              	.L391:
1295:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_NO_FILE) res = FR_DENIED;	/* No directory entry to allocate */
 3094              		.loc 1 1295 0
 3095 0034 042C     		cmp	r4, #4
 3096 0036 08BF     		it	eq
 3097 0038 0724     		moveq	r4, #7
 3098              	.LVL424:
 3099 003a 19E0     		b	.L405
 3100              	.LVL425:
 3101              	.L392:
 3102              	.LBE54:
 3103              	.LBE55:
 3104              	.LBB56:
 3105              	.LBB57:
1703:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->fs, dp->sect);
 3106              		.loc 1 1703 0
 3107 003c D5F80002 		ldr	r0, [r5, #512]
 3108 0040 D5F81012 		ldr	r1, [r5, #528]
 3109 0044 FFF7FEFF 		bl	move_window
 3110              	.LVL426:
1704:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 3111              		.loc 1 1704 0
 3112 0048 0446     		mov	r4, r0
 3113 004a 88B9     		cbnz	r0, .L405
1705:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(dp->dir, 0, SZ_DIRE);	/* Clean the entry */
 3114              		.loc 1 1705 0
 3115 004c D5F81402 		ldr	r0, [r5, #532]
 3116              	.LVL427:
 3117 0050 2146     		mov	r1, r4
 3118 0052 2022     		movs	r2, #32
 3119 0054 FFF7FEFF 		bl	mem_set
 3120              	.LVL428:
1706:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(dp->dir, dp->fn, 11);	/* Put SFN */
 3121              		.loc 1 1706 0
 3122 0058 0B22     		movs	r2, #11
 3123 005a D5F81402 		ldr	r0, [r5, #532]
 3124 005e D5F81812 		ldr	r1, [r5, #536]
 3125 0062 FFF7FEFF 		bl	mem_cpy
 3126              	.LVL429:
1710:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->fs->wflag = 1;
 3127              		.loc 1 1710 0
 3128 0066 D5F80032 		ldr	r3, [r5, #512]
 3129 006a 0122     		movs	r2, #1
 3130 006c 83F80422 		strb	r2, [r3, #516]
 3131              	.LVL430:
 3132              	.L405:
 3133              	.LBE57:
 3134              	.LBE56:
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 107


1715:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3135              		.loc 1 1715 0
 3136 0070 2046     		mov	r0, r4
 3137 0072 38BD     		pop	{r3, r4, r5, pc}
 3138              		.cfi_endproc
 3139              	.LFE150:
 3141              		.section	.text.remove_chain,"ax",%progbits
 3142              		.align	1
 3143              		.thumb
 3144              		.thumb_func
 3146              	remove_chain:
 3147              	.LFB140:
1014:Middlewares/Third_Party/FatFs/src/ff.c **** {
 3148              		.loc 1 1014 0
 3149              		.cfi_startproc
 3150              		@ args = 0, pretend = 0, frame = 0
 3151              		@ frame_needed = 0, uses_anonymous_args = 0
 3152              	.LVL431:
1021:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst < 2 || clst >= fs->n_fatent) {	/* Check range */
 3153              		.loc 1 1021 0
 3154 0000 0129     		cmp	r1, #1
1014:Middlewares/Third_Party/FatFs/src/ff.c **** {
 3155              		.loc 1 1014 0
 3156 0002 70B5     		push	{r4, r5, r6, lr}
 3157              	.LCFI21:
 3158              		.cfi_def_cfa_offset 16
 3159              		.cfi_offset 4, -16
 3160              		.cfi_offset 5, -12
 3161              		.cfi_offset 6, -8
 3162              		.cfi_offset 14, -4
1014:Middlewares/Third_Party/FatFs/src/ff.c **** {
 3163              		.loc 1 1014 0
 3164 0004 0446     		mov	r4, r0
 3165 0006 0D46     		mov	r5, r1
1021:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst < 2 || clst >= fs->n_fatent) {	/* Check range */
 3166              		.loc 1 1021 0
 3167 0008 2AD9     		bls	.L416
1021:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst < 2 || clst >= fs->n_fatent) {	/* Check range */
 3168              		.loc 1 1021 0 is_stmt 0 discriminator 1
 3169 000a D0F81432 		ldr	r3, [r0, #532]
 3170 000e 9942     		cmp	r1, r3
 3171 0010 26D2     		bcs	.L416
 3172              	.LVL432:
 3173              	.L409:
 3174              	.LBB60:
 3175              	.LBB61:
1026:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (clst < fs->n_fatent) {			/* Not a last link? */
 3176              		.loc 1 1026 0 is_stmt 1
 3177 0012 D4F81432 		ldr	r3, [r4, #532]
 3178 0016 9D42     		cmp	r5, r3
 3179 0018 05D2     		bcs	.L414
1027:Middlewares/Third_Party/FatFs/src/ff.c **** 			nxt = get_fat(fs, clst);			/* Get cluster status */
 3180              		.loc 1 1027 0
 3181 001a 2046     		mov	r0, r4
 3182 001c 2946     		mov	r1, r5
 3183 001e FFF7FEFF 		bl	get_fat
 3184              	.LVL433:
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 108


1028:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (nxt == 0) break;				/* Empty cluster? */
 3185              		.loc 1 1028 0
 3186 0022 0646     		mov	r6, r0
 3187 0024 08B9     		cbnz	r0, .L410
 3188              	.LVL434:
 3189              	.L414:
 3190              	.LBE61:
 3191              	.LBE60:
1014:Middlewares/Third_Party/FatFs/src/ff.c **** {
 3192              		.loc 1 1014 0
 3193 0026 0020     		movs	r0, #0
 3194 0028 70BD     		pop	{r4, r5, r6, pc}
 3195              	.LVL435:
 3196              	.L410:
 3197              	.LBB64:
 3198              	.LBB62:
1029:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (nxt == 1) { res = FR_INT_ERR; break; }	/* Internal error? */
 3199              		.loc 1 1029 0
 3200 002a 0128     		cmp	r0, #1
 3201 002c 18D0     		beq	.L416
1030:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (nxt == 0xFFFFFFFF) { res = FR_DISK_ERR; break; }	/* Disk error? */
 3202              		.loc 1 1030 0
 3203 002e 411C     		adds	r1, r0, #1
 3204 0030 14D0     		beq	.L418
1031:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = put_fat(fs, clst, 0);			/* Mark the cluster "empty" */
 3205              		.loc 1 1031 0
 3206 0032 2046     		mov	r0, r4
 3207              	.LVL436:
 3208 0034 2946     		mov	r1, r5
 3209 0036 0022     		movs	r2, #0
 3210 0038 FFF7FEFF 		bl	put_fat
 3211              	.LVL437:
1032:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3212              		.loc 1 1032 0
 3213 003c 88B9     		cbnz	r0, .L408
1033:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->free_clust != 0xFFFFFFFF) {	/* Update FSINFO */
 3214              		.loc 1 1033 0
 3215 003e D4F81032 		ldr	r3, [r4, #528]
 3216 0042 5A1C     		adds	r2, r3, #1
 3217 0044 08D0     		beq	.L412
1034:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->free_clust++;
 3218              		.loc 1 1034 0
 3219 0046 0133     		adds	r3, r3, #1
 3220 0048 C4F81032 		str	r3, [r4, #528]
1035:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->fsi_flag |= 1;
 3221              		.loc 1 1035 0
 3222 004c 94F80532 		ldrb	r3, [r4, #517]	@ zero_extendqisi2
 3223 0050 43F00103 		orr	r3, r3, #1
 3224 0054 84F80532 		strb	r3, [r4, #517]
 3225              	.L412:
 3226              	.LBE62:
 3227              	.LBE64:
1014:Middlewares/Third_Party/FatFs/src/ff.c **** {
 3228              		.loc 1 1014 0
 3229 0058 3546     		mov	r5, r6
 3230              	.LVL438:
 3231 005a DAE7     		b	.L409
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 109


 3232              	.LVL439:
 3233              	.L418:
 3234              	.LBB65:
 3235              	.LBB63:
1030:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (nxt == 0xFFFFFFFF) { res = FR_DISK_ERR; break; }	/* Disk error? */
 3236              		.loc 1 1030 0
 3237 005c 0120     		movs	r0, #1
 3238              	.LVL440:
 3239 005e 70BD     		pop	{r4, r5, r6, pc}
 3240              	.LVL441:
 3241              	.L416:
 3242              	.LBE63:
 3243              	.LBE65:
1022:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_INT_ERR;
 3244              		.loc 1 1022 0
 3245 0060 0220     		movs	r0, #2
 3246              	.L408:
 3247              	.LVL442:
1052:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3248              		.loc 1 1052 0
 3249 0062 70BD     		pop	{r4, r5, r6, pc}
 3250              		.cfi_endproc
 3251              	.LFE140:
 3253              		.section	.text.f_mount,"ax",%progbits
 3254              		.align	1
 3255              		.global	f_mount
 3256              		.thumb
 3257              		.thumb_func
 3259              	f_mount:
 3260              	.LFB159:
2459:Middlewares/Third_Party/FatFs/src/ff.c **** 
2460:Middlewares/Third_Party/FatFs/src/ff.c **** 
2461:Middlewares/Third_Party/FatFs/src/ff.c **** 
2462:Middlewares/Third_Party/FatFs/src/ff.c **** 
2463:Middlewares/Third_Party/FatFs/src/ff.c **** /*--------------------------------------------------------------------------
2464:Middlewares/Third_Party/FatFs/src/ff.c **** 
2465:Middlewares/Third_Party/FatFs/src/ff.c ****    Public Functions
2466:Middlewares/Third_Party/FatFs/src/ff.c **** 
2467:Middlewares/Third_Party/FatFs/src/ff.c **** --------------------------------------------------------------------------*/
2468:Middlewares/Third_Party/FatFs/src/ff.c **** 
2469:Middlewares/Third_Party/FatFs/src/ff.c **** 
2470:Middlewares/Third_Party/FatFs/src/ff.c **** 
2471:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2472:Middlewares/Third_Party/FatFs/src/ff.c **** /* Mount/Unmount a Logical Drive                                         */
2473:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2474:Middlewares/Third_Party/FatFs/src/ff.c **** 
2475:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_mount (
2476:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,			/* Pointer to the file system object (NULL:unmount)*/
2477:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Logical drive number to be mounted/unmounted */
2478:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE opt			/* 0:Do not mount (delayed mount), 1:Mount immediately */
2479:Middlewares/Third_Party/FatFs/src/ff.c **** )
2480:Middlewares/Third_Party/FatFs/src/ff.c **** {
 3261              		.loc 1 2480 0
 3262              		.cfi_startproc
 3263              		@ args = 0, pretend = 0, frame = 16
 3264              		@ frame_needed = 0, uses_anonymous_args = 0
 3265              	.LVL443:
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 110


 3266 0000 30B5     		push	{r4, r5, lr}
 3267              	.LCFI22:
 3268              		.cfi_def_cfa_offset 12
 3269              		.cfi_offset 4, -12
 3270              		.cfi_offset 5, -8
 3271              		.cfi_offset 14, -4
 3272 0002 85B0     		sub	sp, sp, #20
 3273              	.LCFI23:
 3274              		.cfi_def_cfa_offset 32
 3275              		.loc 1 2480 0
 3276 0004 1546     		mov	r5, r2
 3277 0006 0190     		str	r0, [sp, #4]
2481:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *cfs;
2482:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol;
2483:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
2484:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR *rp = path;
 3278              		.loc 1 2484 0
 3279 0008 04A8     		add	r0, sp, #16
 3280              	.LVL444:
2480:Middlewares/Third_Party/FatFs/src/ff.c **** {
 3281              		.loc 1 2480 0
 3282 000a 0091     		str	r1, [sp]
 3283              		.loc 1 2484 0
 3284 000c 40F8041D 		str	r1, [r0, #-4]!
2485:Middlewares/Third_Party/FatFs/src/ff.c **** 
2486:Middlewares/Third_Party/FatFs/src/ff.c **** 
2487:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(&rp);
 3285              		.loc 1 2487 0
 3286 0010 FFF7FEFF 		bl	get_ldnumber
 3287              	.LVL445:
2488:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 3288              		.loc 1 2488 0
 3289 0014 011E     		subs	r1, r0, #0
 3290 0016 24DB     		blt	.L428
2489:Middlewares/Third_Party/FatFs/src/ff.c **** 	cfs = FatFs[vol];					/* Pointer to fs object */
 3291              		.loc 1 2489 0
 3292 0018 1448     		ldr	r0, .L437
 3293              	.LVL446:
 3294 001a 50F82130 		ldr	r3, [r0, r1, lsl #2]
 3295              	.LVL447:
 3296 001e 0246     		mov	r2, r0
2490:Middlewares/Third_Party/FatFs/src/ff.c **** 
2491:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (cfs) {
 3297              		.loc 1 2491 0
 3298 0020 7BB1     		cbz	r3, .L424
 3299              	.LVL448:
 3300              	.LBB68:
 3301              	.LBB69:
 760:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 3302              		.loc 1 760 0
 3303 0022 1348     		ldr	r0, .L437+4
 3304 0024 0468     		ldr	r4, [r0]
 3305 0026 9C42     		cmp	r4, r3
 3306 0028 04BF     		itt	eq
 3307 002a 0024     		moveq	r4, #0
 3308 002c 0460     		streq	r4, [r0]
 3309              	.LVL449:
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 111


 3310 002e C068     		ldr	r0, [r0, #12]
 3311 0030 9842     		cmp	r0, r3
 3312 0032 08BF     		it	eq
 3313 0034 0E4C     		ldreq	r4, .L437+4
 3314 0036 4FF00000 		mov	r0, #0
 3315 003a 08BF     		it	eq
 3316 003c E060     		streq	r0, [r4, #12]
 3317              	.LVL450:
 3318              	.LBE69:
 3319              	.LBE68:
2492:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
2493:Middlewares/Third_Party/FatFs/src/ff.c **** 		clear_lock(cfs);
2494:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2495:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT						/* Discard sync object of the current volume */
2496:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!ff_del_syncobj(cfs->sobj)) return FR_INT_ERR;
2497:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2498:Middlewares/Third_Party/FatFs/src/ff.c **** 		cfs->fs_type = 0;				/* Clear old fs object */
 3320              		.loc 1 2498 0
 3321 003e 83F80002 		strb	r0, [r3, #512]
 3322              	.LVL451:
 3323              	.L424:
2499:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2500:Middlewares/Third_Party/FatFs/src/ff.c **** 
2501:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs) {
 3324              		.loc 1 2501 0
 3325 0042 0198     		ldr	r0, [sp, #4]
 3326 0044 10B1     		cbz	r0, .L427
2502:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fs_type = 0;				/* Clear new fs object */
 3327              		.loc 1 2502 0
 3328 0046 0023     		movs	r3, #0
 3329              	.LVL452:
 3330 0048 80F80032 		strb	r3, [r0, #512]
 3331              	.L427:
2503:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT						/* Create sync object for the new volume */
2504:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!ff_cre_syncobj((BYTE)vol, &fs->sobj)) return FR_INT_ERR;
2505:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2506:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2507:Middlewares/Third_Party/FatFs/src/ff.c **** 	FatFs[vol] = fs;					/* Register new fs object */
 3332              		.loc 1 2507 0
 3333 004c 42F82100 		str	r0, [r2, r1, lsl #2]
 3334              	.LVL453:
2508:Middlewares/Third_Party/FatFs/src/ff.c **** 
2509:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs || opt != 1) return FR_OK;	/* Do not mount now, it will be mounted later */
 3335              		.loc 1 2509 0
 3336 0050 50B1     		cbz	r0, .L423
 3337              		.loc 1 2509 0 is_stmt 0 discriminator 2
 3338 0052 012D     		cmp	r5, #1
 3339 0054 07D1     		bne	.L430
2510:Middlewares/Third_Party/FatFs/src/ff.c **** 
2511:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&fs, &path, 0);	/* Force mounted the volume */
 3340              		.loc 1 2511 0 is_stmt 1
 3341 0056 01A8     		add	r0, sp, #4
 3342              	.LVL454:
 3343 0058 6946     		mov	r1, sp
 3344              	.LVL455:
 3345 005a 0022     		movs	r2, #0
 3346 005c FFF7FEFF 		bl	find_volume
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 112


 3347              	.LVL456:
2512:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
 3348              		.loc 1 2512 0
 3349 0060 02E0     		b	.L423
 3350              	.LVL457:
 3351              	.L428:
2488:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 3352              		.loc 1 2488 0
 3353 0062 0B20     		movs	r0, #11
 3354              	.LVL458:
 3355 0064 00E0     		b	.L423
 3356              	.L430:
2509:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs || opt != 1) return FR_OK;	/* Do not mount now, it will be mounted later */
 3357              		.loc 1 2509 0
 3358 0066 0020     		movs	r0, #0
 3359              	.LVL459:
 3360              	.L423:
2513:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3361              		.loc 1 2513 0
 3362 0068 05B0     		add	sp, sp, #20
 3363              	.LVL460:
 3364              		@ sp needed
 3365 006a 30BD     		pop	{r4, r5, pc}
 3366              	.LVL461:
 3367              	.L438:
 3368              		.align	2
 3369              	.L437:
 3370 006c 00000000 		.word	.LANCHOR1
 3371 0070 00000000 		.word	.LANCHOR0
 3372              		.cfi_endproc
 3373              	.LFE159:
 3375              		.section	.text.f_open,"ax",%progbits
 3376              		.align	1
 3377              		.global	f_open
 3378              		.thumb
 3379              		.thumb_func
 3381              	f_open:
 3382              	.LFB160:
2514:Middlewares/Third_Party/FatFs/src/ff.c **** 
2515:Middlewares/Third_Party/FatFs/src/ff.c **** 
2516:Middlewares/Third_Party/FatFs/src/ff.c **** 
2517:Middlewares/Third_Party/FatFs/src/ff.c **** 
2518:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2519:Middlewares/Third_Party/FatFs/src/ff.c **** /* Open or Create a File                                                 */
2520:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2521:Middlewares/Third_Party/FatFs/src/ff.c **** 
2522:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_open (
2523:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp,			/* Pointer to the blank file object */
2524:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Pointer to the file name */
2525:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE mode			/* Access mode and file open mode flags */
2526:Middlewares/Third_Party/FatFs/src/ff.c **** )
2527:Middlewares/Third_Party/FatFs/src/ff.c **** {
 3383              		.loc 1 2527 0
 3384              		.cfi_startproc
 3385              		@ args = 0, pretend = 0, frame = 568
 3386              		@ frame_needed = 0, uses_anonymous_args = 0
 3387              	.LVL462:
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 113


 3388 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 3389              	.LCFI24:
 3390              		.cfi_def_cfa_offset 24
 3391              		.cfi_offset 4, -24
 3392              		.cfi_offset 5, -20
 3393              		.cfi_offset 6, -16
 3394              		.cfi_offset 7, -12
 3395              		.cfi_offset 8, -8
 3396              		.cfi_offset 14, -4
 3397 0004 ADF50E7D 		sub	sp, sp, #568
 3398              	.LCFI25:
 3399              		.cfi_def_cfa_offset 592
 3400              		.loc 1 2527 0
 3401 0008 1746     		mov	r7, r2
 3402 000a 0191     		str	r1, [sp, #4]
2528:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
2529:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
2530:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir;
2531:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
2532:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
2533:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dw, cl;
2534:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2535:Middlewares/Third_Party/FatFs/src/ff.c **** 
2536:Middlewares/Third_Party/FatFs/src/ff.c **** 
2537:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fp) return FR_INVALID_OBJECT;
 3403              		.loc 1 2537 0
 3404 000c 0546     		mov	r5, r0
 3405 000e 0028     		cmp	r0, #0
 3406 0010 00F08E80 		beq	.L454
2538:Middlewares/Third_Party/FatFs/src/ff.c **** 	fp->fs = 0;			/* Clear file object */
 3407              		.loc 1 2538 0
 3408 0014 0023     		movs	r3, #0
 3409 0016 C0F80032 		str	r3, [r0, #512]
 3410              	.LVL463:
2539:Middlewares/Third_Party/FatFs/src/ff.c **** 
2540:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
2541:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
2542:Middlewares/Third_Party/FatFs/src/ff.c **** 	mode &= FA_READ | FA_WRITE | FA_CREATE_ALWAYS | FA_OPEN_ALWAYS | FA_CREATE_NEW;
2543:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&dj.fs, &path, (BYTE)(mode & ~FA_READ));
 3411              		.loc 1 2543 0
 3412 001a 01A9     		add	r1, sp, #4
 3413              	.LVL464:
 3414 001c 86A8     		add	r0, sp, #536
 3415              	.LVL465:
 3416 001e 02F01E02 		and	r2, r2, #30
 3417              	.LVL466:
 3418 0022 FFF7FEFF 		bl	find_volume
 3419              	.LVL467:
2544:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2545:Middlewares/Third_Party/FatFs/src/ff.c **** 	mode &= FA_READ;
2546:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&dj.fs, &path, 0);
2547:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2548:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 3420              		.loc 1 2548 0
 3421 0026 0028     		cmp	r0, #0
 3422 0028 40F0B480 		bne	.L487
2549:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 114


 3423              		.loc 1 2549 0
 3424 002c 03AB     		add	r3, sp, #12
2550:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);	/* Follow the file path */
 3425              		.loc 1 2550 0
 3426 002e 06A8     		add	r0, sp, #24
 3427              	.LVL468:
 3428 0030 0199     		ldr	r1, [sp, #4]
2549:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
 3429              		.loc 1 2549 0
 3430 0032 8C93     		str	r3, [sp, #560]
 3431              		.loc 1 2550 0
 3432 0034 FFF7FEFF 		bl	follow_path
 3433              	.LVL469:
2542:Middlewares/Third_Party/FatFs/src/ff.c **** 	mode &= FA_READ | FA_WRITE | FA_CREATE_ALWAYS | FA_OPEN_ALWAYS | FA_CREATE_NEW;
 3434              		.loc 1 2542 0
 3435 0038 07F01F06 		and	r6, r7, #31
2551:Middlewares/Third_Party/FatFs/src/ff.c **** 		dir = dj.dir;
 3436              		.loc 1 2551 0
 3437 003c 8B9C     		ldr	r4, [sp, #556]
 3438              	.LVL470:
2552:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY	/* R/W configuration */
2553:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 3439              		.loc 1 2553 0
 3440 003e 50B9     		cbnz	r0, .L441
2554:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!dir)	/* Default directory itself */
 3441              		.loc 1 2554 0
 3442 0040 44B1     		cbz	r4, .L456
2555:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
2556:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
2557:Middlewares/Third_Party/FatFs/src/ff.c **** 			else
2558:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = chk_lock(&dj, (mode & ~FA_READ) ? 1 : 0);
 3443              		.loc 1 2558 0
 3444 0042 16F01E0F 		tst	r6, #30
 3445 0046 06A8     		add	r0, sp, #24
 3446              	.LVL471:
 3447 0048 0CBF     		ite	eq
 3448 004a 0021     		moveq	r1, #0
 3449 004c 0121     		movne	r1, #1
 3450 004e FFF7FEFF 		bl	chk_lock
 3451              	.LVL472:
 3452 0052 00E0     		b	.L441
 3453              	.L456:
2555:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
 3454              		.loc 1 2555 0
 3455 0054 0620     		movs	r0, #6
 3456              	.LVL473:
 3457              	.L441:
2559:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2560:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2561:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Create or Open a file */
2562:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (mode & (FA_CREATE_ALWAYS | FA_OPEN_ALWAYS | FA_CREATE_NEW)) {
 3458              		.loc 1 2562 0
 3459 0056 17F01C0F 		tst	r7, #28
 3460 005a 48D0     		beq	.L442
2563:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {					/* No file, create new */
 3461              		.loc 1 2563 0
 3462 005c 70B1     		cbz	r0, .L443
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 115


2564:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE)			/* There is no file to open, create a new entry */
 3463              		.loc 1 2564 0
 3464 005e 0428     		cmp	r0, #4
 3465 0060 07D1     		bne	.L444
 3466              	.LVL474:
 3467              	.LBB74:
 3468              	.LBB75:
 692:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = 0; i < _FS_LOCK && Files[i].fs; i++) ;
 3469              		.loc 1 692 0
 3470 0062 4E4B     		ldr	r3, .L489
 3471 0064 1A68     		ldr	r2, [r3]
 3472 0066 002A     		cmp	r2, #0
 3473 0068 64D0     		beq	.L445
 3474              	.LVL475:
 3475 006a DB68     		ldr	r3, [r3, #12]
 3476 006c 002B     		cmp	r3, #0
 3477 006e 61D0     		beq	.L445
 3478              	.LBE75:
 3479              	.LBE74:
2565:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
2566:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = enq_lock() ? dir_register(&dj) : FR_TOO_MANY_OPEN_FILES;
 3480              		.loc 1 2566 0
 3481 0070 1220     		movs	r0, #18
 3482              	.LVL476:
 3483              	.L444:
2567:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2568:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_register(&dj);
2569:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2570:Middlewares/Third_Party/FatFs/src/ff.c **** 				mode |= FA_CREATE_ALWAYS;		/* File is created */
 3484              		.loc 1 2570 0
 3485 0072 46F00806 		orr	r6, r6, #8
 3486              	.LVL477:
2571:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir = dj.dir;					/* New entry */
 3487              		.loc 1 2571 0
 3488 0076 8B9C     		ldr	r4, [sp, #556]
2572:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2573:Middlewares/Third_Party/FatFs/src/ff.c **** 			else {								/* Any object is already existing */
2574:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dir[DIR_Attr] & (AM_RDO | AM_DIR)) {	/* Cannot overwrite it (R/O or DIR) */
2575:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;
2576:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
2577:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (mode & FA_CREATE_NEW)	/* Cannot create as new file */
2578:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_EXIST;
2579:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2580:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2581:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK && (mode & FA_CREATE_ALWAYS)) {	/* Truncate it if overwrite mode */
 3489              		.loc 1 2581 0
 3490 0078 30B1     		cbz	r0, .L446
 3491 007a 8BE0     		b	.L487
 3492              	.LVL478:
 3493              	.L443:
2574:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dir[DIR_Attr] & (AM_RDO | AM_DIR)) {	/* Cannot overwrite it (R/O or DIR) */
 3494              		.loc 1 2574 0
 3495 007c E37A     		ldrb	r3, [r4, #11]	@ zero_extendqisi2
 3496 007e 13F0110F 		tst	r3, #17
 3497 0082 5FD1     		bne	.L460
2577:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (mode & FA_CREATE_NEW)	/* Cannot create as new file */
 3498              		.loc 1 2577 0
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 116


 3499 0084 7B07     		lsls	r3, r7, #29
 3500 0086 59D4     		bmi	.L458
 3501              	.LVL479:
 3502              	.L446:
 3503              		.loc 1 2581 0 discriminator 1
 3504 0088 3707     		lsls	r7, r6, #28
 3505 008a 39D5     		bpl	.L450
2582:Middlewares/Third_Party/FatFs/src/ff.c **** 				dw = GET_FATTIME();				/* Created time */
 3506              		.loc 1 2582 0
 3507 008c FFF7FEFF 		bl	get_fattime
 3508              	.LVL480:
2583:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_CrtTime, dw);
 3509              		.loc 1 2583 0
 3510 0090 C0F30723 		ubfx	r3, r0, #8, #8
2584:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] = 0;				/* Reset attribute */
 3511              		.loc 1 2584 0
 3512 0094 0027     		movs	r7, #0
2583:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_CrtTime, dw);
 3513              		.loc 1 2583 0
 3514 0096 A073     		strb	r0, [r4, #14]
 3515 0098 E373     		strb	r3, [r4, #15]
 3516 009a 030C     		lsrs	r3, r0, #16
 3517 009c 000E     		lsrs	r0, r0, #24
 3518              	.LVL481:
 3519              		.loc 1 2584 0
 3520 009e E772     		strb	r7, [r4, #11]
2585:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_FileSize, 0);/* size = 0 */
 3521              		.loc 1 2585 0
 3522 00a0 2777     		strb	r7, [r4, #28]
 3523 00a2 6777     		strb	r7, [r4, #29]
 3524 00a4 A777     		strb	r7, [r4, #30]
 3525 00a6 E777     		strb	r7, [r4, #31]
2583:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_CrtTime, dw);
 3526              		.loc 1 2583 0
 3527 00a8 2374     		strb	r3, [r4, #16]
 3528 00aa 6074     		strb	r0, [r4, #17]
2586:Middlewares/Third_Party/FatFs/src/ff.c **** 				cl = ld_clust(dj.fs, dir);		/* Get start cluster */
 3529              		.loc 1 2586 0
 3530 00ac 869B     		ldr	r3, [sp, #536]
 3531 00ae 2146     		mov	r1, r4
 3532 00b0 93F80002 		ldrb	r0, [r3, #512]	@ zero_extendqisi2
 3533 00b4 FFF7FEFF 		bl	ld_clust.isra.0
 3534              	.LVL482:
 3535              	.LBB76:
 3536              	.LBB77:
1330:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(dir + DIR_FstClusLO, cl);
 3537              		.loc 1 1330 0
 3538 00b8 A776     		strb	r7, [r4, #26]
 3539 00ba E776     		strb	r7, [r4, #27]
1331:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(dir + DIR_FstClusHI, cl >> 16);
 3540              		.loc 1 1331 0
 3541 00bc 2775     		strb	r7, [r4, #20]
 3542 00be 6775     		strb	r7, [r4, #21]
 3543              	.LBE77:
 3544              	.LBE76:
2587:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, 0);				/* cluster = 0 */
2588:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.fs->wflag = 1;
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 117


 3545              		.loc 1 2588 0
 3546 00c0 869B     		ldr	r3, [sp, #536]
 3547 00c2 0122     		movs	r2, #1
 3548 00c4 83F80422 		strb	r2, [r3, #516]
2589:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (cl) {						/* Remove the cluster chain if exist */
 3549              		.loc 1 2589 0
 3550 00c8 0746     		mov	r7, r0
 3551 00ca C8B1     		cbz	r0, .L450
2590:Middlewares/Third_Party/FatFs/src/ff.c **** 					dw = dj.fs->winsect;
2591:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = remove_chain(dj.fs, cl);
 3552              		.loc 1 2591 0
 3553 00cc 1846     		mov	r0, r3
 3554              	.LVL483:
 3555 00ce 3946     		mov	r1, r7
2590:Middlewares/Third_Party/FatFs/src/ff.c **** 					dw = dj.fs->winsect;
 3556              		.loc 1 2590 0
 3557 00d0 D3F82C82 		ldr	r8, [r3, #556]
 3558              	.LVL484:
 3559              		.loc 1 2591 0
 3560 00d4 FFF7FEFF 		bl	remove_chain
 3561              	.LVL485:
2592:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
 3562              		.loc 1 2592 0
 3563 00d8 0028     		cmp	r0, #0
 3564 00da 5BD1     		bne	.L487
2593:Middlewares/Third_Party/FatFs/src/ff.c **** 						dj.fs->last_clust = cl - 1;	/* Reuse the cluster hole */
 3565              		.loc 1 2593 0
 3566 00dc 8698     		ldr	r0, [sp, #536]
 3567              	.LVL486:
 3568 00de 013F     		subs	r7, r7, #1
 3569              	.LVL487:
 3570 00e0 C0F80C72 		str	r7, [r0, #524]
2594:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = move_window(dj.fs, dw);
 3571              		.loc 1 2594 0
 3572 00e4 4146     		mov	r1, r8
 3573 00e6 FFF7FEFF 		bl	move_window
 3574              	.LVL488:
2595:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
2596:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2597:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2598:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2599:Middlewares/Third_Party/FatFs/src/ff.c **** 		else {	/* Open an existing file */
2600:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {					/* Follow succeeded */
2601:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dir[DIR_Attr] & AM_DIR) {	/* It is a directory */
2602:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_FILE;
2603:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
2604:Middlewares/Third_Party/FatFs/src/ff.c **** 					if ((mode & FA_WRITE) && (dir[DIR_Attr] & AM_RDO)) /* R/O violation */
2605:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_DENIED;
2606:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2607:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2608:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2609:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 3575              		.loc 1 2609 0
 3576 00ea 48B1     		cbz	r0, .L450
 3577 00ec 52E0     		b	.L487
 3578              	.LVL489:
 3579              	.L442:
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 118


2600:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {					/* Follow succeeded */
 3580              		.loc 1 2600 0
 3581 00ee 0028     		cmp	r0, #0
 3582 00f0 50D1     		bne	.L487
2601:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dir[DIR_Attr] & AM_DIR) {	/* It is a directory */
 3583              		.loc 1 2601 0
 3584 00f2 E37A     		ldrb	r3, [r4, #11]	@ zero_extendqisi2
 3585 00f4 D806     		lsls	r0, r3, #27
 3586              	.LVL490:
 3587 00f6 23D4     		bmi	.L459
2604:Middlewares/Third_Party/FatFs/src/ff.c **** 					if ((mode & FA_WRITE) && (dir[DIR_Attr] & AM_RDO)) /* R/O violation */
 3588              		.loc 1 2604 0
 3589 00f8 B907     		lsls	r1, r7, #30
 3590 00fa 01D5     		bpl	.L450
2604:Middlewares/Third_Party/FatFs/src/ff.c **** 					if ((mode & FA_WRITE) && (dir[DIR_Attr] & AM_RDO)) /* R/O violation */
 3591              		.loc 1 2604 0 is_stmt 0 discriminator 1
 3592 00fc DA07     		lsls	r2, r3, #31
 3593 00fe 21D4     		bmi	.L460
 3594              	.LVL491:
 3595              	.L450:
2610:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (mode & FA_CREATE_ALWAYS)		/* Set file change flag if created or overwritten */
 3596              		.loc 1 2610 0 is_stmt 1
 3597 0100 3307     		lsls	r3, r6, #28
2611:Middlewares/Third_Party/FatFs/src/ff.c **** 				mode |= FA__WRITTEN;
2612:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_sect = dj.fs->winsect;		/* Pointer to the directory entry */
 3598              		.loc 1 2612 0
 3599 0102 869B     		ldr	r3, [sp, #536]
2611:Middlewares/Third_Party/FatFs/src/ff.c **** 				mode |= FA__WRITTEN;
 3600              		.loc 1 2611 0
 3601 0104 48BF     		it	mi
 3602 0106 46F02006 		orrmi	r6, r6, #32
 3603              	.LVL492:
 3604              		.loc 1 2612 0
 3605 010a D3F82C32 		ldr	r3, [r3, #556]
 3606 010e C5F81C32 		str	r3, [r5, #540]
2613:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_ptr = dir;
2614:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
2615:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->lockid = inc_lock(&dj, (mode & ~FA_READ) ? 1 : 0);
 3607              		.loc 1 2615 0
 3608 0112 16F0FE0F 		tst	r6, #254
2613:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_ptr = dir;
 3609              		.loc 1 2613 0
 3610 0116 C5F82042 		str	r4, [r5, #544]
 3611              		.loc 1 2615 0
 3612 011a 06A8     		add	r0, sp, #24
 3613 011c 0CBF     		ite	eq
 3614 011e 0021     		moveq	r1, #0
 3615 0120 0121     		movne	r1, #1
 3616 0122 FFF7FEFF 		bl	inc_lock
 3617              	.LVL493:
 3618 0126 C5F82802 		str	r0, [r5, #552]
2616:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!fp->lockid) res = FR_INT_ERR;
 3619              		.loc 1 2616 0
 3620 012a 68B9     		cbnz	r0, .L488
 3621 012c 0220     		movs	r0, #2
 3622              	.LVL494:
 3623 012e 31E0     		b	.L487
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 119


 3624              	.LVL495:
 3625              	.L454:
2537:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fp) return FR_INVALID_OBJECT;
 3626              		.loc 1 2537 0
 3627 0130 0920     		movs	r0, #9
 3628              	.LVL496:
 3629 0132 2FE0     		b	.L487
 3630              	.LVL497:
 3631              	.L445:
2566:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = enq_lock() ? dir_register(&dj) : FR_TOO_MANY_OPEN_FILES;
 3632              		.loc 1 2566 0
 3633 0134 06A8     		add	r0, sp, #24
 3634              	.LVL498:
 3635 0136 FFF7FEFF 		bl	dir_register
 3636              	.LVL499:
 3637 013a 9AE7     		b	.L444
 3638              	.LVL500:
 3639              	.L458:
2578:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_EXIST;
 3640              		.loc 1 2578 0
 3641 013c 0820     		movs	r0, #8
 3642              	.LVL501:
 3643 013e 29E0     		b	.L487
 3644              	.LVL502:
 3645              	.L459:
2602:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_FILE;
 3646              		.loc 1 2602 0
 3647 0140 0420     		movs	r0, #4
 3648 0142 27E0     		b	.L487
 3649              	.L460:
2605:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_DENIED;
 3650              		.loc 1 2605 0
 3651 0144 0720     		movs	r0, #7
 3652              	.LVL503:
 3653 0146 25E0     		b	.L487
 3654              	.LVL504:
 3655              	.L488:
2617:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2618:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2619:Middlewares/Third_Party/FatFs/src/ff.c **** 
2620:Middlewares/Third_Party/FatFs/src/ff.c **** #else				/* R/O configuration */
2621:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {					/* Follow succeeded */
2622:Middlewares/Third_Party/FatFs/src/ff.c **** 			dir = dj.dir;
2623:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!dir) {						/* Current directory itself */
2624:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
2625:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
2626:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dir[DIR_Attr] & AM_DIR)	/* It is a directory */
2627:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_FILE;
2628:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2629:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2630:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2631:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_BUF();
2632:Middlewares/Third_Party/FatFs/src/ff.c **** 
2633:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
2634:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag = mode;					/* File access mode */
 3656              		.loc 1 2634 0
 3657 0148 85F80662 		strb	r6, [r5, #518]
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 120


2635:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->err = 0;						/* Clear error flag */
2636:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->sclust = ld_clust(dj.fs, dir);	/* File start cluster */
 3658              		.loc 1 2636 0
 3659 014c 869F     		ldr	r7, [sp, #536]
2635:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->err = 0;						/* Clear error flag */
 3660              		.loc 1 2635 0
 3661 014e 0026     		movs	r6, #0
 3662              	.LVL505:
 3663 0150 85F80762 		strb	r6, [r5, #519]
 3664              		.loc 1 2636 0
 3665 0154 97F80002 		ldrb	r0, [r7, #512]	@ zero_extendqisi2
 3666 0158 2146     		mov	r1, r4
 3667 015a FFF7FEFF 		bl	ld_clust.isra.0
 3668              	.LVL506:
 3669 015e C5F81002 		str	r0, [r5, #528]
2637:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fsize = LD_DWORD(dir + DIR_FileSize);	/* File size */
 3670              		.loc 1 2637 0
 3671 0162 A37F     		ldrb	r3, [r4, #30]	@ zero_extendqisi2
 3672 0164 E27F     		ldrb	r2, [r4, #31]	@ zero_extendqisi2
 3673 0166 1B04     		lsls	r3, r3, #16
 3674 0168 43EA0263 		orr	r3, r3, r2, lsl #24
 3675 016c 227F     		ldrb	r2, [r4, #28]	@ zero_extendqisi2
 3676 016e 1343     		orrs	r3, r3, r2
 3677 0170 627F     		ldrb	r2, [r4, #29]	@ zero_extendqisi2
2638:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fptr = 0;						/* File pointer */
 3678              		.loc 1 2638 0
 3679 0172 C5F80862 		str	r6, [r5, #520]
2637:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fsize = LD_DWORD(dir + DIR_FileSize);	/* File size */
 3680              		.loc 1 2637 0
 3681 0176 43EA0223 		orr	r3, r3, r2, lsl #8
 3682 017a C5F80C32 		str	r3, [r5, #524]
2639:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dsect = 0;
2640:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
2641:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->cltbl = 0;						/* Normal seek mode */
2642:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2643:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fs = dj.fs;	 					/* Validate file object */
2644:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->id = fp->fs->id;
 3683              		.loc 1 2644 0
 3684 017e B7F80632 		ldrh	r3, [r7, #518]
2639:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dsect = 0;
 3685              		.loc 1 2639 0
 3686 0182 C5F81862 		str	r6, [r5, #536]
2641:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->cltbl = 0;						/* Normal seek mode */
 3687              		.loc 1 2641 0
 3688 0186 C5F82462 		str	r6, [r5, #548]
2643:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fs = dj.fs;	 					/* Validate file object */
 3689              		.loc 1 2643 0
 3690 018a C5F80072 		str	r7, [r5, #512]
 3691              		.loc 1 2644 0
 3692 018e A5F80432 		strh	r3, [r5, #516]	@ movhi
 3693 0192 3046     		mov	r0, r6
 3694              	.LVL507:
 3695              	.L487:
2645:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2646:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2647:Middlewares/Third_Party/FatFs/src/ff.c **** 
2648:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(dj.fs, res);
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 121


2649:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3696              		.loc 1 2649 0
 3697 0194 0DF50E7D 		add	sp, sp, #568
 3698              		@ sp needed
 3699 0198 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 3700              	.LVL508:
 3701              	.L490:
 3702              		.align	2
 3703              	.L489:
 3704 019c 00000000 		.word	.LANCHOR0
 3705              		.cfi_endproc
 3706              	.LFE160:
 3708              		.section	.text.f_read,"ax",%progbits
 3709              		.align	1
 3710              		.global	f_read
 3711              		.thumb
 3712              		.thumb_func
 3714              	f_read:
 3715              	.LFB161:
2650:Middlewares/Third_Party/FatFs/src/ff.c **** 
2651:Middlewares/Third_Party/FatFs/src/ff.c **** 
2652:Middlewares/Third_Party/FatFs/src/ff.c **** 
2653:Middlewares/Third_Party/FatFs/src/ff.c **** 
2654:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2655:Middlewares/Third_Party/FatFs/src/ff.c **** /* Read File                                                             */
2656:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2657:Middlewares/Third_Party/FatFs/src/ff.c **** 
2658:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_read (
2659:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp, 		/* Pointer to the file object */
2660:Middlewares/Third_Party/FatFs/src/ff.c **** 	void* buff,		/* Pointer to data buffer */
2661:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT btr,		/* Number of bytes to read */
2662:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT* br		/* Pointer to number of bytes read */
2663:Middlewares/Third_Party/FatFs/src/ff.c **** )
2664:Middlewares/Third_Party/FatFs/src/ff.c **** {
 3716              		.loc 1 2664 0
 3717              		.cfi_startproc
 3718              		@ args = 0, pretend = 0, frame = 0
 3719              		@ frame_needed = 0, uses_anonymous_args = 0
 3720              	.LVL509:
 3721 0000 2DE9F84F 		push	{r3, r4, r5, r6, r7, r8, r9, r10, fp, lr}
 3722              	.LCFI26:
 3723              		.cfi_def_cfa_offset 40
 3724              		.cfi_offset 3, -40
 3725              		.cfi_offset 4, -36
 3726              		.cfi_offset 5, -32
 3727              		.cfi_offset 6, -28
 3728              		.cfi_offset 7, -24
 3729              		.cfi_offset 8, -20
 3730              		.cfi_offset 9, -16
 3731              		.cfi_offset 10, -12
 3732              		.cfi_offset 11, -8
 3733              		.cfi_offset 14, -4
 3734              		.loc 1 2664 0
 3735 0004 9946     		mov	r9, r3
2665:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
2666:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, sect, remain;
2667:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT rcnt, cc;
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 122


2668:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE csect, *rbuff = (BYTE*)buff;
2669:Middlewares/Third_Party/FatFs/src/ff.c **** 
2670:Middlewares/Third_Party/FatFs/src/ff.c **** 
2671:Middlewares/Third_Party/FatFs/src/ff.c **** 	*br = 0;	/* Clear read byte counter */
 3736              		.loc 1 2671 0
 3737 0006 0023     		movs	r3, #0
 3738              	.LVL510:
 3739 0008 C9F80030 		str	r3, [r9]
2664:Middlewares/Third_Party/FatFs/src/ff.c **** {
 3740              		.loc 1 2664 0
 3741 000c 0446     		mov	r4, r0
 3742 000e 0F46     		mov	r7, r1
 3743              	.LVL511:
 3744 0010 1646     		mov	r6, r2
2672:Middlewares/Third_Party/FatFs/src/ff.c **** 
2673:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(fp);							/* Check validity */
 3745              		.loc 1 2673 0
 3746 0012 FFF7FEFF 		bl	validate
 3747              	.LVL512:
2674:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) LEAVE_FF(fp->fs, res);
 3748              		.loc 1 2674 0
 3749 0016 0028     		cmp	r0, #0
 3750 0018 40F0B280 		bne	.L492
2675:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fp->err)								/* Check error */
 3751              		.loc 1 2675 0
 3752 001c 94F80702 		ldrb	r0, [r4, #519]	@ zero_extendqisi2
 3753              	.LVL513:
 3754 0020 0028     		cmp	r0, #0
 3755 0022 40F0AD80 		bne	.L492
2676:Middlewares/Third_Party/FatFs/src/ff.c **** 		LEAVE_FF(fp->fs, (FRESULT)fp->err);
2677:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_READ)) 					/* Check access mode */
 3756              		.loc 1 2677 0
 3757 0026 94F80632 		ldrb	r3, [r4, #518]	@ zero_extendqisi2
 3758 002a D807     		lsls	r0, r3, #31
 3759 002c 40F1A780 		bpl	.L513
2678:Middlewares/Third_Party/FatFs/src/ff.c **** 		LEAVE_FF(fp->fs, FR_DENIED);
2679:Middlewares/Third_Party/FatFs/src/ff.c **** 	remain = fp->fsize - fp->fptr;
 3760              		.loc 1 2679 0
 3761 0030 D4F80C12 		ldr	r1, [r4, #524]
 3762 0034 D4F80832 		ldr	r3, [r4, #520]
 3763 0038 CD1A     		subs	r5, r1, r3
 3764              	.LVL514:
 3765 003a AE42     		cmp	r6, r5
 3766 003c 38BF     		it	cc
 3767 003e 3546     		movcc	r5, r6
 3768              	.LVL515:
 3769              	.L493:
2680:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (btr > remain) btr = (UINT)remain;		/* Truncate btr by remaining bytes */
2681:Middlewares/Third_Party/FatFs/src/ff.c **** 
2682:Middlewares/Third_Party/FatFs/src/ff.c **** 	for ( ;  btr;								/* Repeat until all data read */
 3770              		.loc 1 2682 0 discriminator 1
 3771 0040 002D     		cmp	r5, #0
 3772 0042 00F09980 		beq	.L526
2683:Middlewares/Third_Party/FatFs/src/ff.c **** 		rbuff += rcnt, fp->fptr += rcnt, *br += rcnt, btr -= rcnt) {
2684:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((fp->fptr % SS(fp->fs)) == 0) {		/* On the sector boundary? */
 3773              		.loc 1 2684 0
 3774 0046 D4F80812 		ldr	r1, [r4, #520]
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 123


 3775 004a C1F30803 		ubfx	r3, r1, #0, #9
 3776 004e 002B     		cmp	r3, #0
 3777 0050 77D1     		bne	.L494
2685:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (BYTE)(fp->fptr / SS(fp->fs) & (fp->fs->csize - 1));	/* Sector offset in the cluster */
 3778              		.loc 1 2685 0
 3779 0052 D4F80002 		ldr	r0, [r4, #512]
 3780 0056 90F802A2 		ldrb	r10, [r0, #514]	@ zero_extendqisi2
 3781 005a 0AF1FF3A 		add	r10, r10, #-1
 3782 005e 0AEA512A 		and	r10, r10, r1, lsr #9
 3783              	.LVL516:
2686:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!csect) {						/* On the cluster boundary? */
 3784              		.loc 1 2686 0
 3785 0062 1AF0FF0A 		ands	r10, r10, #255
 3786              	.LVL517:
 3787 0066 14D1     		bne	.L495
2687:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {			/* On the top of the file? */
 3788              		.loc 1 2687 0
 3789 0068 11B9     		cbnz	r1, .L496
2688:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fp->sclust;			/* Follow from the origin */
 3790              		.loc 1 2688 0
 3791 006a D4F81002 		ldr	r0, [r4, #528]
 3792              	.LVL518:
 3793 006e 0AE0     		b	.L497
 3794              	.LVL519:
 3795              	.L496:
2689:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {						/* Middle or end of the file */
2690:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
2691:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fp->cltbl)
 3796              		.loc 1 2691 0
 3797 0070 D4F82432 		ldr	r3, [r4, #548]
 3798 0074 1BB1     		cbz	r3, .L498
2692:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = clmt_clust(fp, fp->fptr);	/* Get cluster# from the CLMT */
 3799              		.loc 1 2692 0
 3800 0076 2046     		mov	r0, r4
 3801              	.LVL520:
 3802 0078 FFF7FEFF 		bl	clmt_clust
 3803              	.LVL521:
 3804 007c 03E0     		b	.L497
 3805              	.LVL522:
 3806              	.L498:
2693:Middlewares/Third_Party/FatFs/src/ff.c **** 					else
2694:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2695:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = get_fat(fp->fs, fp->clust);	/* Follow cluster chain on the FAT */
 3807              		.loc 1 2695 0
 3808 007e D4F81412 		ldr	r1, [r4, #532]
 3809              	.LVL523:
 3810 0082 FFF7FEFF 		bl	get_fat
 3811              	.LVL524:
 3812              	.L497:
2696:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2697:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst < 2) ABORT(fp->fs, FR_INT_ERR);
 3813              		.loc 1 2697 0
 3814 0086 0128     		cmp	r0, #1
 3815 0088 0BD9     		bls	.L525
2698:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 3816              		.loc 1 2698 0
 3817 008a 411C     		adds	r1, r0, #1
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 124


 3818 008c 52D0     		beq	.L524
2699:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;				/* Update current cluster */
 3819              		.loc 1 2699 0
 3820 008e C4F81402 		str	r0, [r4, #532]
 3821              	.LVL525:
 3822              	.L495:
2700:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2701:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect = clust2sect(fp->fs, fp->clust);	/* Get current sector */
 3823              		.loc 1 2701 0
 3824 0092 D4F800B2 		ldr	fp, [r4, #512]
 3825 0096 D4F81412 		ldr	r1, [r4, #532]
 3826 009a 5846     		mov	r0, fp
 3827 009c FFF7FEFF 		bl	clust2sect
 3828              	.LVL526:
2702:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!sect) ABORT(fp->fs, FR_INT_ERR);
 3829              		.loc 1 2702 0
 3830 00a0 08B9     		cbnz	r0, .L501
 3831              	.LVL527:
 3832              	.L525:
 3833              		.loc 1 2702 0 is_stmt 0 discriminator 1
 3834 00a2 0220     		movs	r0, #2
 3835 00a4 47E0     		b	.L523
 3836              	.LVL528:
 3837              	.L501:
2703:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
2704:Middlewares/Third_Party/FatFs/src/ff.c **** 			cc = btr / SS(fp->fs);				/* When remaining bytes >= sector size, */
2705:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cc) {							/* Read maximum contiguous sectors directly */
 3838              		.loc 1 2705 0 is_stmt 1
 3839 00a6 5FEA5528 		lsrs	r8, r5, #9
2703:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 3840              		.loc 1 2703 0
 3841 00aa 00EB0A06 		add	r6, r0, r10
 3842              	.LVL529:
 3843              		.loc 1 2705 0
 3844 00ae 22D0     		beq	.L502
2706:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (csect + cc > fp->fs->csize)	/* Clip at cluster boundary */
 3845              		.loc 1 2706 0
 3846 00b0 9BF80232 		ldrb	r3, [fp, #514]	@ zero_extendqisi2
2707:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fp->fs->csize - csect;
2708:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_read(fp->fs->drv, rbuff, sect, cc) != RES_OK)
 3847              		.loc 1 2708 0
 3848 00b4 9BF80102 		ldrb	r0, [fp, #513]	@ zero_extendqisi2
2706:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (csect + cc > fp->fs->csize)	/* Clip at cluster boundary */
 3849              		.loc 1 2706 0
 3850 00b8 08EB0A02 		add	r2, r8, r10
 3851 00bc 9A42     		cmp	r2, r3
2707:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fp->fs->csize - csect;
 3852              		.loc 1 2707 0
 3853 00be 88BF     		it	hi
 3854 00c0 CAEB0308 		rsbhi	r8, r10, r3
 3855              	.LVL530:
 3856              		.loc 1 2708 0
 3857 00c4 3946     		mov	r1, r7
 3858 00c6 3246     		mov	r2, r6
 3859 00c8 4346     		mov	r3, r8
 3860 00ca FFF7FEFF 		bl	disk_read
 3861              	.LVL531:
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 125


 3862 00ce 88BB     		cbnz	r0, .L524
2709:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fp->fs, FR_DISK_ERR);
2710:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _FS_MINIMIZE <= 2			/* Replace one of the read sectors with cached data if it 
2711:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
2712:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fs->wflag && fp->fs->winsect - sect < cc)
2713:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(rbuff + ((fp->fs->winsect - sect) * SS(fp->fs)), fp->fs->win.d8, SS(fp->fs));
2714:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2715:Middlewares/Third_Party/FatFs/src/ff.c **** 				if ((fp->flag & FA__DIRTY) && fp->dsect - sect < cc)
 3863              		.loc 1 2715 0
 3864 00d0 94F80632 		ldrb	r3, [r4, #518]	@ zero_extendqisi2
 3865 00d4 5A06     		lsls	r2, r3, #25
 3866 00d6 0BD5     		bpl	.L505
 3867              		.loc 1 2715 0 is_stmt 0 discriminator 1
 3868 00d8 D4F81832 		ldr	r3, [r4, #536]
 3869 00dc 981B     		subs	r0, r3, r6
 3870 00de 4045     		cmp	r0, r8
 3871 00e0 06D2     		bcs	.L505
2716:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(rbuff + ((fp->dsect - sect) * SS(fp->fs)), fp->buf.d8, SS(fp->fs));
 3872              		.loc 1 2716 0 is_stmt 1
 3873 00e2 07EB4020 		add	r0, r7, r0, lsl #9
 3874 00e6 2146     		mov	r1, r4
 3875 00e8 4FF40072 		mov	r2, #512
 3876 00ec FFF7FEFF 		bl	mem_cpy
 3877              	.LVL532:
 3878              	.L505:
2717:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2718:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2719:Middlewares/Third_Party/FatFs/src/ff.c **** 				rcnt = SS(fp->fs) * cc;			/* Number of bytes transferred */
 3879              		.loc 1 2719 0
 3880 00f0 4FEA4826 		lsl	r6, r8, #9
 3881              	.LVL533:
2720:Middlewares/Third_Party/FatFs/src/ff.c **** 				continue;
 3882              		.loc 1 2720 0
 3883 00f4 33E0     		b	.L506
 3884              	.LVL534:
 3885              	.L502:
2721:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2722:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
2723:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->dsect != sect) {			/* Load data sector if not in cache */
 3886              		.loc 1 2723 0
 3887 00f6 D4F81822 		ldr	r2, [r4, #536]
 3888 00fa B242     		cmp	r2, r6
 3889 00fc 1FD0     		beq	.L507
2724:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
2725:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->flag & FA__DIRTY) {		/* Write-back dirty sector cache */
 3890              		.loc 1 2725 0
 3891 00fe 94F80632 		ldrb	r3, [r4, #518]	@ zero_extendqisi2
 3892 0102 5B06     		lsls	r3, r3, #25
 3893 0104 0CD5     		bpl	.L508
2726:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
 3894              		.loc 1 2726 0
 3895 0106 9BF80102 		ldrb	r0, [fp, #513]	@ zero_extendqisi2
 3896 010a 2146     		mov	r1, r4
 3897 010c 0123     		movs	r3, #1
 3898 010e FFF7FEFF 		bl	disk_write
 3899              	.LVL535:
 3900 0112 78B9     		cbnz	r0, .L524
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 126


2727:Middlewares/Third_Party/FatFs/src/ff.c **** 						ABORT(fp->fs, FR_DISK_ERR);
2728:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= ~FA__DIRTY;
 3901              		.loc 1 2728 0
 3902 0114 94F80632 		ldrb	r3, [r4, #518]	@ zero_extendqisi2
 3903 0118 23F04003 		bic	r3, r3, #64
 3904 011c 84F80632 		strb	r3, [r4, #518]
 3905              	.L508:
2729:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2730:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2731:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_read(fp->fs->drv, fp->buf.d8, sect, 1) != RES_OK)	/* Fill sector cache */
 3906              		.loc 1 2731 0
 3907 0120 D4F80032 		ldr	r3, [r4, #512]
 3908 0124 2146     		mov	r1, r4
 3909 0126 93F80102 		ldrb	r0, [r3, #513]	@ zero_extendqisi2
 3910 012a 3246     		mov	r2, r6
 3911 012c 0123     		movs	r3, #1
 3912 012e FFF7FEFF 		bl	disk_read
 3913              	.LVL536:
 3914 0132 20B1     		cbz	r0, .L507
 3915              	.LVL537:
 3916              	.L524:
2732:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fp->fs, FR_DISK_ERR);
 3917              		.loc 1 2732 0
 3918 0134 0120     		movs	r0, #1
 3919              	.L523:
 3920 0136 84F80702 		strb	r0, [r4, #519]
 3921 013a BDE8F88F 		pop	{r3, r4, r5, r6, r7, r8, r9, r10, fp, pc}
 3922              	.LVL538:
 3923              	.L507:
2733:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2734:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2735:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dsect = sect;
 3924              		.loc 1 2735 0
 3925 013e C4F81862 		str	r6, [r4, #536]
 3926              	.LVL539:
 3927              	.L494:
2736:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2737:Middlewares/Third_Party/FatFs/src/ff.c **** 		rcnt = SS(fp->fs) - ((UINT)fp->fptr % SS(fp->fs));	/* Get partial sector data from sector buffer 
 3928              		.loc 1 2737 0
 3929 0142 D4F80812 		ldr	r1, [r4, #520]
 3930 0146 C1F30801 		ubfx	r1, r1, #0, #9
 3931 014a C1F50076 		rsb	r6, r1, #512
 3932              	.LVL540:
 3933 014e B542     		cmp	r5, r6
 3934 0150 38BF     		it	cc
 3935 0152 2E46     		movcc	r6, r5
 3936              	.LVL541:
2738:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rcnt > btr) rcnt = btr;
2739:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
2740:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (move_window(fp->fs, fp->dsect) != FR_OK)		/* Move sector window */
2741:Middlewares/Third_Party/FatFs/src/ff.c **** 			ABORT(fp->fs, FR_DISK_ERR);
2742:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(rbuff, &fp->fs->win.d8[fp->fptr % SS(fp->fs)], rcnt);	/* Pick partial sector */
2743:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2744:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(rbuff, &fp->buf.d8[fp->fptr % SS(fp->fs)], rcnt);	/* Pick partial sector */
 3937              		.loc 1 2744 0
 3938 0154 3846     		mov	r0, r7
 3939 0156 2144     		add	r1, r1, r4
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 127


 3940 0158 3246     		mov	r2, r6
 3941 015a FFF7FEFF 		bl	mem_cpy
 3942              	.LVL542:
 3943              	.L506:
2683:Middlewares/Third_Party/FatFs/src/ff.c **** 		rbuff += rcnt, fp->fptr += rcnt, *br += rcnt, btr -= rcnt) {
 3944              		.loc 1 2683 0
 3945 015e D4F80832 		ldr	r3, [r4, #520]
 3946 0162 3344     		add	r3, r3, r6
 3947 0164 C4F80832 		str	r3, [r4, #520]
 3948 0168 D9F80030 		ldr	r3, [r9]
 3949 016c 3344     		add	r3, r3, r6
 3950 016e 3744     		add	r7, r7, r6
 3951              	.LVL543:
 3952 0170 C9F80030 		str	r3, [r9]
 3953 0174 AD1B     		subs	r5, r5, r6
 3954              	.LVL544:
 3955 0176 63E7     		b	.L493
 3956              	.LVL545:
 3957              	.L526:
2745:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2746:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2747:Middlewares/Third_Party/FatFs/src/ff.c **** 
2748:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fp->fs, FR_OK);
 3958              		.loc 1 2748 0
 3959 0178 2846     		mov	r0, r5
 3960 017a BDE8F88F 		pop	{r3, r4, r5, r6, r7, r8, r9, r10, fp, pc}
 3961              	.LVL546:
 3962              	.L513:
2678:Middlewares/Third_Party/FatFs/src/ff.c **** 		LEAVE_FF(fp->fs, FR_DENIED);
 3963              		.loc 1 2678 0
 3964 017e 0720     		movs	r0, #7
 3965              	.L492:
2749:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3966              		.loc 1 2749 0
 3967 0180 BDE8F88F 		pop	{r3, r4, r5, r6, r7, r8, r9, r10, fp, pc}
 3968              		.cfi_endproc
 3969              	.LFE161:
 3971              		.section	.text.f_write,"ax",%progbits
 3972              		.align	1
 3973              		.global	f_write
 3974              		.thumb
 3975              		.thumb_func
 3977              	f_write:
 3978              	.LFB162:
2750:Middlewares/Third_Party/FatFs/src/ff.c **** 
2751:Middlewares/Third_Party/FatFs/src/ff.c **** 
2752:Middlewares/Third_Party/FatFs/src/ff.c **** 
2753:Middlewares/Third_Party/FatFs/src/ff.c **** 
2754:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
2755:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2756:Middlewares/Third_Party/FatFs/src/ff.c **** /* Write File                                                            */
2757:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2758:Middlewares/Third_Party/FatFs/src/ff.c **** 
2759:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_write (
2760:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp,			/* Pointer to the file object */
2761:Middlewares/Third_Party/FatFs/src/ff.c **** 	const void *buff,	/* Pointer to the data to be written */
2762:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT btw,			/* Number of bytes to write */
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 128


2763:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT* bw			/* Pointer to number of bytes written */
2764:Middlewares/Third_Party/FatFs/src/ff.c **** )
2765:Middlewares/Third_Party/FatFs/src/ff.c **** {
 3979              		.loc 1 2765 0
 3980              		.cfi_startproc
 3981              		@ args = 0, pretend = 0, frame = 0
 3982              		@ frame_needed = 0, uses_anonymous_args = 0
 3983              	.LVL547:
 3984 0000 2DE9F84F 		push	{r3, r4, r5, r6, r7, r8, r9, r10, fp, lr}
 3985              	.LCFI27:
 3986              		.cfi_def_cfa_offset 40
 3987              		.cfi_offset 3, -40
 3988              		.cfi_offset 4, -36
 3989              		.cfi_offset 5, -32
 3990              		.cfi_offset 6, -28
 3991              		.cfi_offset 7, -24
 3992              		.cfi_offset 8, -20
 3993              		.cfi_offset 9, -16
 3994              		.cfi_offset 10, -12
 3995              		.cfi_offset 11, -8
 3996              		.cfi_offset 14, -4
 3997              		.loc 1 2765 0
 3998 0004 9946     		mov	r9, r3
2766:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
2767:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, sect;
2768:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT wcnt, cc;
2769:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE *wbuff = (const BYTE*)buff;
2770:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE csect;
2771:Middlewares/Third_Party/FatFs/src/ff.c **** 
2772:Middlewares/Third_Party/FatFs/src/ff.c **** 
2773:Middlewares/Third_Party/FatFs/src/ff.c **** 	*bw = 0;	/* Clear write byte counter */
 3999              		.loc 1 2773 0
 4000 0006 0023     		movs	r3, #0
 4001              	.LVL548:
 4002 0008 C9F80030 		str	r3, [r9]
2765:Middlewares/Third_Party/FatFs/src/ff.c **** {
 4003              		.loc 1 2765 0
 4004 000c 0446     		mov	r4, r0
 4005 000e 0F46     		mov	r7, r1
 4006              	.LVL549:
 4007 0010 1546     		mov	r5, r2
2774:Middlewares/Third_Party/FatFs/src/ff.c **** 
2775:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(fp);						/* Check validity */
 4008              		.loc 1 2775 0
 4009 0012 FFF7FEFF 		bl	validate
 4010              	.LVL550:
2776:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) LEAVE_FF(fp->fs, res);
 4011              		.loc 1 2776 0
 4012 0016 0028     		cmp	r0, #0
 4013 0018 40F0D780 		bne	.L528
2777:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fp->err)							/* Check error */
 4014              		.loc 1 2777 0
 4015 001c 94F80702 		ldrb	r0, [r4, #519]	@ zero_extendqisi2
 4016              	.LVL551:
 4017 0020 0028     		cmp	r0, #0
 4018 0022 40F0D280 		bne	.L528
2778:Middlewares/Third_Party/FatFs/src/ff.c **** 		LEAVE_FF(fp->fs, (FRESULT)fp->err);
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 129


2779:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_WRITE))				/* Check access mode */
 4019              		.loc 1 2779 0
 4020 0026 94F80632 		ldrb	r3, [r4, #518]	@ zero_extendqisi2
 4021 002a 9907     		lsls	r1, r3, #30
 4022 002c 40F1CC80 		bpl	.L557
 4023              	.LVL552:
 4024              	.LBB80:
 4025              	.LBB81:
2780:Middlewares/Third_Party/FatFs/src/ff.c **** 		LEAVE_FF(fp->fs, FR_DENIED);
2781:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fp->fptr + btw < fp->fptr) btw = 0;	/* File size cannot reach 4GB */
 4026              		.loc 1 2781 0
 4027 0030 D4F80832 		ldr	r3, [r4, #520]
 4028 0034 DD42     		cmn	r5, r3
 4029 0036 28BF     		it	cs
 4030 0038 0025     		movcs	r5, #0
 4031              	.LVL553:
 4032              	.L530:
2782:Middlewares/Third_Party/FatFs/src/ff.c **** 
2783:Middlewares/Third_Party/FatFs/src/ff.c **** 	for ( ;  btw;							/* Repeat until all data written */
 4033              		.loc 1 2783 0
 4034 003a 1DB3     		cbz	r5, .L554
2784:Middlewares/Third_Party/FatFs/src/ff.c **** 		wbuff += wcnt, fp->fptr += wcnt, *bw += wcnt, btw -= wcnt) {
2785:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((fp->fptr % SS(fp->fs)) == 0) {	/* On the sector boundary? */
 4035              		.loc 1 2785 0
 4036 003c D4F80812 		ldr	r1, [r4, #520]
 4037 0040 C1F30803 		ubfx	r3, r1, #0, #9
 4038 0044 002B     		cmp	r3, #0
 4039 0046 40F09580 		bne	.L531
2786:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (BYTE)(fp->fptr / SS(fp->fs) & (fp->fs->csize - 1));	/* Sector offset in the cluster */
 4040              		.loc 1 2786 0
 4041 004a D4F80002 		ldr	r0, [r4, #512]
 4042 004e 90F802A2 		ldrb	r10, [r0, #514]	@ zero_extendqisi2
 4043 0052 0AF1FF3A 		add	r10, r10, #-1
 4044 0056 0AEA512A 		and	r10, r10, r1, lsr #9
 4045              	.LVL554:
2787:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!csect) {					/* On the cluster boundary? */
 4046              		.loc 1 2787 0
 4047 005a 1AF0FF0A 		ands	r10, r10, #255
 4048              	.LVL555:
 4049 005e 26D1     		bne	.L533
2788:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {		/* On the top of the file? */
 4050              		.loc 1 2788 0
 4051 0060 19B9     		cbnz	r1, .L534
2789:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fp->sclust;		/* Follow from the origin */
 4052              		.loc 1 2789 0
 4053 0062 D4F81012 		ldr	r1, [r4, #528]
 4054              	.LVL556:
2790:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0)			/* When no cluster is allocated, */
 4055              		.loc 1 2790 0
 4056 0066 B9B9     		cbnz	r1, .L535
 4057 0068 08E0     		b	.L565
 4058              	.LVL557:
 4059              	.L534:
2791:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = create_chain(fp->fs, 0);	/* Create a new cluster chain */
2792:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* Middle or end of the file */
2793:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
2794:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fp->cltbl)
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 130


 4060              		.loc 1 2794 0
 4061 006a D4F82432 		ldr	r3, [r4, #548]
 4062 006e 1BB1     		cbz	r3, .L537
2795:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = clmt_clust(fp, fp->fptr);	/* Get cluster# from the CLMT */
 4063              		.loc 1 2795 0
 4064 0070 2046     		mov	r0, r4
 4065              	.LVL558:
 4066 0072 FFF7FEFF 		bl	clmt_clust
 4067              	.LVL559:
 4068 0076 03E0     		b	.L566
 4069              	.LVL560:
 4070              	.L537:
2796:Middlewares/Third_Party/FatFs/src/ff.c **** 					else
2797:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2798:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = create_chain(fp->fs, fp->clust);	/* Follow or stretch cluster chain on the FAT */
 4071              		.loc 1 2798 0
 4072 0078 D4F81412 		ldr	r1, [r4, #532]
 4073              	.LVL561:
 4074              	.L565:
 4075 007c FFF7FEFF 		bl	create_chain
 4076              	.LVL562:
 4077              	.L566:
 4078 0080 0146     		mov	r1, r0
 4079              	.LVL563:
2799:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2800:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0) break;		/* Could not allocate a new cluster (disk full) */
 4080              		.loc 1 2800 0
 4081 0082 48B9     		cbnz	r0, .L535
 4082              	.LVL564:
 4083              	.L554:
2801:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 1) ABORT(fp->fs, FR_INT_ERR);
2802:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
2803:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;			/* Update current cluster */
2804:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->sclust == 0) fp->sclust = clst;	/* Set start cluster if the first write */
2805:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2806:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
2807:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->fs->winsect == fp->dsect && sync_window(fp->fs))	/* Write-back sector cache */
2808:Middlewares/Third_Party/FatFs/src/ff.c **** 				ABORT(fp->fs, FR_DISK_ERR);
2809:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2810:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->flag & FA__DIRTY) {		/* Write-back sector cache */
2811:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
2812:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fp->fs, FR_DISK_ERR);
2813:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= ~FA__DIRTY;
2814:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2815:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2816:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect = clust2sect(fp->fs, fp->clust);	/* Get current sector */
2817:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!sect) ABORT(fp->fs, FR_INT_ERR);
2818:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
2819:Middlewares/Third_Party/FatFs/src/ff.c **** 			cc = btw / SS(fp->fs);			/* When remaining bytes >= sector size, */
2820:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cc) {						/* Write maximum contiguous sectors directly */
2821:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (csect + cc > fp->fs->csize)	/* Clip at cluster boundary */
2822:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fp->fs->csize - csect;
2823:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fp->fs->drv, wbuff, sect, cc) != RES_OK)
2824:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fp->fs, FR_DISK_ERR);
2825:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 2
2826:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
2827:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fs->winsect - sect < cc) {	/* Refill sector cache if it gets invalidated by the direct 
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 131


2828:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(fp->fs->win.d8, wbuff + ((fp->fs->winsect - sect) * SS(fp->fs)), SS(fp->fs));
2829:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->fs->wflag = 0;
2830:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2831:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2832:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->dsect - sect < cc) { /* Refill sector cache if it gets invalidated by the direct write 
2833:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(fp->buf.d8, wbuff + ((fp->dsect - sect) * SS(fp->fs)), SS(fp->fs));
2834:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= ~FA__DIRTY;
2835:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2836:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2837:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2838:Middlewares/Third_Party/FatFs/src/ff.c **** 				wcnt = SS(fp->fs) * cc;		/* Number of bytes transferred */
2839:Middlewares/Third_Party/FatFs/src/ff.c **** 				continue;
2840:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2841:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
2842:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->fptr >= fp->fsize) {	/* Avoid silly cache filling at growing edge */
2843:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (sync_window(fp->fs)) ABORT(fp->fs, FR_DISK_ERR);
2844:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fs->winsect = sect;
2845:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2846:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2847:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->dsect != sect) {		/* Fill sector cache with file data */
2848:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr < fp->fsize &&
2849:Middlewares/Third_Party/FatFs/src/ff.c **** 					disk_read(fp->fs->drv, fp->buf.d8, sect, 1) != RES_OK)
2850:Middlewares/Third_Party/FatFs/src/ff.c **** 						ABORT(fp->fs, FR_DISK_ERR);
2851:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2852:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2853:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dsect = sect;
2854:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2855:Middlewares/Third_Party/FatFs/src/ff.c **** 		wcnt = SS(fp->fs) - ((UINT)fp->fptr % SS(fp->fs));/* Put partial sector into file I/O buffer */
2856:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wcnt > btw) wcnt = btw;
2857:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
2858:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (move_window(fp->fs, fp->dsect) != FR_OK)	/* Move sector window */
2859:Middlewares/Third_Party/FatFs/src/ff.c **** 			ABORT(fp->fs, FR_DISK_ERR);
2860:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(&fp->fs->win.d8[fp->fptr % SS(fp->fs)], wbuff, wcnt);	/* Fit partial sector */
2861:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->fs->wflag = 1;
2862:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2863:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(&fp->buf.d8[fp->fptr % SS(fp->fs)], wbuff, wcnt);	/* Fit partial sector */
2864:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->flag |= FA__DIRTY;
2865:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2866:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2867:Middlewares/Third_Party/FatFs/src/ff.c **** 
2868:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fp->fptr > fp->fsize) fp->fsize = fp->fptr;	/* Update file size if needed */
 4084              		.loc 1 2868 0
 4085 0084 D4F80832 		ldr	r3, [r4, #520]
 4086 0088 D4F80C22 		ldr	r2, [r4, #524]
 4087 008c 9342     		cmp	r3, r2
 4088 008e 40F29280 		bls	.L539
 4089 0092 C4F80C32 		str	r3, [r4, #524]
 4090 0096 8EE0     		b	.L539
 4091              	.LVL565:
 4092              	.L535:
2801:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 1) ABORT(fp->fs, FR_INT_ERR);
 4093              		.loc 1 2801 0
 4094 0098 0129     		cmp	r1, #1
 4095 009a 26D0     		beq	.L569
2802:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 4096              		.loc 1 2802 0
 4097 009c 4A1C     		adds	r2, r1, #1
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 132


 4098 009e 62D0     		beq	.L567
2804:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->sclust == 0) fp->sclust = clst;	/* Set start cluster if the first write */
 4099              		.loc 1 2804 0
 4100 00a0 D4F81032 		ldr	r3, [r4, #528]
2803:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;			/* Update current cluster */
 4101              		.loc 1 2803 0
 4102 00a4 C4F81412 		str	r1, [r4, #532]
2804:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->sclust == 0) fp->sclust = clst;	/* Set start cluster if the first write */
 4103              		.loc 1 2804 0
 4104 00a8 0BB9     		cbnz	r3, .L533
 4105 00aa C4F81012 		str	r1, [r4, #528]
 4106              	.LVL566:
 4107              	.L533:
2810:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->flag & FA__DIRTY) {		/* Write-back sector cache */
 4108              		.loc 1 2810 0
 4109 00ae 94F80632 		ldrb	r3, [r4, #518]	@ zero_extendqisi2
 4110 00b2 5B06     		lsls	r3, r3, #25
 4111 00b4 11D5     		bpl	.L544
2811:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
 4112              		.loc 1 2811 0
 4113 00b6 D4F80032 		ldr	r3, [r4, #512]
 4114 00ba D4F81822 		ldr	r2, [r4, #536]
 4115 00be 93F80102 		ldrb	r0, [r3, #513]	@ zero_extendqisi2
 4116 00c2 2146     		mov	r1, r4
 4117 00c4 0123     		movs	r3, #1
 4118 00c6 FFF7FEFF 		bl	disk_write
 4119              	.LVL567:
 4120 00ca 0028     		cmp	r0, #0
 4121 00cc 4BD1     		bne	.L567
2813:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= ~FA__DIRTY;
 4122              		.loc 1 2813 0
 4123 00ce 94F80632 		ldrb	r3, [r4, #518]	@ zero_extendqisi2
 4124 00d2 23F04003 		bic	r3, r3, #64
 4125 00d6 84F80632 		strb	r3, [r4, #518]
 4126              	.L544:
2816:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect = clust2sect(fp->fs, fp->clust);	/* Get current sector */
 4127              		.loc 1 2816 0
 4128 00da D4F800B2 		ldr	fp, [r4, #512]
 4129 00de D4F81412 		ldr	r1, [r4, #532]
 4130 00e2 5846     		mov	r0, fp
 4131 00e4 FFF7FEFF 		bl	clust2sect
 4132              	.LVL568:
2817:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!sect) ABORT(fp->fs, FR_INT_ERR);
 4133              		.loc 1 2817 0
 4134 00e8 08B9     		cbnz	r0, .L546
 4135              	.LVL569:
 4136              	.L569:
 4137 00ea 0220     		movs	r0, #2
 4138 00ec 3CE0     		b	.L568
 4139              	.LVL570:
 4140              	.L546:
2820:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cc) {						/* Write maximum contiguous sectors directly */
 4141              		.loc 1 2820 0
 4142 00ee 5FEA5528 		lsrs	r8, r5, #9
2818:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 4143              		.loc 1 2818 0
 4144 00f2 00EB0A06 		add	r6, r0, r10
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 133


 4145              	.LVL571:
2820:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cc) {						/* Write maximum contiguous sectors directly */
 4146              		.loc 1 2820 0
 4147 00f6 24D0     		beq	.L547
2821:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (csect + cc > fp->fs->csize)	/* Clip at cluster boundary */
 4148              		.loc 1 2821 0
 4149 00f8 9BF80232 		ldrb	r3, [fp, #514]	@ zero_extendqisi2
2823:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fp->fs->drv, wbuff, sect, cc) != RES_OK)
 4150              		.loc 1 2823 0
 4151 00fc 9BF80102 		ldrb	r0, [fp, #513]	@ zero_extendqisi2
2821:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (csect + cc > fp->fs->csize)	/* Clip at cluster boundary */
 4152              		.loc 1 2821 0
 4153 0100 08EB0A02 		add	r2, r8, r10
 4154 0104 9A42     		cmp	r2, r3
2822:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fp->fs->csize - csect;
 4155              		.loc 1 2822 0
 4156 0106 88BF     		it	hi
 4157 0108 CAEB0308 		rsbhi	r8, r10, r3
 4158              	.LVL572:
2823:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fp->fs->drv, wbuff, sect, cc) != RES_OK)
 4159              		.loc 1 2823 0
 4160 010c 3946     		mov	r1, r7
 4161 010e 3246     		mov	r2, r6
 4162 0110 4346     		mov	r3, r8
 4163 0112 FFF7FEFF 		bl	disk_write
 4164              	.LVL573:
 4165 0116 30BB     		cbnz	r0, .L567
2832:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->dsect - sect < cc) { /* Refill sector cache if it gets invalidated by the direct write 
 4166              		.loc 1 2832 0
 4167 0118 D4F81832 		ldr	r3, [r4, #536]
 4168 011c 991B     		subs	r1, r3, r6
 4169 011e 4145     		cmp	r1, r8
 4170 0120 0CD2     		bcs	.L550
2833:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(fp->buf.d8, wbuff + ((fp->dsect - sect) * SS(fp->fs)), SS(fp->fs));
 4171              		.loc 1 2833 0
 4172 0122 2046     		mov	r0, r4
 4173 0124 07EB4121 		add	r1, r7, r1, lsl #9
 4174 0128 4FF40072 		mov	r2, #512
 4175 012c FFF7FEFF 		bl	mem_cpy
 4176              	.LVL574:
2834:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= ~FA__DIRTY;
 4177              		.loc 1 2834 0
 4178 0130 94F80632 		ldrb	r3, [r4, #518]	@ zero_extendqisi2
 4179 0134 23F04003 		bic	r3, r3, #64
 4180 0138 84F80632 		strb	r3, [r4, #518]
 4181              	.L550:
2838:Middlewares/Third_Party/FatFs/src/ff.c **** 				wcnt = SS(fp->fs) * cc;		/* Number of bytes transferred */
 4182              		.loc 1 2838 0
 4183 013c 4FEA4826 		lsl	r6, r8, #9
 4184              	.LVL575:
 4185 0140 2CE0     		b	.L551
 4186              	.LVL576:
 4187              	.L547:
2847:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->dsect != sect) {		/* Fill sector cache with file data */
 4188              		.loc 1 2847 0
 4189 0142 D4F81832 		ldr	r3, [r4, #536]
 4190 0146 B342     		cmp	r3, r6
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 134


 4191 0148 12D0     		beq	.L552
2848:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr < fp->fsize &&
 4192              		.loc 1 2848 0
 4193 014a D4F80822 		ldr	r2, [r4, #520]
 4194 014e D4F80C32 		ldr	r3, [r4, #524]
 4195 0152 9A42     		cmp	r2, r3
 4196 0154 0CD2     		bcs	.L552
2849:Middlewares/Third_Party/FatFs/src/ff.c **** 					disk_read(fp->fs->drv, fp->buf.d8, sect, 1) != RES_OK)
 4197              		.loc 1 2849 0
 4198 0156 9BF80102 		ldrb	r0, [fp, #513]	@ zero_extendqisi2
 4199 015a 2146     		mov	r1, r4
 4200 015c 3246     		mov	r2, r6
 4201 015e 0123     		movs	r3, #1
 4202 0160 FFF7FEFF 		bl	disk_read
 4203              	.LVL577:
2848:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr < fp->fsize &&
 4204              		.loc 1 2848 0
 4205 0164 20B1     		cbz	r0, .L552
 4206              	.LVL578:
 4207              	.L567:
2850:Middlewares/Third_Party/FatFs/src/ff.c **** 						ABORT(fp->fs, FR_DISK_ERR);
 4208              		.loc 1 2850 0
 4209 0166 0120     		movs	r0, #1
 4210              	.L568:
 4211 0168 84F80702 		strb	r0, [r4, #519]
 4212 016c BDE8F88F 		pop	{r3, r4, r5, r6, r7, r8, r9, r10, fp, pc}
 4213              	.LVL579:
 4214              	.L552:
2853:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dsect = sect;
 4215              		.loc 1 2853 0
 4216 0170 C4F81862 		str	r6, [r4, #536]
 4217              	.LVL580:
 4218              	.L531:
2855:Middlewares/Third_Party/FatFs/src/ff.c **** 		wcnt = SS(fp->fs) - ((UINT)fp->fptr % SS(fp->fs));/* Put partial sector into file I/O buffer */
 4219              		.loc 1 2855 0
 4220 0174 D4F80802 		ldr	r0, [r4, #520]
 4221 0178 C0F30800 		ubfx	r0, r0, #0, #9
 4222 017c C0F50076 		rsb	r6, r0, #512
 4223              	.LVL581:
 4224 0180 B542     		cmp	r5, r6
 4225 0182 38BF     		it	cc
 4226 0184 2E46     		movcc	r6, r5
 4227              	.LVL582:
2863:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(&fp->buf.d8[fp->fptr % SS(fp->fs)], wbuff, wcnt);	/* Fit partial sector */
 4228              		.loc 1 2863 0
 4229 0186 2044     		add	r0, r0, r4
 4230 0188 3946     		mov	r1, r7
 4231 018a 3246     		mov	r2, r6
 4232 018c FFF7FEFF 		bl	mem_cpy
 4233              	.LVL583:
2864:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->flag |= FA__DIRTY;
 4234              		.loc 1 2864 0
 4235 0190 94F80632 		ldrb	r3, [r4, #518]	@ zero_extendqisi2
 4236 0194 43F04003 		orr	r3, r3, #64
 4237 0198 84F80632 		strb	r3, [r4, #518]
 4238              	.L551:
2784:Middlewares/Third_Party/FatFs/src/ff.c **** 		wbuff += wcnt, fp->fptr += wcnt, *bw += wcnt, btw -= wcnt) {
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 135


 4239              		.loc 1 2784 0
 4240 019c D4F80832 		ldr	r3, [r4, #520]
 4241 01a0 3344     		add	r3, r3, r6
 4242 01a2 C4F80832 		str	r3, [r4, #520]
 4243 01a6 D9F80030 		ldr	r3, [r9]
 4244 01aa 3344     		add	r3, r3, r6
 4245 01ac 3744     		add	r7, r7, r6
 4246              	.LVL584:
 4247 01ae C9F80030 		str	r3, [r9]
 4248 01b2 AD1B     		subs	r5, r5, r6
 4249              	.LVL585:
 4250 01b4 41E7     		b	.L530
 4251              	.LVL586:
 4252              	.L539:
2869:Middlewares/Third_Party/FatFs/src/ff.c **** 	fp->flag |= FA__WRITTEN;						/* Set file change flag */
 4253              		.loc 1 2869 0
 4254 01b6 94F80632 		ldrb	r3, [r4, #518]	@ zero_extendqisi2
 4255 01ba 43F02003 		orr	r3, r3, #32
 4256 01be 84F80632 		strb	r3, [r4, #518]
2870:Middlewares/Third_Party/FatFs/src/ff.c **** 
2871:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fp->fs, FR_OK);
 4257              		.loc 1 2871 0
 4258 01c2 0020     		movs	r0, #0
 4259 01c4 BDE8F88F 		pop	{r3, r4, r5, r6, r7, r8, r9, r10, fp, pc}
 4260              	.LVL587:
 4261              	.L557:
 4262              	.LBE81:
 4263              	.LBE80:
2780:Middlewares/Third_Party/FatFs/src/ff.c **** 		LEAVE_FF(fp->fs, FR_DENIED);
 4264              		.loc 1 2780 0
 4265 01c8 0720     		movs	r0, #7
 4266              	.L528:
2872:Middlewares/Third_Party/FatFs/src/ff.c **** }
 4267              		.loc 1 2872 0
 4268 01ca BDE8F88F 		pop	{r3, r4, r5, r6, r7, r8, r9, r10, fp, pc}
 4269              		.cfi_endproc
 4270              	.LFE162:
 4272              		.section	.text.putc_bfd,"ax",%progbits
 4273              		.align	1
 4274              		.thumb
 4275              		.thumb_func
 4277              	putc_bfd:
 4278              	.LFB179:
2873:Middlewares/Third_Party/FatFs/src/ff.c **** 
2874:Middlewares/Third_Party/FatFs/src/ff.c **** 
2875:Middlewares/Third_Party/FatFs/src/ff.c **** 
2876:Middlewares/Third_Party/FatFs/src/ff.c **** 
2877:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2878:Middlewares/Third_Party/FatFs/src/ff.c **** /* Synchronize the File                                                  */
2879:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2880:Middlewares/Third_Party/FatFs/src/ff.c **** 
2881:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_sync (
2882:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp		/* Pointer to the file object */
2883:Middlewares/Third_Party/FatFs/src/ff.c **** )
2884:Middlewares/Third_Party/FatFs/src/ff.c **** {
2885:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
2886:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD tm;
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 136


2887:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir;
2888:Middlewares/Third_Party/FatFs/src/ff.c **** 
2889:Middlewares/Third_Party/FatFs/src/ff.c **** 
2890:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(fp);					/* Check validity of the object */
2891:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
2892:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->flag & FA__WRITTEN) {	/* Has the file been written? */
2893:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Write-back dirty buffer */
2894:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
2895:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->flag & FA__DIRTY) {
2896:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
2897:Middlewares/Third_Party/FatFs/src/ff.c **** 					LEAVE_FF(fp->fs, FR_DISK_ERR);
2898:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= ~FA__DIRTY;
2899:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2900:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2901:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Update the directory entry */
2902:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fp->fs, fp->dir_sect);
2903:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
2904:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir = fp->dir_ptr;
2905:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] |= AM_ARC;					/* Set archive bit */
2906:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_FileSize, fp->fsize);	/* Update file size */
2907:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, fp->sclust);					/* Update start cluster */
2908:Middlewares/Third_Party/FatFs/src/ff.c **** 				tm = GET_FATTIME();							/* Update updated time */
2909:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_WrtTime, tm);
2910:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_WORD(dir + DIR_LstAccDate, 0);
2911:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= ~FA__WRITTEN;
2912:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fs->wflag = 1;
2913:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(fp->fs);
2914:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2915:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2916:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2917:Middlewares/Third_Party/FatFs/src/ff.c **** 
2918:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fp->fs, res);
2919:Middlewares/Third_Party/FatFs/src/ff.c **** }
2920:Middlewares/Third_Party/FatFs/src/ff.c **** 
2921:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
2922:Middlewares/Third_Party/FatFs/src/ff.c **** 
2923:Middlewares/Third_Party/FatFs/src/ff.c **** 
2924:Middlewares/Third_Party/FatFs/src/ff.c **** 
2925:Middlewares/Third_Party/FatFs/src/ff.c **** 
2926:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2927:Middlewares/Third_Party/FatFs/src/ff.c **** /* Close File                                                            */
2928:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2929:Middlewares/Third_Party/FatFs/src/ff.c **** 
2930:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_close (
2931:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL *fp		/* Pointer to the file object to be closed */
2932:Middlewares/Third_Party/FatFs/src/ff.c **** )
2933:Middlewares/Third_Party/FatFs/src/ff.c **** {
2934:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
2935:Middlewares/Third_Party/FatFs/src/ff.c **** 
2936:Middlewares/Third_Party/FatFs/src/ff.c **** 
2937:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
2938:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = f_sync(fp);					/* Flush cached data */
2939:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK)
2940:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2941:Middlewares/Third_Party/FatFs/src/ff.c **** 	{
2942:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = validate(fp);				/* Lock volume */
2943:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 137


2944:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
2945:Middlewares/Third_Party/FatFs/src/ff.c **** 			FATFS *fs = fp->fs;
2946:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2947:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
2948:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dec_lock(fp->lockid);	/* Decrement file open counter */
2949:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK)
2950:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2951:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fs = 0;				/* Invalidate file object */
2952:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
2953:Middlewares/Third_Party/FatFs/src/ff.c **** 			unlock_fs(fs, FR_OK);		/* Unlock volume */
2954:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2955:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2956:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2957:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
2958:Middlewares/Third_Party/FatFs/src/ff.c **** }
2959:Middlewares/Third_Party/FatFs/src/ff.c **** 
2960:Middlewares/Third_Party/FatFs/src/ff.c **** 
2961:Middlewares/Third_Party/FatFs/src/ff.c **** 
2962:Middlewares/Third_Party/FatFs/src/ff.c **** 
2963:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2964:Middlewares/Third_Party/FatFs/src/ff.c **** /* Change Current Directory or Current Drive, Get Current Directory      */
2965:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2966:Middlewares/Third_Party/FatFs/src/ff.c **** 
2967:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH >= 1
2968:Middlewares/Third_Party/FatFs/src/ff.c **** #if _VOLUMES >= 2
2969:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_chdrive (
2970:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path		/* Drive number */
2971:Middlewares/Third_Party/FatFs/src/ff.c **** )
2972:Middlewares/Third_Party/FatFs/src/ff.c **** {
2973:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol;
2974:Middlewares/Third_Party/FatFs/src/ff.c **** 
2975:Middlewares/Third_Party/FatFs/src/ff.c **** 
2976:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(&path);
2977:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
2978:Middlewares/Third_Party/FatFs/src/ff.c **** 
2979:Middlewares/Third_Party/FatFs/src/ff.c **** 	CurrVol = (BYTE)vol;
2980:Middlewares/Third_Party/FatFs/src/ff.c **** 
2981:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
2982:Middlewares/Third_Party/FatFs/src/ff.c **** }
2983:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2984:Middlewares/Third_Party/FatFs/src/ff.c **** 
2985:Middlewares/Third_Party/FatFs/src/ff.c **** 
2986:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_chdir (
2987:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path	/* Pointer to the directory path */
2988:Middlewares/Third_Party/FatFs/src/ff.c **** )
2989:Middlewares/Third_Party/FatFs/src/ff.c **** {
2990:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
2991:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
2992:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
2993:Middlewares/Third_Party/FatFs/src/ff.c **** 
2994:Middlewares/Third_Party/FatFs/src/ff.c **** 
2995:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
2996:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&dj.fs, &path, 0);
2997:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
2998:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
2999:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);		/* Follow the path */
3000:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_BUF();
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 138


3001:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {					/* Follow completed */
3002:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!dj.dir) {
3003:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.fs->cdir = dj.sclust;	/* Start directory itself */
3004:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
3005:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.dir[DIR_Attr] & AM_DIR)	/* Reached to the directory */
3006:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.fs->cdir = ld_clust(dj.fs, dj.dir);
3007:Middlewares/Third_Party/FatFs/src/ff.c **** 				else
3008:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_PATH;		/* Reached but a file */
3009:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3010:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3011:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_NO_FILE) res = FR_NO_PATH;
3012:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3013:Middlewares/Third_Party/FatFs/src/ff.c **** 
3014:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(dj.fs, res);
3015:Middlewares/Third_Party/FatFs/src/ff.c **** }
3016:Middlewares/Third_Party/FatFs/src/ff.c **** 
3017:Middlewares/Third_Party/FatFs/src/ff.c **** 
3018:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH >= 2
3019:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_getcwd (
3020:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR* buff,	/* Pointer to the directory path */
3021:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT len		/* Size of path */
3022:Middlewares/Third_Party/FatFs/src/ff.c **** )
3023:Middlewares/Third_Party/FatFs/src/ff.c **** {
3024:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3025:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
3026:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, n;
3027:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ccl;
3028:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR *tp;
3029:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO fno;
3030:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
3031:Middlewares/Third_Party/FatFs/src/ff.c **** 
3032:Middlewares/Third_Party/FatFs/src/ff.c **** 
3033:Middlewares/Third_Party/FatFs/src/ff.c **** 	*buff = 0;
3034:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
3035:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&dj.fs, (const TCHAR**)&buff, 0);	/* Get current volume */
3036:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3037:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
3038:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = len;			/* Bottom of buffer (directory stack base) */
3039:Middlewares/Third_Party/FatFs/src/ff.c **** 		dj.sclust = dj.fs->cdir;			/* Start to follow upper directory from current directory */
3040:Middlewares/Third_Party/FatFs/src/ff.c **** 		while ((ccl = dj.sclust) != 0) {	/* Repeat while current directory is a sub-directory */
3041:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_sdi(&dj, 1);			/* Get parent directory */
3042:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
3043:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_read(&dj, 0);
3044:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
3045:Middlewares/Third_Party/FatFs/src/ff.c **** 			dj.sclust = ld_clust(dj.fs, dj.dir);	/* Goto parent directory */
3046:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_sdi(&dj, 0);
3047:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
3048:Middlewares/Third_Party/FatFs/src/ff.c **** 			do {							/* Find the entry links to the child directory */
3049:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_read(&dj, 0);
3050:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res != FR_OK) break;
3051:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ccl == ld_clust(dj.fs, dj.dir)) break;	/* Found the entry */
3052:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_next(&dj, 0);	
3053:Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (res == FR_OK);
3054:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_NO_FILE) res = FR_INT_ERR;/* It cannot be 'not found'. */
3055:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
3056:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
3057:Middlewares/Third_Party/FatFs/src/ff.c **** 			fno.lfname = buff;
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 139


3058:Middlewares/Third_Party/FatFs/src/ff.c **** 			fno.lfsize = i;
3059:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3060:Middlewares/Third_Party/FatFs/src/ff.c **** 			get_fileinfo(&dj, &fno);		/* Get the directory name and push it to the buffer */
3061:Middlewares/Third_Party/FatFs/src/ff.c **** 			tp = fno.fname;
3062:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
3063:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (*buff) tp = buff;
3064:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3065:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (n = 0; tp[n]; n++) ;
3066:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i < n + 3) {
3067:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NOT_ENOUGH_CORE; break;
3068:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3069:Middlewares/Third_Party/FatFs/src/ff.c **** 			while (n) buff[--i] = tp[--n];
3070:Middlewares/Third_Party/FatFs/src/ff.c **** 			buff[--i] = '/';
3071:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3072:Middlewares/Third_Party/FatFs/src/ff.c **** 		tp = buff;
3073:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
3074:Middlewares/Third_Party/FatFs/src/ff.c **** #if _VOLUMES >= 2
3075:Middlewares/Third_Party/FatFs/src/ff.c **** 			*tp++ = '0' + CurrVol;			/* Put drive number */
3076:Middlewares/Third_Party/FatFs/src/ff.c **** 			*tp++ = ':';
3077:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3078:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i == len) {					/* Root-directory */
3079:Middlewares/Third_Party/FatFs/src/ff.c **** 				*tp++ = '/';
3080:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {						/* Sub-directroy */
3081:Middlewares/Third_Party/FatFs/src/ff.c **** 				do		/* Add stacked path str */
3082:Middlewares/Third_Party/FatFs/src/ff.c **** 					*tp++ = buff[i++];
3083:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (i < len);
3084:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3085:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3086:Middlewares/Third_Party/FatFs/src/ff.c **** 		*tp = 0;
3087:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_BUF();
3088:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3089:Middlewares/Third_Party/FatFs/src/ff.c **** 
3090:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(dj.fs, res);
3091:Middlewares/Third_Party/FatFs/src/ff.c **** }
3092:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_RPATH >= 2 */
3093:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_RPATH >= 1 */
3094:Middlewares/Third_Party/FatFs/src/ff.c **** 
3095:Middlewares/Third_Party/FatFs/src/ff.c **** 
3096:Middlewares/Third_Party/FatFs/src/ff.c **** 
3097:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 2
3098:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3099:Middlewares/Third_Party/FatFs/src/ff.c **** /* Seek File R/W Pointer                                                 */
3100:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3101:Middlewares/Third_Party/FatFs/src/ff.c **** 
3102:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_lseek (
3103:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp,		/* Pointer to the file object */
3104:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ofs		/* File pointer from top of file */
3105:Middlewares/Third_Party/FatFs/src/ff.c **** )
3106:Middlewares/Third_Party/FatFs/src/ff.c **** {
3107:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3108:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, bcs, nsect, ifptr;
3109:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
3110:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cl, pcl, ncl, tcl, dsc, tlen, ulen, *tbl;
3111:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3112:Middlewares/Third_Party/FatFs/src/ff.c **** 
3113:Middlewares/Third_Party/FatFs/src/ff.c **** 
3114:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(fp);					/* Check validity of the object */
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 140


3115:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) LEAVE_FF(fp->fs, res);
3116:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fp->err)						/* Check error */
3117:Middlewares/Third_Party/FatFs/src/ff.c **** 		LEAVE_FF(fp->fs, (FRESULT)fp->err);
3118:Middlewares/Third_Party/FatFs/src/ff.c **** 
3119:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
3120:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fp->cltbl) {	/* Fast seek */
3121:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs == CREATE_LINKMAP) {	/* Create CLMT */
3122:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl = fp->cltbl;
3123:Middlewares/Third_Party/FatFs/src/ff.c **** 			tlen = *tbl++; ulen = 2;	/* Given table size and required table size */
3124:Middlewares/Third_Party/FatFs/src/ff.c **** 			cl = fp->sclust;			/* Top of the chain */
3125:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cl) {
3126:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
3127:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Get a fragment */
3128:Middlewares/Third_Party/FatFs/src/ff.c **** 					tcl = cl; ncl = 0; ulen += 2;	/* Top, length and used items */
3129:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
3130:Middlewares/Third_Party/FatFs/src/ff.c **** 						pcl = cl; ncl++;
3131:Middlewares/Third_Party/FatFs/src/ff.c **** 						cl = get_fat(fp->fs, cl);
3132:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl <= 1) ABORT(fp->fs, FR_INT_ERR);
3133:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
3134:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (cl == pcl + 1);
3135:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (ulen <= tlen) {		/* Store the length and top of the fragment */
3136:Middlewares/Third_Party/FatFs/src/ff.c **** 						*tbl++ = ncl; *tbl++ = tcl;
3137:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3138:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (cl < fp->fs->n_fatent);	/* Repeat until end of chain */
3139:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3140:Middlewares/Third_Party/FatFs/src/ff.c **** 			*fp->cltbl = ulen;	/* Number of items used */
3141:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ulen <= tlen)
3142:Middlewares/Third_Party/FatFs/src/ff.c **** 				*tbl = 0;		/* Terminate table */
3143:Middlewares/Third_Party/FatFs/src/ff.c **** 			else
3144:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NOT_ENOUGH_CORE;	/* Given table size is smaller than required */
3145:Middlewares/Third_Party/FatFs/src/ff.c **** 
3146:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {						/* Fast seek */
3147:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ofs > fp->fsize)		/* Clip offset at the file size */
3148:Middlewares/Third_Party/FatFs/src/ff.c **** 				ofs = fp->fsize;
3149:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fptr = ofs;				/* Set file pointer */
3150:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ofs) {
3151:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clmt_clust(fp, ofs - 1);
3152:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(fp->fs, fp->clust);
3153:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!dsc) ABORT(fp->fs, FR_INT_ERR);
3154:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc += (ofs - 1) / SS(fp->fs) & (fp->fs->csize - 1);
3155:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr % SS(fp->fs) && dsc != fp->dsect) {	/* Refill sector cache if needed */
3156:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
3157:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3158:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fp->flag & FA__DIRTY) {		/* Write-back dirty sector cache */
3159:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
3160:Middlewares/Third_Party/FatFs/src/ff.c **** 							ABORT(fp->fs, FR_DISK_ERR);
3161:Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->flag &= ~FA__DIRTY;
3162:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3163:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3164:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (disk_read(fp->fs->drv, fp->buf.d8, dsc, 1) != RES_OK)	/* Load current sector */
3165:Middlewares/Third_Party/FatFs/src/ff.c **** 						ABORT(fp->fs, FR_DISK_ERR);
3166:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3167:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->dsect = dsc;
3168:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3169:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3170:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3171:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 141


3172:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3173:Middlewares/Third_Party/FatFs/src/ff.c **** 
3174:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Normal Seek */
3175:Middlewares/Third_Party/FatFs/src/ff.c **** 	{
3176:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs > fp->fsize					/* In read-only mode, clip offset with the file size */
3177:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3178:Middlewares/Third_Party/FatFs/src/ff.c **** 			 && !(fp->flag & FA_WRITE)
3179:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3180:Middlewares/Third_Party/FatFs/src/ff.c **** 			) ofs = fp->fsize;
3181:Middlewares/Third_Party/FatFs/src/ff.c **** 
3182:Middlewares/Third_Party/FatFs/src/ff.c **** 		ifptr = fp->fptr;
3183:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->fptr = nsect = 0;
3184:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs) {
3185:Middlewares/Third_Party/FatFs/src/ff.c **** 			bcs = (DWORD)fp->fs->csize * SS(fp->fs);	/* Cluster size (byte) */
3186:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ifptr > 0 &&
3187:Middlewares/Third_Party/FatFs/src/ff.c **** 				(ofs - 1) / bcs >= (ifptr - 1) / bcs) {	/* When seek to same or following cluster, */
3188:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = (ifptr - 1) & ~(bcs - 1);	/* start from the current cluster */
3189:Middlewares/Third_Party/FatFs/src/ff.c **** 				ofs -= fp->fptr;
3190:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fp->clust;
3191:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {									/* When seek to back cluster, */
3192:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fp->sclust;						/* start from the first cluster */
3193:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3194:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0) {						/* If no cluster chain, create a new chain */
3195:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = create_chain(fp->fs, 0);
3196:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) ABORT(fp->fs, FR_INT_ERR);
3197:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
3198:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->sclust = clst;
3199:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3200:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3201:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;
3202:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3203:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst != 0) {
3204:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (ofs > bcs) {						/* Cluster following loop */
3205:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3206:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fp->flag & FA_WRITE) {			/* Check if in write mode or not */
3207:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = create_chain(fp->fs, clst);	/* Force stretch if in write mode */
3208:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (clst == 0) {				/* When disk gets full, clip file size */
3209:Middlewares/Third_Party/FatFs/src/ff.c **** 							ofs = bcs; break;
3210:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
3211:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
3212:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3213:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = get_fat(fp->fs, clst);	/* Follow cluster chain if not in write mode */
3214:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
3215:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1 || clst >= fp->fs->n_fatent) ABORT(fp->fs, FR_INT_ERR);
3216:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
3217:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->fptr += bcs;
3218:Middlewares/Third_Party/FatFs/src/ff.c **** 					ofs -= bcs;
3219:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3220:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr += ofs;
3221:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ofs % SS(fp->fs)) {
3222:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect = clust2sect(fp->fs, clst);	/* Current sector */
3223:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!nsect) ABORT(fp->fs, FR_INT_ERR);
3224:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect += ofs / SS(fp->fs);
3225:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3226:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3227:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3228:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fp->fs) && nsect != fp->dsect) {	/* Fill sector cache if needed */
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 142


3229:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
3230:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3231:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->flag & FA__DIRTY) {			/* Write-back dirty sector cache */
3232:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
3233:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fp->fs, FR_DISK_ERR);
3234:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= ~FA__DIRTY;
3235:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3236:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3237:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_read(fp->fs->drv, fp->buf.d8, nsect, 1) != RES_OK)	/* Fill sector cache */
3238:Middlewares/Third_Party/FatFs/src/ff.c **** 				ABORT(fp->fs, FR_DISK_ERR);
3239:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3240:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dsect = nsect;
3241:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3242:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3243:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr > fp->fsize) {			/* Set file change flag if the file size is extended */
3244:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fsize = fp->fptr;
3245:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag |= FA__WRITTEN;
3246:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3247:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3248:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3249:Middlewares/Third_Party/FatFs/src/ff.c **** 
3250:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fp->fs, res);
3251:Middlewares/Third_Party/FatFs/src/ff.c **** }
3252:Middlewares/Third_Party/FatFs/src/ff.c **** 
3253:Middlewares/Third_Party/FatFs/src/ff.c **** 
3254:Middlewares/Third_Party/FatFs/src/ff.c **** 
3255:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 1
3256:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3257:Middlewares/Third_Party/FatFs/src/ff.c **** /* Create a Directory Object                                             */
3258:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3259:Middlewares/Third_Party/FatFs/src/ff.c **** 
3260:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_opendir (
3261:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,			/* Pointer to directory object to create */
3262:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path	/* Pointer to the directory path */
3263:Middlewares/Third_Party/FatFs/src/ff.c **** )
3264:Middlewares/Third_Party/FatFs/src/ff.c **** {
3265:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3266:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs;
3267:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
3268:Middlewares/Third_Party/FatFs/src/ff.c **** 
3269:Middlewares/Third_Party/FatFs/src/ff.c **** 
3270:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!dp) return FR_INVALID_OBJECT;
3271:Middlewares/Third_Party/FatFs/src/ff.c **** 
3272:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
3273:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&fs, &path, 0);
3274:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3275:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fs = fs;
3276:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(*dp);
3277:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(dp, path);			/* Follow the path to the directory */
3278:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_BUF();
3279:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {						/* Follow completed */
3280:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dp->dir) {						/* It is not the origin directory itself */
3281:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dp->dir[DIR_Attr] & AM_DIR)	/* The object is a sub directory */
3282:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->sclust = ld_clust(fs, dp->dir);
3283:Middlewares/Third_Party/FatFs/src/ff.c **** 				else							/* The object is a file */
3284:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_PATH;
3285:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 143


3286:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
3287:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->id = fs->id;
3288:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_sdi(dp, 0);			/* Rewind directory */
3289:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
3290:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
3291:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (dp->sclust) {
3292:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->lockid = inc_lock(dp, 0);	/* Lock the sub directory */
3293:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!dp->lockid)
3294:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = FR_TOO_MANY_OPEN_FILES;
3295:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
3296:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->lockid = 0;	/* Root directory need not to be locked */
3297:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3298:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3299:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3300:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3301:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3302:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_NO_FILE) res = FR_NO_PATH;
3303:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3304:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) dp->fs = 0;		/* Invalidate the directory object if function faild */
3305:Middlewares/Third_Party/FatFs/src/ff.c **** 
3306:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
3307:Middlewares/Third_Party/FatFs/src/ff.c **** }
3308:Middlewares/Third_Party/FatFs/src/ff.c **** 
3309:Middlewares/Third_Party/FatFs/src/ff.c **** 
3310:Middlewares/Third_Party/FatFs/src/ff.c **** 
3311:Middlewares/Third_Party/FatFs/src/ff.c **** 
3312:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3313:Middlewares/Third_Party/FatFs/src/ff.c **** /* Close Directory                                                       */
3314:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3315:Middlewares/Third_Party/FatFs/src/ff.c **** 
3316:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_closedir (
3317:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR *dp		/* Pointer to the directory object to be closed */
3318:Middlewares/Third_Party/FatFs/src/ff.c **** )
3319:Middlewares/Third_Party/FatFs/src/ff.c **** {
3320:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3321:Middlewares/Third_Party/FatFs/src/ff.c **** 
3322:Middlewares/Third_Party/FatFs/src/ff.c **** 
3323:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(dp);
3324:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3325:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
3326:Middlewares/Third_Party/FatFs/src/ff.c **** 		FATFS *fs = dp->fs;
3327:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3328:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
3329:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (dp->lockid)				/* Decrement sub-directory open counter */
3330:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dec_lock(dp->lockid);
3331:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK)
3332:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3333:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->fs = 0;				/* Invalidate directory object */
3334:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
3335:Middlewares/Third_Party/FatFs/src/ff.c **** 		unlock_fs(fs, FR_OK);		/* Unlock volume */
3336:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3337:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3338:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
3339:Middlewares/Third_Party/FatFs/src/ff.c **** }
3340:Middlewares/Third_Party/FatFs/src/ff.c **** 
3341:Middlewares/Third_Party/FatFs/src/ff.c **** 
3342:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 144


3343:Middlewares/Third_Party/FatFs/src/ff.c **** 
3344:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3345:Middlewares/Third_Party/FatFs/src/ff.c **** /* Read Directory Entries in Sequence                                    */
3346:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3347:Middlewares/Third_Party/FatFs/src/ff.c **** 
3348:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_readdir (
3349:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,			/* Pointer to the open directory object */
3350:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO* fno		/* Pointer to file information to return */
3351:Middlewares/Third_Party/FatFs/src/ff.c **** )
3352:Middlewares/Third_Party/FatFs/src/ff.c **** {
3353:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3354:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
3355:Middlewares/Third_Party/FatFs/src/ff.c **** 
3356:Middlewares/Third_Party/FatFs/src/ff.c **** 
3357:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(dp);						/* Check validity of the object */
3358:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3359:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!fno) {
3360:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_sdi(dp, 0);			/* Rewind the directory object */
3361:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
3362:Middlewares/Third_Party/FatFs/src/ff.c **** 			INIT_BUF(*dp);
3363:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_read(dp, 0);			/* Read an item */
3364:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_NO_FILE) {		/* Reached end of directory */
3365:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->sect = 0;
3366:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_OK;
3367:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3368:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {				/* A valid entry is found */
3369:Middlewares/Third_Party/FatFs/src/ff.c **** 				get_fileinfo(dp, fno);		/* Get the object information */
3370:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_next(dp, 0);		/* Increment index for next */
3371:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) {
3372:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->sect = 0;
3373:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_OK;
3374:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3375:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3376:Middlewares/Third_Party/FatFs/src/ff.c **** 			FREE_BUF();
3377:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3378:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3379:Middlewares/Third_Party/FatFs/src/ff.c **** 
3380:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(dp->fs, res);
3381:Middlewares/Third_Party/FatFs/src/ff.c **** }
3382:Middlewares/Third_Party/FatFs/src/ff.c **** 
3383:Middlewares/Third_Party/FatFs/src/ff.c **** 
3384:Middlewares/Third_Party/FatFs/src/ff.c **** 
3385:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FIND
3386:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3387:Middlewares/Third_Party/FatFs/src/ff.c **** /* Find next file                                                        */
3388:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3389:Middlewares/Third_Party/FatFs/src/ff.c **** 
3390:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_findnext (
3391:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,		/* Pointer to the open directory object */
3392:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO* fno	/* Pointer to the file information structure */
3393:Middlewares/Third_Party/FatFs/src/ff.c **** )
3394:Middlewares/Third_Party/FatFs/src/ff.c **** {
3395:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3396:Middlewares/Third_Party/FatFs/src/ff.c **** 
3397:Middlewares/Third_Party/FatFs/src/ff.c **** 
3398:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
3399:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = f_readdir(dp, fno);		/* Get a directory item */
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 145


3400:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK || !fno || !fno->fname[0]) break;	/* Terminate if any error or end of directory 
3401:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
3402:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fno->lfname && pattern_matching(dp->pat, fno->lfname, 0, 0)) break;	/* Test for LFN if exist 
3403:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3404:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (pattern_matching(dp->pat, fno->fname, 0, 0)) break;	/* Test for SFN */
3405:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3406:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
3407:Middlewares/Third_Party/FatFs/src/ff.c **** 
3408:Middlewares/Third_Party/FatFs/src/ff.c **** }
3409:Middlewares/Third_Party/FatFs/src/ff.c **** 
3410:Middlewares/Third_Party/FatFs/src/ff.c **** 
3411:Middlewares/Third_Party/FatFs/src/ff.c **** 
3412:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3413:Middlewares/Third_Party/FatFs/src/ff.c **** /* Find first file                                                       */
3414:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3415:Middlewares/Third_Party/FatFs/src/ff.c **** 
3416:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_findfirst (
3417:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,				/* Pointer to the blank directory object */
3418:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO* fno,			/* Pointer to the file information structure */
3419:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,		/* Pointer to the directory to open */
3420:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* pattern	/* Pointer to the matching pattern */
3421:Middlewares/Third_Party/FatFs/src/ff.c **** )
3422:Middlewares/Third_Party/FatFs/src/ff.c **** {
3423:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3424:Middlewares/Third_Party/FatFs/src/ff.c **** 
3425:Middlewares/Third_Party/FatFs/src/ff.c **** 
3426:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->pat = pattern;		/* Save pointer to pattern string */
3427:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = f_opendir(dp, path);		/* Open the target directory */
3428:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK)
3429:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = f_findnext(dp, fno);	/* Find the first item */
3430:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
3431:Middlewares/Third_Party/FatFs/src/ff.c **** }
3432:Middlewares/Third_Party/FatFs/src/ff.c **** 
3433:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _USE_FIND */
3434:Middlewares/Third_Party/FatFs/src/ff.c **** 
3435:Middlewares/Third_Party/FatFs/src/ff.c **** 
3436:Middlewares/Third_Party/FatFs/src/ff.c **** 
3437:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE == 0
3438:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3439:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get File Status                                                       */
3440:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3441:Middlewares/Third_Party/FatFs/src/ff.c **** 
3442:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_stat (
3443:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Pointer to the file path */
3444:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO* fno		/* Pointer to file information to return */
3445:Middlewares/Third_Party/FatFs/src/ff.c **** )
3446:Middlewares/Third_Party/FatFs/src/ff.c **** {
3447:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3448:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
3449:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
3450:Middlewares/Third_Party/FatFs/src/ff.c **** 
3451:Middlewares/Third_Party/FatFs/src/ff.c **** 
3452:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
3453:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&dj.fs, &path, 0);
3454:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3455:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
3456:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);	/* Follow the file path */
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 146


3457:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {				/* Follow completed */
3458:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.dir) {		/* Found an object */
3459:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fno) get_fileinfo(&dj, fno);
3460:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {			/* It is root directory */
3461:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
3462:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3463:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3464:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_BUF();
3465:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3466:Middlewares/Third_Party/FatFs/src/ff.c **** 
3467:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(dj.fs, res);
3468:Middlewares/Third_Party/FatFs/src/ff.c **** }
3469:Middlewares/Third_Party/FatFs/src/ff.c **** 
3470:Middlewares/Third_Party/FatFs/src/ff.c **** 
3471:Middlewares/Third_Party/FatFs/src/ff.c **** 
3472:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3473:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3474:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get Number of Free Clusters                                           */
3475:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3476:Middlewares/Third_Party/FatFs/src/ff.c **** 
3477:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_getfree (
3478:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Path name of the logical drive number */
3479:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD* nclst,		/* Pointer to a variable to return number of free clusters */
3480:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS** fatfs		/* Pointer to return pointer to corresponding file system object */
3481:Middlewares/Third_Party/FatFs/src/ff.c **** )
3482:Middlewares/Third_Party/FatFs/src/ff.c **** {
3483:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3484:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
3485:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD n, clst, sect, stat;
3486:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
3487:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE fat, *p;
3488:Middlewares/Third_Party/FatFs/src/ff.c **** 
3489:Middlewares/Third_Party/FatFs/src/ff.c **** 
3490:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
3491:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(fatfs, &path, 0);
3492:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs = *fatfs;
3493:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3494:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* If free_clust is valid, return it without full cluster scan */
3495:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->free_clust <= fs->n_fatent - 2) {
3496:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = fs->free_clust;
3497:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
3498:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Get number of free clusters */
3499:Middlewares/Third_Party/FatFs/src/ff.c **** 			fat = fs->fs_type;
3500:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = 0;
3501:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fat == FS_FAT12) {
3502:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = 2;
3503:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
3504:Middlewares/Third_Party/FatFs/src/ff.c **** 					stat = get_fat(fs, clst);
3505:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0xFFFFFFFF) { res = FR_DISK_ERR; break; }
3506:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 1) { res = FR_INT_ERR; break; }
3507:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0) n++;
3508:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (++clst < fs->n_fatent);
3509:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
3510:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fs->n_fatent;
3511:Middlewares/Third_Party/FatFs/src/ff.c **** 				sect = fs->fatbase;
3512:Middlewares/Third_Party/FatFs/src/ff.c **** 				i = 0; p = 0;
3513:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 147


3514:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!i) {
3515:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = move_window(fs, sect++);
3516:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res != FR_OK) break;
3517:Middlewares/Third_Party/FatFs/src/ff.c **** 						p = fs->win.d8;
3518:Middlewares/Third_Party/FatFs/src/ff.c **** 						i = SS(fs);
3519:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3520:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fat == FS_FAT16) {
3521:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (LD_WORD(p) == 0) n++;
3522:Middlewares/Third_Party/FatFs/src/ff.c **** 						p += 2; i -= 2;
3523:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
3524:Middlewares/Third_Party/FatFs/src/ff.c **** 						if ((LD_DWORD(p) & 0x0FFFFFFF) == 0) n++;
3525:Middlewares/Third_Party/FatFs/src/ff.c **** 						p += 4; i -= 4;
3526:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3527:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (--clst);
3528:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3529:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clust = n;
3530:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag |= 1;
3531:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = n;
3532:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3533:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3534:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
3535:Middlewares/Third_Party/FatFs/src/ff.c **** }
3536:Middlewares/Third_Party/FatFs/src/ff.c **** 
3537:Middlewares/Third_Party/FatFs/src/ff.c **** 
3538:Middlewares/Third_Party/FatFs/src/ff.c **** 
3539:Middlewares/Third_Party/FatFs/src/ff.c **** 
3540:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3541:Middlewares/Third_Party/FatFs/src/ff.c **** /* Truncate File                                                         */
3542:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3543:Middlewares/Third_Party/FatFs/src/ff.c **** 
3544:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_truncate (
3545:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp		/* Pointer to the file object */
3546:Middlewares/Third_Party/FatFs/src/ff.c **** )
3547:Middlewares/Third_Party/FatFs/src/ff.c **** {
3548:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3549:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ncl;
3550:Middlewares/Third_Party/FatFs/src/ff.c **** 
3551:Middlewares/Third_Party/FatFs/src/ff.c **** 
3552:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(fp);						/* Check validity of the object */
3553:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3554:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->err) {						/* Check error */
3555:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = (FRESULT)fp->err;
3556:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
3557:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!(fp->flag & FA_WRITE))		/* Check access mode */
3558:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_DENIED;
3559:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3560:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3561:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3562:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fsize > fp->fptr) {
3563:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fsize = fp->fptr;	/* Set file size to current R/W point */
3564:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag |= FA__WRITTEN;
3565:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->fptr == 0) {	/* When set file size to zero, remove entire cluster chain */
3566:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = remove_chain(fp->fs, fp->sclust);
3567:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->sclust = 0;
3568:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {				/* When truncate a part of the file, remove remaining clusters */
3569:Middlewares/Third_Party/FatFs/src/ff.c **** 				ncl = get_fat(fp->fs, fp->clust);
3570:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_OK;
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 148


3571:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ncl == 0xFFFFFFFF) res = FR_DISK_ERR;
3572:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ncl == 1) res = FR_INT_ERR;
3573:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK && ncl < fp->fs->n_fatent) {
3574:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = put_fat(fp->fs, fp->clust, 0x0FFFFFFF);
3575:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) res = remove_chain(fp->fs, ncl);
3576:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3577:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3578:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
3579:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK && (fp->flag & FA__DIRTY)) {
3580:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
3581:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DISK_ERR;
3582:Middlewares/Third_Party/FatFs/src/ff.c **** 				else
3583:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= ~FA__DIRTY;
3584:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3585:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3586:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3587:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) fp->err = (FRESULT)res;
3588:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3589:Middlewares/Third_Party/FatFs/src/ff.c **** 
3590:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fp->fs, res);
3591:Middlewares/Third_Party/FatFs/src/ff.c **** }
3592:Middlewares/Third_Party/FatFs/src/ff.c **** 
3593:Middlewares/Third_Party/FatFs/src/ff.c **** 
3594:Middlewares/Third_Party/FatFs/src/ff.c **** 
3595:Middlewares/Third_Party/FatFs/src/ff.c **** 
3596:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3597:Middlewares/Third_Party/FatFs/src/ff.c **** /* Delete a File or Directory                                            */
3598:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3599:Middlewares/Third_Party/FatFs/src/ff.c **** 
3600:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_unlink (
3601:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path		/* Pointer to the file or directory path */
3602:Middlewares/Third_Party/FatFs/src/ff.c **** )
3603:Middlewares/Third_Party/FatFs/src/ff.c **** {
3604:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3605:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj, sdj;
3606:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir;
3607:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dclst = 0;
3608:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
3609:Middlewares/Third_Party/FatFs/src/ff.c **** 
3610:Middlewares/Third_Party/FatFs/src/ff.c **** 
3611:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
3612:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&dj.fs, &path, 1);
3613:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3614:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
3615:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);		/* Follow the file path */
3616:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_OK && (dj.fn[NSFLAG] & NS_DOT))
3617:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;			/* Cannot remove dot entry */
3618:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
3619:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) res = chk_lock(&dj, 2);	/* Cannot remove open object */
3620:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3621:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {					/* The object is accessible */
3622:Middlewares/Third_Party/FatFs/src/ff.c **** 			dir = dj.dir;
3623:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!dir) {
3624:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;		/* Cannot remove the origin directory */
3625:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
3626:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dir[DIR_Attr] & AM_RDO)
3627:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;		/* Cannot remove R/O object */
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 149


3628:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3629:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
3630:Middlewares/Third_Party/FatFs/src/ff.c **** 				dclst = ld_clust(dj.fs, dir);
3631:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dclst && (dir[DIR_Attr] & AM_DIR)) {	/* Is it a sub-directory ? */
3632:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH
3633:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (dclst == dj.fs->cdir) {		 		/* Is it the current directory? */
3634:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_DENIED;
3635:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
3636:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3637:Middlewares/Third_Party/FatFs/src/ff.c **** 					{
3638:Middlewares/Third_Party/FatFs/src/ff.c **** 						mem_cpy(&sdj, &dj, sizeof (DIR));	/* Open the sub-directory */
3639:Middlewares/Third_Party/FatFs/src/ff.c **** 						sdj.sclust = dclst;
3640:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = dir_sdi(&sdj, 2);
3641:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res == FR_OK) {
3642:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = dir_read(&sdj, 0);			/* Read an item (excluding dot entries) */
3643:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_OK) res = FR_DENIED;	/* Not empty? (cannot remove) */
3644:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_NO_FILE) res = FR_OK;	/* Empty? (can remove) */
3645:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
3646:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3647:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3648:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3649:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
3650:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_remove(&dj);		/* Remove the directory entry */
3651:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK && dclst)	/* Remove the cluster chain if exist */
3652:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = remove_chain(dj.fs, dclst);
3653:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) res = sync_fs(dj.fs);
3654:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3655:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3656:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_BUF();
3657:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3658:Middlewares/Third_Party/FatFs/src/ff.c **** 
3659:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(dj.fs, res);
3660:Middlewares/Third_Party/FatFs/src/ff.c **** }
3661:Middlewares/Third_Party/FatFs/src/ff.c **** 
3662:Middlewares/Third_Party/FatFs/src/ff.c **** 
3663:Middlewares/Third_Party/FatFs/src/ff.c **** 
3664:Middlewares/Third_Party/FatFs/src/ff.c **** 
3665:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3666:Middlewares/Third_Party/FatFs/src/ff.c **** /* Create a Directory                                                    */
3667:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3668:Middlewares/Third_Party/FatFs/src/ff.c **** 
3669:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_mkdir (
3670:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path		/* Pointer to the directory path */
3671:Middlewares/Third_Party/FatFs/src/ff.c **** )
3672:Middlewares/Third_Party/FatFs/src/ff.c **** {
3673:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3674:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
3675:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir, n;
3676:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dsc, dcl, pcl, tm = GET_FATTIME();
3677:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
3678:Middlewares/Third_Party/FatFs/src/ff.c **** 
3679:Middlewares/Third_Party/FatFs/src/ff.c **** 
3680:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
3681:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&dj.fs, &path, 1);
3682:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3683:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
3684:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);			/* Follow the file path */
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 150


3685:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) res = FR_EXIST;		/* Any object with same name is already existing */
3686:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_NO_FILE && (dj.fn[NSFLAG] & NS_DOT))
3687:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;
3688:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_NO_FILE) {				/* Can create a new directory */
3689:Middlewares/Third_Party/FatFs/src/ff.c **** 			dcl = create_chain(dj.fs, 0);		/* Allocate a cluster for the new directory table */
3690:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
3691:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 0) res = FR_DENIED;		/* No space to allocate a new cluster */
3692:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 1) res = FR_INT_ERR;
3693:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 0xFFFFFFFF) res = FR_DISK_ERR;
3694:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK)					/* Flush FAT */
3695:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_window(dj.fs);
3696:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {					/* Initialize the new directory table */
3697:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(dj.fs, dcl);
3698:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir = dj.fs->win.d8;
3699:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(dir, 0, SS(dj.fs));
3700:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(dir + DIR_Name, ' ', 11);	/* Create "." entry */
3701:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Name] = '.';
3702:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] = AM_DIR;
3703:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_WrtTime, tm);
3704:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, dcl);
3705:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(dir + SZ_DIRE, dir, SZ_DIRE); 	/* Create ".." entry */
3706:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[SZ_DIRE + 1] = '.'; pcl = dj.sclust;
3707:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.fs->fs_type == FS_FAT32 && pcl == dj.fs->dirbase)
3708:Middlewares/Third_Party/FatFs/src/ff.c **** 					pcl = 0;
3709:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir + SZ_DIRE, pcl);
3710:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (n = dj.fs->csize; n; n--) {	/* Write dot entries and clear following sectors */
3711:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.fs->winsect = dsc++;
3712:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.fs->wflag = 1;
3713:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_window(dj.fs);
3714:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res != FR_OK) break;
3715:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(dir, 0, SS(dj.fs));
3716:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3717:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3718:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) res = dir_register(&dj);	/* Register the object to the directoy */
3719:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {
3720:Middlewares/Third_Party/FatFs/src/ff.c **** 				remove_chain(dj.fs, dcl);			/* Could not register, remove cluster chain */
3721:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
3722:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir = dj.dir;
3723:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] = AM_DIR;				/* Attribute */
3724:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_WrtTime, tm);	/* Created time */
3725:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, dcl);					/* Table start cluster */
3726:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.fs->wflag = 1;
3727:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(dj.fs);
3728:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3729:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3730:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_BUF();
3731:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3732:Middlewares/Third_Party/FatFs/src/ff.c **** 
3733:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(dj.fs, res);
3734:Middlewares/Third_Party/FatFs/src/ff.c **** }
3735:Middlewares/Third_Party/FatFs/src/ff.c **** 
3736:Middlewares/Third_Party/FatFs/src/ff.c **** 
3737:Middlewares/Third_Party/FatFs/src/ff.c **** 
3738:Middlewares/Third_Party/FatFs/src/ff.c **** 
3739:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3740:Middlewares/Third_Party/FatFs/src/ff.c **** /* Change Attribute                                                      */
3741:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 151


3742:Middlewares/Third_Party/FatFs/src/ff.c **** 
3743:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_chmod (
3744:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Pointer to the file path */
3745:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE attr,			/* Attribute bits */
3746:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE mask			/* Attribute mask to change */
3747:Middlewares/Third_Party/FatFs/src/ff.c **** )
3748:Middlewares/Third_Party/FatFs/src/ff.c **** {
3749:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3750:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
3751:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir;
3752:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
3753:Middlewares/Third_Party/FatFs/src/ff.c **** 
3754:Middlewares/Third_Party/FatFs/src/ff.c **** 
3755:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
3756:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&dj.fs, &path, 1);
3757:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3758:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
3759:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);		/* Follow the file path */
3760:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_BUF();
3761:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_OK && (dj.fn[NSFLAG] & NS_DOT))
3762:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;
3763:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
3764:Middlewares/Third_Party/FatFs/src/ff.c **** 			dir = dj.dir;
3765:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!dir) {						/* Is it a root directory? */
3766:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
3767:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {						/* File or sub directory */
3768:Middlewares/Third_Party/FatFs/src/ff.c **** 				mask &= AM_RDO|AM_HID|AM_SYS|AM_ARC;	/* Valid attribute mask */
3769:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] = (attr & mask) | (dir[DIR_Attr] & (BYTE)~mask);	/* Apply attribute change */
3770:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.fs->wflag = 1;
3771:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(dj.fs);
3772:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3773:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3774:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3775:Middlewares/Third_Party/FatFs/src/ff.c **** 
3776:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(dj.fs, res);
3777:Middlewares/Third_Party/FatFs/src/ff.c **** }
3778:Middlewares/Third_Party/FatFs/src/ff.c **** 
3779:Middlewares/Third_Party/FatFs/src/ff.c **** 
3780:Middlewares/Third_Party/FatFs/src/ff.c **** 
3781:Middlewares/Third_Party/FatFs/src/ff.c **** 
3782:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3783:Middlewares/Third_Party/FatFs/src/ff.c **** /* Rename File/Directory                                                 */
3784:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3785:Middlewares/Third_Party/FatFs/src/ff.c **** 
3786:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_rename (
3787:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path_old,	/* Pointer to the object to be renamed */
3788:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path_new	/* Pointer to the new name */
3789:Middlewares/Third_Party/FatFs/src/ff.c **** )
3790:Middlewares/Third_Party/FatFs/src/ff.c **** {
3791:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3792:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR djo, djn;
3793:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE buf[21], *dir;
3794:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dw;
3795:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
3796:Middlewares/Third_Party/FatFs/src/ff.c **** 
3797:Middlewares/Third_Party/FatFs/src/ff.c **** 
3798:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number of the source object */
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 152


3799:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&djo.fs, &path_old, 1);
3800:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3801:Middlewares/Third_Party/FatFs/src/ff.c **** 		djn.fs = djo.fs;
3802:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(djo);
3803:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&djo, path_old);		/* Check old object */
3804:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_OK && (djo.fn[NSFLAG] & NS_DOT))
3805:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;
3806:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
3807:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) res = chk_lock(&djo, 2);
3808:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3809:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {						/* Old object is found */
3810:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!djo.dir) {						/* Is root dir? */
3811:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NO_FILE;
3812:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
3813:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(buf, djo.dir + DIR_Attr, 21);	/* Save information about object except name */
3814:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(&djn, &djo, sizeof (DIR));		/* Duplicate the directory object */
3815:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (get_ldnumber(&path_new) >= 0)		/* Snip drive number off and ignore it */
3816:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = follow_path(&djn, path_new);	/* and make sure if new object name is not conflicting */
3817:Middlewares/Third_Party/FatFs/src/ff.c **** 				else
3818:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_INVALID_DRIVE;
3819:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) res = FR_EXIST;		/* The new object name is already existing */
3820:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) { 				/* It is a valid path and no name collision */
3821:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_register(&djn);			/* Register the new entry */
3822:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
3823:Middlewares/Third_Party/FatFs/src/ff.c **** /* Start of critical section where any interruption can cause a cross-link */
3824:Middlewares/Third_Party/FatFs/src/ff.c **** 						dir = djn.dir;					/* Copy information about object except name */
3825:Middlewares/Third_Party/FatFs/src/ff.c **** 						mem_cpy(dir + 13, buf + 2, 19);
3826:Middlewares/Third_Party/FatFs/src/ff.c **** 						dir[DIR_Attr] = buf[0] | AM_ARC;
3827:Middlewares/Third_Party/FatFs/src/ff.c **** 						djo.fs->wflag = 1;
3828:Middlewares/Third_Party/FatFs/src/ff.c **** 						if ((dir[DIR_Attr] & AM_DIR) && djo.sclust != djn.sclust) {	/* Update .. entry in the sub-dir
3829:Middlewares/Third_Party/FatFs/src/ff.c **** 							dw = clust2sect(djo.fs, ld_clust(djo.fs, dir));
3830:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (!dw) {
3831:Middlewares/Third_Party/FatFs/src/ff.c **** 								res = FR_INT_ERR;
3832:Middlewares/Third_Party/FatFs/src/ff.c **** 							} else {
3833:Middlewares/Third_Party/FatFs/src/ff.c **** 								res = move_window(djo.fs, dw);
3834:Middlewares/Third_Party/FatFs/src/ff.c **** 								dir = djo.fs->win.d8 + SZ_DIRE * 1;	/* Ptr to .. entry */
3835:Middlewares/Third_Party/FatFs/src/ff.c **** 								if (res == FR_OK && dir[1] == '.') {
3836:Middlewares/Third_Party/FatFs/src/ff.c **** 									st_clust(dir, djn.sclust);
3837:Middlewares/Third_Party/FatFs/src/ff.c **** 									djo.fs->wflag = 1;
3838:Middlewares/Third_Party/FatFs/src/ff.c **** 								}
3839:Middlewares/Third_Party/FatFs/src/ff.c **** 							}
3840:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
3841:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res == FR_OK) {
3842:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = dir_remove(&djo);		/* Remove old entry */
3843:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_OK)
3844:Middlewares/Third_Party/FatFs/src/ff.c **** 								res = sync_fs(djo.fs);
3845:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
3846:Middlewares/Third_Party/FatFs/src/ff.c **** /* End of critical section */
3847:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3848:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3849:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3850:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3851:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_BUF();
3852:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3853:Middlewares/Third_Party/FatFs/src/ff.c **** 
3854:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(djo.fs, res);
3855:Middlewares/Third_Party/FatFs/src/ff.c **** }
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 153


3856:Middlewares/Third_Party/FatFs/src/ff.c **** 
3857:Middlewares/Third_Party/FatFs/src/ff.c **** 
3858:Middlewares/Third_Party/FatFs/src/ff.c **** 
3859:Middlewares/Third_Party/FatFs/src/ff.c **** 
3860:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3861:Middlewares/Third_Party/FatFs/src/ff.c **** /* Change Timestamp                                                      */
3862:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3863:Middlewares/Third_Party/FatFs/src/ff.c **** 
3864:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_utime (
3865:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Pointer to the file/directory name */
3866:Middlewares/Third_Party/FatFs/src/ff.c **** 	const FILINFO* fno	/* Pointer to the time stamp to be set */
3867:Middlewares/Third_Party/FatFs/src/ff.c **** )
3868:Middlewares/Third_Party/FatFs/src/ff.c **** {
3869:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3870:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
3871:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir;
3872:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
3873:Middlewares/Third_Party/FatFs/src/ff.c **** 
3874:Middlewares/Third_Party/FatFs/src/ff.c **** 
3875:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
3876:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&dj.fs, &path, 1);
3877:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3878:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
3879:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);	/* Follow the file path */
3880:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_BUF();
3881:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_OK && (dj.fn[NSFLAG] & NS_DOT))
3882:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;
3883:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
3884:Middlewares/Third_Party/FatFs/src/ff.c **** 			dir = dj.dir;
3885:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!dir) {					/* Root directory */
3886:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
3887:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {					/* File or sub-directory */
3888:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_WORD(dir + DIR_WrtTime, fno->ftime);
3889:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_WORD(dir + DIR_WrtDate, fno->fdate);
3890:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.fs->wflag = 1;
3891:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(dj.fs);
3892:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3893:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3894:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3895:Middlewares/Third_Party/FatFs/src/ff.c **** 
3896:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(dj.fs, res);
3897:Middlewares/Third_Party/FatFs/src/ff.c **** }
3898:Middlewares/Third_Party/FatFs/src/ff.c **** 
3899:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
3900:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_MINIMIZE == 0 */
3901:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_MINIMIZE <= 1 */
3902:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_MINIMIZE <= 2 */
3903:Middlewares/Third_Party/FatFs/src/ff.c **** 
3904:Middlewares/Third_Party/FatFs/src/ff.c **** 
3905:Middlewares/Third_Party/FatFs/src/ff.c **** 
3906:Middlewares/Third_Party/FatFs/src/ff.c **** 
3907:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LABEL
3908:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3909:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get volume label                                                      */
3910:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3911:Middlewares/Third_Party/FatFs/src/ff.c **** 
3912:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_getlabel (
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 154


3913:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Path name of the logical drive number */
3914:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR* label,		/* Pointer to a buffer to return the volume label */
3915:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD* vsn			/* Pointer to a variable to return the volume serial number */
3916:Middlewares/Third_Party/FatFs/src/ff.c **** )
3917:Middlewares/Third_Party/FatFs/src/ff.c **** {
3918:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3919:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
3920:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, j;
3921:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN && _LFN_UNICODE
3922:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR w;
3923:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3924:Middlewares/Third_Party/FatFs/src/ff.c **** 
3925:Middlewares/Third_Party/FatFs/src/ff.c **** 
3926:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
3927:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&dj.fs, &path, 0);
3928:Middlewares/Third_Party/FatFs/src/ff.c **** 
3929:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get volume label */
3930:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK && label) {
3931:Middlewares/Third_Party/FatFs/src/ff.c **** 		dj.sclust = 0;					/* Open root directory */
3932:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_sdi(&dj, 0);
3933:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
3934:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_read(&dj, 1);		/* Get an entry with AM_VOL */
3935:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {			/* A volume label is exist */
3936:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN && _LFN_UNICODE
3937:Middlewares/Third_Party/FatFs/src/ff.c **** 				i = j = 0;
3938:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
3939:Middlewares/Third_Party/FatFs/src/ff.c **** 					w = (i < 11) ? dj.dir[i++] : ' ';
3940:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (IsDBCS1(w) && i < 11 && IsDBCS2(dj.dir[i]))
3941:Middlewares/Third_Party/FatFs/src/ff.c **** 						w = w << 8 | dj.dir[i++];
3942:Middlewares/Third_Party/FatFs/src/ff.c **** 					label[j++] = ff_convert(w, 1);	/* OEM -> Unicode */
3943:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (j < 11);
3944:Middlewares/Third_Party/FatFs/src/ff.c **** #else
3945:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(label, dj.dir, 11);
3946:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3947:Middlewares/Third_Party/FatFs/src/ff.c **** 				j = 11;
3948:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
3949:Middlewares/Third_Party/FatFs/src/ff.c **** 					label[j] = 0;
3950:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!j) break;
3951:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (label[--j] == ' ');
3952:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3953:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_NO_FILE) {	/* No label, return nul string */
3954:Middlewares/Third_Party/FatFs/src/ff.c **** 				label[0] = 0;
3955:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_OK;
3956:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3957:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3958:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3959:Middlewares/Third_Party/FatFs/src/ff.c **** 
3960:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get volume serial number */
3961:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK && vsn) {
3962:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dj.fs, dj.fs->volbase);
3963:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
3964:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = dj.fs->fs_type == FS_FAT32 ? BS_VolID32 : BS_VolID;
3965:Middlewares/Third_Party/FatFs/src/ff.c **** 			*vsn = LD_DWORD(&dj.fs->win.d8[i]);
3966:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3967:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3968:Middlewares/Third_Party/FatFs/src/ff.c **** 
3969:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(dj.fs, res);
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 155


3970:Middlewares/Third_Party/FatFs/src/ff.c **** }
3971:Middlewares/Third_Party/FatFs/src/ff.c **** 
3972:Middlewares/Third_Party/FatFs/src/ff.c **** 
3973:Middlewares/Third_Party/FatFs/src/ff.c **** 
3974:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3975:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3976:Middlewares/Third_Party/FatFs/src/ff.c **** /* Set volume label                                                      */
3977:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3978:Middlewares/Third_Party/FatFs/src/ff.c **** 
3979:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_setlabel (
3980:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* label	/* Pointer to the volume label to set */
3981:Middlewares/Third_Party/FatFs/src/ff.c **** )
3982:Middlewares/Third_Party/FatFs/src/ff.c **** {
3983:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3984:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
3985:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE vn[11];
3986:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, j, sl;
3987:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR w;
3988:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD tm;
3989:Middlewares/Third_Party/FatFs/src/ff.c **** 
3990:Middlewares/Third_Party/FatFs/src/ff.c **** 
3991:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
3992:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&dj.fs, &label, 1);
3993:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res) LEAVE_FF(dj.fs, res);
3994:Middlewares/Third_Party/FatFs/src/ff.c **** 
3995:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create a volume label in directory form */
3996:Middlewares/Third_Party/FatFs/src/ff.c **** 	vn[0] = 0;
3997:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (sl = 0; label[sl]; sl++) ;				/* Get name length */
3998:Middlewares/Third_Party/FatFs/src/ff.c **** 	for ( ; sl && label[sl - 1] == ' '; sl--) ;	/* Remove trailing spaces */
3999:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sl) {	/* Create volume label in directory form */
4000:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = j = 0;
4001:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
4002:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN && _LFN_UNICODE
4003:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = ff_convert(ff_wtoupper(label[i++]), 0);
4004:Middlewares/Third_Party/FatFs/src/ff.c **** #else
4005:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = (BYTE)label[i++];
4006:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (IsDBCS1(w))
4007:Middlewares/Third_Party/FatFs/src/ff.c **** 				w = (j < 10 && i < sl && IsDBCS2(label[i])) ? w << 8 | (BYTE)label[i++] : 0;
4008:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
4009:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = ff_convert(ff_wtoupper(ff_convert(w, 1)), 0);
4010:Middlewares/Third_Party/FatFs/src/ff.c **** #else
4011:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (IsLower(w)) w -= 0x20;			/* To upper ASCII characters */
4012:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
4013:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (w >= 0x80) w = ExCvt[w - 0x80];	/* To upper extended characters (SBCS cfg) */
4014:Middlewares/Third_Party/FatFs/src/ff.c **** #else
4015:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!_DF1S && w >= 0x80) w = 0;		/* Reject extended characters (ASCII cfg) */
4016:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4017:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4018:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4019:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!w || chk_chr("\"*+,.:;<=>\?[]|\x7F", w) || j >= (UINT)((w >= 0x100) ? 10 : 11)) /* Reject i
4020:Middlewares/Third_Party/FatFs/src/ff.c **** 				LEAVE_FF(dj.fs, FR_INVALID_NAME);
4021:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (w >= 0x100) vn[j++] = (BYTE)(w >> 8);
4022:Middlewares/Third_Party/FatFs/src/ff.c **** 			vn[j++] = (BYTE)w;
4023:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (i < sl);
4024:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (j < 11) vn[j++] = ' ';	/* Fill remaining name field */
4025:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (vn[0] == DDEM) LEAVE_FF(dj.fs, FR_INVALID_NAME);	/* Reject illegal name (heading DDEM) */
4026:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 156


4027:Middlewares/Third_Party/FatFs/src/ff.c **** 
4028:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Set volume label */
4029:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.sclust = 0;					/* Open root directory */
4030:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_sdi(&dj, 0);
4031:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4032:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_read(&dj, 1);		/* Get an entry with AM_VOL */
4033:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {			/* A volume label is found */
4034:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (vn[0]) {
4035:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(dj.dir, vn, 11);	/* Change the volume label name */
4036:Middlewares/Third_Party/FatFs/src/ff.c **** 				tm = GET_FATTIME();
4037:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dj.dir + DIR_WrtTime, tm);
4038:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
4039:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.dir[0] = DDEM;			/* Remove the volume label */
4040:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4041:Middlewares/Third_Party/FatFs/src/ff.c **** 			dj.fs->wflag = 1;
4042:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = sync_fs(dj.fs);
4043:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {					/* No volume label is found or error */
4044:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_NO_FILE) {
4045:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_OK;
4046:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (vn[0]) {				/* Create volume label as new */
4047:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_alloc(&dj, 1);	/* Allocate an entry for volume label */
4048:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
4049:Middlewares/Third_Party/FatFs/src/ff.c **** 						mem_set(dj.dir, 0, SZ_DIRE);	/* Set volume label */
4050:Middlewares/Third_Party/FatFs/src/ff.c **** 						mem_cpy(dj.dir, vn, 11);
4051:Middlewares/Third_Party/FatFs/src/ff.c **** 						dj.dir[DIR_Attr] = AM_VOL;
4052:Middlewares/Third_Party/FatFs/src/ff.c **** 						tm = GET_FATTIME();
4053:Middlewares/Third_Party/FatFs/src/ff.c **** 						ST_DWORD(dj.dir + DIR_WrtTime, tm);
4054:Middlewares/Third_Party/FatFs/src/ff.c **** 						dj.fs->wflag = 1;
4055:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = sync_fs(dj.fs);
4056:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
4057:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4058:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4059:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4060:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4061:Middlewares/Third_Party/FatFs/src/ff.c **** 
4062:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(dj.fs, res);
4063:Middlewares/Third_Party/FatFs/src/ff.c **** }
4064:Middlewares/Third_Party/FatFs/src/ff.c **** 
4065:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
4066:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _USE_LABEL */
4067:Middlewares/Third_Party/FatFs/src/ff.c **** 
4068:Middlewares/Third_Party/FatFs/src/ff.c **** 
4069:Middlewares/Third_Party/FatFs/src/ff.c **** 
4070:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4071:Middlewares/Third_Party/FatFs/src/ff.c **** /* Forward data to the stream directly (available on only tiny cfg)      */
4072:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4073:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FORWARD && _FS_TINY
4074:Middlewares/Third_Party/FatFs/src/ff.c **** 
4075:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_forward (
4076:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp, 						/* Pointer to the file object */
4077:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT (*func)(const BYTE*,UINT),	/* Pointer to the streaming function */
4078:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT btf,						/* Number of bytes to forward */
4079:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT* bf						/* Pointer to number of bytes forwarded */
4080:Middlewares/Third_Party/FatFs/src/ff.c **** )
4081:Middlewares/Third_Party/FatFs/src/ff.c **** {
4082:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4083:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD remain, clst, sect;
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 157


4084:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT rcnt;
4085:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE csect;
4086:Middlewares/Third_Party/FatFs/src/ff.c **** 
4087:Middlewares/Third_Party/FatFs/src/ff.c **** 
4088:Middlewares/Third_Party/FatFs/src/ff.c **** 	*bf = 0;	/* Clear transfer byte counter */
4089:Middlewares/Third_Party/FatFs/src/ff.c **** 
4090:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(fp);								/* Check validity of the object */
4091:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) LEAVE_FF(fp->fs, res);
4092:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fp->err)									/* Check error */
4093:Middlewares/Third_Party/FatFs/src/ff.c **** 		LEAVE_FF(fp->fs, (FRESULT)fp->err);
4094:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_READ))						/* Check access mode */
4095:Middlewares/Third_Party/FatFs/src/ff.c **** 		LEAVE_FF(fp->fs, FR_DENIED);
4096:Middlewares/Third_Party/FatFs/src/ff.c **** 
4097:Middlewares/Third_Party/FatFs/src/ff.c **** 	remain = fp->fsize - fp->fptr;
4098:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (btf > remain) btf = (UINT)remain;			/* Truncate btf by remaining bytes */
4099:Middlewares/Third_Party/FatFs/src/ff.c **** 
4100:Middlewares/Third_Party/FatFs/src/ff.c **** 	for ( ;  btf && (*func)(0, 0);					/* Repeat until all data transferred or stream becomes busy */
4101:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->fptr += rcnt, *bf += rcnt, btf -= rcnt) {
4102:Middlewares/Third_Party/FatFs/src/ff.c **** 		csect = (BYTE)(fp->fptr / SS(fp->fs) & (fp->fs->csize - 1));	/* Sector offset in the cluster */
4103:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((fp->fptr % SS(fp->fs)) == 0) {			/* On the sector boundary? */
4104:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!csect) {							/* On the cluster boundary? */
4105:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = (fp->fptr == 0) ?			/* On the top of the file? */
4106:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->sclust : get_fat(fp->fs, fp->clust);
4107:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst <= 1) ABORT(fp->fs, FR_INT_ERR);
4108:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
4109:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;					/* Update current cluster */
4110:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4111:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4112:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = clust2sect(fp->fs, fp->clust);		/* Get current data sector */
4113:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!sect) ABORT(fp->fs, FR_INT_ERR);
4114:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect += csect;
4115:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (move_window(fp->fs, sect) != FR_OK)		/* Move sector window */
4116:Middlewares/Third_Party/FatFs/src/ff.c **** 			ABORT(fp->fs, FR_DISK_ERR);
4117:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->dsect = sect;
4118:Middlewares/Third_Party/FatFs/src/ff.c **** 		rcnt = SS(fp->fs) - (WORD)(fp->fptr % SS(fp->fs));	/* Forward data from sector window */
4119:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rcnt > btf) rcnt = btf;
4120:Middlewares/Third_Party/FatFs/src/ff.c **** 		rcnt = (*func)(&fp->fs->win.d8[(WORD)fp->fptr % SS(fp->fs)], rcnt);
4121:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!rcnt) ABORT(fp->fs, FR_INT_ERR);
4122:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4123:Middlewares/Third_Party/FatFs/src/ff.c **** 
4124:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fp->fs, FR_OK);
4125:Middlewares/Third_Party/FatFs/src/ff.c **** }
4126:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _USE_FORWARD */
4127:Middlewares/Third_Party/FatFs/src/ff.c **** 
4128:Middlewares/Third_Party/FatFs/src/ff.c **** 
4129:Middlewares/Third_Party/FatFs/src/ff.c **** 
4130:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_MKFS && !_FS_READONLY
4131:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4132:Middlewares/Third_Party/FatFs/src/ff.c **** /* Create file system on the logical drive                               */
4133:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4134:Middlewares/Third_Party/FatFs/src/ff.c **** #define N_ROOTDIR	512		/* Number of root directory entries for FAT12/16 */
4135:Middlewares/Third_Party/FatFs/src/ff.c **** #define N_FATS		1		/* Number of FATs (1 or 2) */
4136:Middlewares/Third_Party/FatFs/src/ff.c **** 
4137:Middlewares/Third_Party/FatFs/src/ff.c **** 
4138:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_mkfs (
4139:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Logical drive number */
4140:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE sfd,			/* Partitioning rule 0:FDISK, 1:SFD */
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 158


4141:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT au				/* Size of allocation unit in unit of byte or sector */
4142:Middlewares/Third_Party/FatFs/src/ff.c **** )
4143:Middlewares/Third_Party/FatFs/src/ff.c **** {
4144:Middlewares/Third_Party/FatFs/src/ff.c **** 	static const WORD vst[] = { 1024,   512,  256,  128,   64,    32,   16,    8,    4,    2,   0};
4145:Middlewares/Third_Party/FatFs/src/ff.c **** 	static const WORD cst[] = {32768, 16384, 8192, 4096, 2048, 16384, 8192, 4096, 2048, 1024, 512};
4146:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol;
4147:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE fmt, md, sys, *tbl, pdrv, part;
4148:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD n_clst, vs, n, wsect;
4149:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
4150:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD b_vol, b_fat, b_dir, b_data;	/* LBA */
4151:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD n_vol, n_rsv, n_fat, n_dir;	/* Size */
4152:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4153:Middlewares/Third_Party/FatFs/src/ff.c **** 	DSTATUS stat;
4154:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_TRIM
4155:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD eb[2];
4156:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4157:Middlewares/Third_Party/FatFs/src/ff.c **** 
4158:Middlewares/Third_Party/FatFs/src/ff.c **** 
4159:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Check mounted drive and clear work area */
4160:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sfd > 1) return FR_INVALID_PARAMETER;
4161:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(&path);
4162:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
4163:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs = FatFs[vol];
4164:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs) return FR_NOT_ENABLED;
4165:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fs_type = 0;
4166:Middlewares/Third_Party/FatFs/src/ff.c **** 	pdrv = LD2PD(vol);	/* Physical drive */
4167:Middlewares/Third_Party/FatFs/src/ff.c **** 	part = LD2PT(vol);	/* Partition (0:auto detect, 1-4:get from partition table)*/
4168:Middlewares/Third_Party/FatFs/src/ff.c **** 
4169:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get disk statics */
4170:Middlewares/Third_Party/FatFs/src/ff.c **** 	stat = disk_initialize(pdrv);
4171:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT) return FR_NOT_READY;
4172:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_PROTECT) return FR_WRITE_PROTECTED;
4173:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get disk sector size */
4174:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(pdrv, GET_SECTOR_SIZE, &SS(fs)) != RES_OK || SS(fs) > _MAX_SS || SS(fs) < _MIN_SS)
4175:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_DISK_ERR;
4176:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4177:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (_MULTI_PARTITION && part) {
4178:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Get partition information from partition table in the MBR */
4179:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_read(pdrv, fs->win.d8, 0, 1) != RES_OK) return FR_DISK_ERR;
4180:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (LD_WORD(fs->win.d8 + BS_55AA) != 0xAA55) return FR_MKFS_ABORTED;
4181:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl = &fs->win.d8[MBR_Table + (part - 1) * SZ_PTE];
4182:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!tbl[4]) return FR_MKFS_ABORTED;	/* No partition? */
4183:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_vol = LD_DWORD(tbl + 8);	/* Volume start sector */
4184:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_vol = LD_DWORD(tbl + 12);	/* Volume size */
4185:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
4186:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Create a partition in this function */
4187:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_ioctl(pdrv, GET_SECTOR_COUNT, &n_vol) != RES_OK || n_vol < 128)
4188:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_DISK_ERR;
4189:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_vol = (sfd) ? 0 : 63;		/* Volume start sector */
4190:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_vol -= b_vol;				/* Volume size */
4191:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4192:Middlewares/Third_Party/FatFs/src/ff.c **** 
4193:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (au & (au - 1)) au = 0;
4194:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!au) {						/* AU auto selection */
4195:Middlewares/Third_Party/FatFs/src/ff.c **** 		vs = n_vol / (2000 / (SS(fs) / 512));
4196:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; vs < vst[i]; i++) ;
4197:Middlewares/Third_Party/FatFs/src/ff.c **** 		au = cst[i];
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 159


4198:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4199:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (au >= _MIN_SS) au /= SS(fs);	/* Number of sectors per cluster */
4200:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!au) au = 1;
4201:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (au > 128) au = 128;
4202:Middlewares/Third_Party/FatFs/src/ff.c **** 
4203:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Pre-compute number of clusters and FAT sub-type */
4204:Middlewares/Third_Party/FatFs/src/ff.c **** 	n_clst = n_vol / au;
4205:Middlewares/Third_Party/FatFs/src/ff.c **** 	fmt = FS_FAT12;
4206:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n_clst >= MIN_FAT16) fmt = FS_FAT16;
4207:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n_clst >= MIN_FAT32) fmt = FS_FAT32;
4208:Middlewares/Third_Party/FatFs/src/ff.c **** 
4209:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Determine offset and size of FAT structure */
4210:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32) {
4211:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_fat = ((n_clst * 4) + 8 + SS(fs) - 1) / SS(fs);
4212:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_rsv = 32;
4213:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_dir = 0;
4214:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
4215:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_fat = (fmt == FS_FAT12) ? (n_clst * 3 + 1) / 2 + 3 : (n_clst * 2) + 4;
4216:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_fat = (n_fat + SS(fs) - 1) / SS(fs);
4217:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_rsv = 1;
4218:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_dir = (DWORD)N_ROOTDIR * SZ_DIRE / SS(fs);
4219:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4220:Middlewares/Third_Party/FatFs/src/ff.c **** 	b_fat = b_vol + n_rsv;				/* FAT area start sector */
4221:Middlewares/Third_Party/FatFs/src/ff.c **** 	b_dir = b_fat + n_fat * N_FATS;		/* Directory area start sector */
4222:Middlewares/Third_Party/FatFs/src/ff.c **** 	b_data = b_dir + n_dir;				/* Data area start sector */
4223:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n_vol < b_data + au - b_vol) return FR_MKFS_ABORTED;	/* Too small volume */
4224:Middlewares/Third_Party/FatFs/src/ff.c **** 
4225:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Align data start sector to erase block boundary (for flash memory media) */
4226:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(pdrv, GET_BLOCK_SIZE, &n) != RES_OK || !n || n > 32768) n = 1;
4227:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (b_data + n - 1) & ~(n - 1);	/* Next nearest erase block from current data start */
4228:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (n - b_data) / N_FATS;
4229:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32) {		/* FAT32: Move FAT offset */
4230:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_rsv += n;
4231:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_fat += n;
4232:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {					/* FAT12/16: Expand FAT size */
4233:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_fat += n;
4234:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4235:Middlewares/Third_Party/FatFs/src/ff.c **** 
4236:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Determine number of clusters and final check of validity of the FAT sub-type */
4237:Middlewares/Third_Party/FatFs/src/ff.c **** 	n_clst = (n_vol - n_rsv - n_fat * N_FATS - n_dir) / au;
4238:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (   (fmt == FS_FAT16 && n_clst < MIN_FAT16)
4239:Middlewares/Third_Party/FatFs/src/ff.c **** 		|| (fmt == FS_FAT32 && n_clst < MIN_FAT32))
4240:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_MKFS_ABORTED;
4241:Middlewares/Third_Party/FatFs/src/ff.c **** 
4242:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Determine system ID in the partition table */
4243:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32) {
4244:Middlewares/Third_Party/FatFs/src/ff.c **** 		sys = 0x0C;		/* FAT32X */
4245:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
4246:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt == FS_FAT12 && n_vol < 0x10000) {
4247:Middlewares/Third_Party/FatFs/src/ff.c **** 			sys = 0x01;	/* FAT12(<65536) */
4248:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
4249:Middlewares/Third_Party/FatFs/src/ff.c **** 			sys = (n_vol < 0x10000) ? 0x04 : 0x06;	/* FAT16(<65536) : FAT12/16(>=65536) */
4250:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4251:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4252:Middlewares/Third_Party/FatFs/src/ff.c **** 
4253:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (_MULTI_PARTITION && part) {
4254:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Update system ID in the partition table */
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 160


4255:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl = &fs->win.d8[MBR_Table + (part - 1) * SZ_PTE];
4256:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[4] = sys;
4257:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(pdrv, fs->win.d8, 0, 1) != RES_OK)	/* Write it to teh MBR */
4258:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_DISK_ERR;
4259:Middlewares/Third_Party/FatFs/src/ff.c **** 		md = 0xF8;
4260:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
4261:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (sfd) {	/* No partition table (SFD) */
4262:Middlewares/Third_Party/FatFs/src/ff.c **** 			md = 0xF0;
4263:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {	/* Create partition table (FDISK) */
4264:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(fs->win.d8, 0, SS(fs));
4265:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl = fs->win.d8 + MBR_Table;	/* Create partition table for single partition in the drive */
4266:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[1] = 1;						/* Partition start head */
4267:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[2] = 1;						/* Partition start sector */
4268:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[3] = 0;						/* Partition start cylinder */
4269:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[4] = sys;					/* System type */
4270:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[5] = 254;					/* Partition end head */
4271:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = (b_vol + n_vol) / 63 / 255;
4272:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[6] = (BYTE)(n >> 2 | 63);	/* Partition end sector */
4273:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[7] = (BYTE)n;				/* End cylinder */
4274:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 8, 63);			/* Partition start in LBA */
4275:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 12, n_vol);		/* Partition size in LBA */
4276:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_WORD(fs->win.d8 + BS_55AA, 0xAA55);	/* MBR signature */
4277:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, fs->win.d8, 0, 1) != RES_OK)	/* Write it to the MBR */
4278:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_DISK_ERR;
4279:Middlewares/Third_Party/FatFs/src/ff.c **** 			md = 0xF8;
4280:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4281:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4282:Middlewares/Third_Party/FatFs/src/ff.c **** 
4283:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create BPB in the VBR */
4284:Middlewares/Third_Party/FatFs/src/ff.c **** 	tbl = fs->win.d8;							/* Clear sector */
4285:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_set(tbl, 0, SS(fs));
4286:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_cpy(tbl, "\xEB\xFE\x90" "MSDOS5.0", 11);/* Boot jump code, OEM name */
4287:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = SS(fs);								/* Sector size */
4288:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_BytsPerSec, i);
4289:Middlewares/Third_Party/FatFs/src/ff.c **** 	tbl[BPB_SecPerClus] = (BYTE)au;			/* Sectors per cluster */
4290:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_RsvdSecCnt, n_rsv);	/* Reserved sectors */
4291:Middlewares/Third_Party/FatFs/src/ff.c **** 	tbl[BPB_NumFATs] = N_FATS;				/* Number of FATs */
4292:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = (fmt == FS_FAT32) ? 0 : N_ROOTDIR;	/* Number of root directory entries */
4293:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_RootEntCnt, i);
4294:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n_vol < 0x10000) {					/* Number of total sectors */
4295:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_TotSec16, n_vol);
4296:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
4297:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BPB_TotSec32, n_vol);
4298:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4299:Middlewares/Third_Party/FatFs/src/ff.c **** 	tbl[BPB_Media] = md;					/* Media descriptor */
4300:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_SecPerTrk, 63);		/* Number of sectors per track */
4301:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_NumHeads, 255);		/* Number of heads */
4302:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_DWORD(tbl + BPB_HiddSec, b_vol);		/* Hidden sectors */
4303:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = GET_FATTIME();						/* Use current time as VSN */
4304:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32) {
4305:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BS_VolID32, n);		/* VSN */
4306:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BPB_FATSz32, n_fat);	/* Number of sectors per FAT */
4307:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BPB_RootClus, 2);	/* Root directory start cluster (2) */
4308:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_FSInfo, 1);		/* FSINFO record offset (VBR + 1) */
4309:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_BkBootSec, 6);	/* Backup boot record offset (VBR + 6) */
4310:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[BS_DrvNum32] = 0x80;			/* Drive number */
4311:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[BS_BootSig32] = 0x29;			/* Extended boot signature */
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 161


4312:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(tbl + BS_VolLab32, "NO NAME    " "FAT32   ", 19);	/* Volume label, FAT signature */
4313:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
4314:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BS_VolID, n);		/* VSN */
4315:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_FATSz16, n_fat);	/* Number of sectors per FAT */
4316:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[BS_DrvNum] = 0x80;				/* Drive number */
4317:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[BS_BootSig] = 0x29;				/* Extended boot signature */
4318:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(tbl + BS_VolLab, "NO NAME    " "FAT     ", 19);	/* Volume label, FAT signature */
4319:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4320:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BS_55AA, 0xAA55);			/* Signature (Offset is fixed here regardless of sector size) */
4321:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_write(pdrv, tbl, b_vol, 1) != RES_OK)	/* Write it to the VBR sector */
4322:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_DISK_ERR;
4323:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32)					/* Write backup VBR if needed (VBR + 6) */
4324:Middlewares/Third_Party/FatFs/src/ff.c **** 		disk_write(pdrv, tbl, b_vol + 6, 1);
4325:Middlewares/Third_Party/FatFs/src/ff.c **** 
4326:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Initialize FAT area */
4327:Middlewares/Third_Party/FatFs/src/ff.c **** 	wsect = b_fat;
4328:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = 0; i < N_FATS; i++) {		/* Initialize each FAT copy */
4329:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_set(tbl, 0, SS(fs));			/* 1st sector of the FAT  */
4330:Middlewares/Third_Party/FatFs/src/ff.c **** 		n = md;								/* Media descriptor byte */
4331:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt != FS_FAT32) {
4332:Middlewares/Third_Party/FatFs/src/ff.c **** 			n |= (fmt == FS_FAT12) ? 0x00FFFF00 : 0xFFFFFF00;
4333:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 0, n);			/* Reserve cluster #0-1 (FAT12/16) */
4334:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
4335:Middlewares/Third_Party/FatFs/src/ff.c **** 			n |= 0xFFFFFF00;
4336:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 0, n);			/* Reserve cluster #0-1 (FAT32) */
4337:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 4, 0xFFFFFFFF);
4338:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 8, 0x0FFFFFFF);	/* Reserve cluster #2 for root directory */
4339:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4340:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(pdrv, tbl, wsect++, 1) != RES_OK)
4341:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_DISK_ERR;
4342:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_set(tbl, 0, SS(fs));			/* Fill following FAT entries with zero */
4343:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (n = 1; n < n_fat; n++) {		/* This loop may take a time on FAT32 volume due to many single se
4344:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, tbl, wsect++, 1) != RES_OK)
4345:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_DISK_ERR;
4346:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4347:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4348:Middlewares/Third_Party/FatFs/src/ff.c **** 
4349:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Initialize root directory */
4350:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = (fmt == FS_FAT32) ? au : (UINT)n_dir;
4351:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
4352:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(pdrv, tbl, wsect++, 1) != RES_OK)
4353:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_DISK_ERR;
4354:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (--i);
4355:Middlewares/Third_Party/FatFs/src/ff.c **** 
4356:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_TRIM	/* Erase data area if needed */
4357:Middlewares/Third_Party/FatFs/src/ff.c **** 	{
4358:Middlewares/Third_Party/FatFs/src/ff.c **** 		eb[0] = wsect; eb[1] = wsect + (n_clst - ((fmt == FS_FAT32) ? 1 : 0)) * au - 1;
4359:Middlewares/Third_Party/FatFs/src/ff.c **** 		disk_ioctl(pdrv, CTRL_TRIM, eb);
4360:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4361:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4362:Middlewares/Third_Party/FatFs/src/ff.c **** 
4363:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create FSINFO if needed */
4364:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32) {
4365:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_LeadSig, 0x41615252);
4366:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_StrucSig, 0x61417272);
4367:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_Free_Count, n_clst - 1);	/* Number of free clusters */
4368:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_Nxt_Free, 2);			/* Last allocated cluster# */
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 162


4369:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BS_55AA, 0xAA55);
4370:Middlewares/Third_Party/FatFs/src/ff.c **** 		disk_write(pdrv, tbl, b_vol + 1, 1);	/* Write original (VBR + 1) */
4371:Middlewares/Third_Party/FatFs/src/ff.c **** 		disk_write(pdrv, tbl, b_vol + 7, 1);	/* Write backup (VBR + 7) */
4372:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4373:Middlewares/Third_Party/FatFs/src/ff.c **** 
4374:Middlewares/Third_Party/FatFs/src/ff.c **** 	return (disk_ioctl(pdrv, CTRL_SYNC, 0) == RES_OK) ? FR_OK : FR_DISK_ERR;
4375:Middlewares/Third_Party/FatFs/src/ff.c **** }
4376:Middlewares/Third_Party/FatFs/src/ff.c **** 
4377:Middlewares/Third_Party/FatFs/src/ff.c **** 
4378:Middlewares/Third_Party/FatFs/src/ff.c **** 
4379:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MULTI_PARTITION
4380:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4381:Middlewares/Third_Party/FatFs/src/ff.c **** /* Create partition table on the physical drive                          */
4382:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4383:Middlewares/Third_Party/FatFs/src/ff.c **** 
4384:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_fdisk (
4385:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE pdrv,			/* Physical drive number */
4386:Middlewares/Third_Party/FatFs/src/ff.c **** 	const DWORD szt[],	/* Pointer to the size table for each partitions */
4387:Middlewares/Third_Party/FatFs/src/ff.c **** 	void* work			/* Pointer to the working buffer */
4388:Middlewares/Third_Party/FatFs/src/ff.c **** )
4389:Middlewares/Third_Party/FatFs/src/ff.c **** {
4390:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, n, sz_cyl, tot_cyl, b_cyl, e_cyl, p_cyl;
4391:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE s_hd, e_hd, *p, *buf = (BYTE*)work;
4392:Middlewares/Third_Party/FatFs/src/ff.c **** 	DSTATUS stat;
4393:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sz_disk, sz_part, s_part;
4394:Middlewares/Third_Party/FatFs/src/ff.c **** 
4395:Middlewares/Third_Party/FatFs/src/ff.c **** 
4396:Middlewares/Third_Party/FatFs/src/ff.c **** 	stat = disk_initialize(pdrv);
4397:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT) return FR_NOT_READY;
4398:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_PROTECT) return FR_WRITE_PROTECTED;
4399:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(pdrv, GET_SECTOR_COUNT, &sz_disk)) return FR_DISK_ERR;
4400:Middlewares/Third_Party/FatFs/src/ff.c **** 
4401:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Determine CHS in the table regardless of the drive geometry */
4402:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (n = 16; n < 256 && sz_disk / n / 63 > 1024; n *= 2) ;
4403:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n == 256) n--;
4404:Middlewares/Third_Party/FatFs/src/ff.c **** 	e_hd = n - 1;
4405:Middlewares/Third_Party/FatFs/src/ff.c **** 	sz_cyl = 63 * n;
4406:Middlewares/Third_Party/FatFs/src/ff.c **** 	tot_cyl = sz_disk / sz_cyl;
4407:Middlewares/Third_Party/FatFs/src/ff.c **** 
4408:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create partition table */
4409:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_set(buf, 0, _MAX_SS);
4410:Middlewares/Third_Party/FatFs/src/ff.c **** 	p = buf + MBR_Table; b_cyl = 0;
4411:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = 0; i < 4; i++, p += SZ_PTE) {
4412:Middlewares/Third_Party/FatFs/src/ff.c **** 		p_cyl = (szt[i] <= 100U) ? (DWORD)tot_cyl * szt[i] / 100 : szt[i] / sz_cyl;
4413:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!p_cyl) continue;
4414:Middlewares/Third_Party/FatFs/src/ff.c **** 		s_part = (DWORD)sz_cyl * b_cyl;
4415:Middlewares/Third_Party/FatFs/src/ff.c **** 		sz_part = (DWORD)sz_cyl * p_cyl;
4416:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == 0) {	/* Exclude first track of cylinder 0 */
4417:Middlewares/Third_Party/FatFs/src/ff.c **** 			s_hd = 1;
4418:Middlewares/Third_Party/FatFs/src/ff.c **** 			s_part += 63; sz_part -= 63;
4419:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
4420:Middlewares/Third_Party/FatFs/src/ff.c **** 			s_hd = 0;
4421:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4422:Middlewares/Third_Party/FatFs/src/ff.c **** 		e_cyl = b_cyl + p_cyl - 1;
4423:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (e_cyl >= tot_cyl) return FR_INVALID_PARAMETER;
4424:Middlewares/Third_Party/FatFs/src/ff.c **** 
4425:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Set partition table */
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 163


4426:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[1] = s_hd;						/* Start head */
4427:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[2] = (BYTE)((b_cyl >> 2) + 1);	/* Start sector */
4428:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[3] = (BYTE)b_cyl;					/* Start cylinder */
4429:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[4] = 0x06;						/* System type (temporary setting) */
4430:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[5] = e_hd;						/* End head */
4431:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[6] = (BYTE)((e_cyl >> 2) + 63);	/* End sector */
4432:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[7] = (BYTE)e_cyl;					/* End cylinder */
4433:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(p + 8, s_part);			/* Start sector in LBA */
4434:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(p + 12, sz_part);			/* Partition size */
4435:Middlewares/Third_Party/FatFs/src/ff.c **** 
4436:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Next partition */
4437:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_cyl += p_cyl;
4438:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4439:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(p, 0xAA55);
4440:Middlewares/Third_Party/FatFs/src/ff.c **** 
4441:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Write it to the MBR */
4442:Middlewares/Third_Party/FatFs/src/ff.c **** 	return (disk_write(pdrv, buf, 0, 1) != RES_OK || disk_ioctl(pdrv, CTRL_SYNC, 0) != RES_OK) ? FR_DI
4443:Middlewares/Third_Party/FatFs/src/ff.c **** }
4444:Middlewares/Third_Party/FatFs/src/ff.c **** 
4445:Middlewares/Third_Party/FatFs/src/ff.c **** 
4446:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _MULTI_PARTITION */
4447:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _USE_MKFS && !_FS_READONLY */
4448:Middlewares/Third_Party/FatFs/src/ff.c **** 
4449:Middlewares/Third_Party/FatFs/src/ff.c **** 
4450:Middlewares/Third_Party/FatFs/src/ff.c **** 
4451:Middlewares/Third_Party/FatFs/src/ff.c **** 
4452:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_STRFUNC
4453:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4454:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get a string from the file                                            */
4455:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4456:Middlewares/Third_Party/FatFs/src/ff.c **** 
4457:Middlewares/Third_Party/FatFs/src/ff.c **** TCHAR* f_gets (
4458:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR* buff,	/* Pointer to the string buffer to read */
4459:Middlewares/Third_Party/FatFs/src/ff.c **** 	int len,		/* Size of string buffer (characters) */
4460:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp			/* Pointer to the file object */
4461:Middlewares/Third_Party/FatFs/src/ff.c **** )
4462:Middlewares/Third_Party/FatFs/src/ff.c **** {
4463:Middlewares/Third_Party/FatFs/src/ff.c **** 	int n = 0;
4464:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c, *p = buff;
4465:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE s[2];
4466:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT rc;
4467:Middlewares/Third_Party/FatFs/src/ff.c **** 
4468:Middlewares/Third_Party/FatFs/src/ff.c **** 
4469:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (n < len - 1) {	/* Read characters until buffer gets filled */
4470:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN && _LFN_UNICODE
4471:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STRF_ENCODE == 3		/* Read a character in UTF-8 */
4472:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_read(fp, s, 1, &rc);
4473:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rc != 1) break;
4474:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0];
4475:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c >= 0x80) {
4476:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c < 0xC0) continue;	/* Skip stray trailer */
4477:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c < 0xE0) {			/* Two-byte sequence */
4478:Middlewares/Third_Party/FatFs/src/ff.c **** 				f_read(fp, s, 1, &rc);
4479:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (rc != 1) break;
4480:Middlewares/Third_Party/FatFs/src/ff.c **** 				c = (c & 0x1F) << 6 | (s[0] & 0x3F);
4481:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (c < 0x80) c = '?';
4482:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 164


4483:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (c < 0xF0) {		/* Three-byte sequence */
4484:Middlewares/Third_Party/FatFs/src/ff.c **** 					f_read(fp, s, 2, &rc);
4485:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (rc != 2) break;
4486:Middlewares/Third_Party/FatFs/src/ff.c **** 					c = c << 12 | (s[0] & 0x3F) << 6 | (s[1] & 0x3F);
4487:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (c < 0x800) c = '?';
4488:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {			/* Reject four-byte sequence */
4489:Middlewares/Third_Party/FatFs/src/ff.c **** 					c = '?';
4490:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4491:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4492:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4493:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _STRF_ENCODE == 2		/* Read a character in UTF-16BE */
4494:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_read(fp, s, 2, &rc);
4495:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rc != 2) break;
4496:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[1] + (s[0] << 8);
4497:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _STRF_ENCODE == 1		/* Read a character in UTF-16LE */
4498:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_read(fp, s, 2, &rc);
4499:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rc != 2) break;
4500:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0] + (s[1] << 8);
4501:Middlewares/Third_Party/FatFs/src/ff.c **** #else						/* Read a character in ANSI/OEM */
4502:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_read(fp, s, 1, &rc);
4503:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rc != 1) break;
4504:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0];
4505:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(c)) {
4506:Middlewares/Third_Party/FatFs/src/ff.c **** 			f_read(fp, s, 1, &rc);
4507:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (rc != 1) break;
4508:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = (c << 8) + s[0];
4509:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4510:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = ff_convert(c, 1);	/* OEM -> Unicode */
4511:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!c) c = '?';
4512:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4513:Middlewares/Third_Party/FatFs/src/ff.c **** #else						/* Read a character without conversion */
4514:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_read(fp, s, 1, &rc);
4515:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rc != 1) break;
4516:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0];
4517:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4518:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_USE_STRFUNC == 2 && c == '\r') continue;	/* Strip '\r' */
4519:Middlewares/Third_Party/FatFs/src/ff.c **** 		*p++ = c;
4520:Middlewares/Third_Party/FatFs/src/ff.c **** 		n++;
4521:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '\n') break;		/* Break on EOL */
4522:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4523:Middlewares/Third_Party/FatFs/src/ff.c **** 	*p = 0;
4524:Middlewares/Third_Party/FatFs/src/ff.c **** 	return n ? buff : 0;			/* When no data read (eof or error), return with error. */
4525:Middlewares/Third_Party/FatFs/src/ff.c **** }
4526:Middlewares/Third_Party/FatFs/src/ff.c **** 
4527:Middlewares/Third_Party/FatFs/src/ff.c **** 
4528:Middlewares/Third_Party/FatFs/src/ff.c **** 
4529:Middlewares/Third_Party/FatFs/src/ff.c **** 
4530:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
4531:Middlewares/Third_Party/FatFs/src/ff.c **** #include <stdarg.h>
4532:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4533:Middlewares/Third_Party/FatFs/src/ff.c **** /* Put a character to the file                                           */
4534:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4535:Middlewares/Third_Party/FatFs/src/ff.c **** 
4536:Middlewares/Third_Party/FatFs/src/ff.c **** typedef struct {
4537:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp;
4538:Middlewares/Third_Party/FatFs/src/ff.c **** 	int idx, nchr;
4539:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE buf[64];
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 165


4540:Middlewares/Third_Party/FatFs/src/ff.c **** } putbuff;
4541:Middlewares/Third_Party/FatFs/src/ff.c **** 
4542:Middlewares/Third_Party/FatFs/src/ff.c **** 
4543:Middlewares/Third_Party/FatFs/src/ff.c **** static
4544:Middlewares/Third_Party/FatFs/src/ff.c **** void putc_bfd (
4545:Middlewares/Third_Party/FatFs/src/ff.c **** 	putbuff* pb,
4546:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c
4547:Middlewares/Third_Party/FatFs/src/ff.c **** )
4548:Middlewares/Third_Party/FatFs/src/ff.c **** {
 4279              		.loc 1 4548 0
 4280              		.cfi_startproc
 4281              		@ args = 0, pretend = 0, frame = 8
 4282              		@ frame_needed = 0, uses_anonymous_args = 0
 4283              	.LVL588:
4549:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT bw;
4550:Middlewares/Third_Party/FatFs/src/ff.c **** 	int i;
4551:Middlewares/Third_Party/FatFs/src/ff.c **** 
4552:Middlewares/Third_Party/FatFs/src/ff.c **** 
4553:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (_USE_STRFUNC == 2 && c == '\n')	 /* LF -> CRLF conversion */
 4284              		.loc 1 4553 0
 4285 0000 0A29     		cmp	r1, #10
4548:Middlewares/Third_Party/FatFs/src/ff.c **** {
 4286              		.loc 1 4548 0
 4287 0002 73B5     		push	{r0, r1, r4, r5, r6, lr}
 4288              	.LCFI28:
 4289              		.cfi_def_cfa_offset 24
 4290              		.cfi_offset 0, -24
 4291              		.cfi_offset 1, -20
 4292              		.cfi_offset 4, -16
 4293              		.cfi_offset 5, -12
 4294              		.cfi_offset 6, -8
 4295              		.cfi_offset 14, -4
4548:Middlewares/Third_Party/FatFs/src/ff.c **** {
 4296              		.loc 1 4548 0
 4297 0004 0446     		mov	r4, r0
 4298 0006 0E46     		mov	r6, r1
 4299              		.loc 1 4553 0
 4300 0008 02D1     		bne	.L571
4554:Middlewares/Third_Party/FatFs/src/ff.c **** 		putc_bfd(pb, '\r');
 4301              		.loc 1 4554 0
 4302 000a 0D21     		movs	r1, #13
 4303              	.LVL589:
 4304 000c FFF7F8FF 		bl	putc_bfd
 4305              	.LVL590:
 4306              	.L571:
4555:Middlewares/Third_Party/FatFs/src/ff.c **** 
4556:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = pb->idx;	/* Buffer write index (-1:error) */
 4307              		.loc 1 4556 0
 4308 0010 6368     		ldr	r3, [r4, #4]
 4309              	.LVL591:
4557:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i < 0) return;
 4310              		.loc 1 4557 0
 4311 0012 002B     		cmp	r3, #0
 4312 0014 14DB     		blt	.L570
4558:Middlewares/Third_Party/FatFs/src/ff.c **** 
4559:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN && _LFN_UNICODE
4560:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STRF_ENCODE == 3			/* Write a character in UTF-8 */
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 166


4561:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (c < 0x80) {				/* 7-bit */
4562:Middlewares/Third_Party/FatFs/src/ff.c **** 		pb->buf[i++] = (BYTE)c;
4563:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
4564:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c < 0x800) {		/* 11-bit */
4565:Middlewares/Third_Party/FatFs/src/ff.c **** 			pb->buf[i++] = (BYTE)(0xC0 | c >> 6);
4566:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {				/* 16-bit */
4567:Middlewares/Third_Party/FatFs/src/ff.c **** 			pb->buf[i++] = (BYTE)(0xE0 | c >> 12);
4568:Middlewares/Third_Party/FatFs/src/ff.c **** 			pb->buf[i++] = (BYTE)(0x80 | (c >> 6 & 0x3F));
4569:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4570:Middlewares/Third_Party/FatFs/src/ff.c **** 		pb->buf[i++] = (BYTE)(0x80 | (c & 0x3F));
4571:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4572:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _STRF_ENCODE == 2			/* Write a character in UTF-16BE */
4573:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)(c >> 8);
4574:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)c;
4575:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _STRF_ENCODE == 1			/* Write a character in UTF-16LE */
4576:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)c;
4577:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)(c >> 8);
4578:Middlewares/Third_Party/FatFs/src/ff.c **** #else							/* Write a character in ANSI/OEM */
4579:Middlewares/Third_Party/FatFs/src/ff.c **** 	c = ff_convert(c, 0);	/* Unicode -> OEM */
4580:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!c) c = '?';
4581:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (c >= 0x100)
4582:Middlewares/Third_Party/FatFs/src/ff.c **** 		pb->buf[i++] = (BYTE)(c >> 8);
4583:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)c;
4584:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4585:Middlewares/Third_Party/FatFs/src/ff.c **** #else							/* Write a character without conversion */
4586:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)c;
 4313              		.loc 1 4586 0
 4314 0016 5D1C     		adds	r5, r3, #1
 4315              	.LVL592:
 4316 0018 2344     		add	r3, r3, r4
4587:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4588:Middlewares/Third_Party/FatFs/src/ff.c **** 
4589:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i >= (int)(sizeof pb->buf) - 3) {	/* Write buffered characters to the file */
 4317              		.loc 1 4589 0
 4318 001a 3C2D     		cmp	r5, #60
4586:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)c;
 4319              		.loc 1 4586 0
 4320 001c 1E73     		strb	r6, [r3, #12]
 4321              		.loc 1 4589 0
 4322 001e 0BDD     		ble	.L573
4590:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_write(pb->fp, pb->buf, (UINT)i, &bw);
 4323              		.loc 1 4590 0
 4324 0020 2A46     		mov	r2, r5
 4325 0022 01AB     		add	r3, sp, #4
 4326 0024 2068     		ldr	r0, [r4]
 4327 0026 04F10C01 		add	r1, r4, #12
 4328 002a FFF7FEFF 		bl	f_write
 4329              	.LVL593:
4591:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = (bw == (UINT)i) ? 0 : -1;
 4330              		.loc 1 4591 0
 4331 002e 019B     		ldr	r3, [sp, #4]
 4332 0030 5D1B     		subs	r5, r3, r5
 4333 0032 18BF     		it	ne
 4334 0034 6FF00005 		mvnne	r5, #0
 4335              	.LVL594:
 4336              	.L573:
4592:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 167


4593:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->idx = i;
4594:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->nchr++;
 4337              		.loc 1 4594 0
 4338 0038 A368     		ldr	r3, [r4, #8]
4593:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->idx = i;
 4339              		.loc 1 4593 0
 4340 003a 6560     		str	r5, [r4, #4]
 4341              		.loc 1 4594 0
 4342 003c 0133     		adds	r3, r3, #1
 4343 003e A360     		str	r3, [r4, #8]
 4344              	.LVL595:
 4345              	.L570:
4595:Middlewares/Third_Party/FatFs/src/ff.c **** }
 4346              		.loc 1 4595 0
 4347 0040 02B0     		add	sp, sp, #8
 4348              		@ sp needed
 4349 0042 70BD     		pop	{r4, r5, r6, pc}
 4350              		.cfi_endproc
 4351              	.LFE179:
 4353              		.section	.text.f_sync,"ax",%progbits
 4354              		.align	1
 4355              		.global	f_sync
 4356              		.thumb
 4357              		.thumb_func
 4359              	f_sync:
 4360              	.LFB163:
2884:Middlewares/Third_Party/FatFs/src/ff.c **** {
 4361              		.loc 1 2884 0
 4362              		.cfi_startproc
 4363              		@ args = 0, pretend = 0, frame = 0
 4364              		@ frame_needed = 0, uses_anonymous_args = 0
 4365              	.LVL596:
 4366 0000 70B5     		push	{r4, r5, r6, lr}
 4367              	.LCFI29:
 4368              		.cfi_def_cfa_offset 16
 4369              		.cfi_offset 4, -16
 4370              		.cfi_offset 5, -12
 4371              		.cfi_offset 6, -8
 4372              		.cfi_offset 14, -4
2884:Middlewares/Third_Party/FatFs/src/ff.c **** {
 4373              		.loc 1 2884 0
 4374 0002 0446     		mov	r4, r0
2890:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(fp);					/* Check validity of the object */
 4375              		.loc 1 2890 0
 4376 0004 FFF7FEFF 		bl	validate
 4377              	.LVL597:
2891:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 4378              		.loc 1 2891 0
 4379 0008 0028     		cmp	r0, #0
 4380 000a 5FD1     		bne	.L576
2892:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->flag & FA__WRITTEN) {	/* Has the file been written? */
 4381              		.loc 1 2892 0
 4382 000c 94F80632 		ldrb	r3, [r4, #518]	@ zero_extendqisi2
 4383 0010 03F02002 		and	r2, r3, #32
 4384 0014 02F0FF00 		and	r0, r2, #255
 4385              	.LVL598:
 4386 0018 002A     		cmp	r2, #0
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 168


 4387 001a 57D0     		beq	.L576
2895:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->flag & FA__DIRTY) {
 4388              		.loc 1 2895 0
 4389 001c 5B06     		lsls	r3, r3, #25
 4390 001e 11D5     		bpl	.L577
2896:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
 4391              		.loc 1 2896 0
 4392 0020 D4F80032 		ldr	r3, [r4, #512]
 4393 0024 D4F81822 		ldr	r2, [r4, #536]
 4394 0028 93F80102 		ldrb	r0, [r3, #513]	@ zero_extendqisi2
 4395 002c 2146     		mov	r1, r4
 4396 002e 0123     		movs	r3, #1
 4397 0030 FFF7FEFF 		bl	disk_write
 4398              	.LVL599:
 4399 0034 0028     		cmp	r0, #0
 4400 0036 47D1     		bne	.L580
2898:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= ~FA__DIRTY;
 4401              		.loc 1 2898 0
 4402 0038 94F80632 		ldrb	r3, [r4, #518]	@ zero_extendqisi2
 4403 003c 23F04003 		bic	r3, r3, #64
 4404 0040 84F80632 		strb	r3, [r4, #518]
 4405              	.L577:
2902:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fp->fs, fp->dir_sect);
 4406              		.loc 1 2902 0
 4407 0044 D4F80002 		ldr	r0, [r4, #512]
 4408 0048 D4F81C12 		ldr	r1, [r4, #540]
 4409 004c FFF7FEFF 		bl	move_window
 4410              	.LVL600:
2903:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
 4411              		.loc 1 2903 0
 4412 0050 0646     		mov	r6, r0
 4413 0052 D8BB     		cbnz	r0, .L576
2904:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir = fp->dir_ptr;
 4414              		.loc 1 2904 0
 4415 0054 D4F82052 		ldr	r5, [r4, #544]
 4416              	.LVL601:
2905:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] |= AM_ARC;					/* Set archive bit */
 4417              		.loc 1 2905 0
 4418 0058 EB7A     		ldrb	r3, [r5, #11]	@ zero_extendqisi2
 4419 005a 43F02003 		orr	r3, r3, #32
 4420 005e EB72     		strb	r3, [r5, #11]
2906:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_FileSize, fp->fsize);	/* Update file size */
 4421              		.loc 1 2906 0
 4422 0060 D4F80C32 		ldr	r3, [r4, #524]
 4423 0064 2B77     		strb	r3, [r5, #28]
 4424 0066 B4F80C32 		ldrh	r3, [r4, #524]
 4425 006a 1B0A     		lsrs	r3, r3, #8
 4426 006c 6B77     		strb	r3, [r5, #29]
 4427 006e B4F80E32 		ldrh	r3, [r4, #526]
 4428 0072 AB77     		strb	r3, [r5, #30]
 4429 0074 94F80F32 		ldrb	r3, [r4, #527]	@ zero_extendqisi2
 4430 0078 EB77     		strb	r3, [r5, #31]
2907:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, fp->sclust);					/* Update start cluster */
 4431              		.loc 1 2907 0
 4432 007a D4F81032 		ldr	r3, [r4, #528]
 4433              	.LVL602:
 4434              	.LBB84:
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 169


 4435              	.LBB85:
1330:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(dir + DIR_FstClusLO, cl);
 4436              		.loc 1 1330 0
 4437 007e AB76     		strb	r3, [r5, #26]
 4438 0080 C3F30722 		ubfx	r2, r3, #8, #8
1331:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(dir + DIR_FstClusHI, cl >> 16);
 4439              		.loc 1 1331 0
 4440 0084 1B0C     		lsrs	r3, r3, #16
 4441              	.LVL603:
 4442 0086 2B75     		strb	r3, [r5, #20]
 4443 0088 1B0A     		lsrs	r3, r3, #8
1330:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(dir + DIR_FstClusLO, cl);
 4444              		.loc 1 1330 0
 4445 008a EA76     		strb	r2, [r5, #27]
1331:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(dir + DIR_FstClusHI, cl >> 16);
 4446              		.loc 1 1331 0
 4447 008c 6B75     		strb	r3, [r5, #21]
 4448              	.LBE85:
 4449              	.LBE84:
2908:Middlewares/Third_Party/FatFs/src/ff.c **** 				tm = GET_FATTIME();							/* Update updated time */
 4450              		.loc 1 2908 0
 4451 008e FFF7FEFF 		bl	get_fattime
 4452              	.LVL604:
2909:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_WrtTime, tm);
 4453              		.loc 1 2909 0
 4454 0092 C0F30723 		ubfx	r3, r0, #8, #8
 4455 0096 A875     		strb	r0, [r5, #22]
 4456 0098 EB75     		strb	r3, [r5, #23]
 4457 009a 030C     		lsrs	r3, r0, #16
 4458 009c 000E     		lsrs	r0, r0, #24
 4459              	.LVL605:
 4460 009e 2B76     		strb	r3, [r5, #24]
 4461 00a0 6876     		strb	r0, [r5, #25]
2910:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_WORD(dir + DIR_LstAccDate, 0);
 4462              		.loc 1 2910 0
 4463 00a2 AE74     		strb	r6, [r5, #18]
 4464 00a4 EE74     		strb	r6, [r5, #19]
2911:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= ~FA__WRITTEN;
 4465              		.loc 1 2911 0
 4466 00a6 94F80632 		ldrb	r3, [r4, #518]	@ zero_extendqisi2
 4467 00aa 23F02003 		bic	r3, r3, #32
 4468 00ae 84F80632 		strb	r3, [r4, #518]
2912:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fs->wflag = 1;
 4469              		.loc 1 2912 0
 4470 00b2 D4F80032 		ldr	r3, [r4, #512]
 4471 00b6 0122     		movs	r2, #1
 4472 00b8 83F80422 		strb	r2, [r3, #516]
2913:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(fp->fs);
 4473              		.loc 1 2913 0
 4474 00bc D4F80002 		ldr	r0, [r4, #512]
2919:Middlewares/Third_Party/FatFs/src/ff.c **** }
 4475              		.loc 1 2919 0
 4476 00c0 BDE87040 		pop	{r4, r5, r6, lr}
 4477              	.LVL606:
2913:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(fp->fs);
 4478              		.loc 1 2913 0
 4479 00c4 FFF7FEBF 		b	sync_fs
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 170


 4480              	.LVL607:
 4481              	.L580:
2897:Middlewares/Third_Party/FatFs/src/ff.c **** 					LEAVE_FF(fp->fs, FR_DISK_ERR);
 4482              		.loc 1 2897 0
 4483 00c8 0120     		movs	r0, #1
 4484 00ca 70BD     		pop	{r4, r5, r6, pc}
 4485              	.LVL608:
 4486              	.L576:
2919:Middlewares/Third_Party/FatFs/src/ff.c **** }
 4487              		.loc 1 2919 0
 4488 00cc 70BD     		pop	{r4, r5, r6, pc}
 4489              		.cfi_endproc
 4490              	.LFE163:
 4492              		.section	.text.f_close,"ax",%progbits
 4493              		.align	1
 4494              		.global	f_close
 4495              		.thumb
 4496              		.thumb_func
 4498              	f_close:
 4499              	.LFB164:
2933:Middlewares/Third_Party/FatFs/src/ff.c **** {
 4500              		.loc 1 2933 0
 4501              		.cfi_startproc
 4502              		@ args = 0, pretend = 0, frame = 0
 4503              		@ frame_needed = 0, uses_anonymous_args = 0
 4504              	.LVL609:
 4505 0000 10B5     		push	{r4, lr}
 4506              	.LCFI30:
 4507              		.cfi_def_cfa_offset 8
 4508              		.cfi_offset 4, -8
 4509              		.cfi_offset 14, -4
2933:Middlewares/Third_Party/FatFs/src/ff.c **** {
 4510              		.loc 1 2933 0
 4511 0002 0446     		mov	r4, r0
2938:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = f_sync(fp);					/* Flush cached data */
 4512              		.loc 1 2938 0
 4513 0004 FFF7FEFF 		bl	f_sync
 4514              	.LVL610:
2939:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK)
 4515              		.loc 1 2939 0
 4516 0008 50B9     		cbnz	r0, .L586
2942:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = validate(fp);				/* Lock volume */
 4517              		.loc 1 2942 0
 4518 000a 2046     		mov	r0, r4
 4519              	.LVL611:
 4520 000c FFF7FEFF 		bl	validate
 4521              	.LVL612:
2943:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 4522              		.loc 1 2943 0
 4523 0010 30B9     		cbnz	r0, .L586
2948:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dec_lock(fp->lockid);	/* Decrement file open counter */
 4524              		.loc 1 2948 0
 4525 0012 D4F82802 		ldr	r0, [r4, #552]
 4526              	.LVL613:
 4527 0016 FFF7FEFF 		bl	dec_lock
 4528              	.LVL614:
2949:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK)
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 171


 4529              		.loc 1 2949 0
 4530 001a 08B9     		cbnz	r0, .L586
2951:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fs = 0;				/* Invalidate file object */
 4531              		.loc 1 2951 0
 4532 001c C4F80002 		str	r0, [r4, #512]
 4533              	.L586:
2958:Middlewares/Third_Party/FatFs/src/ff.c **** }
 4534              		.loc 1 2958 0
 4535 0020 10BD     		pop	{r4, pc}
 4536              		.cfi_endproc
 4537              	.LFE164:
 4539              		.section	.text.f_lseek,"ax",%progbits
 4540              		.align	1
 4541              		.global	f_lseek
 4542              		.thumb
 4543              		.thumb_func
 4545              	f_lseek:
 4546              	.LFB165:
3106:Middlewares/Third_Party/FatFs/src/ff.c **** {
 4547              		.loc 1 3106 0
 4548              		.cfi_startproc
 4549              		@ args = 0, pretend = 0, frame = 0
 4550              		@ frame_needed = 0, uses_anonymous_args = 0
 4551              	.LVL615:
 4552 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 4553              	.LCFI31:
 4554              		.cfi_def_cfa_offset 32
 4555              		.cfi_offset 4, -32
 4556              		.cfi_offset 5, -28
 4557              		.cfi_offset 6, -24
 4558              		.cfi_offset 7, -20
 4559              		.cfi_offset 8, -16
 4560              		.cfi_offset 9, -12
 4561              		.cfi_offset 10, -8
 4562              		.cfi_offset 14, -4
3106:Middlewares/Third_Party/FatFs/src/ff.c **** {
 4563              		.loc 1 3106 0
 4564 0004 0446     		mov	r4, r0
 4565 0006 0D46     		mov	r5, r1
3114:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(fp);					/* Check validity of the object */
 4566              		.loc 1 3114 0
 4567 0008 FFF7FEFF 		bl	validate
 4568              	.LVL616:
3115:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) LEAVE_FF(fp->fs, res);
 4569              		.loc 1 3115 0
 4570 000c 0028     		cmp	r0, #0
 4571 000e 40F03D81 		bne	.L588
3116:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fp->err)						/* Check error */
 4572              		.loc 1 3116 0
 4573 0012 94F80702 		ldrb	r0, [r4, #519]	@ zero_extendqisi2
 4574              	.LVL617:
 4575 0016 0028     		cmp	r0, #0
 4576 0018 40F03881 		bne	.L588
3120:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fp->cltbl) {	/* Fast seek */
 4577              		.loc 1 3120 0
 4578 001c D4F82432 		ldr	r3, [r4, #548]
 4579 0020 002B     		cmp	r3, #0
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 172


 4580 0022 00F08680 		beq	.L589
3121:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs == CREATE_LINKMAP) {	/* Create CLMT */
 4581              		.loc 1 3121 0
 4582 0026 6A1C     		adds	r2, r5, #1
 4583 0028 36D1     		bne	.L590
 4584              	.LVL618:
3124:Middlewares/Third_Party/FatFs/src/ff.c **** 			cl = fp->sclust;			/* Top of the chain */
 4585              		.loc 1 3124 0
 4586 002a D4F81072 		ldr	r7, [r4, #528]
3123:Middlewares/Third_Party/FatFs/src/ff.c **** 			tlen = *tbl++; ulen = 2;	/* Given table size and required table size */
 4587              		.loc 1 3123 0
 4588 002e D3F800A0 		ldr	r10, [r3]
 4589 0032 1E1D     		adds	r6, r3, #4
 4590              	.LVL619:
3125:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cl) {
 4591              		.loc 1 3125 0
 4592 0034 0225     		movs	r5, #2
 4593              	.LVL620:
 4594 0036 2FB3     		cbz	r7, .L591
 4595              	.LVL621:
 4596              	.L597:
3131:Middlewares/Third_Party/FatFs/src/ff.c **** 						cl = get_fat(fp->fs, cl);
 4597              		.loc 1 3131 0
 4598 0038 B946     		mov	r9, r7
3128:Middlewares/Third_Party/FatFs/src/ff.c **** 					tcl = cl; ncl = 0; ulen += 2;	/* Top, length and used items */
 4599              		.loc 1 3128 0
 4600 003a 4FF00008 		mov	r8, #0
 4601              	.LVL622:
 4602              	.L595:
3131:Middlewares/Third_Party/FatFs/src/ff.c **** 						cl = get_fat(fp->fs, cl);
 4603              		.loc 1 3131 0
 4604 003e D4F80002 		ldr	r0, [r4, #512]
 4605 0042 4946     		mov	r1, r9
 4606 0044 FFF7FEFF 		bl	get_fat
 4607              	.LVL623:
3132:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl <= 1) ABORT(fp->fs, FR_INT_ERR);
 4608              		.loc 1 3132 0
 4609 0048 0128     		cmp	r0, #1
3130:Middlewares/Third_Party/FatFs/src/ff.c **** 						pcl = cl; ncl++;
 4610              		.loc 1 3130 0
 4611 004a 08F10108 		add	r8, r8, #1
 4612              	.LVL624:
3132:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl <= 1) ABORT(fp->fs, FR_INT_ERR);
 4613              		.loc 1 3132 0
 4614 004e 40F2DA80 		bls	.L656
3133:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 4615              		.loc 1 3133 0
 4616 0052 431C     		adds	r3, r0, #1
 4617 0054 00F00181 		beq	.L654
3134:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (cl == pcl + 1);
 4618              		.loc 1 3134 0
 4619 0058 09F10109 		add	r9, r9, #1
 4620              	.LVL625:
 4621 005c 4845     		cmp	r0, r9
 4622 005e 01D1     		bne	.L594
 4623 0060 8146     		mov	r9, r0
 4624              	.LVL626:
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 173


 4625 0062 ECE7     		b	.L595
 4626              	.LVL627:
 4627              	.L594:
3128:Middlewares/Third_Party/FatFs/src/ff.c **** 					tcl = cl; ncl = 0; ulen += 2;	/* Top, length and used items */
 4628              		.loc 1 3128 0
 4629 0064 0235     		adds	r5, r5, #2
 4630              	.LVL628:
3135:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (ulen <= tlen) {		/* Store the length and top of the fragment */
 4631              		.loc 1 3135 0
 4632 0066 5545     		cmp	r5, r10
 4633 0068 04D8     		bhi	.L596
 4634              	.LVL629:
3136:Middlewares/Third_Party/FatFs/src/ff.c **** 						*tbl++ = ncl; *tbl++ = tcl;
 4635              		.loc 1 3136 0
 4636 006a 3346     		mov	r3, r6
 4637 006c 43F8088B 		str	r8, [r3], #8
 4638              	.LVL630:
 4639 0070 7760     		str	r7, [r6, #4]
 4640 0072 1E46     		mov	r6, r3
 4641              	.LVL631:
 4642              	.L596:
3138:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (cl < fp->fs->n_fatent);	/* Repeat until end of chain */
 4643              		.loc 1 3138 0
 4644 0074 D4F80032 		ldr	r3, [r4, #512]
 4645 0078 D3F81432 		ldr	r3, [r3, #532]
 4646 007c 9842     		cmp	r0, r3
 4647 007e 01D2     		bcs	.L591
3131:Middlewares/Third_Party/FatFs/src/ff.c **** 						cl = get_fat(fp->fs, cl);
 4648              		.loc 1 3131 0
 4649 0080 0746     		mov	r7, r0
 4650              	.LVL632:
 4651 0082 D9E7     		b	.L597
 4652              	.LVL633:
 4653              	.L591:
3140:Middlewares/Third_Party/FatFs/src/ff.c **** 			*fp->cltbl = ulen;	/* Number of items used */
 4654              		.loc 1 3140 0
 4655 0084 D4F82432 		ldr	r3, [r4, #548]
3141:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ulen <= tlen)
 4656              		.loc 1 3141 0
 4657 0088 5545     		cmp	r5, r10
3140:Middlewares/Third_Party/FatFs/src/ff.c **** 			*fp->cltbl = ulen;	/* Number of items used */
 4658              		.loc 1 3140 0
 4659 008a 1D60     		str	r5, [r3]
3141:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ulen <= tlen)
 4660              		.loc 1 3141 0
 4661 008c 00F2FD80 		bhi	.L629
3142:Middlewares/Third_Party/FatFs/src/ff.c **** 				*tbl = 0;		/* Terminate table */
 4662              		.loc 1 3142 0
 4663 0090 0020     		movs	r0, #0
 4664 0092 3060     		str	r0, [r6]
 4665 0094 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 4666              	.LVL634:
 4667              	.L590:
3147:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ofs > fp->fsize)		/* Clip offset at the file size */
 4668              		.loc 1 3147 0
 4669 0098 D4F80C32 		ldr	r3, [r4, #524]
 4670 009c 9D42     		cmp	r5, r3
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 174


 4671 009e 28BF     		it	cs
 4672 00a0 1D46     		movcs	r5, r3
 4673              	.LVL635:
3149:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fptr = ofs;				/* Set file pointer */
 4674              		.loc 1 3149 0
 4675 00a2 C4F80852 		str	r5, [r4, #520]
3150:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ofs) {
 4676              		.loc 1 3150 0
 4677 00a6 002D     		cmp	r5, #0
 4678 00a8 00F0EC80 		beq	.L655
3151:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clmt_clust(fp, ofs - 1);
 4679              		.loc 1 3151 0
 4680 00ac 6F1E     		subs	r7, r5, #1
 4681 00ae 3946     		mov	r1, r7
 4682 00b0 2046     		mov	r0, r4
 4683 00b2 FFF7FEFF 		bl	clmt_clust
 4684              	.LVL636:
3152:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(fp->fs, fp->clust);
 4685              		.loc 1 3152 0
 4686 00b6 D4F80062 		ldr	r6, [r4, #512]
3151:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clmt_clust(fp, ofs - 1);
 4687              		.loc 1 3151 0
 4688 00ba C4F81402 		str	r0, [r4, #532]
 4689 00be 0146     		mov	r1, r0
3152:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(fp->fs, fp->clust);
 4690              		.loc 1 3152 0
 4691 00c0 3046     		mov	r0, r6
 4692 00c2 FFF7FEFF 		bl	clust2sect
 4693              	.LVL637:
3153:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!dsc) ABORT(fp->fs, FR_INT_ERR);
 4694              		.loc 1 3153 0
 4695 00c6 0028     		cmp	r0, #0
 4696 00c8 00F09D80 		beq	.L656
3155:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr % SS(fp->fs) && dsc != fp->dsect) {	/* Refill sector cache if needed */
 4697              		.loc 1 3155 0
 4698 00cc C5F30805 		ubfx	r5, r5, #0, #9
 4699              	.LVL638:
3154:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc += (ofs - 1) / SS(fp->fs) & (fp->fs->csize - 1);
 4700              		.loc 1 3154 0
 4701 00d0 96F80232 		ldrb	r3, [r6, #514]	@ zero_extendqisi2
 4702              	.LVL639:
3155:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr % SS(fp->fs) && dsc != fp->dsect) {	/* Refill sector cache if needed */
 4703              		.loc 1 3155 0
 4704 00d4 002D     		cmp	r5, #0
 4705 00d6 00F0D580 		beq	.L655
3154:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc += (ofs - 1) / SS(fp->fs) & (fp->fs->csize - 1);
 4706              		.loc 1 3154 0 discriminator 1
 4707 00da 5D1E     		subs	r5, r3, #1
 4708 00dc 05EA5725 		and	r5, r5, r7, lsr #9
3155:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr % SS(fp->fs) && dsc != fp->dsect) {	/* Refill sector cache if needed */
 4709              		.loc 1 3155 0 discriminator 1
 4710 00e0 D4F81822 		ldr	r2, [r4, #536]
3154:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc += (ofs - 1) / SS(fp->fs) & (fp->fs->csize - 1);
 4711              		.loc 1 3154 0 discriminator 1
 4712 00e4 0544     		add	r5, r5, r0
3155:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr % SS(fp->fs) && dsc != fp->dsect) {	/* Refill sector cache if needed */
 4713              		.loc 1 3155 0 discriminator 1
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 175


 4714 00e6 9542     		cmp	r5, r2
 4715 00e8 00F0CC80 		beq	.L655
3158:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fp->flag & FA__DIRTY) {		/* Write-back dirty sector cache */
 4716              		.loc 1 3158 0
 4717 00ec 94F80632 		ldrb	r3, [r4, #518]	@ zero_extendqisi2
 4718              	.LVL640:
 4719 00f0 5906     		lsls	r1, r3, #25
 4720 00f2 0ED5     		bpl	.L601
3159:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
 4721              		.loc 1 3159 0
 4722 00f4 96F80102 		ldrb	r0, [r6, #513]	@ zero_extendqisi2
 4723              	.LVL641:
 4724 00f8 2146     		mov	r1, r4
 4725 00fa 0123     		movs	r3, #1
 4726 00fc FFF7FEFF 		bl	disk_write
 4727              	.LVL642:
 4728 0100 0028     		cmp	r0, #0
 4729 0102 40F0AA80 		bne	.L654
3161:Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->flag &= ~FA__DIRTY;
 4730              		.loc 1 3161 0
 4731 0106 94F80632 		ldrb	r3, [r4, #518]	@ zero_extendqisi2
 4732 010a 23F04003 		bic	r3, r3, #64
 4733 010e 84F80632 		strb	r3, [r4, #518]
 4734              	.L601:
3164:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (disk_read(fp->fs->drv, fp->buf.d8, dsc, 1) != RES_OK)	/* Load current sector */
 4735              		.loc 1 3164 0
 4736 0112 D4F80032 		ldr	r3, [r4, #512]
 4737 0116 2146     		mov	r1, r4
 4738 0118 93F80102 		ldrb	r0, [r3, #513]	@ zero_extendqisi2
 4739 011c 2A46     		mov	r2, r5
 4740 011e 0123     		movs	r3, #1
 4741 0120 FFF7FEFF 		bl	disk_read
 4742              	.LVL643:
 4743 0124 0028     		cmp	r0, #0
 4744 0126 40F09880 		bne	.L654
3167:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->dsect = dsc;
 4745              		.loc 1 3167 0
 4746 012a C4F81852 		str	r5, [r4, #536]
 4747 012e BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 4748              	.LVL644:
 4749              	.L589:
3176:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs > fp->fsize					/* In read-only mode, clip offset with the file size */
 4750              		.loc 1 3176 0
 4751 0132 D4F80C32 		ldr	r3, [r4, #524]
 4752 0136 9D42     		cmp	r5, r3
 4753 0138 05D9     		bls	.L604
3178:Middlewares/Third_Party/FatFs/src/ff.c **** 			 && !(fp->flag & FA_WRITE)
 4754              		.loc 1 3178 0
 4755 013a 94F80622 		ldrb	r2, [r4, #518]	@ zero_extendqisi2
 4756 013e 12F0020F 		tst	r2, #2
 4757 0142 08BF     		it	eq
 4758 0144 1D46     		moveq	r5, r3
 4759              	.LVL645:
 4760              	.L604:
3183:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->fptr = nsect = 0;
 4761              		.loc 1 3183 0
 4762 0146 0022     		movs	r2, #0
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 176


3182:Middlewares/Third_Party/FatFs/src/ff.c **** 		ifptr = fp->fptr;
 4763              		.loc 1 3182 0
 4764 0148 D4F80832 		ldr	r3, [r4, #520]
 4765              	.LVL646:
3183:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->fptr = nsect = 0;
 4766              		.loc 1 3183 0
 4767 014c C4F80822 		str	r2, [r4, #520]
3184:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs) {
 4768              		.loc 1 3184 0
 4769 0150 0DB9     		cbnz	r5, .L605
 4770              	.LVL647:
 4771              	.L612:
3183:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->fptr = nsect = 0;
 4772              		.loc 1 3183 0
 4773 0152 0025     		movs	r5, #0
 4774              	.LVL648:
 4775 0154 5BE0     		b	.L606
 4776              	.LVL649:
 4777              	.L605:
3185:Middlewares/Third_Party/FatFs/src/ff.c **** 			bcs = (DWORD)fp->fs->csize * SS(fp->fs);	/* Cluster size (byte) */
 4778              		.loc 1 3185 0
 4779 0156 D4F80002 		ldr	r0, [r4, #512]
 4780 015a 90F80262 		ldrb	r6, [r0, #514]	@ zero_extendqisi2
 4781 015e 7602     		lsls	r6, r6, #9
 4782              	.LVL650:
3186:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ifptr > 0 &&
 4783              		.loc 1 3186 0
 4784 0160 7BB1     		cbz	r3, .L607
3187:Middlewares/Third_Party/FatFs/src/ff.c **** 				(ofs - 1) / bcs >= (ifptr - 1) / bcs) {	/* When seek to same or following cluster, */
 4785              		.loc 1 3187 0 discriminator 1
 4786 0162 013B     		subs	r3, r3, #1
 4787              	.LVL651:
 4788 0164 691E     		subs	r1, r5, #1
 4789 0166 B1FBF6F1 		udiv	r1, r1, r6
 4790 016a B3FBF6F2 		udiv	r2, r3, r6
3186:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ifptr > 0 &&
 4791              		.loc 1 3186 0 discriminator 1
 4792 016e 9142     		cmp	r1, r2
 4793 0170 07D3     		bcc	.L607
3188:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = (ifptr - 1) & ~(bcs - 1);	/* start from the current cluster */
 4794              		.loc 1 3188 0
 4795 0172 7242     		negs	r2, r6
 4796 0174 1340     		ands	r3, r3, r2
 4797              	.LVL652:
 4798 0176 C4F80832 		str	r3, [r4, #520]
3189:Middlewares/Third_Party/FatFs/src/ff.c **** 				ofs -= fp->fptr;
 4799              		.loc 1 3189 0
 4800 017a ED1A     		subs	r5, r5, r3
 4801              	.LVL653:
3190:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fp->clust;
 4802              		.loc 1 3190 0
 4803 017c D4F81412 		ldr	r1, [r4, #532]
 4804              	.LVL654:
 4805 0180 0DE0     		b	.L608
 4806              	.LVL655:
 4807              	.L607:
3192:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fp->sclust;						/* start from the first cluster */
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 177


 4808              		.loc 1 3192 0
 4809 0182 D4F81012 		ldr	r1, [r4, #528]
 4810              	.LVL656:
3194:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0) {						/* If no cluster chain, create a new chain */
 4811              		.loc 1 3194 0
 4812 0186 41B9     		cbnz	r1, .L609
3195:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = create_chain(fp->fs, 0);
 4813              		.loc 1 3195 0
 4814 0188 FFF7FEFF 		bl	create_chain
 4815              	.LVL657:
3196:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) ABORT(fp->fs, FR_INT_ERR);
 4816              		.loc 1 3196 0
 4817 018c 0128     		cmp	r0, #1
3195:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = create_chain(fp->fs, 0);
 4818              		.loc 1 3195 0
 4819 018e 0146     		mov	r1, r0
 4820              	.LVL658:
3196:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) ABORT(fp->fs, FR_INT_ERR);
 4821              		.loc 1 3196 0
 4822 0190 39D0     		beq	.L656
3197:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 4823              		.loc 1 3197 0
 4824 0192 431C     		adds	r3, r0, #1
 4825 0194 61D0     		beq	.L654
3198:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->sclust = clst;
 4826              		.loc 1 3198 0
 4827 0196 C4F81002 		str	r0, [r4, #528]
 4828              	.LVL659:
 4829              	.L609:
3201:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;
 4830              		.loc 1 3201 0
 4831 019a C4F81412 		str	r1, [r4, #532]
 4832              	.L608:
3203:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst != 0) {
 4833              		.loc 1 3203 0
 4834 019e 0029     		cmp	r1, #0
 4835 01a0 D7D0     		beq	.L612
 4836              	.L613:
3204:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (ofs > bcs) {						/* Cluster following loop */
 4837              		.loc 1 3204 0 discriminator 1
 4838 01a2 B542     		cmp	r5, r6
 4839 01a4 21D9     		bls	.L615
3206:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fp->flag & FA_WRITE) {			/* Check if in write mode or not */
 4840              		.loc 1 3206 0
 4841 01a6 94F80632 		ldrb	r3, [r4, #518]	@ zero_extendqisi2
3207:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = create_chain(fp->fs, clst);	/* Force stretch if in write mode */
 4842              		.loc 1 3207 0
 4843 01aa D4F80002 		ldr	r0, [r4, #512]
3206:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fp->flag & FA_WRITE) {			/* Check if in write mode or not */
 4844              		.loc 1 3206 0
 4845 01ae 9F07     		lsls	r7, r3, #30
 4846 01b0 04D5     		bpl	.L614
3207:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = create_chain(fp->fs, clst);	/* Force stretch if in write mode */
 4847              		.loc 1 3207 0
 4848 01b2 FFF7FEFF 		bl	create_chain
 4849              	.LVL660:
3208:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (clst == 0) {				/* When disk gets full, clip file size */
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 178


 4850              		.loc 1 3208 0
 4851 01b6 0146     		mov	r1, r0
 4852 01b8 18B9     		cbnz	r0, .L616
 4853 01ba 15E0     		b	.L657
 4854              	.LVL661:
 4855              	.L614:
3213:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = get_fat(fp->fs, clst);	/* Follow cluster chain if not in write mode */
 4856              		.loc 1 3213 0
 4857 01bc FFF7FEFF 		bl	get_fat
 4858              	.LVL662:
 4859 01c0 0146     		mov	r1, r0
 4860              	.LVL663:
 4861              	.L616:
3214:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 4862              		.loc 1 3214 0
 4863 01c2 4A1C     		adds	r2, r1, #1
 4864 01c4 49D0     		beq	.L654
3215:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1 || clst >= fp->fs->n_fatent) ABORT(fp->fs, FR_INT_ERR);
 4865              		.loc 1 3215 0
 4866 01c6 0129     		cmp	r1, #1
 4867 01c8 1DD9     		bls	.L656
3215:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1 || clst >= fp->fs->n_fatent) ABORT(fp->fs, FR_INT_ERR);
 4868              		.loc 1 3215 0 is_stmt 0 discriminator 2
 4869 01ca D4F80032 		ldr	r3, [r4, #512]
 4870 01ce D3F81432 		ldr	r3, [r3, #532]
 4871 01d2 9942     		cmp	r1, r3
 4872 01d4 17D2     		bcs	.L656
3217:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->fptr += bcs;
 4873              		.loc 1 3217 0 is_stmt 1
 4874 01d6 D4F80832 		ldr	r3, [r4, #520]
3216:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 4875              		.loc 1 3216 0
 4876 01da C4F81412 		str	r1, [r4, #532]
3217:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->fptr += bcs;
 4877              		.loc 1 3217 0
 4878 01de 3344     		add	r3, r3, r6
 4879 01e0 C4F80832 		str	r3, [r4, #520]
3218:Middlewares/Third_Party/FatFs/src/ff.c **** 					ofs -= bcs;
 4880              		.loc 1 3218 0
 4881 01e4 AD1B     		subs	r5, r5, r6
 4882              	.LVL664:
 4883 01e6 DCE7     		b	.L613
 4884              	.L657:
 4885 01e8 3546     		mov	r5, r6
 4886              	.LVL665:
 4887              	.L615:
3220:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr += ofs;
 4888              		.loc 1 3220 0
 4889 01ea D4F80832 		ldr	r3, [r4, #520]
 4890 01ee 2B44     		add	r3, r3, r5
 4891 01f0 C4F80832 		str	r3, [r4, #520]
3221:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ofs % SS(fp->fs)) {
 4892              		.loc 1 3221 0
 4893 01f4 C5F30803 		ubfx	r3, r5, #0, #9
 4894 01f8 002B     		cmp	r3, #0
 4895 01fa AAD0     		beq	.L612
3222:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect = clust2sect(fp->fs, clst);	/* Current sector */
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 179


 4896              		.loc 1 3222 0
 4897 01fc D4F80002 		ldr	r0, [r4, #512]
 4898 0200 FFF7FEFF 		bl	clust2sect
 4899              	.LVL666:
3223:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!nsect) ABORT(fp->fs, FR_INT_ERR);
 4900              		.loc 1 3223 0
 4901 0204 08B9     		cbnz	r0, .L621
 4902              	.LVL667:
 4903              	.L656:
3223:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!nsect) ABORT(fp->fs, FR_INT_ERR);
 4904              		.loc 1 3223 0 is_stmt 0 discriminator 1
 4905 0206 0220     		movs	r0, #2
 4906 0208 28E0     		b	.L653
 4907              	.LVL668:
 4908              	.L621:
3224:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect += ofs / SS(fp->fs);
 4909              		.loc 1 3224 0 is_stmt 1
 4910 020a 00EB5525 		add	r5, r0, r5, lsr #9
 4911              	.LVL669:
 4912              	.L606:
3228:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fp->fs) && nsect != fp->dsect) {	/* Fill sector cache if needed */
 4913              		.loc 1 3228 0
 4914 020e D4F80832 		ldr	r3, [r4, #520]
 4915 0212 C3F30803 		ubfx	r3, r3, #0, #9
 4916 0216 3BB3     		cbz	r3, .L622
3228:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fp->fs) && nsect != fp->dsect) {	/* Fill sector cache if needed */
 4917              		.loc 1 3228 0 is_stmt 0 discriminator 1
 4918 0218 D4F81822 		ldr	r2, [r4, #536]
 4919 021c 9542     		cmp	r5, r2
 4920 021e 23D0     		beq	.L622
3231:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->flag & FA__DIRTY) {			/* Write-back dirty sector cache */
 4921              		.loc 1 3231 0 is_stmt 1
 4922 0220 94F80632 		ldrb	r3, [r4, #518]	@ zero_extendqisi2
 4923 0224 5B06     		lsls	r3, r3, #25
 4924 0226 0ED5     		bpl	.L623
3232:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
 4925              		.loc 1 3232 0
 4926 0228 D4F80032 		ldr	r3, [r4, #512]
 4927 022c 2146     		mov	r1, r4
 4928 022e 93F80102 		ldrb	r0, [r3, #513]	@ zero_extendqisi2
 4929 0232 0123     		movs	r3, #1
 4930 0234 FFF7FEFF 		bl	disk_write
 4931              	.LVL670:
 4932 0238 78B9     		cbnz	r0, .L654
3234:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= ~FA__DIRTY;
 4933              		.loc 1 3234 0
 4934 023a 94F80632 		ldrb	r3, [r4, #518]	@ zero_extendqisi2
 4935 023e 23F04003 		bic	r3, r3, #64
 4936 0242 84F80632 		strb	r3, [r4, #518]
 4937              	.L623:
3237:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_read(fp->fs->drv, fp->buf.d8, nsect, 1) != RES_OK)	/* Fill sector cache */
 4938              		.loc 1 3237 0
 4939 0246 D4F80032 		ldr	r3, [r4, #512]
 4940 024a 2146     		mov	r1, r4
 4941 024c 93F80102 		ldrb	r0, [r3, #513]	@ zero_extendqisi2
 4942 0250 2A46     		mov	r2, r5
 4943 0252 0123     		movs	r3, #1
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 180


 4944 0254 FFF7FEFF 		bl	disk_read
 4945              	.LVL671:
 4946 0258 20B1     		cbz	r0, .L625
 4947              	.LVL672:
 4948              	.L654:
3238:Middlewares/Third_Party/FatFs/src/ff.c **** 				ABORT(fp->fs, FR_DISK_ERR);
 4949              		.loc 1 3238 0
 4950 025a 0120     		movs	r0, #1
 4951              	.L653:
 4952 025c 84F80702 		strb	r0, [r4, #519]
 4953 0260 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 4954              	.LVL673:
 4955              	.L625:
3240:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dsect = nsect;
 4956              		.loc 1 3240 0
 4957 0264 C4F81852 		str	r5, [r4, #536]
 4958              	.L622:
3243:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr > fp->fsize) {			/* Set file change flag if the file size is extended */
 4959              		.loc 1 3243 0
 4960 0268 D4F80832 		ldr	r3, [r4, #520]
 4961 026c D4F80C22 		ldr	r2, [r4, #524]
 4962 0270 9342     		cmp	r3, r2
 4963 0272 07D9     		bls	.L655
3244:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fsize = fp->fptr;
 4964              		.loc 1 3244 0
 4965 0274 C4F80C32 		str	r3, [r4, #524]
3245:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag |= FA__WRITTEN;
 4966              		.loc 1 3245 0
 4967 0278 94F80632 		ldrb	r3, [r4, #518]	@ zero_extendqisi2
 4968 027c 43F02003 		orr	r3, r3, #32
 4969 0280 84F80632 		strb	r3, [r4, #518]
 4970              	.LVL674:
 4971              	.L655:
 4972 0284 0020     		movs	r0, #0
 4973 0286 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 4974              	.LVL675:
 4975              	.L629:
3144:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NOT_ENOUGH_CORE;	/* Given table size is smaller than required */
 4976              		.loc 1 3144 0
 4977 028a 1120     		movs	r0, #17
 4978              	.LVL676:
 4979              	.L588:
3251:Middlewares/Third_Party/FatFs/src/ff.c **** }
 4980              		.loc 1 3251 0
 4981 028c BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 4982              		.cfi_endproc
 4983              	.LFE165:
 4985              		.section	.text.f_opendir,"ax",%progbits
 4986              		.align	1
 4987              		.global	f_opendir
 4988              		.thumb
 4989              		.thumb_func
 4991              	f_opendir:
 4992              	.LFB166:
3264:Middlewares/Third_Party/FatFs/src/ff.c **** {
 4993              		.loc 1 3264 0
 4994              		.cfi_startproc
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 181


 4995              		@ args = 0, pretend = 0, frame = 24
 4996              		@ frame_needed = 0, uses_anonymous_args = 0
 4997              	.LVL677:
 4998 0000 10B5     		push	{r4, lr}
 4999              	.LCFI32:
 5000              		.cfi_def_cfa_offset 8
 5001              		.cfi_offset 4, -8
 5002              		.cfi_offset 14, -4
 5003 0002 86B0     		sub	sp, sp, #24
 5004              	.LCFI33:
 5005              		.cfi_def_cfa_offset 32
3270:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!dp) return FR_INVALID_OBJECT;
 5006              		.loc 1 3270 0
 5007 0004 0446     		mov	r4, r0
3264:Middlewares/Third_Party/FatFs/src/ff.c **** {
 5008              		.loc 1 3264 0
 5009 0006 0191     		str	r1, [sp, #4]
3270:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!dp) return FR_INVALID_OBJECT;
 5010              		.loc 1 3270 0
 5011 0008 0028     		cmp	r0, #0
 5012 000a 32D0     		beq	.L669
3273:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&fs, &path, 0);
 5013              		.loc 1 3273 0
 5014 000c 01A9     		add	r1, sp, #4
 5015              	.LVL678:
 5016 000e 02A8     		add	r0, sp, #8
 5017              	.LVL679:
 5018 0010 0022     		movs	r2, #0
 5019 0012 FFF7FEFF 		bl	find_volume
 5020              	.LVL680:
3274:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 5021              		.loc 1 3274 0
 5022 0016 0146     		mov	r1, r0
 5023 0018 30BB     		cbnz	r0, .L668
3275:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fs = fs;
 5024              		.loc 1 3275 0
 5025 001a 029B     		ldr	r3, [sp, #8]
 5026 001c C4F80032 		str	r3, [r4, #512]
3276:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(*dp);
 5027              		.loc 1 3276 0
 5028 0020 03AB     		add	r3, sp, #12
3277:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(dp, path);			/* Follow the path to the directory */
 5029              		.loc 1 3277 0
 5030 0022 0199     		ldr	r1, [sp, #4]
3276:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(*dp);
 5031              		.loc 1 3276 0
 5032 0024 C4F81832 		str	r3, [r4, #536]
3277:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(dp, path);			/* Follow the path to the directory */
 5033              		.loc 1 3277 0
 5034 0028 2046     		mov	r0, r4
 5035              	.LVL681:
 5036 002a FFF7FEFF 		bl	follow_path
 5037              	.LVL682:
3279:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {						/* Follow completed */
 5038              		.loc 1 3279 0
 5039 002e 0146     		mov	r1, r0
 5040 0030 B8B9     		cbnz	r0, .L661
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 182


3280:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dp->dir) {						/* It is not the origin directory itself */
 5041              		.loc 1 3280 0
 5042 0032 D4F81412 		ldr	r1, [r4, #532]
 5043 0036 49B1     		cbz	r1, .L662
3281:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dp->dir[DIR_Attr] & AM_DIR)	/* The object is a sub directory */
 5044              		.loc 1 3281 0
 5045 0038 CB7A     		ldrb	r3, [r1, #11]	@ zero_extendqisi2
 5046 003a DB06     		lsls	r3, r3, #27
 5047 003c 2AD5     		bpl	.L670
3282:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->sclust = ld_clust(fs, dp->dir);
 5048              		.loc 1 3282 0
 5049 003e 029B     		ldr	r3, [sp, #8]
 5050 0040 93F80002 		ldrb	r0, [r3, #512]	@ zero_extendqisi2
 5051              	.LVL683:
 5052 0044 FFF7FEFF 		bl	ld_clust.isra.0
 5053              	.LVL684:
 5054 0048 C4F80802 		str	r0, [r4, #520]
 5055              	.L662:
 5056              	.LVL685:
3287:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->id = fs->id;
 5057              		.loc 1 3287 0
 5058 004c 029B     		ldr	r3, [sp, #8]
 5059 004e B3F80632 		ldrh	r3, [r3, #518]
 5060 0052 A4F80432 		strh	r3, [r4, #516]	@ movhi
3288:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_sdi(dp, 0);			/* Rewind directory */
 5061              		.loc 1 3288 0
 5062 0056 0021     		movs	r1, #0
 5063 0058 2046     		mov	r0, r4
 5064 005a FFF7FEFF 		bl	dir_sdi
 5065              	.LVL686:
3290:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
 5066              		.loc 1 3290 0
 5067 005e 0146     		mov	r1, r0
 5068 0060 48B1     		cbz	r0, .L667
 5069              	.L661:
 5070              	.LVL687:
3302:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_NO_FILE) res = FR_NO_PATH;
 5071              		.loc 1 3302 0
 5072 0062 0429     		cmp	r1, #4
 5073 0064 08BF     		it	eq
 5074 0066 0521     		moveq	r1, #5
 5075              	.LVL688:
 5076              	.L668:
3304:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) dp->fs = 0;		/* Invalidate the directory object if function faild */
 5077              		.loc 1 3304 0 discriminator 1
 5078 0068 0023     		movs	r3, #0
 5079 006a C4F80032 		str	r3, [r4, #512]
 5080 006e 0846     		mov	r0, r1
 5081 0070 12E0     		b	.L677
 5082              	.LVL689:
 5083              	.L669:
3270:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!dp) return FR_INVALID_OBJECT;
 5084              		.loc 1 3270 0
 5085 0072 0920     		movs	r0, #9
 5086              	.LVL690:
 5087 0074 10E0     		b	.L677
 5088              	.LVL691:
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 183


 5089              	.L667:
3291:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (dp->sclust) {
 5090              		.loc 1 3291 0
 5091 0076 D4F80832 		ldr	r3, [r4, #520]
 5092 007a 3BB1     		cbz	r3, .L664
3292:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->lockid = inc_lock(dp, 0);	/* Lock the sub directory */
 5093              		.loc 1 3292 0
 5094 007c 2046     		mov	r0, r4
 5095              	.LVL692:
 5096 007e FFF7FEFF 		bl	inc_lock
 5097              	.LVL693:
 5098 0082 C4F81C02 		str	r0, [r4, #540]
3293:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!dp->lockid)
 5099              		.loc 1 3293 0
 5100 0086 18B9     		cbnz	r0, .L676
3294:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = FR_TOO_MANY_OPEN_FILES;
 5101              		.loc 1 3294 0
 5102 0088 1221     		movs	r1, #18
 5103 008a EDE7     		b	.L668
 5104              	.LVL694:
 5105              	.L664:
3296:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->lockid = 0;	/* Root directory need not to be locked */
 5106              		.loc 1 3296 0
 5107 008c C4F81C32 		str	r3, [r4, #540]
 5108              	.LVL695:
 5109              	.L676:
 5110 0090 0020     		movs	r0, #0
 5111 0092 01E0     		b	.L677
 5112              	.LVL696:
 5113              	.L670:
3284:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_PATH;
 5114              		.loc 1 3284 0
 5115 0094 0521     		movs	r1, #5
 5116              	.LVL697:
 5117 0096 E7E7     		b	.L668
 5118              	.LVL698:
 5119              	.L677:
3307:Middlewares/Third_Party/FatFs/src/ff.c **** }
 5120              		.loc 1 3307 0
 5121 0098 06B0     		add	sp, sp, #24
 5122              		@ sp needed
 5123 009a 10BD     		pop	{r4, pc}
 5124              		.cfi_endproc
 5125              	.LFE166:
 5127              		.section	.text.f_closedir,"ax",%progbits
 5128              		.align	1
 5129              		.global	f_closedir
 5130              		.thumb
 5131              		.thumb_func
 5133              	f_closedir:
 5134              	.LFB167:
3319:Middlewares/Third_Party/FatFs/src/ff.c **** {
 5135              		.loc 1 3319 0
 5136              		.cfi_startproc
 5137              		@ args = 0, pretend = 0, frame = 0
 5138              		@ frame_needed = 0, uses_anonymous_args = 0
 5139              	.LVL699:
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 184


 5140 0000 38B5     		push	{r3, r4, r5, lr}
 5141              	.LCFI34:
 5142              		.cfi_def_cfa_offset 16
 5143              		.cfi_offset 3, -16
 5144              		.cfi_offset 4, -12
 5145              		.cfi_offset 5, -8
 5146              		.cfi_offset 14, -4
3319:Middlewares/Third_Party/FatFs/src/ff.c **** {
 5147              		.loc 1 3319 0
 5148 0002 0546     		mov	r5, r0
3323:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(dp);
 5149              		.loc 1 3323 0
 5150 0004 FFF7FEFF 		bl	validate
 5151              	.LVL700:
3324:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 5152              		.loc 1 3324 0
 5153 0008 0446     		mov	r4, r0
 5154 000a 58B9     		cbnz	r0, .L679
3329:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (dp->lockid)				/* Decrement sub-directory open counter */
 5155              		.loc 1 3329 0
 5156 000c D5F81C02 		ldr	r0, [r5, #540]
 5157              	.LVL701:
 5158 0010 18B9     		cbnz	r0, .L680
 5159              	.L681:
3333:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->fs = 0;				/* Invalidate directory object */
 5160              		.loc 1 3333 0
 5161 0012 0023     		movs	r3, #0
 5162 0014 C5F80032 		str	r3, [r5, #512]
 5163 0018 04E0     		b	.L679
 5164              	.L680:
3330:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dec_lock(dp->lockid);
 5165              		.loc 1 3330 0
 5166 001a FFF7FEFF 		bl	dec_lock
 5167              	.LVL702:
3331:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK)
 5168              		.loc 1 3331 0
 5169 001e 0028     		cmp	r0, #0
 5170 0020 F7D0     		beq	.L681
 5171 0022 0446     		mov	r4, r0
 5172              	.LVL703:
 5173              	.L679:
3339:Middlewares/Third_Party/FatFs/src/ff.c **** }
 5174              		.loc 1 3339 0
 5175 0024 2046     		mov	r0, r4
 5176 0026 38BD     		pop	{r3, r4, r5, pc}
 5177              		.cfi_endproc
 5178              	.LFE167:
 5180              		.section	.text.f_readdir,"ax",%progbits
 5181              		.align	1
 5182              		.global	f_readdir
 5183              		.thumb
 5184              		.thumb_func
 5186              	f_readdir:
 5187              	.LFB168:
3352:Middlewares/Third_Party/FatFs/src/ff.c **** {
 5188              		.loc 1 3352 0
 5189              		.cfi_startproc
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 185


 5190              		@ args = 0, pretend = 0, frame = 16
 5191              		@ frame_needed = 0, uses_anonymous_args = 0
 5192              	.LVL704:
 5193 0000 7FB5     		push	{r0, r1, r2, r3, r4, r5, r6, lr}
 5194              	.LCFI35:
 5195              		.cfi_def_cfa_offset 32
 5196              		.cfi_offset 0, -32
 5197              		.cfi_offset 1, -28
 5198              		.cfi_offset 2, -24
 5199              		.cfi_offset 3, -20
 5200              		.cfi_offset 4, -16
 5201              		.cfi_offset 5, -12
 5202              		.cfi_offset 6, -8
 5203              		.cfi_offset 14, -4
3352:Middlewares/Third_Party/FatFs/src/ff.c **** {
 5204              		.loc 1 3352 0
 5205 0002 0446     		mov	r4, r0
 5206 0004 0E46     		mov	r6, r1
3357:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(dp);						/* Check validity of the object */
 5207              		.loc 1 3357 0
 5208 0006 FFF7FEFF 		bl	validate
 5209              	.LVL705:
3358:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 5210              		.loc 1 3358 0
 5211 000a 0546     		mov	r5, r0
 5212 000c 00BB     		cbnz	r0, .L686
3359:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!fno) {
 5213              		.loc 1 3359 0
 5214 000e 26B9     		cbnz	r6, .L687
3360:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_sdi(dp, 0);			/* Rewind the directory object */
 5215              		.loc 1 3360 0
 5216 0010 2046     		mov	r0, r4
 5217              	.LVL706:
 5218 0012 2946     		mov	r1, r5
 5219 0014 FFF7FEFF 		bl	dir_sdi
 5220              	.LVL707:
 5221 0018 19E0     		b	.L691
 5222              	.LVL708:
 5223              	.L687:
3362:Middlewares/Third_Party/FatFs/src/ff.c **** 			INIT_BUF(*dp);
 5224              		.loc 1 3362 0
 5225 001a 01AB     		add	r3, sp, #4
 5226 001c C4F81832 		str	r3, [r4, #536]
3363:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_read(dp, 0);			/* Read an item */
 5227              		.loc 1 3363 0
 5228 0020 2046     		mov	r0, r4
 5229              	.LVL709:
 5230 0022 FFF7FEFF 		bl	dir_read.constprop.11
 5231              	.LVL710:
3364:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_NO_FILE) {		/* Reached end of directory */
 5232              		.loc 1 3364 0
 5233 0026 0428     		cmp	r0, #4
 5234 0028 02D1     		bne	.L688
3365:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->sect = 0;
 5235              		.loc 1 3365 0
 5236 002a C4F81052 		str	r5, [r4, #528]
 5237              	.LVL711:
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 186


 5238 002e 00E0     		b	.L689
 5239              	.LVL712:
 5240              	.L688:
3368:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {				/* A valid entry is found */
 5241              		.loc 1 3368 0
 5242 0030 68B9     		cbnz	r0, .L691
 5243              	.LVL713:
 5244              	.L689:
3369:Middlewares/Third_Party/FatFs/src/ff.c **** 				get_fileinfo(dp, fno);		/* Get the object information */
 5245              		.loc 1 3369 0
 5246 0032 2046     		mov	r0, r4
 5247 0034 3146     		mov	r1, r6
 5248 0036 FFF7FEFF 		bl	get_fileinfo
 5249              	.LVL714:
3370:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_next(dp, 0);		/* Increment index for next */
 5250              		.loc 1 3370 0
 5251 003a 2046     		mov	r0, r4
 5252 003c 0021     		movs	r1, #0
 5253 003e FFF7FEFF 		bl	dir_next
 5254              	.LVL715:
3371:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) {
 5255              		.loc 1 3371 0
 5256 0042 0428     		cmp	r0, #4
 5257 0044 03D1     		bne	.L691
3372:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->sect = 0;
 5258              		.loc 1 3372 0
 5259 0046 0023     		movs	r3, #0
 5260 0048 C4F81032 		str	r3, [r4, #528]
 5261              	.LVL716:
 5262 004c 00E0     		b	.L686
 5263              	.LVL717:
 5264              	.L691:
 5265 004e 0546     		mov	r5, r0
 5266              	.L686:
 5267              	.LVL718:
3381:Middlewares/Third_Party/FatFs/src/ff.c **** }
 5268              		.loc 1 3381 0
 5269 0050 2846     		mov	r0, r5
 5270 0052 04B0     		add	sp, sp, #16
 5271              		@ sp needed
 5272 0054 70BD     		pop	{r4, r5, r6, pc}
 5273              		.cfi_endproc
 5274              	.LFE168:
 5276              		.section	.text.f_stat,"ax",%progbits
 5277              		.align	1
 5278              		.global	f_stat
 5279              		.thumb
 5280              		.thumb_func
 5282              	f_stat:
 5283              	.LFB169:
3446:Middlewares/Third_Party/FatFs/src/ff.c **** {
 5284              		.loc 1 3446 0
 5285              		.cfi_startproc
 5286              		@ args = 0, pretend = 0, frame = 568
 5287              		@ frame_needed = 0, uses_anonymous_args = 0
 5288              	.LVL719:
 5289 0000 30B5     		push	{r4, r5, lr}
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 187


 5290              	.LCFI36:
 5291              		.cfi_def_cfa_offset 12
 5292              		.cfi_offset 4, -12
 5293              		.cfi_offset 5, -8
 5294              		.cfi_offset 14, -4
 5295 0002 ADF50F7D 		sub	sp, sp, #572
 5296              	.LCFI37:
 5297              		.cfi_def_cfa_offset 584
3446:Middlewares/Third_Party/FatFs/src/ff.c **** {
 5298              		.loc 1 3446 0
 5299 0006 0D46     		mov	r5, r1
 5300 0008 0190     		str	r0, [sp, #4]
3453:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&dj.fs, &path, 0);
 5301              		.loc 1 3453 0
 5302 000a 01A9     		add	r1, sp, #4
 5303              	.LVL720:
 5304 000c 86A8     		add	r0, sp, #536
 5305              	.LVL721:
 5306 000e 0022     		movs	r2, #0
 5307 0010 FFF7FEFF 		bl	find_volume
 5308              	.LVL722:
3454:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 5309              		.loc 1 3454 0
 5310 0014 0446     		mov	r4, r0
 5311 0016 80B9     		cbnz	r0, .L693
3455:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
 5312              		.loc 1 3455 0
 5313 0018 03AB     		add	r3, sp, #12
3456:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);	/* Follow the file path */
 5314              		.loc 1 3456 0
 5315 001a 06A8     		add	r0, sp, #24
 5316              	.LVL723:
 5317 001c 0199     		ldr	r1, [sp, #4]
3455:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
 5318              		.loc 1 3455 0
 5319 001e 8C93     		str	r3, [sp, #560]
3456:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);	/* Follow the file path */
 5320              		.loc 1 3456 0
 5321 0020 FFF7FEFF 		bl	follow_path
 5322              	.LVL724:
3457:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {				/* Follow completed */
 5323              		.loc 1 3457 0
 5324 0024 0446     		mov	r4, r0
 5325 0026 40B9     		cbnz	r0, .L693
3458:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.dir) {		/* Found an object */
 5326              		.loc 1 3458 0
 5327 0028 8B9B     		ldr	r3, [sp, #556]
 5328 002a 2BB1     		cbz	r3, .L694
3459:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fno) get_fileinfo(&dj, fno);
 5329              		.loc 1 3459 0
 5330 002c 2DB1     		cbz	r5, .L693
3459:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fno) get_fileinfo(&dj, fno);
 5331              		.loc 1 3459 0 is_stmt 0 discriminator 1
 5332 002e 06A8     		add	r0, sp, #24
 5333              	.LVL725:
 5334 0030 2946     		mov	r1, r5
 5335 0032 FFF7FEFF 		bl	get_fileinfo
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 188


 5336              	.LVL726:
 5337 0036 00E0     		b	.L693
 5338              	.LVL727:
 5339              	.L694:
3461:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
 5340              		.loc 1 3461 0 is_stmt 1
 5341 0038 0624     		movs	r4, #6
 5342              	.LVL728:
 5343              	.L693:
3468:Middlewares/Third_Party/FatFs/src/ff.c **** }
 5344              		.loc 1 3468 0
 5345 003a 2046     		mov	r0, r4
 5346 003c 0DF50F7D 		add	sp, sp, #572
 5347              		@ sp needed
 5348 0040 30BD     		pop	{r4, r5, pc}
 5349              		.cfi_endproc
 5350              	.LFE169:
 5352              		.section	.text.f_getfree,"ax",%progbits
 5353              		.align	1
 5354              		.global	f_getfree
 5355              		.thumb
 5356              		.thumb_func
 5358              	f_getfree:
 5359              	.LFB170:
3482:Middlewares/Third_Party/FatFs/src/ff.c **** {
 5360              		.loc 1 3482 0
 5361              		.cfi_startproc
 5362              		@ args = 0, pretend = 0, frame = 8
 5363              		@ frame_needed = 0, uses_anonymous_args = 0
 5364              	.LVL729:
 5365 0000 2DE9F74F 		push	{r0, r1, r2, r4, r5, r6, r7, r8, r9, r10, fp, lr}
 5366              	.LCFI38:
 5367              		.cfi_def_cfa_offset 48
 5368              		.cfi_offset 0, -48
 5369              		.cfi_offset 1, -44
 5370              		.cfi_offset 2, -40
 5371              		.cfi_offset 4, -36
 5372              		.cfi_offset 5, -32
 5373              		.cfi_offset 6, -28
 5374              		.cfi_offset 7, -24
 5375              		.cfi_offset 8, -20
 5376              		.cfi_offset 9, -16
 5377              		.cfi_offset 10, -12
 5378              		.cfi_offset 11, -8
 5379              		.cfi_offset 14, -4
3482:Middlewares/Third_Party/FatFs/src/ff.c **** {
 5380              		.loc 1 3482 0
 5381 0004 02AB     		add	r3, sp, #8
 5382 0006 1446     		mov	r4, r2
 5383 0008 43F8040D 		str	r0, [r3, #-4]!
 5384 000c 8846     		mov	r8, r1
3491:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(fatfs, &path, 0);
 5385              		.loc 1 3491 0
 5386 000e 1046     		mov	r0, r2
 5387              	.LVL730:
 5388 0010 1946     		mov	r1, r3
 5389              	.LVL731:
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 189


 5390 0012 0022     		movs	r2, #0
 5391              	.LVL732:
 5392 0014 FFF7FEFF 		bl	find_volume
 5393              	.LVL733:
3492:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs = *fatfs;
 5394              		.loc 1 3492 0
 5395 0018 2468     		ldr	r4, [r4]
 5396              	.LVL734:
3493:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 5397              		.loc 1 3493 0
 5398 001a 0546     		mov	r5, r0
 5399 001c 0028     		cmp	r0, #0
 5400 001e 61D1     		bne	.L699
3495:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->free_clust <= fs->n_fatent - 2) {
 5401              		.loc 1 3495 0
 5402 0020 D4F81472 		ldr	r7, [r4, #532]
 5403 0024 D4F81032 		ldr	r3, [r4, #528]
 5404 0028 BA1E     		subs	r2, r7, #2
 5405 002a 9342     		cmp	r3, r2
 5406 002c 02D8     		bhi	.L700
3496:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = fs->free_clust;
 5407              		.loc 1 3496 0
 5408 002e C8F80030 		str	r3, [r8]
 5409 0032 57E0     		b	.L699
 5410              	.L700:
3499:Middlewares/Third_Party/FatFs/src/ff.c **** 			fat = fs->fs_type;
 5411              		.loc 1 3499 0
 5412 0034 94F80092 		ldrb	r9, [r4, #512]	@ zero_extendqisi2
 5413              	.LVL735:
3501:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fat == FS_FAT12) {
 5414              		.loc 1 3501 0
 5415 0038 B9F1010F 		cmp	r9, #1
 5416 003c 11D1     		bne	.L701
 5417 003e 0227     		movs	r7, #2
 5418 0040 0646     		mov	r6, r0
 5419              	.LVL736:
 5420              	.L704:
3504:Middlewares/Third_Party/FatFs/src/ff.c **** 					stat = get_fat(fs, clst);
 5421              		.loc 1 3504 0
 5422 0042 2046     		mov	r0, r4
 5423 0044 3946     		mov	r1, r7
 5424 0046 FFF7FEFF 		bl	get_fat
 5425              	.LVL737:
3505:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0xFFFFFFFF) { res = FR_DISK_ERR; break; }
 5426              		.loc 1 3505 0
 5427 004a 431C     		adds	r3, r0, #1
 5428 004c 3BD0     		beq	.L711
3506:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 1) { res = FR_INT_ERR; break; }
 5429              		.loc 1 3506 0
 5430 004e 0128     		cmp	r0, #1
 5431 0050 3BD0     		beq	.L712
3507:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0) n++;
 5432              		.loc 1 3507 0
 5433 0052 00B9     		cbnz	r0, .L703
3507:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0) n++;
 5434              		.loc 1 3507 0 is_stmt 0 discriminator 1
 5435 0054 0136     		adds	r6, r6, #1
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 190


 5436              	.LVL738:
 5437              	.L703:
3508:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (++clst < fs->n_fatent);
 5438              		.loc 1 3508 0 is_stmt 1
 5439 0056 D4F81432 		ldr	r3, [r4, #532]
 5440 005a 0137     		adds	r7, r7, #1
 5441              	.LVL739:
 5442 005c 9F42     		cmp	r7, r3
 5443 005e F0D3     		bcc	.L704
 5444 0060 36E0     		b	.L702
 5445              	.LVL740:
 5446              	.L701:
3511:Middlewares/Third_Party/FatFs/src/ff.c **** 				sect = fs->fatbase;
 5447              		.loc 1 3511 0
 5448 0062 D4F82012 		ldr	r1, [r4, #544]
 5449              	.LVL741:
3512:Middlewares/Third_Party/FatFs/src/ff.c **** 				i = 0; p = 0;
 5450              		.loc 1 3512 0
 5451 0066 0346     		mov	r3, r0
 5452 0068 0246     		mov	r2, r0
3500:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = 0;
 5453              		.loc 1 3500 0
 5454 006a 0646     		mov	r6, r0
 5455              	.LVL742:
 5456              	.L710:
3514:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!i) {
 5457              		.loc 1 3514 0
 5458 006c 4AB9     		cbnz	r2, .L705
 5459              	.LVL743:
3515:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = move_window(fs, sect++);
 5460              		.loc 1 3515 0
 5461 006e 2046     		mov	r0, r4
 5462 0070 01F1010A 		add	r10, r1, #1
 5463              	.LVL744:
 5464 0074 FFF7FEFF 		bl	move_window
 5465              	.LVL745:
3516:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res != FR_OK) break;
 5466              		.loc 1 3516 0
 5467 0078 48BB     		cbnz	r0, .L713
 5468              	.LVL746:
3517:Middlewares/Third_Party/FatFs/src/ff.c **** 						p = fs->win.d8;
 5469              		.loc 1 3517 0
 5470 007a 2346     		mov	r3, r4
 5471              	.LVL747:
3515:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = move_window(fs, sect++);
 5472              		.loc 1 3515 0
 5473 007c 5146     		mov	r1, r10
3518:Middlewares/Third_Party/FatFs/src/ff.c **** 						i = SS(fs);
 5474              		.loc 1 3518 0
 5475 007e 4FF40072 		mov	r2, #512
 5476              	.LVL748:
 5477              	.L705:
3520:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fat == FS_FAT16) {
 5478              		.loc 1 3520 0
 5479 0082 B9F1020F 		cmp	r9, #2
 5480 0086 5878     		ldrb	r0, [r3, #1]	@ zero_extendqisi2
 5481 0088 93F800C0 		ldrb	ip, [r3]	@ zero_extendqisi2
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 191


 5482 008c 06D1     		bne	.L706
3521:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (LD_WORD(p) == 0) n++;
 5483              		.loc 1 3521 0
 5484 008e 5CEA002C 		orrs	ip, ip, r0, lsl #8
 5485 0092 08BF     		it	eq
 5486 0094 0136     		addeq	r6, r6, #1
 5487              	.LVL749:
3522:Middlewares/Third_Party/FatFs/src/ff.c **** 						p += 2; i -= 2;
 5488              		.loc 1 3522 0
 5489 0096 0233     		adds	r3, r3, #2
 5490              	.LVL750:
 5491 0098 023A     		subs	r2, r2, #2
 5492              	.LVL751:
 5493 009a 11E0     		b	.L708
 5494              	.LVL752:
 5495              	.L706:
3524:Middlewares/Third_Party/FatFs/src/ff.c **** 						if ((LD_DWORD(p) & 0x0FFFFFFF) == 0) n++;
 5496              		.loc 1 3524 0
 5497 009c 93F802A0 		ldrb	r10, [r3, #2]	@ zero_extendqisi2
 5498 00a0 93F803B0 		ldrb	fp, [r3, #3]	@ zero_extendqisi2
 5499 00a4 4FEA0A4A 		lsl	r10, r10, #16
 5500 00a8 4AEA0B6A 		orr	r10, r10, fp, lsl #24
 5501 00ac 4AEA0C0C 		orr	ip, r10, ip
 5502 00b0 4CEA0020 		orr	r0, ip, r0, lsl #8
 5503 00b4 20F07040 		bic	r0, r0, #-268435456
 5504 00b8 00B9     		cbnz	r0, .L709
3524:Middlewares/Third_Party/FatFs/src/ff.c **** 						if ((LD_DWORD(p) & 0x0FFFFFFF) == 0) n++;
 5505              		.loc 1 3524 0 is_stmt 0 discriminator 1
 5506 00ba 0136     		adds	r6, r6, #1
 5507              	.LVL753:
 5508              	.L709:
3525:Middlewares/Third_Party/FatFs/src/ff.c **** 						p += 4; i -= 4;
 5509              		.loc 1 3525 0 is_stmt 1
 5510 00bc 0433     		adds	r3, r3, #4
 5511              	.LVL754:
 5512 00be 043A     		subs	r2, r2, #4
 5513              	.LVL755:
 5514              	.L708:
3527:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (--clst);
 5515              		.loc 1 3527 0
 5516 00c0 013F     		subs	r7, r7, #1
 5517              	.LVL756:
 5518 00c2 D3D1     		bne	.L710
 5519 00c4 04E0     		b	.L702
 5520              	.LVL757:
 5521              	.L711:
3505:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0xFFFFFFFF) { res = FR_DISK_ERR; break; }
 5522              		.loc 1 3505 0
 5523 00c6 0125     		movs	r5, #1
 5524 00c8 02E0     		b	.L702
 5525              	.L712:
3506:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 1) { res = FR_INT_ERR; break; }
 5526              		.loc 1 3506 0
 5527 00ca 0225     		movs	r5, #2
 5528 00cc 00E0     		b	.L702
 5529              	.LVL758:
 5530              	.L713:
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 192


3515:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = move_window(fs, sect++);
 5531              		.loc 1 3515 0
 5532 00ce 0546     		mov	r5, r0
 5533              	.LVL759:
 5534              	.L702:
3530:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag |= 1;
 5535              		.loc 1 3530 0
 5536 00d0 94F80532 		ldrb	r3, [r4, #517]	@ zero_extendqisi2
3529:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clust = n;
 5537              		.loc 1 3529 0
 5538 00d4 C4F81062 		str	r6, [r4, #528]
3530:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag |= 1;
 5539              		.loc 1 3530 0
 5540 00d8 43F00103 		orr	r3, r3, #1
 5541 00dc 84F80532 		strb	r3, [r4, #517]
3531:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = n;
 5542              		.loc 1 3531 0
 5543 00e0 C8F80060 		str	r6, [r8]
 5544              	.LVL760:
 5545              	.L699:
3535:Middlewares/Third_Party/FatFs/src/ff.c **** }
 5546              		.loc 1 3535 0
 5547 00e4 2846     		mov	r0, r5
 5548 00e6 03B0     		add	sp, sp, #12
 5549              	.LVL761:
 5550              		@ sp needed
 5551 00e8 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 5552              		.cfi_endproc
 5553              	.LFE170:
 5555              		.section	.text.f_truncate,"ax",%progbits
 5556              		.align	1
 5557              		.global	f_truncate
 5558              		.thumb
 5559              		.thumb_func
 5561              	f_truncate:
 5562              	.LFB171:
3547:Middlewares/Third_Party/FatFs/src/ff.c **** {
 5563              		.loc 1 3547 0
 5564              		.cfi_startproc
 5565              		@ args = 0, pretend = 0, frame = 0
 5566              		@ frame_needed = 0, uses_anonymous_args = 0
 5567              	.LVL762:
 5568 0000 70B5     		push	{r4, r5, r6, lr}
 5569              	.LCFI39:
 5570              		.cfi_def_cfa_offset 16
 5571              		.cfi_offset 4, -16
 5572              		.cfi_offset 5, -12
 5573              		.cfi_offset 6, -8
 5574              		.cfi_offset 14, -4
3547:Middlewares/Third_Party/FatFs/src/ff.c **** {
 5575              		.loc 1 3547 0
 5576 0002 0446     		mov	r4, r0
3552:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(fp);						/* Check validity of the object */
 5577              		.loc 1 3552 0
 5578 0004 FFF7FEFF 		bl	validate
 5579              	.LVL763:
3553:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 193


 5580              		.loc 1 3553 0
 5581 0008 0546     		mov	r5, r0
 5582 000a 0028     		cmp	r0, #0
 5583 000c 59D1     		bne	.L737
3554:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->err) {						/* Check error */
 5584              		.loc 1 3554 0
 5585 000e 94F80732 		ldrb	r3, [r4, #519]	@ zero_extendqisi2
 5586 0012 002B     		cmp	r3, #0
 5587 0014 4DD1     		bne	.L731
3557:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!(fp->flag & FA_WRITE))		/* Check access mode */
 5588              		.loc 1 3557 0
 5589 0016 94F80622 		ldrb	r2, [r4, #518]	@ zero_extendqisi2
 5590 001a 9107     		lsls	r1, r2, #30
 5591 001c 4BD5     		bpl	.L732
 5592              	.LVL764:
3562:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fsize > fp->fptr) {
 5593              		.loc 1 3562 0
 5594 001e D4F80832 		ldr	r3, [r4, #520]
 5595 0022 D4F80C12 		ldr	r1, [r4, #524]
 5596 0026 9942     		cmp	r1, r3
 5597 0028 4BD9     		bls	.L737
3564:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag |= FA__WRITTEN;
 5598              		.loc 1 3564 0
 5599 002a 42F02002 		orr	r2, r2, #32
3563:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fsize = fp->fptr;	/* Set file size to current R/W point */
 5600              		.loc 1 3563 0
 5601 002e C4F80C32 		str	r3, [r4, #524]
3564:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag |= FA__WRITTEN;
 5602              		.loc 1 3564 0
 5603 0032 84F80622 		strb	r2, [r4, #518]
3566:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = remove_chain(fp->fs, fp->sclust);
 5604              		.loc 1 3566 0
 5605 0036 D4F80002 		ldr	r0, [r4, #512]
3565:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->fptr == 0) {	/* When set file size to zero, remove entire cluster chain */
 5606              		.loc 1 3565 0
 5607 003a 33B9     		cbnz	r3, .L720
3566:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = remove_chain(fp->fs, fp->sclust);
 5608              		.loc 1 3566 0
 5609 003c D4F81012 		ldr	r1, [r4, #528]
 5610 0040 FFF7FEFF 		bl	remove_chain
 5611              	.LVL765:
3567:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->sclust = 0;
 5612              		.loc 1 3567 0
 5613 0044 C4F81052 		str	r5, [r4, #528]
 5614 0048 1CE0     		b	.L721
 5615              	.LVL766:
 5616              	.L720:
3569:Middlewares/Third_Party/FatFs/src/ff.c **** 				ncl = get_fat(fp->fs, fp->clust);
 5617              		.loc 1 3569 0
 5618 004a D4F81412 		ldr	r1, [r4, #532]
 5619 004e FFF7FEFF 		bl	get_fat
 5620              	.LVL767:
3571:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ncl == 0xFFFFFFFF) res = FR_DISK_ERR;
 5621              		.loc 1 3571 0
 5622 0052 421C     		adds	r2, r0, #1
3569:Middlewares/Third_Party/FatFs/src/ff.c **** 				ncl = get_fat(fp->fs, fp->clust);
 5623              		.loc 1 3569 0
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 194


 5624 0054 0646     		mov	r6, r0
 5625              	.LVL768:
3571:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ncl == 0xFFFFFFFF) res = FR_DISK_ERR;
 5626              		.loc 1 3571 0
 5627 0056 30D0     		beq	.L735
3572:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ncl == 1) res = FR_INT_ERR;
 5628              		.loc 1 3572 0
 5629 0058 0128     		cmp	r0, #1
 5630 005a 01D1     		bne	.L741
 5631 005c 0220     		movs	r0, #2
 5632              	.LVL769:
 5633 005e 2DE0     		b	.L724
 5634              	.LVL770:
 5635              	.L741:
3573:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK && ncl < fp->fs->n_fatent) {
 5636              		.loc 1 3573 0
 5637 0060 D4F80002 		ldr	r0, [r4, #512]
 5638              	.LVL771:
 5639 0064 D0F81432 		ldr	r3, [r0, #532]
 5640 0068 9E42     		cmp	r6, r3
 5641 006a 0CD2     		bcs	.L730
3574:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = put_fat(fp->fs, fp->clust, 0x0FFFFFFF);
 5642              		.loc 1 3574 0
 5643 006c D4F81412 		ldr	r1, [r4, #532]
 5644 0070 6FF07042 		mvn	r2, #-268435456
 5645 0074 FFF7FEFF 		bl	put_fat
 5646              	.LVL772:
3575:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) res = remove_chain(fp->fs, ncl);
 5647              		.loc 1 3575 0
 5648 0078 00BB     		cbnz	r0, .L724
3575:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) res = remove_chain(fp->fs, ncl);
 5649              		.loc 1 3575 0 is_stmt 0 discriminator 1
 5650 007a D4F80002 		ldr	r0, [r4, #512]
 5651              	.LVL773:
 5652 007e 3146     		mov	r1, r6
 5653 0080 FFF7FEFF 		bl	remove_chain
 5654              	.LVL774:
 5655              	.L721:
3579:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK && (fp->flag & FA__DIRTY)) {
 5656              		.loc 1 3579 0 is_stmt 1
 5657 0084 D0B9     		cbnz	r0, .L724
 5658              	.LVL775:
 5659              	.L730:
 5660 0086 94F80632 		ldrb	r3, [r4, #518]	@ zero_extendqisi2
 5661 008a 5B06     		lsls	r3, r3, #25
 5662 008c 19D5     		bpl	.L737
3580:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
 5663              		.loc 1 3580 0
 5664 008e D4F80032 		ldr	r3, [r4, #512]
 5665 0092 D4F81822 		ldr	r2, [r4, #536]
 5666 0096 93F80102 		ldrb	r0, [r3, #513]	@ zero_extendqisi2
 5667 009a 2146     		mov	r1, r4
 5668 009c 0123     		movs	r3, #1
 5669 009e FFF7FEFF 		bl	disk_write
 5670              	.LVL776:
 5671 00a2 50B9     		cbnz	r0, .L735
3583:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= ~FA__DIRTY;
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 195


 5672              		.loc 1 3583 0
 5673 00a4 94F80632 		ldrb	r3, [r4, #518]	@ zero_extendqisi2
 5674 00a8 23F04003 		bic	r3, r3, #64
 5675 00ac 84F80632 		strb	r3, [r4, #518]
 5676 00b0 07E0     		b	.L737
 5677              	.LVL777:
 5678              	.L731:
 5679 00b2 1D46     		mov	r5, r3
 5680 00b4 05E0     		b	.L737
 5681              	.L732:
3558:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_DENIED;
 5682              		.loc 1 3558 0
 5683 00b6 0725     		movs	r5, #7
 5684              	.LVL778:
 5685 00b8 03E0     		b	.L737
 5686              	.LVL779:
 5687              	.L735:
3581:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DISK_ERR;
 5688              		.loc 1 3581 0
 5689 00ba 0120     		movs	r0, #1
 5690              	.L724:
 5691              	.LVL780:
3587:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) fp->err = (FRESULT)res;
 5692              		.loc 1 3587 0
 5693 00bc 84F80702 		strb	r0, [r4, #519]
 5694 00c0 0546     		mov	r5, r0
 5695              	.LVL781:
 5696              	.L737:
3591:Middlewares/Third_Party/FatFs/src/ff.c **** }
 5697              		.loc 1 3591 0
 5698 00c2 2846     		mov	r0, r5
 5699 00c4 70BD     		pop	{r4, r5, r6, pc}
 5700              		.cfi_endproc
 5701              	.LFE171:
 5703              		.section	.text.f_unlink,"ax",%progbits
 5704              		.align	1
 5705              		.global	f_unlink
 5706              		.thumb
 5707              		.thumb_func
 5709              	f_unlink:
 5710              	.LFB172:
3603:Middlewares/Third_Party/FatFs/src/ff.c **** {
 5711              		.loc 1 3603 0
 5712              		.cfi_startproc
 5713              		@ args = 0, pretend = 0, frame = 1112
 5714              		@ frame_needed = 0, uses_anonymous_args = 0
 5715              	.LVL782:
 5716 0000 30B5     		push	{r4, r5, lr}
 5717              	.LCFI40:
 5718              		.cfi_def_cfa_offset 12
 5719              		.cfi_offset 4, -12
 5720              		.cfi_offset 5, -8
 5721              		.cfi_offset 14, -4
 5722 0002 ADF25C4D 		subw	sp, sp, #1116
 5723              	.LCFI41:
 5724              		.cfi_def_cfa_offset 1128
3612:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&dj.fs, &path, 1);
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 196


 5725              		.loc 1 3612 0
 5726 0006 01A9     		add	r1, sp, #4
3603:Middlewares/Third_Party/FatFs/src/ff.c **** {
 5727              		.loc 1 3603 0
 5728 0008 0190     		str	r0, [sp, #4]
3612:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&dj.fs, &path, 1);
 5729              		.loc 1 3612 0
 5730 000a 0122     		movs	r2, #1
 5731 000c 86A8     		add	r0, sp, #536
 5732              	.LVL783:
 5733 000e FFF7FEFF 		bl	find_volume
 5734              	.LVL784:
3613:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 5735              		.loc 1 3613 0
 5736 0012 0028     		cmp	r0, #0
 5737 0014 41D1     		bne	.L758
3614:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
 5738              		.loc 1 3614 0
 5739 0016 03AB     		add	r3, sp, #12
3615:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);		/* Follow the file path */
 5740              		.loc 1 3615 0
 5741 0018 06A8     		add	r0, sp, #24
 5742              	.LVL785:
 5743 001a 0199     		ldr	r1, [sp, #4]
3614:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
 5744              		.loc 1 3614 0
 5745 001c 8C93     		str	r3, [sp, #560]
3615:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);		/* Follow the file path */
 5746              		.loc 1 3615 0
 5747 001e FFF7FEFF 		bl	follow_path
 5748              	.LVL786:
3619:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) res = chk_lock(&dj, 2);	/* Cannot remove open object */
 5749              		.loc 1 3619 0
 5750 0022 0028     		cmp	r0, #0
 5751 0024 39D1     		bne	.L758
3619:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) res = chk_lock(&dj, 2);	/* Cannot remove open object */
 5752              		.loc 1 3619 0 is_stmt 0 discriminator 1
 5753 0026 06A8     		add	r0, sp, #24
 5754              	.LVL787:
 5755 0028 0221     		movs	r1, #2
 5756 002a FFF7FEFF 		bl	chk_lock
 5757              	.LVL788:
3621:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {					/* The object is accessible */
 5758              		.loc 1 3621 0 is_stmt 1 discriminator 1
 5759 002e 0028     		cmp	r0, #0
 5760 0030 33D1     		bne	.L758
3622:Middlewares/Third_Party/FatFs/src/ff.c **** 			dir = dj.dir;
 5761              		.loc 1 3622 0
 5762 0032 8B99     		ldr	r1, [sp, #556]
 5763              	.LVL789:
3623:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!dir) {
 5764              		.loc 1 3623 0
 5765 0034 19B1     		cbz	r1, .L752
3626:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dir[DIR_Attr] & AM_RDO)
 5766              		.loc 1 3626 0
 5767 0036 CD7A     		ldrb	r5, [r1, #11]	@ zero_extendqisi2
 5768 0038 EA07     		lsls	r2, r5, #31
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 197


 5769 003a 2DD4     		bmi	.L754
 5770 003c 01E0     		b	.L766
 5771              	.L752:
3624:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;		/* Cannot remove the origin directory */
 5772              		.loc 1 3624 0
 5773 003e 0620     		movs	r0, #6
 5774              	.LVL790:
 5775 0040 2BE0     		b	.L758
 5776              	.LVL791:
 5777              	.L766:
3630:Middlewares/Third_Party/FatFs/src/ff.c **** 				dclst = ld_clust(dj.fs, dir);
 5778              		.loc 1 3630 0
 5779 0042 869B     		ldr	r3, [sp, #536]
 5780 0044 93F80002 		ldrb	r0, [r3, #512]	@ zero_extendqisi2
 5781 0048 FFF7FEFF 		bl	ld_clust.isra.0
 5782              	.LVL792:
3631:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dclst && (dir[DIR_Attr] & AM_DIR)) {	/* Is it a sub-directory ? */
 5783              		.loc 1 3631 0
 5784 004c 0446     		mov	r4, r0
 5785 004e A0B1     		cbz	r0, .L746
3631:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dclst && (dir[DIR_Attr] & AM_DIR)) {	/* Is it a sub-directory ? */
 5786              		.loc 1 3631 0 is_stmt 0 discriminator 1
 5787 0050 EB06     		lsls	r3, r5, #27
 5788 0052 12D5     		bpl	.L746
3638:Middlewares/Third_Party/FatFs/src/ff.c **** 						mem_cpy(&sdj, &dj, sizeof (DIR));	/* Open the sub-directory */
 5789              		.loc 1 3638 0 is_stmt 1
 5790 0054 8EA8     		add	r0, sp, #568
 5791              	.LVL793:
 5792 0056 06A9     		add	r1, sp, #24
 5793 0058 4FF40872 		mov	r2, #544
 5794 005c FFF7FEFF 		bl	mem_cpy
 5795              	.LVL794:
3640:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = dir_sdi(&sdj, 2);
 5796              		.loc 1 3640 0
 5797 0060 8EA8     		add	r0, sp, #568
 5798 0062 0221     		movs	r1, #2
3639:Middlewares/Third_Party/FatFs/src/ff.c **** 						sdj.sclust = dclst;
 5799              		.loc 1 3639 0
 5800 0064 CDF84044 		str	r4, [sp, #1088]
3640:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = dir_sdi(&sdj, 2);
 5801              		.loc 1 3640 0
 5802 0068 FFF7FEFF 		bl	dir_sdi
 5803              	.LVL795:
3641:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res == FR_OK) {
 5804              		.loc 1 3641 0
 5805 006c A8B9     		cbnz	r0, .L758
3642:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = dir_read(&sdj, 0);			/* Read an item (excluding dot entries) */
 5806              		.loc 1 3642 0
 5807 006e 8EA8     		add	r0, sp, #568
 5808              	.LVL796:
 5809 0070 FFF7FEFF 		bl	dir_read.constprop.11
 5810              	.LVL797:
3643:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_OK) res = FR_DENIED;	/* Not empty? (cannot remove) */
 5811              		.loc 1 3643 0
 5812 0074 80B1     		cbz	r0, .L754
3644:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_NO_FILE) res = FR_OK;	/* Empty? (can remove) */
 5813              		.loc 1 3644 0
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 198


 5814 0076 0428     		cmp	r0, #4
 5815 0078 0FD1     		bne	.L758
 5816              	.LVL798:
 5817              	.L746:
3650:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_remove(&dj);		/* Remove the directory entry */
 5818              		.loc 1 3650 0
 5819 007a 06A8     		add	r0, sp, #24
 5820 007c FFF7FEFF 		bl	dir_remove
 5821              	.LVL799:
3651:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK && dclst)	/* Remove the cluster chain if exist */
 5822              		.loc 1 3651 0
 5823 0080 58B9     		cbnz	r0, .L758
3651:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK && dclst)	/* Remove the cluster chain if exist */
 5824              		.loc 1 3651 0 is_stmt 0 discriminator 1
 5825 0082 1CB9     		cbnz	r4, .L748
 5826              	.L749:
 5827              	.LVL800:
3653:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) res = sync_fs(dj.fs);
 5828              		.loc 1 3653 0 is_stmt 1
 5829 0084 8698     		ldr	r0, [sp, #536]
 5830 0086 FFF7FEFF 		bl	sync_fs
 5831              	.LVL801:
 5832 008a 06E0     		b	.L758
 5833              	.L748:
3652:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = remove_chain(dj.fs, dclst);
 5834              		.loc 1 3652 0
 5835 008c 8698     		ldr	r0, [sp, #536]
 5836              	.LVL802:
 5837 008e 2146     		mov	r1, r4
 5838 0090 FFF7FEFF 		bl	remove_chain
 5839              	.LVL803:
3653:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) res = sync_fs(dj.fs);
 5840              		.loc 1 3653 0
 5841 0094 08B9     		cbnz	r0, .L758
 5842 0096 F5E7     		b	.L749
 5843              	.LVL804:
 5844              	.L754:
3643:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_OK) res = FR_DENIED;	/* Not empty? (cannot remove) */
 5845              		.loc 1 3643 0
 5846 0098 0720     		movs	r0, #7
 5847              	.LVL805:
 5848              	.L758:
3660:Middlewares/Third_Party/FatFs/src/ff.c **** }
 5849              		.loc 1 3660 0
 5850 009a 0DF25C4D 		addw	sp, sp, #1116
 5851              		@ sp needed
 5852 009e 30BD     		pop	{r4, r5, pc}
 5853              		.cfi_endproc
 5854              	.LFE172:
 5856              		.section	.text.f_mkdir,"ax",%progbits
 5857              		.align	1
 5858              		.global	f_mkdir
 5859              		.thumb
 5860              		.thumb_func
 5862              	f_mkdir:
 5863              	.LFB173:
3672:Middlewares/Third_Party/FatFs/src/ff.c **** {
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 199


 5864              		.loc 1 3672 0
 5865              		.cfi_startproc
 5866              		@ args = 0, pretend = 0, frame = 592
 5867              		@ frame_needed = 0, uses_anonymous_args = 0
 5868              	.LVL806:
 5869 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 5870              	.LCFI42:
 5871              		.cfi_def_cfa_offset 36
 5872              		.cfi_offset 4, -36
 5873              		.cfi_offset 5, -32
 5874              		.cfi_offset 6, -28
 5875              		.cfi_offset 7, -24
 5876              		.cfi_offset 8, -20
 5877              		.cfi_offset 9, -16
 5878              		.cfi_offset 10, -12
 5879              		.cfi_offset 11, -8
 5880              		.cfi_offset 14, -4
 5881 0004 ADF5157D 		sub	sp, sp, #596
 5882              	.LCFI43:
 5883              		.cfi_def_cfa_offset 632
3672:Middlewares/Third_Party/FatFs/src/ff.c **** {
 5884              		.loc 1 3672 0
 5885 0008 0790     		str	r0, [sp, #28]
3676:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dsc, dcl, pcl, tm = GET_FATTIME();
 5886              		.loc 1 3676 0
 5887 000a FFF7FEFF 		bl	get_fattime
 5888              	.LVL807:
3681:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&dj.fs, &path, 1);
 5889              		.loc 1 3681 0
 5890 000e 07A9     		add	r1, sp, #28
 5891              	.LVL808:
3676:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dsc, dcl, pcl, tm = GET_FATTIME();
 5892              		.loc 1 3676 0
 5893 0010 0746     		mov	r7, r0
 5894              	.LVL809:
3681:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&dj.fs, &path, 1);
 5895              		.loc 1 3681 0
 5896 0012 0122     		movs	r2, #1
 5897 0014 8CA8     		add	r0, sp, #560
 5898              	.LVL810:
 5899 0016 FFF7FEFF 		bl	find_volume
 5900              	.LVL811:
 5901 001a 0646     		mov	r6, r0
 5902 001c 0446     		mov	r4, r0
 5903              	.LVL812:
3682:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 5904              		.loc 1 3682 0
 5905 001e 0028     		cmp	r0, #0
 5906 0020 40F0BF80 		bne	.L783
3683:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
 5907              		.loc 1 3683 0
 5908 0024 09AB     		add	r3, sp, #36
3684:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);			/* Follow the file path */
 5909              		.loc 1 3684 0
 5910 0026 0CA8     		add	r0, sp, #48
 5911              	.LVL813:
 5912 0028 0799     		ldr	r1, [sp, #28]
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 200


3683:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
 5913              		.loc 1 3683 0
 5914 002a 9293     		str	r3, [sp, #584]
3684:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);			/* Follow the file path */
 5915              		.loc 1 3684 0
 5916 002c FFF7FEFF 		bl	follow_path
 5917              	.LVL814:
3685:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) res = FR_EXIST;		/* Any object with same name is already existing */
 5918              		.loc 1 3685 0
 5919 0030 0646     		mov	r6, r0
 5920 0032 A8B1     		cbz	r0, .L778
3688:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_NO_FILE) {				/* Can create a new directory */
 5921              		.loc 1 3688 0
 5922 0034 0428     		cmp	r0, #4
 5923 0036 40F0B480 		bne	.L783
3689:Middlewares/Third_Party/FatFs/src/ff.c **** 			dcl = create_chain(dj.fs, 0);		/* Allocate a cluster for the new directory table */
 5924              		.loc 1 3689 0
 5925 003a 8C98     		ldr	r0, [sp, #560]
 5926              	.LVL815:
 5927 003c 2146     		mov	r1, r4
 5928 003e FFF7FEFF 		bl	create_chain
 5929              	.LVL816:
3691:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 0) res = FR_DENIED;		/* No space to allocate a new cluster */
 5930              		.loc 1 3691 0
 5931 0042 0546     		mov	r5, r0
 5932 0044 30B1     		cbz	r0, .L779
3692:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 1) res = FR_INT_ERR;
 5933              		.loc 1 3692 0
 5934 0046 0128     		cmp	r0, #1
 5935 0048 0CD0     		beq	.L780
3693:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 0xFFFFFFFF) res = FR_DISK_ERR;
 5936              		.loc 1 3693 0
 5937 004a 431C     		adds	r3, r0, #1
 5938 004c 08BF     		it	eq
 5939 004e 0126     		moveq	r6, #1
 5940 0050 01D0     		beq	.L776
 5941 0052 09E0     		b	.L785
 5942              	.L779:
3691:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 0) res = FR_DENIED;		/* No space to allocate a new cluster */
 5943              		.loc 1 3691 0
 5944 0054 0726     		movs	r6, #7
 5945              	.LVL817:
 5946              	.L776:
3720:Middlewares/Third_Party/FatFs/src/ff.c **** 				remove_chain(dj.fs, dcl);			/* Could not register, remove cluster chain */
 5947              		.loc 1 3720 0
 5948 0056 8C98     		ldr	r0, [sp, #560]
 5949 0058 2946     		mov	r1, r5
 5950 005a FFF7FEFF 		bl	remove_chain
 5951              	.LVL818:
 5952 005e A0E0     		b	.L783
 5953              	.LVL819:
 5954              	.L778:
3685:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) res = FR_EXIST;		/* Any object with same name is already existing */
 5955              		.loc 1 3685 0
 5956 0060 0826     		movs	r6, #8
 5957              	.LVL820:
 5958 0062 9EE0     		b	.L783
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 201


 5959              	.LVL821:
 5960              	.L780:
3692:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 1) res = FR_INT_ERR;
 5961              		.loc 1 3692 0
 5962 0064 0226     		movs	r6, #2
 5963 0066 F6E7     		b	.L776
 5964              	.L785:
3695:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_window(dj.fs);
 5965              		.loc 1 3695 0
 5966 0068 8C98     		ldr	r0, [sp, #560]
 5967              	.LVL822:
 5968 006a FFF7FEFF 		bl	sync_window
 5969              	.LVL823:
3696:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {					/* Initialize the new directory table */
 5970              		.loc 1 3696 0
 5971 006e 0646     		mov	r6, r0
 5972 0070 0028     		cmp	r0, #0
 5973 0072 F0D1     		bne	.L776
3697:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(dj.fs, dcl);
 5974              		.loc 1 3697 0
 5975 0074 8C9C     		ldr	r4, [sp, #560]
 5976 0076 2946     		mov	r1, r5
 5977 0078 2046     		mov	r0, r4
 5978              	.LVL824:
 5979 007a FFF7FEFF 		bl	clust2sect
 5980              	.LVL825:
3699:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(dir, 0, SS(dj.fs));
 5981              		.loc 1 3699 0
 5982 007e 3146     		mov	r1, r6
3697:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(dj.fs, dcl);
 5983              		.loc 1 3697 0
 5984 0080 8446     		mov	ip, r0
 5985              	.LVL826:
3699:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(dir, 0, SS(dj.fs));
 5986              		.loc 1 3699 0
 5987 0082 4FF40072 		mov	r2, #512
 5988 0086 2046     		mov	r0, r4
 5989              	.LVL827:
 5990 0088 CDF804C0 		str	ip, [sp, #4]
 5991 008c FFF7FEFF 		bl	mem_set
 5992              	.LVL828:
3700:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(dir + DIR_Name, ' ', 11);	/* Create "." entry */
 5993              		.loc 1 3700 0
 5994 0090 2046     		mov	r0, r4
 5995 0092 2021     		movs	r1, #32
 5996 0094 0B22     		movs	r2, #11
 5997 0096 FFF7FEFF 		bl	mem_set
 5998              	.LVL829:
3702:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] = AM_DIR;
 5999              		.loc 1 3702 0
 6000 009a 1023     		movs	r3, #16
 6001 009c E372     		strb	r3, [r4, #11]
 6002              	.LBB94:
 6003              	.LBB95:
1330:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(dir + DIR_FstClusLO, cl);
 6004              		.loc 1 1330 0
 6005 009e EBB2     		uxtb	r3, r5
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 202


 6006 00a0 0293     		str	r3, [sp, #8]
 6007 00a2 A376     		strb	r3, [r4, #26]
 6008 00a4 C5F30723 		ubfx	r3, r5, #8, #8
 6009 00a8 0393     		str	r3, [sp, #12]
 6010 00aa E376     		strb	r3, [r4, #27]
1331:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(dir + DIR_FstClusHI, cl >> 16);
 6011              		.loc 1 1331 0
 6012 00ac 2B0C     		lsrs	r3, r5, #16
 6013 00ae DAB2     		uxtb	r2, r3
 6014              	.LBE95:
 6015              	.LBE94:
3701:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Name] = '.';
 6016              		.loc 1 3701 0
 6017 00b0 4FF02E0B 		mov	fp, #46
 6018              	.LBB99:
 6019              	.LBB96:
1331:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(dir + DIR_FstClusHI, cl >> 16);
 6020              		.loc 1 1331 0
 6021 00b4 1B0A     		lsrs	r3, r3, #8
 6022              	.LBE96:
 6023              	.LBE99:
3703:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_WrtTime, tm);
 6024              		.loc 1 3703 0
 6025 00b6 5FFA87FA 		uxtb	r10, r7
 6026 00ba C7F30729 		ubfx	r9, r7, #8, #8
 6027 00be C7F30748 		ubfx	r8, r7, #16, #8
 6028 00c2 3F0E     		lsrs	r7, r7, #24
 6029              	.LVL830:
 6030              	.LBB100:
 6031              	.LBB97:
1331:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(dir + DIR_FstClusHI, cl >> 16);
 6032              		.loc 1 1331 0
 6033 00c4 0492     		str	r2, [sp, #16]
 6034 00c6 2275     		strb	r2, [r4, #20]
 6035 00c8 6375     		strb	r3, [r4, #21]
 6036              	.LBE97:
 6037              	.LBE100:
3705:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(dir + SZ_DIRE, dir, SZ_DIRE); 	/* Create ".." entry */
 6038              		.loc 1 3705 0
 6039 00ca 2146     		mov	r1, r4
 6040 00cc 2022     		movs	r2, #32
3701:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Name] = '.';
 6041              		.loc 1 3701 0
 6042 00ce 84F800B0 		strb	fp, [r4]
3703:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_WrtTime, tm);
 6043              		.loc 1 3703 0
 6044 00d2 84F816A0 		strb	r10, [r4, #22]
 6045 00d6 84F81790 		strb	r9, [r4, #23]
 6046 00da 84F81880 		strb	r8, [r4, #24]
 6047 00de 6776     		strb	r7, [r4, #25]
 6048              	.LVL831:
3705:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(dir + SZ_DIRE, dir, SZ_DIRE); 	/* Create ".." entry */
 6049              		.loc 1 3705 0
 6050 00e0 04F12000 		add	r0, r4, #32
 6051              	.LBB101:
 6052              	.LBB98:
1331:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(dir + DIR_FstClusHI, cl >> 16);
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 203


 6053              		.loc 1 1331 0
 6054 00e4 0593     		str	r3, [sp, #20]
 6055              	.LBE98:
 6056              	.LBE101:
3705:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(dir + SZ_DIRE, dir, SZ_DIRE); 	/* Create ".." entry */
 6057              		.loc 1 3705 0
 6058 00e6 FFF7FEFF 		bl	mem_cpy
 6059              	.LVL832:
3706:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[SZ_DIRE + 1] = '.'; pcl = dj.sclust;
 6060              		.loc 1 3706 0
 6061 00ea 84F821B0 		strb	fp, [r4, #33]
3707:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.fs->fs_type == FS_FAT32 && pcl == dj.fs->dirbase)
 6062              		.loc 1 3707 0
 6063 00ee 8C9A     		ldr	r2, [sp, #560]
3706:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[SZ_DIRE + 1] = '.'; pcl = dj.sclust;
 6064              		.loc 1 3706 0
 6065 00f0 8E9B     		ldr	r3, [sp, #568]
 6066              	.LVL833:
3707:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.fs->fs_type == FS_FAT32 && pcl == dj.fs->dirbase)
 6067              		.loc 1 3707 0
 6068 00f2 92F80012 		ldrb	r1, [r2, #512]	@ zero_extendqisi2
 6069 00f6 DDF804C0 		ldr	ip, [sp, #4]
 6070 00fa 0329     		cmp	r1, #3
 6071 00fc 04D1     		bne	.L771
3707:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.fs->fs_type == FS_FAT32 && pcl == dj.fs->dirbase)
 6072              		.loc 1 3707 0 is_stmt 0 discriminator 1
 6073 00fe D2F82422 		ldr	r2, [r2, #548]
3708:Middlewares/Third_Party/FatFs/src/ff.c **** 					pcl = 0;
 6074              		.loc 1 3708 0 is_stmt 1 discriminator 1
 6075 0102 9342     		cmp	r3, r2
 6076 0104 08BF     		it	eq
 6077 0106 0023     		moveq	r3, #0
 6078              	.LVL834:
 6079              	.L771:
 6080              	.LBB102:
 6081              	.LBB103:
1330:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(dir + DIR_FstClusLO, cl);
 6082              		.loc 1 1330 0
 6083 0108 84F83A30 		strb	r3, [r4, #58]
 6084 010c C3F30722 		ubfx	r2, r3, #8, #8
1331:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(dir + DIR_FstClusHI, cl >> 16);
 6085              		.loc 1 1331 0
 6086 0110 1B0C     		lsrs	r3, r3, #16
 6087              	.LVL835:
 6088 0112 84F83430 		strb	r3, [r4, #52]
 6089 0116 1B0A     		lsrs	r3, r3, #8
1330:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(dir + DIR_FstClusLO, cl);
 6090              		.loc 1 1330 0
 6091 0118 84F83B20 		strb	r2, [r4, #59]
1331:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(dir + DIR_FstClusHI, cl >> 16);
 6092              		.loc 1 1331 0
 6093 011c 84F83530 		strb	r3, [r4, #53]
 6094              	.LBE103:
 6095              	.LBE102:
3710:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (n = dj.fs->csize; n; n--) {	/* Write dot entries and clear following sectors */
 6096              		.loc 1 3710 0
 6097 0120 8C9B     		ldr	r3, [sp, #560]
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 204


 6098 0122 93F802B2 		ldrb	fp, [r3, #514]	@ zero_extendqisi2
 6099              	.LVL836:
 6100              	.L772:
3710:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (n = dj.fs->csize; n; n--) {	/* Write dot entries and clear following sectors */
 6101              		.loc 1 3710 0 is_stmt 0 discriminator 1
 6102 0126 BBF1000F 		cmp	fp, #0
 6103 012a 1AD0     		beq	.L786
3711:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.fs->winsect = dsc++;
 6104              		.loc 1 3711 0 is_stmt 1
 6105 012c 8C98     		ldr	r0, [sp, #560]
3712:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.fs->wflag = 1;
 6106              		.loc 1 3712 0
 6107 012e 0122     		movs	r2, #1
3711:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.fs->winsect = dsc++;
 6108              		.loc 1 3711 0
 6109 0130 0CF10103 		add	r3, ip, #1
 6110 0134 C0F82CC2 		str	ip, [r0, #556]
3712:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.fs->wflag = 1;
 6111              		.loc 1 3712 0
 6112 0138 80F80422 		strb	r2, [r0, #516]
3711:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.fs->winsect = dsc++;
 6113              		.loc 1 3711 0
 6114 013c 0693     		str	r3, [sp, #24]
 6115              	.LVL837:
 6116              	.LBB104:
 6117              	.LBB105:
 6118 013e FFF7FEFF 		bl	sync_window.part.2
 6119              	.LVL838:
 6120              	.LBE105:
 6121              	.LBE104:
3714:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res != FR_OK) break;
 6122              		.loc 1 3714 0
 6123 0142 0646     		mov	r6, r0
 6124 0144 0028     		cmp	r0, #0
 6125 0146 86D1     		bne	.L776
3715:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(dir, 0, SS(dj.fs));
 6126              		.loc 1 3715 0
 6127 0148 2046     		mov	r0, r4
 6128              	.LVL839:
 6129 014a 3146     		mov	r1, r6
 6130 014c 4FF40072 		mov	r2, #512
 6131 0150 FFF7FEFF 		bl	mem_set
 6132              	.LVL840:
3710:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (n = dj.fs->csize; n; n--) {	/* Write dot entries and clear following sectors */
 6133              		.loc 1 3710 0
 6134 0154 0BF1FF33 		add	r3, fp, #-1
 6135 0158 5FFA83FB 		uxtb	fp, r3
 6136              	.LVL841:
3711:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.fs->winsect = dsc++;
 6137              		.loc 1 3711 0
 6138 015c DDF818C0 		ldr	ip, [sp, #24]
 6139 0160 E1E7     		b	.L772
 6140              	.LVL842:
 6141              	.L786:
3718:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) res = dir_register(&dj);	/* Register the object to the directoy */
 6142              		.loc 1 3718 0 discriminator 1
 6143 0162 0CA8     		add	r0, sp, #48
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 205


 6144 0164 FFF7FEFF 		bl	dir_register
 6145              	.LVL843:
3719:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {
 6146              		.loc 1 3719 0 discriminator 1
 6147 0168 0646     		mov	r6, r0
 6148 016a 0028     		cmp	r0, #0
 6149 016c 7FF473AF 		bne	.L776
3722:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir = dj.dir;
 6150              		.loc 1 3722 0
 6151 0170 919B     		ldr	r3, [sp, #580]
 6152              	.LVL844:
3723:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] = AM_DIR;				/* Attribute */
 6153              		.loc 1 3723 0
 6154 0172 1022     		movs	r2, #16
 6155 0174 DA72     		strb	r2, [r3, #11]
 6156              	.LBB106:
 6157              	.LBB107:
1330:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(dir + DIR_FstClusLO, cl);
 6158              		.loc 1 1330 0
 6159 0176 029A     		ldr	r2, [sp, #8]
 6160 0178 9A76     		strb	r2, [r3, #26]
 6161 017a 039A     		ldr	r2, [sp, #12]
 6162 017c DA76     		strb	r2, [r3, #27]
1331:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(dir + DIR_FstClusHI, cl >> 16);
 6163              		.loc 1 1331 0
 6164 017e 049A     		ldr	r2, [sp, #16]
 6165 0180 1A75     		strb	r2, [r3, #20]
 6166 0182 059A     		ldr	r2, [sp, #20]
 6167              	.LBE107:
 6168              	.LBE106:
3724:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_WrtTime, tm);	/* Created time */
 6169              		.loc 1 3724 0
 6170 0184 83F816A0 		strb	r10, [r3, #22]
 6171 0188 83F81790 		strb	r9, [r3, #23]
 6172 018c 83F81880 		strb	r8, [r3, #24]
 6173 0190 5F76     		strb	r7, [r3, #25]
 6174              	.LVL845:
 6175              	.LBB109:
 6176              	.LBB108:
1331:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(dir + DIR_FstClusHI, cl >> 16);
 6177              		.loc 1 1331 0
 6178 0192 5A75     		strb	r2, [r3, #21]
 6179              	.LBE108:
 6180              	.LBE109:
3726:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.fs->wflag = 1;
 6181              		.loc 1 3726 0
 6182 0194 8C98     		ldr	r0, [sp, #560]
 6183              	.LVL846:
 6184 0196 0123     		movs	r3, #1
 6185              	.LVL847:
 6186 0198 80F80432 		strb	r3, [r0, #516]
3727:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(dj.fs);
 6187              		.loc 1 3727 0
 6188 019c FFF7FEFF 		bl	sync_fs
 6189              	.LVL848:
 6190 01a0 0646     		mov	r6, r0
 6191              	.LVL849:
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 206


 6192              	.L783:
3734:Middlewares/Third_Party/FatFs/src/ff.c **** }
 6193              		.loc 1 3734 0
 6194 01a2 3046     		mov	r0, r6
 6195 01a4 0DF5157D 		add	sp, sp, #596
 6196              		@ sp needed
 6197 01a8 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 6198              		.cfi_endproc
 6199              	.LFE173:
 6201              		.section	.text.f_chmod,"ax",%progbits
 6202              		.align	1
 6203              		.global	f_chmod
 6204              		.thumb
 6205              		.thumb_func
 6207              	f_chmod:
 6208              	.LFB174:
3748:Middlewares/Third_Party/FatFs/src/ff.c **** {
 6209              		.loc 1 3748 0
 6210              		.cfi_startproc
 6211              		@ args = 0, pretend = 0, frame = 568
 6212              		@ frame_needed = 0, uses_anonymous_args = 0
 6213              	.LVL850:
 6214 0000 30B5     		push	{r4, r5, lr}
 6215              	.LCFI44:
 6216              		.cfi_def_cfa_offset 12
 6217              		.cfi_offset 4, -12
 6218              		.cfi_offset 5, -8
 6219              		.cfi_offset 14, -4
 6220 0002 ADF50F7D 		sub	sp, sp, #572
 6221              	.LCFI45:
 6222              		.cfi_def_cfa_offset 584
3748:Middlewares/Third_Party/FatFs/src/ff.c **** {
 6223              		.loc 1 3748 0
 6224 0006 0C46     		mov	r4, r1
 6225 0008 0190     		str	r0, [sp, #4]
 6226 000a 1546     		mov	r5, r2
3756:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&dj.fs, &path, 1);
 6227              		.loc 1 3756 0
 6228 000c 86A8     		add	r0, sp, #536
 6229              	.LVL851:
 6230 000e 01A9     		add	r1, sp, #4
 6231              	.LVL852:
 6232 0010 0122     		movs	r2, #1
 6233              	.LVL853:
 6234 0012 FFF7FEFF 		bl	find_volume
 6235              	.LVL854:
3757:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 6236              		.loc 1 3757 0
 6237 0016 C8B9     		cbnz	r0, .L788
3758:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
 6238              		.loc 1 3758 0
 6239 0018 03AB     		add	r3, sp, #12
3759:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);		/* Follow the file path */
 6240              		.loc 1 3759 0
 6241 001a 06A8     		add	r0, sp, #24
 6242              	.LVL855:
 6243 001c 0199     		ldr	r1, [sp, #4]
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 207


3758:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
 6244              		.loc 1 3758 0
 6245 001e 8C93     		str	r3, [sp, #560]
3759:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);		/* Follow the file path */
 6246              		.loc 1 3759 0
 6247 0020 FFF7FEFF 		bl	follow_path
 6248              	.LVL856:
3763:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 6249              		.loc 1 3763 0
 6250 0024 90B9     		cbnz	r0, .L788
3764:Middlewares/Third_Party/FatFs/src/ff.c **** 			dir = dj.dir;
 6251              		.loc 1 3764 0
 6252 0026 8B9B     		ldr	r3, [sp, #556]
 6253              	.LVL857:
3765:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!dir) {						/* Is it a root directory? */
 6254              		.loc 1 3765 0
 6255 0028 7BB1     		cbz	r3, .L789
3769:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] = (attr & mask) | (dir[DIR_Attr] & (BYTE)~mask);	/* Apply attribute change */
 6256              		.loc 1 3769 0
 6257 002a D97A     		ldrb	r1, [r3, #11]	@ zero_extendqisi2
3768:Middlewares/Third_Party/FatFs/src/ff.c **** 				mask &= AM_RDO|AM_HID|AM_SYS|AM_ARC;	/* Valid attribute mask */
 6258              		.loc 1 3768 0
 6259 002c 05F02702 		and	r2, r5, #39
 6260              	.LVL858:
3769:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] = (attr & mask) | (dir[DIR_Attr] & (BYTE)~mask);	/* Apply attribute change */
 6261              		.loc 1 3769 0
 6262 0030 21EA0201 		bic	r1, r1, r2
 6263 0034 1440     		ands	r4, r4, r2
 6264 0036 41EA0402 		orr	r2, r1, r4
 6265              	.LVL859:
 6266 003a DA72     		strb	r2, [r3, #11]
3770:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.fs->wflag = 1;
 6267              		.loc 1 3770 0
 6268 003c 8698     		ldr	r0, [sp, #536]
 6269              	.LVL860:
 6270 003e 0123     		movs	r3, #1
 6271              	.LVL861:
 6272 0040 80F80432 		strb	r3, [r0, #516]
3771:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(dj.fs);
 6273              		.loc 1 3771 0
 6274 0044 FFF7FEFF 		bl	sync_fs
 6275              	.LVL862:
 6276 0048 00E0     		b	.L788
 6277              	.LVL863:
 6278              	.L789:
3766:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
 6279              		.loc 1 3766 0
 6280 004a 0620     		movs	r0, #6
 6281              	.LVL864:
 6282              	.L788:
3777:Middlewares/Third_Party/FatFs/src/ff.c **** }
 6283              		.loc 1 3777 0
 6284 004c 0DF50F7D 		add	sp, sp, #572
 6285              		@ sp needed
 6286 0050 30BD     		pop	{r4, r5, pc}
 6287              		.cfi_endproc
 6288              	.LFE174:
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 208


 6290              		.section	.text.f_rename,"ax",%progbits
 6291              		.align	1
 6292              		.global	f_rename
 6293              		.thumb
 6294              		.thumb_func
 6296              	f_rename:
 6297              	.LFB175:
3790:Middlewares/Third_Party/FatFs/src/ff.c **** {
 6298              		.loc 1 3790 0
 6299              		.cfi_startproc
 6300              		@ args = 0, pretend = 0, frame = 1136
 6301              		@ frame_needed = 0, uses_anonymous_args = 0
 6302              	.LVL865:
 6303 0000 30B5     		push	{r4, r5, lr}
 6304              	.LCFI46:
 6305              		.cfi_def_cfa_offset 12
 6306              		.cfi_offset 4, -12
 6307              		.cfi_offset 5, -8
 6308              		.cfi_offset 14, -4
 6309 0002 ADF2744D 		subw	sp, sp, #1140
 6310              	.LCFI47:
 6311              		.cfi_def_cfa_offset 1152
3799:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&djo.fs, &path_old, 1);
 6312              		.loc 1 3799 0
 6313 0006 0122     		movs	r2, #1
3790:Middlewares/Third_Party/FatFs/src/ff.c **** {
 6314              		.loc 1 3790 0
 6315 0008 0190     		str	r0, [sp, #4]
 6316 000a 0091     		str	r1, [sp]
3799:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&djo.fs, &path_old, 1);
 6317              		.loc 1 3799 0
 6318 000c 8CA8     		add	r0, sp, #560
 6319              	.LVL866:
 6320 000e 01A9     		add	r1, sp, #4
 6321              	.LVL867:
 6322 0010 FFF7FEFF 		bl	find_volume
 6323              	.LVL868:
3800:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 6324              		.loc 1 3800 0
 6325 0014 0028     		cmp	r0, #0
 6326 0016 40F08180 		bne	.L801
3801:Middlewares/Third_Party/FatFs/src/ff.c **** 		djn.fs = djo.fs;
 6327              		.loc 1 3801 0
 6328 001a 8C9B     		ldr	r3, [sp, #560]
 6329 001c CDF85034 		str	r3, [sp, #1104]
3803:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&djo, path_old);		/* Check old object */
 6330              		.loc 1 3803 0
 6331 0020 0CA8     		add	r0, sp, #48
 6332              	.LVL869:
3802:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(djo);
 6333              		.loc 1 3802 0
 6334 0022 03AB     		add	r3, sp, #12
3803:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&djo, path_old);		/* Check old object */
 6335              		.loc 1 3803 0
 6336 0024 0199     		ldr	r1, [sp, #4]
3802:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(djo);
 6337              		.loc 1 3802 0
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 209


 6338 0026 9293     		str	r3, [sp, #584]
3803:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&djo, path_old);		/* Check old object */
 6339              		.loc 1 3803 0
 6340 0028 FFF7FEFF 		bl	follow_path
 6341              	.LVL870:
3807:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) res = chk_lock(&djo, 2);
 6342              		.loc 1 3807 0
 6343 002c 0028     		cmp	r0, #0
 6344 002e 75D1     		bne	.L801
3807:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) res = chk_lock(&djo, 2);
 6345              		.loc 1 3807 0 is_stmt 0 discriminator 1
 6346 0030 0CA8     		add	r0, sp, #48
 6347              	.LVL871:
 6348 0032 0221     		movs	r1, #2
 6349 0034 FFF7FEFF 		bl	chk_lock
 6350              	.LVL872:
3809:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {						/* Old object is found */
 6351              		.loc 1 3809 0 is_stmt 1 discriminator 1
 6352 0038 0028     		cmp	r0, #0
 6353 003a 6FD1     		bne	.L801
3810:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!djo.dir) {						/* Is root dir? */
 6354              		.loc 1 3810 0
 6355 003c 9199     		ldr	r1, [sp, #580]
 6356 003e 0029     		cmp	r1, #0
 6357 0040 5DD0     		beq	.L796
3813:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(buf, djo.dir + DIR_Attr, 21);	/* Save information about object except name */
 6358              		.loc 1 3813 0
 6359 0042 06A8     		add	r0, sp, #24
 6360              	.LVL873:
 6361 0044 0B31     		adds	r1, r1, #11
 6362 0046 1522     		movs	r2, #21
 6363 0048 FFF7FEFF 		bl	mem_cpy
 6364              	.LVL874:
3814:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(&djn, &djo, sizeof (DIR));		/* Duplicate the directory object */
 6365              		.loc 1 3814 0
 6366 004c 94A8     		add	r0, sp, #592
 6367 004e 0CA9     		add	r1, sp, #48
 6368 0050 4FF40872 		mov	r2, #544
 6369 0054 FFF7FEFF 		bl	mem_cpy
 6370              	.LVL875:
3815:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (get_ldnumber(&path_new) >= 0)		/* Snip drive number off and ignore it */
 6371              		.loc 1 3815 0
 6372 0058 6846     		mov	r0, sp
 6373 005a FFF7FEFF 		bl	get_ldnumber
 6374              	.LVL876:
 6375 005e 0028     		cmp	r0, #0
 6376 0060 4FDB     		blt	.L797
3816:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = follow_path(&djn, path_new);	/* and make sure if new object name is not conflicting */
 6377              		.loc 1 3816 0
 6378 0062 94A8     		add	r0, sp, #592
 6379 0064 0099     		ldr	r1, [sp]
 6380 0066 FFF7FEFF 		bl	follow_path
 6381              	.LVL877:
3819:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) res = FR_EXIST;		/* The new object name is already existing */
 6382              		.loc 1 3819 0
 6383 006a 0028     		cmp	r0, #0
 6384 006c 4BD0     		beq	.L798
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 210


3820:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) { 				/* It is a valid path and no name collision */
 6385              		.loc 1 3820 0
 6386 006e 0428     		cmp	r0, #4
 6387 0070 54D1     		bne	.L801
3821:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_register(&djn);			/* Register the new entry */
 6388              		.loc 1 3821 0
 6389 0072 94A8     		add	r0, sp, #592
 6390              	.LVL878:
 6391 0074 FFF7FEFF 		bl	dir_register
 6392              	.LVL879:
3822:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
 6393              		.loc 1 3822 0
 6394 0078 0028     		cmp	r0, #0
 6395 007a 4FD1     		bne	.L801
3824:Middlewares/Third_Party/FatFs/src/ff.c **** 						dir = djn.dir;					/* Copy information about object except name */
 6396              		.loc 1 3824 0
 6397 007c DDF86444 		ldr	r4, [sp, #1124]
 6398              	.LVL880:
3825:Middlewares/Third_Party/FatFs/src/ff.c **** 						mem_cpy(dir + 13, buf + 2, 19);
 6399              		.loc 1 3825 0
 6400 0080 0DF11A01 		add	r1, sp, #26
 6401 0084 04F10D00 		add	r0, r4, #13
 6402              	.LVL881:
 6403 0088 1322     		movs	r2, #19
 6404 008a FFF7FEFF 		bl	mem_cpy
 6405              	.LVL882:
3826:Middlewares/Third_Party/FatFs/src/ff.c **** 						dir[DIR_Attr] = buf[0] | AM_ARC;
 6406              		.loc 1 3826 0
 6407 008e 9DF81830 		ldrb	r3, [sp, #24]	@ zero_extendqisi2
 6408 0092 43F02003 		orr	r3, r3, #32
 6409 0096 E372     		strb	r3, [r4, #11]
3827:Middlewares/Third_Party/FatFs/src/ff.c **** 						djo.fs->wflag = 1;
 6410              		.loc 1 3827 0
 6411 0098 8C9D     		ldr	r5, [sp, #560]
 6412 009a 0123     		movs	r3, #1
 6413 009c 85F80432 		strb	r3, [r5, #516]
3828:Middlewares/Third_Party/FatFs/src/ff.c **** 						if ((dir[DIR_Attr] & AM_DIR) && djo.sclust != djn.sclust) {	/* Update .. entry in the sub-dir
 6414              		.loc 1 3828 0
 6415 00a0 E37A     		ldrb	r3, [r4, #11]	@ zero_extendqisi2
 6416 00a2 DB06     		lsls	r3, r3, #27
 6417 00a4 33D5     		bpl	.L794
3828:Middlewares/Third_Party/FatFs/src/ff.c **** 						if ((dir[DIR_Attr] & AM_DIR) && djo.sclust != djn.sclust) {	/* Update .. entry in the sub-dir
 6418              		.loc 1 3828 0 is_stmt 0 discriminator 1
 6419 00a6 8E9A     		ldr	r2, [sp, #568]
 6420 00a8 DDF85834 		ldr	r3, [sp, #1112]
 6421 00ac 9A42     		cmp	r2, r3
 6422 00ae 2ED0     		beq	.L794
3829:Middlewares/Third_Party/FatFs/src/ff.c **** 							dw = clust2sect(djo.fs, ld_clust(djo.fs, dir));
 6423              		.loc 1 3829 0 is_stmt 1
 6424 00b0 2146     		mov	r1, r4
 6425 00b2 95F80002 		ldrb	r0, [r5, #512]	@ zero_extendqisi2
 6426 00b6 FFF7FEFF 		bl	ld_clust.isra.0
 6427              	.LVL883:
 6428 00ba 0146     		mov	r1, r0
 6429 00bc 2846     		mov	r0, r5
 6430 00be FFF7FEFF 		bl	clust2sect
 6431              	.LVL884:
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 211


3830:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (!dw) {
 6432              		.loc 1 3830 0
 6433 00c2 0146     		mov	r1, r0
 6434 00c4 08B3     		cbz	r0, .L799
3833:Middlewares/Third_Party/FatFs/src/ff.c **** 								res = move_window(djo.fs, dw);
 6435              		.loc 1 3833 0
 6436 00c6 2846     		mov	r0, r5
 6437              	.LVL885:
 6438 00c8 FFF7FEFF 		bl	move_window
 6439              	.LVL886:
3834:Middlewares/Third_Party/FatFs/src/ff.c **** 								dir = djo.fs->win.d8 + SZ_DIRE * 1;	/* Ptr to .. entry */
 6440              		.loc 1 3834 0
 6441 00cc 8C9B     		ldr	r3, [sp, #560]
 6442              	.LVL887:
3835:Middlewares/Third_Party/FatFs/src/ff.c **** 								if (res == FR_OK && dir[1] == '.') {
 6443              		.loc 1 3835 0
 6444 00ce 28BB     		cbnz	r0, .L801
3835:Middlewares/Third_Party/FatFs/src/ff.c **** 								if (res == FR_OK && dir[1] == '.') {
 6445              		.loc 1 3835 0 is_stmt 0 discriminator 1
 6446 00d0 93F82120 		ldrb	r2, [r3, #33]	@ zero_extendqisi2
 6447 00d4 2E2A     		cmp	r2, #46
 6448 00d6 1AD1     		bne	.L794
3836:Middlewares/Third_Party/FatFs/src/ff.c **** 									st_clust(dir, djn.sclust);
 6449              		.loc 1 3836 0 is_stmt 1
 6450 00d8 DDF85824 		ldr	r2, [sp, #1112]
 6451              	.LVL888:
 6452              	.LBB112:
 6453              	.LBB113:
1330:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(dir + DIR_FstClusLO, cl);
 6454              		.loc 1 1330 0
 6455 00dc 83F83A20 		strb	r2, [r3, #58]
 6456 00e0 C2F30721 		ubfx	r1, r2, #8, #8
1331:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(dir + DIR_FstClusHI, cl >> 16);
 6457              		.loc 1 1331 0
 6458 00e4 120C     		lsrs	r2, r2, #16
 6459              	.LVL889:
 6460 00e6 83F83420 		strb	r2, [r3, #52]
 6461 00ea 120A     		lsrs	r2, r2, #8
 6462 00ec 83F83520 		strb	r2, [r3, #53]
1330:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(dir + DIR_FstClusLO, cl);
 6463              		.loc 1 1330 0
 6464 00f0 83F83B10 		strb	r1, [r3, #59]
 6465              	.LBE113:
 6466              	.LBE112:
3837:Middlewares/Third_Party/FatFs/src/ff.c **** 									djo.fs->wflag = 1;
 6467              		.loc 1 3837 0
 6468 00f4 8C9B     		ldr	r3, [sp, #560]
 6469              	.LVL890:
 6470 00f6 0122     		movs	r2, #1
 6471 00f8 83F80422 		strb	r2, [r3, #516]
 6472 00fc 07E0     		b	.L794
 6473              	.L796:
3811:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NO_FILE;
 6474              		.loc 1 3811 0
 6475 00fe 0420     		movs	r0, #4
 6476              	.LVL891:
 6477 0100 0CE0     		b	.L801
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 212


 6478              	.L797:
3818:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_INVALID_DRIVE;
 6479              		.loc 1 3818 0
 6480 0102 0B20     		movs	r0, #11
 6481 0104 0AE0     		b	.L801
 6482              	.LVL892:
 6483              	.L798:
3819:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) res = FR_EXIST;		/* The new object name is already existing */
 6484              		.loc 1 3819 0
 6485 0106 0820     		movs	r0, #8
 6486              	.LVL893:
 6487 0108 08E0     		b	.L801
 6488              	.LVL894:
 6489              	.L799:
3831:Middlewares/Third_Party/FatFs/src/ff.c **** 								res = FR_INT_ERR;
 6490              		.loc 1 3831 0
 6491 010a 0220     		movs	r0, #2
 6492              	.LVL895:
 6493 010c 06E0     		b	.L801
 6494              	.LVL896:
 6495              	.L794:
3842:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = dir_remove(&djo);		/* Remove old entry */
 6496              		.loc 1 3842 0
 6497 010e 0CA8     		add	r0, sp, #48
 6498 0110 FFF7FEFF 		bl	dir_remove
 6499              	.LVL897:
3843:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_OK)
 6500              		.loc 1 3843 0
 6501 0114 10B9     		cbnz	r0, .L801
3844:Middlewares/Third_Party/FatFs/src/ff.c **** 								res = sync_fs(djo.fs);
 6502              		.loc 1 3844 0
 6503 0116 8C98     		ldr	r0, [sp, #560]
 6504              	.LVL898:
 6505 0118 FFF7FEFF 		bl	sync_fs
 6506              	.LVL899:
 6507              	.L801:
3855:Middlewares/Third_Party/FatFs/src/ff.c **** }
 6508              		.loc 1 3855 0
 6509 011c 0DF2744D 		addw	sp, sp, #1140
 6510              	.LVL900:
 6511              		@ sp needed
 6512 0120 30BD     		pop	{r4, r5, pc}
 6513              		.cfi_endproc
 6514              	.LFE175:
 6516              		.section	.text.f_utime,"ax",%progbits
 6517              		.align	1
 6518              		.global	f_utime
 6519              		.thumb
 6520              		.thumb_func
 6522              	f_utime:
 6523              	.LFB176:
3868:Middlewares/Third_Party/FatFs/src/ff.c **** {
 6524              		.loc 1 3868 0
 6525              		.cfi_startproc
 6526              		@ args = 0, pretend = 0, frame = 568
 6527              		@ frame_needed = 0, uses_anonymous_args = 0
 6528              	.LVL901:
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 213


 6529 0000 10B5     		push	{r4, lr}
 6530              	.LCFI48:
 6531              		.cfi_def_cfa_offset 8
 6532              		.cfi_offset 4, -8
 6533              		.cfi_offset 14, -4
 6534 0002 ADF50E7D 		sub	sp, sp, #568
 6535              	.LCFI49:
 6536              		.cfi_def_cfa_offset 576
3868:Middlewares/Third_Party/FatFs/src/ff.c **** {
 6537              		.loc 1 3868 0
 6538 0006 0C46     		mov	r4, r1
 6539 0008 0190     		str	r0, [sp, #4]
3876:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&dj.fs, &path, 1);
 6540              		.loc 1 3876 0
 6541 000a 01A9     		add	r1, sp, #4
 6542              	.LVL902:
 6543 000c 86A8     		add	r0, sp, #536
 6544              	.LVL903:
 6545 000e 0122     		movs	r2, #1
 6546 0010 FFF7FEFF 		bl	find_volume
 6547              	.LVL904:
3877:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 6548              		.loc 1 3877 0
 6549 0014 D0B9     		cbnz	r0, .L805
3878:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
 6550              		.loc 1 3878 0
 6551 0016 03AB     		add	r3, sp, #12
3879:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);	/* Follow the file path */
 6552              		.loc 1 3879 0
 6553 0018 06A8     		add	r0, sp, #24
 6554              	.LVL905:
 6555 001a 0199     		ldr	r1, [sp, #4]
3878:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
 6556              		.loc 1 3878 0
 6557 001c 8C93     		str	r3, [sp, #560]
3879:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);	/* Follow the file path */
 6558              		.loc 1 3879 0
 6559 001e FFF7FEFF 		bl	follow_path
 6560              	.LVL906:
3883:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 6561              		.loc 1 3883 0
 6562 0022 98B9     		cbnz	r0, .L805
3884:Middlewares/Third_Party/FatFs/src/ff.c **** 			dir = dj.dir;
 6563              		.loc 1 3884 0
 6564 0024 8B9B     		ldr	r3, [sp, #556]
 6565              	.LVL907:
3885:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!dir) {					/* Root directory */
 6566              		.loc 1 3885 0
 6567 0026 83B1     		cbz	r3, .L806
3888:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_WORD(dir + DIR_WrtTime, fno->ftime);
 6568              		.loc 1 3888 0
 6569 0028 E288     		ldrh	r2, [r4, #6]
 6570 002a 9A75     		strb	r2, [r3, #22]
 6571 002c E288     		ldrh	r2, [r4, #6]
 6572 002e 120A     		lsrs	r2, r2, #8
 6573 0030 DA75     		strb	r2, [r3, #23]
3889:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_WORD(dir + DIR_WrtDate, fno->fdate);
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 214


 6574              		.loc 1 3889 0
 6575 0032 A288     		ldrh	r2, [r4, #4]
 6576 0034 1A76     		strb	r2, [r3, #24]
 6577 0036 A288     		ldrh	r2, [r4, #4]
 6578 0038 120A     		lsrs	r2, r2, #8
 6579 003a 5A76     		strb	r2, [r3, #25]
3890:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.fs->wflag = 1;
 6580              		.loc 1 3890 0
 6581 003c 8698     		ldr	r0, [sp, #536]
 6582              	.LVL908:
 6583 003e 0123     		movs	r3, #1
 6584              	.LVL909:
 6585 0040 80F80432 		strb	r3, [r0, #516]
3891:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(dj.fs);
 6586              		.loc 1 3891 0
 6587 0044 FFF7FEFF 		bl	sync_fs
 6588              	.LVL910:
 6589 0048 00E0     		b	.L805
 6590              	.LVL911:
 6591              	.L806:
3886:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
 6592              		.loc 1 3886 0
 6593 004a 0620     		movs	r0, #6
 6594              	.LVL912:
 6595              	.L805:
3897:Middlewares/Third_Party/FatFs/src/ff.c **** }
 6596              		.loc 1 3897 0
 6597 004c 0DF50E7D 		add	sp, sp, #568
 6598              		@ sp needed
 6599 0050 10BD     		pop	{r4, pc}
 6600              		.cfi_endproc
 6601              	.LFE176:
 6603              		.section	.text.f_mkfs,"ax",%progbits
 6604              		.align	1
 6605              		.global	f_mkfs
 6606              		.thumb
 6607              		.thumb_func
 6609              	f_mkfs:
 6610              	.LFB177:
4143:Middlewares/Third_Party/FatFs/src/ff.c **** {
 6611              		.loc 1 4143 0
 6612              		.cfi_startproc
 6613              		@ args = 0, pretend = 0, frame = 32
 6614              		@ frame_needed = 0, uses_anonymous_args = 0
 6615              	.LVL913:
 6616 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 6617              	.LCFI50:
 6618              		.cfi_def_cfa_offset 36
 6619              		.cfi_offset 4, -36
 6620              		.cfi_offset 5, -32
 6621              		.cfi_offset 6, -28
 6622              		.cfi_offset 7, -24
 6623              		.cfi_offset 8, -20
 6624              		.cfi_offset 9, -16
 6625              		.cfi_offset 10, -12
 6626              		.cfi_offset 11, -8
 6627              		.cfi_offset 14, -4
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 215


 6628 0004 89B0     		sub	sp, sp, #36
 6629              	.LCFI51:
 6630              		.cfi_def_cfa_offset 72
4160:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sfd > 1) return FR_INVALID_PARAMETER;
 6631              		.loc 1 4160 0
 6632 0006 0129     		cmp	r1, #1
4143:Middlewares/Third_Party/FatFs/src/ff.c **** {
 6633              		.loc 1 4143 0
 6634 0008 0590     		str	r0, [sp, #20]
 6635 000a 8B46     		mov	fp, r1
 6636 000c 1546     		mov	r5, r2
4160:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sfd > 1) return FR_INVALID_PARAMETER;
 6637              		.loc 1 4160 0
 6638 000e 88BF     		it	hi
 6639 0010 1320     		movhi	r0, #19
 6640              	.LVL914:
 6641 0012 00F2AE82 		bhi	.L865
4161:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(&path);
 6642              		.loc 1 4161 0
 6643 0016 05A8     		add	r0, sp, #20
 6644              	.LVL915:
 6645 0018 FFF7FEFF 		bl	get_ldnumber
 6646              	.LVL916:
4162:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 6647              		.loc 1 4162 0
 6648 001c 0028     		cmp	r0, #0
 6649 001e C0F28382 		blt	.L853
4163:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs = FatFs[vol];
 6650              		.loc 1 4163 0
 6651 0022 C54B     		ldr	r3, .L871
 6652 0024 53F82040 		ldr	r4, [r3, r0, lsl #2]
 6653              	.LVL917:
4164:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs) return FR_NOT_ENABLED;
 6654              		.loc 1 4164 0
 6655 0028 002C     		cmp	r4, #0
 6656 002a 00F07F82 		beq	.L854
4165:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fs_type = 0;
 6657              		.loc 1 4165 0
 6658 002e 0023     		movs	r3, #0
4166:Middlewares/Third_Party/FatFs/src/ff.c **** 	pdrv = LD2PD(vol);	/* Physical drive */
 6659              		.loc 1 4166 0
 6660 0030 C7B2     		uxtb	r7, r0
 6661              	.LVL918:
4165:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fs_type = 0;
 6662              		.loc 1 4165 0
 6663 0032 84F80032 		strb	r3, [r4, #512]
4170:Middlewares/Third_Party/FatFs/src/ff.c **** 	stat = disk_initialize(pdrv);
 6664              		.loc 1 4170 0
 6665 0036 3846     		mov	r0, r7
 6666              	.LVL919:
 6667 0038 FFF7FEFF 		bl	disk_initialize
 6668              	.LVL920:
4171:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT) return FR_NOT_READY;
 6669              		.loc 1 4171 0
 6670 003c C207     		lsls	r2, r0, #31
 6671 003e 00F17782 		bmi	.L855
4172:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_PROTECT) return FR_WRITE_PROTECTED;
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 216


 6672              		.loc 1 4172 0
 6673 0042 4307     		lsls	r3, r0, #29
 6674 0044 00F17682 		bmi	.L856
4187:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_ioctl(pdrv, GET_SECTOR_COUNT, &n_vol) != RES_OK || n_vol < 128)
 6675              		.loc 1 4187 0
 6676 0048 3846     		mov	r0, r7
 6677              	.LVL921:
 6678 004a 0121     		movs	r1, #1
 6679 004c 07AA     		add	r2, sp, #28
 6680 004e FFF7FEFF 		bl	disk_ioctl
 6681              	.LVL922:
 6682 0052 08B1     		cbz	r0, .L809
 6683              	.LVL923:
 6684              	.L810:
4188:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_DISK_ERR;
 6685              		.loc 1 4188 0
 6686 0054 0120     		movs	r0, #1
 6687 0056 8CE2     		b	.L865
 6688              	.LVL924:
 6689              	.L809:
4187:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_ioctl(pdrv, GET_SECTOR_COUNT, &n_vol) != RES_OK || n_vol < 128)
 6690              		.loc 1 4187 0 discriminator 1
 6691 0058 079A     		ldr	r2, [sp, #28]
 6692 005a 7F2A     		cmp	r2, #127
 6693 005c FAD9     		bls	.L810
4189:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_vol = (sfd) ? 0 : 63;		/* Volume start sector */
 6694              		.loc 1 4189 0
 6695 005e BBF1000F 		cmp	fp, #0
 6696 0062 0CBF     		ite	eq
 6697 0064 4FF03F09 		moveq	r9, #63
 6698 0068 4FF00009 		movne	r9, #0
 6699              	.LVL925:
4193:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (au & (au - 1)) au = 0;
 6700              		.loc 1 4193 0
 6701 006c 6B1E     		subs	r3, r5, #1
4190:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_vol -= b_vol;				/* Volume size */
 6702              		.loc 1 4190 0
 6703 006e C9EB0202 		rsb	r2, r9, r2
4193:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (au & (au - 1)) au = 0;
 6704              		.loc 1 4193 0
 6705 0072 2B42     		tst	r3, r5
4190:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_vol -= b_vol;				/* Volume size */
 6706              		.loc 1 4190 0
 6707 0074 0792     		str	r2, [sp, #28]
4193:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (au & (au - 1)) au = 0;
 6708              		.loc 1 4193 0
 6709 0076 02D1     		bne	.L812
4194:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!au) {						/* AU auto selection */
 6710              		.loc 1 4194 0
 6711 0078 002D     		cmp	r5, #0
 6712 007a 40F07582 		bne	.L813
 6713              	.L812:
 6714              	.LVL926:
4195:Middlewares/Third_Party/FatFs/src/ff.c **** 		vs = n_vol / (2000 / (SS(fs) / 512));
 6715              		.loc 1 4195 0
 6716 007e 4FF4FA60 		mov	r0, #2000
 6717 0082 B2FBF0F0 		udiv	r0, r2, r0
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 217


 6718              	.LVL927:
4196:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; vs < vst[i]; i++) ;
 6719              		.loc 1 4196 0
 6720 0086 0023     		movs	r3, #0
 6721              	.LVL928:
 6722              	.L814:
4196:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; vs < vst[i]; i++) ;
 6723              		.loc 1 4196 0 is_stmt 0 discriminator 1
 6724 0088 AC49     		ldr	r1, .L871+4
 6725 008a 31F81310 		ldrh	r1, [r1, r3, lsl #1]
 6726 008e 8842     		cmp	r0, r1
 6727 0090 01D2     		bcs	.L868
4196:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; vs < vst[i]; i++) ;
 6728              		.loc 1 4196 0 discriminator 2
 6729 0092 0133     		adds	r3, r3, #1
 6730              	.LVL929:
 6731 0094 F8E7     		b	.L814
 6732              	.L868:
4197:Middlewares/Third_Party/FatFs/src/ff.c **** 		au = cst[i];
 6733              		.loc 1 4197 0 is_stmt 1
 6734 0096 AA49     		ldr	r1, .L871+8
 6735 0098 31F81350 		ldrh	r5, [r1, r3, lsl #1]
 6736              	.LVL930:
4199:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (au >= _MIN_SS) au /= SS(fs);	/* Number of sectors per cluster */
 6737              		.loc 1 4199 0
 6738 009c B5F5007F 		cmp	r5, #512
 6739 00a0 01D3     		bcc	.L816
 6740              	.LVL931:
 6741              	.L851:
4199:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (au >= _MIN_SS) au /= SS(fs);	/* Number of sectors per cluster */
 6742              		.loc 1 4199 0 is_stmt 0 discriminator 1
 6743 00a2 6D0A     		lsrs	r5, r5, #9
 6744              	.LVL932:
 6745 00a4 00E0     		b	.L817
 6746              	.LVL933:
 6747              	.L816:
4200:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!au) au = 1;
 6748              		.loc 1 4200 0 is_stmt 1
 6749 00a6 1DB1     		cbz	r5, .L858
 6750              	.LVL934:
 6751              	.L817:
4201:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (au > 128) au = 128;
 6752              		.loc 1 4201 0
 6753 00a8 812D     		cmp	r5, #129
 6754 00aa 28BF     		it	cs
 6755 00ac 8025     		movcs	r5, #128
 6756              	.LVL935:
 6757 00ae 00E0     		b	.L819
 6758              	.LVL936:
 6759              	.L858:
4200:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!au) au = 1;
 6760              		.loc 1 4200 0
 6761 00b0 0125     		movs	r5, #1
 6762              	.LVL937:
 6763              	.L819:
4204:Middlewares/Third_Party/FatFs/src/ff.c **** 	n_clst = n_vol / au;
 6764              		.loc 1 4204 0
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 218


 6765 00b2 B2FBF5F8 		udiv	r8, r2, r5
 6766              	.LVL938:
4206:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n_clst >= MIN_FAT16) fmt = FS_FAT16;
 6767              		.loc 1 4206 0
 6768 00b6 40F6F573 		movw	r3, #4085
 6769 00ba 9845     		cmp	r8, r3
 6770 00bc 40F23C82 		bls	.L820
 6771              	.LVL939:
4207:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n_clst >= MIN_FAT32) fmt = FS_FAT32;
 6772              		.loc 1 4207 0
 6773 00c0 4FF6F573 		movw	r3, #65525
 6774 00c4 9845     		cmp	r8, r3
 6775 00c6 40F24982 		bls	.L869
 6776              	.LVL940:
4211:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_fat = ((n_clst * 4) + 8 + SS(fs) - 1) / SS(fs);
 6777              		.loc 1 4211 0
 6778 00ca 4FEA8808 		lsl	r8, r8, #2
 6779              	.LVL941:
 6780 00ce 08F20728 		addw	r8, r8, #519
 6781 00d2 4FEA5828 		lsr	r8, r8, #9
 6782              	.LVL942:
4207:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n_clst >= MIN_FAT32) fmt = FS_FAT32;
 6783              		.loc 1 4207 0
 6784 00d6 0326     		movs	r6, #3
4213:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_dir = 0;
 6785              		.loc 1 4213 0
 6786 00d8 4FF0000A 		mov	r10, #0
4212:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_rsv = 32;
 6787              		.loc 1 4212 0
 6788 00dc 4FF0200C 		mov	ip, #32
 6789              	.LVL943:
 6790              	.L849:
4220:Middlewares/Third_Party/FatFs/src/ff.c **** 	b_fat = b_vol + n_rsv;				/* FAT area start sector */
 6791              		.loc 1 4220 0
 6792 00e0 0CEB0901 		add	r1, ip, r9
4221:Middlewares/Third_Party/FatFs/src/ff.c **** 	b_dir = b_fat + n_fat * N_FATS;		/* Directory area start sector */
 6793              		.loc 1 4221 0
 6794 00e4 0AEB0803 		add	r3, r10, r8
4222:Middlewares/Third_Party/FatFs/src/ff.c **** 	b_data = b_dir + n_dir;				/* Data area start sector */
 6795              		.loc 1 4222 0
 6796 00e8 0B44     		add	r3, r3, r1
4220:Middlewares/Third_Party/FatFs/src/ff.c **** 	b_fat = b_vol + n_rsv;				/* FAT area start sector */
 6797              		.loc 1 4220 0
 6798 00ea 0391     		str	r1, [sp, #12]
 6799              	.LVL944:
4223:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n_vol < b_data + au - b_vol) return FR_MKFS_ABORTED;	/* Too small volume */
 6800              		.loc 1 4223 0
 6801 00ec C9EB0501 		rsb	r1, r9, r5
 6802              	.LVL945:
 6803 00f0 1944     		add	r1, r1, r3
 6804 00f2 8A42     		cmp	r2, r1
 6805 00f4 01D2     		bcs	.L823
 6806              	.LVL946:
 6807              	.L829:
 6808 00f6 0E20     		movs	r0, #14
 6809 00f8 3BE2     		b	.L865
 6810              	.LVL947:
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 219


 6811              	.L823:
4226:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(pdrv, GET_BLOCK_SIZE, &n) != RES_OK || !n || n > 32768) n = 1;
 6812              		.loc 1 4226 0
 6813 00fa 3846     		mov	r0, r7
 6814 00fc 0321     		movs	r1, #3
 6815 00fe 06AA     		add	r2, sp, #24
 6816              	.LVL948:
 6817 0100 0293     		str	r3, [sp, #8]
 6818 0102 CDF804C0 		str	ip, [sp, #4]
 6819 0106 FFF7FEFF 		bl	disk_ioctl
 6820              	.LVL949:
 6821 010a 029B     		ldr	r3, [sp, #8]
 6822 010c DDF804C0 		ldr	ip, [sp, #4]
 6823 0110 20B9     		cbnz	r0, .L824
4226:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(pdrv, GET_BLOCK_SIZE, &n) != RES_OK || !n || n > 32768) n = 1;
 6824              		.loc 1 4226 0 is_stmt 0 discriminator 2
 6825 0112 069A     		ldr	r2, [sp, #24]
 6826 0114 013A     		subs	r2, r2, #1
 6827 0116 B2F5004F 		cmp	r2, #32768
 6828 011a 01D3     		bcc	.L825
 6829              	.L824:
4226:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(pdrv, GET_BLOCK_SIZE, &n) != RES_OK || !n || n > 32768) n = 1;
 6830              		.loc 1 4226 0 discriminator 1
 6831 011c 0122     		movs	r2, #1
 6832 011e 0692     		str	r2, [sp, #24]
 6833              	.L825:
4227:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (b_data + n - 1) & ~(n - 1);	/* Next nearest erase block from current data start */
 6834              		.loc 1 4227 0 is_stmt 1
 6835 0120 069A     		ldr	r2, [sp, #24]
 6836 0122 511E     		subs	r1, r2, #1
 6837 0124 1944     		add	r1, r1, r3
 6838 0126 5242     		negs	r2, r2
 6839 0128 0A40     		ands	r2, r2, r1
4228:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (n - b_data) / N_FATS;
 6840              		.loc 1 4228 0
 6841 012a D31A     		subs	r3, r2, r3
4229:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32) {		/* FAT32: Move FAT offset */
 6842              		.loc 1 4229 0
 6843 012c 032E     		cmp	r6, #3
4228:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (n - b_data) / N_FATS;
 6844              		.loc 1 4228 0
 6845 012e 0693     		str	r3, [sp, #24]
4229:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32) {		/* FAT32: Move FAT offset */
 6846              		.loc 1 4229 0
 6847 0130 04D1     		bne	.L826
4231:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_fat += n;
 6848              		.loc 1 4231 0
 6849 0132 039A     		ldr	r2, [sp, #12]
 6850 0134 1A44     		add	r2, r2, r3
4230:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_rsv += n;
 6851              		.loc 1 4230 0
 6852 0136 9C44     		add	ip, ip, r3
 6853              	.LVL950:
4231:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_fat += n;
 6854              		.loc 1 4231 0
 6855 0138 0392     		str	r2, [sp, #12]
 6856              	.LVL951:
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 220


 6857 013a 00E0     		b	.L827
 6858              	.LVL952:
 6859              	.L826:
4233:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_fat += n;
 6860              		.loc 1 4233 0
 6861 013c 9844     		add	r8, r8, r3
 6862              	.LVL953:
 6863              	.L827:
4237:Middlewares/Third_Party/FatFs/src/ff.c **** 	n_clst = (n_vol - n_rsv - n_fat * N_FATS - n_dir) / au;
 6864              		.loc 1 4237 0
 6865 013e 079B     		ldr	r3, [sp, #28]
 6866 0140 CCEB0302 		rsb	r2, ip, r3
 6867 0144 C8EB0202 		rsb	r2, r8, r2
 6868 0148 CAEB0202 		rsb	r2, r10, r2
 6869 014c B2FBF5F2 		udiv	r2, r2, r5
4238:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (   (fmt == FS_FAT16 && n_clst < MIN_FAT16)
 6870              		.loc 1 4238 0
 6871 0150 022E     		cmp	r6, #2
4237:Middlewares/Third_Party/FatFs/src/ff.c **** 	n_clst = (n_vol - n_rsv - n_fat * N_FATS - n_dir) / au;
 6872              		.loc 1 4237 0
 6873 0152 0492     		str	r2, [sp, #16]
 6874              	.LVL954:
4238:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (   (fmt == FS_FAT16 && n_clst < MIN_FAT16)
 6875              		.loc 1 4238 0
 6876 0154 05D1     		bne	.L828
4238:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (   (fmt == FS_FAT16 && n_clst < MIN_FAT16)
 6877              		.loc 1 4238 0 is_stmt 0 discriminator 1
 6878 0156 0499     		ldr	r1, [sp, #16]
 6879 0158 40F6F572 		movw	r2, #4085
 6880              	.LVL955:
 6881 015c 9142     		cmp	r1, r2
 6882 015e CAD9     		bls	.L829
 6883 0160 10E0     		b	.L830
 6884              	.LVL956:
 6885              	.L828:
4239:Middlewares/Third_Party/FatFs/src/ff.c **** 		|| (fmt == FS_FAT32 && n_clst < MIN_FAT32))
 6886              		.loc 1 4239 0 is_stmt 1
 6887 0162 032E     		cmp	r6, #3
 6888 0164 06D1     		bne	.L831
4239:Middlewares/Third_Party/FatFs/src/ff.c **** 		|| (fmt == FS_FAT32 && n_clst < MIN_FAT32))
 6889              		.loc 1 4239 0 is_stmt 0 discriminator 1
 6890 0166 049A     		ldr	r2, [sp, #16]
 6891 0168 4FF6F573 		movw	r3, #65525
 6892 016c 9A42     		cmp	r2, r3
 6893 016e C2D9     		bls	.L829
4244:Middlewares/Third_Party/FatFs/src/ff.c **** 		sys = 0x0C;		/* FAT32X */
 6894              		.loc 1 4244 0 is_stmt 1
 6895 0170 0C23     		movs	r3, #12
 6896 0172 0CE0     		b	.L832
 6897              	.L831:
4246:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt == FS_FAT12 && n_vol < 0x10000) {
 6898              		.loc 1 4246 0
 6899 0174 012E     		cmp	r6, #1
 6900 0176 05D1     		bne	.L830
4249:Middlewares/Third_Party/FatFs/src/ff.c **** 			sys = (n_vol < 0x10000) ? 0x04 : 0x06;	/* FAT16(<65536) : FAT12/16(>=65536) */
 6901              		.loc 1 4249 0 discriminator 1
 6902 0178 B3F5803F 		cmp	r3, #65536
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 221


 6903 017c 34BF     		ite	cc
 6904 017e 0123     		movcc	r3, #1
 6905 0180 0623     		movcs	r3, #6
 6906 0182 04E0     		b	.L832
 6907              	.L830:
4249:Middlewares/Third_Party/FatFs/src/ff.c **** 			sys = (n_vol < 0x10000) ? 0x04 : 0x06;	/* FAT16(<65536) : FAT12/16(>=65536) */
 6908              		.loc 1 4249 0 is_stmt 0
 6909 0184 B3F5803F 		cmp	r3, #65536
 6910 0188 34BF     		ite	cc
 6911 018a 0423     		movcc	r3, #4
 6912 018c 0623     		movcs	r3, #6
 6913              	.L832:
 6914              	.LVL957:
4261:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (sfd) {	/* No partition table (SFD) */
 6915              		.loc 1 4261 0 is_stmt 1
 6916 018e BBF1000F 		cmp	fp, #0
 6917 0192 4ED1     		bne	.L862
4264:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(fs->win.d8, 0, SS(fs));
 6918              		.loc 1 4264 0
 6919 0194 2046     		mov	r0, r4
 6920 0196 5946     		mov	r1, fp
 6921 0198 4FF40072 		mov	r2, #512
 6922 019c CDF804C0 		str	ip, [sp, #4]
 6923 01a0 0293     		str	r3, [sp, #8]
 6924 01a2 FFF7FEFF 		bl	mem_set
 6925              	.LVL958:
4266:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[1] = 1;						/* Partition start head */
 6926              		.loc 1 4266 0
 6927 01a6 4FF0010E 		mov	lr, #1
 6928 01aa 84F8BFE1 		strb	lr, [r4, #447]
4267:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[2] = 1;						/* Partition start sector */
 6929              		.loc 1 4267 0
 6930 01ae 84F8C0E1 		strb	lr, [r4, #448]
4268:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[3] = 0;						/* Partition start cylinder */
 6931              		.loc 1 4268 0
 6932 01b2 84F8C1B1 		strb	fp, [r4, #449]
4269:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[4] = sys;					/* System type */
 6933              		.loc 1 4269 0
 6934 01b6 029B     		ldr	r3, [sp, #8]
 6935 01b8 84F8C231 		strb	r3, [r4, #450]
4270:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[5] = 254;					/* Partition end head */
 6936              		.loc 1 4270 0
 6937 01bc FE23     		movs	r3, #254
 6938 01be 84F8C331 		strb	r3, [r4, #451]
4271:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = (b_vol + n_vol) / 63 / 255;
 6939              		.loc 1 4271 0
 6940 01c2 079B     		ldr	r3, [sp, #28]
4275:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 12, n_vol);		/* Partition size in LBA */
 6941              		.loc 1 4275 0
 6942 01c4 84F8CA31 		strb	r3, [r4, #458]
4271:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = (b_vol + n_vol) / 63 / 255;
 6943              		.loc 1 4271 0
 6944 01c8 09EB0301 		add	r1, r9, r3
 6945 01cc 43F6C162 		movw	r2, #16065
 6946 01d0 B1FBF2F2 		udiv	r2, r1, r2
 6947 01d4 0692     		str	r2, [sp, #24]
4272:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[6] = (BYTE)(n >> 2 | 63);	/* Partition end sector */
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 222


 6948              		.loc 1 4272 0
 6949 01d6 9108     		lsrs	r1, r2, #2
4273:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[7] = (BYTE)n;				/* End cylinder */
 6950              		.loc 1 4273 0
 6951 01d8 84F8C521 		strb	r2, [r4, #453]
4274:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 8, 63);			/* Partition start in LBA */
 6952              		.loc 1 4274 0
 6953 01dc 3F22     		movs	r2, #63
 6954 01de 84F8C621 		strb	r2, [r4, #454]
4275:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 12, n_vol);		/* Partition size in LBA */
 6955              		.loc 1 4275 0
 6956 01e2 C3F30722 		ubfx	r2, r3, #8, #8
 6957 01e6 84F8CB21 		strb	r2, [r4, #459]
 6958 01ea 1A0C     		lsrs	r2, r3, #16
 6959 01ec 1B0E     		lsrs	r3, r3, #24
 6960 01ee 84F8CD31 		strb	r3, [r4, #461]
4276:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_WORD(fs->win.d8 + BS_55AA, 0xAA55);	/* MBR signature */
 6961              		.loc 1 4276 0
 6962 01f2 5523     		movs	r3, #85
4272:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[6] = (BYTE)(n >> 2 | 63);	/* Partition end sector */
 6963              		.loc 1 4272 0
 6964 01f4 41F03F01 		orr	r1, r1, #63
4276:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_WORD(fs->win.d8 + BS_55AA, 0xAA55);	/* MBR signature */
 6965              		.loc 1 4276 0
 6966 01f8 84F8FE31 		strb	r3, [r4, #510]
 6967 01fc AA23     		movs	r3, #170
4272:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[6] = (BYTE)(n >> 2 | 63);	/* Partition end sector */
 6968              		.loc 1 4272 0
 6969 01fe 84F8C411 		strb	r1, [r4, #452]
4275:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 12, n_vol);		/* Partition size in LBA */
 6970              		.loc 1 4275 0
 6971 0202 84F8CC21 		strb	r2, [r4, #460]
4276:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_WORD(fs->win.d8 + BS_55AA, 0xAA55);	/* MBR signature */
 6972              		.loc 1 4276 0
 6973 0206 84F8FF31 		strb	r3, [r4, #511]
4274:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 8, 63);			/* Partition start in LBA */
 6974              		.loc 1 4274 0
 6975 020a 84F8C7B1 		strb	fp, [r4, #455]
 6976 020e 84F8C8B1 		strb	fp, [r4, #456]
 6977 0212 84F8C9B1 		strb	fp, [r4, #457]
4277:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, fs->win.d8, 0, 1) != RES_OK)	/* Write it to the MBR */
 6978              		.loc 1 4277 0
 6979 0216 3846     		mov	r0, r7
 6980 0218 2146     		mov	r1, r4
 6981 021a 5A46     		mov	r2, fp
 6982 021c 7346     		mov	r3, lr
 6983 021e FFF7FEFF 		bl	disk_write
 6984              	.LVL959:
 6985 0222 DDF804C0 		ldr	ip, [sp, #4]
 6986 0226 0028     		cmp	r0, #0
 6987 0228 7FF414AF 		bne	.L810
4279:Middlewares/Third_Party/FatFs/src/ff.c **** 			md = 0xF8;
 6988              		.loc 1 4279 0
 6989 022c 4FF0F80B 		mov	fp, #248
 6990 0230 01E0     		b	.L833
 6991              	.LVL960:
 6992              	.L862:
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 223


4262:Middlewares/Third_Party/FatFs/src/ff.c **** 			md = 0xF0;
 6993              		.loc 1 4262 0
 6994 0232 4FF0F00B 		mov	fp, #240
 6995              	.LVL961:
 6996              	.L833:
4285:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_set(tbl, 0, SS(fs));
 6997              		.loc 1 4285 0
 6998 0236 2046     		mov	r0, r4
 6999 0238 0021     		movs	r1, #0
 7000 023a 4FF40072 		mov	r2, #512
 7001 023e CDF804C0 		str	ip, [sp, #4]
 7002 0242 FFF7FEFF 		bl	mem_set
 7003              	.LVL962:
4286:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_cpy(tbl, "\xEB\xFE\x90" "MSDOS5.0", 11);/* Boot jump code, OEM name */
 7004              		.loc 1 4286 0
 7005 0246 0B22     		movs	r2, #11
 7006 0248 2046     		mov	r0, r4
 7007 024a 3E49     		ldr	r1, .L871+12
 7008 024c FFF7FEFF 		bl	mem_cpy
 7009              	.LVL963:
4288:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_BytsPerSec, i);
 7010              		.loc 1 4288 0
 7011 0250 0023     		movs	r3, #0
 7012 0252 0222     		movs	r2, #2
 7013 0254 E372     		strb	r3, [r4, #11]
 7014 0256 2273     		strb	r2, [r4, #12]
4292:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = (fmt == FS_FAT32) ? 0 : N_ROOTDIR;	/* Number of root directory entries */
 7015              		.loc 1 4292 0
 7016 0258 032E     		cmp	r6, #3
 7017              	.LVL964:
4289:Middlewares/Third_Party/FatFs/src/ff.c **** 	tbl[BPB_SecPerClus] = (BYTE)au;			/* Sectors per cluster */
 7018              		.loc 1 4289 0
 7019 025a 6573     		strb	r5, [r4, #13]
4290:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_RsvdSecCnt, n_rsv);	/* Reserved sectors */
 7020              		.loc 1 4290 0
 7021 025c DDF804C0 		ldr	ip, [sp, #4]
4293:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_RootEntCnt, i);
 7022              		.loc 1 4293 0
 7023 0260 6374     		strb	r3, [r4, #17]
 7024 0262 18BF     		it	ne
 7025 0264 0223     		movne	r3, #2
 7026 0266 A374     		strb	r3, [r4, #18]
4294:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n_vol < 0x10000) {					/* Number of total sectors */
 7027              		.loc 1 4294 0
 7028 0268 079B     		ldr	r3, [sp, #28]
4290:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_RsvdSecCnt, n_rsv);	/* Reserved sectors */
 7029              		.loc 1 4290 0
 7030 026a 84F80EC0 		strb	ip, [r4, #14]
4291:Middlewares/Third_Party/FatFs/src/ff.c **** 	tbl[BPB_NumFATs] = N_FATS;				/* Number of FATs */
 7031              		.loc 1 4291 0
 7032 026e 0122     		movs	r2, #1
4290:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_RsvdSecCnt, n_rsv);	/* Reserved sectors */
 7033              		.loc 1 4290 0
 7034 0270 CCF3072C 		ubfx	ip, ip, #8, #8
4294:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n_vol < 0x10000) {					/* Number of total sectors */
 7035              		.loc 1 4294 0
 7036 0274 B3F5803F 		cmp	r3, #65536
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 224


 7037              	.LVL965:
4291:Middlewares/Third_Party/FatFs/src/ff.c **** 	tbl[BPB_NumFATs] = N_FATS;				/* Number of FATs */
 7038              		.loc 1 4291 0
 7039 0278 2274     		strb	r2, [r4, #16]
4290:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_RsvdSecCnt, n_rsv);	/* Reserved sectors */
 7040              		.loc 1 4290 0
 7041 027a 84F80FC0 		strb	ip, [r4, #15]
 7042 027e 9AB2     		uxth	r2, r3
4294:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n_vol < 0x10000) {					/* Number of total sectors */
 7043              		.loc 1 4294 0
 7044 0280 03D2     		bcs	.L835
4295:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_TotSec16, n_vol);
 7045              		.loc 1 4295 0
 7046 0282 120A     		lsrs	r2, r2, #8
 7047 0284 E374     		strb	r3, [r4, #19]
 7048 0286 2275     		strb	r2, [r4, #20]
 7049 0288 0AE0     		b	.L836
 7050              	.L835:
4297:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BPB_TotSec32, n_vol);
 7051              		.loc 1 4297 0
 7052 028a 120A     		lsrs	r2, r2, #8
 7053 028c 84F82030 		strb	r3, [r4, #32]
 7054 0290 84F82120 		strb	r2, [r4, #33]
 7055 0294 1A0C     		lsrs	r2, r3, #16
 7056 0296 1B0E     		lsrs	r3, r3, #24
 7057 0298 84F82220 		strb	r2, [r4, #34]
 7058 029c 84F82330 		strb	r3, [r4, #35]
 7059              	.L836:
4300:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_SecPerTrk, 63);		/* Number of sectors per track */
 7060              		.loc 1 4300 0
 7061 02a0 3F23     		movs	r3, #63
 7062 02a2 2376     		strb	r3, [r4, #24]
4301:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_NumHeads, 255);		/* Number of heads */
 7063              		.loc 1 4301 0
 7064 02a4 FF22     		movs	r2, #255
4300:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_SecPerTrk, 63);		/* Number of sectors per track */
 7065              		.loc 1 4300 0
 7066 02a6 0023     		movs	r3, #0
 7067 02a8 6376     		strb	r3, [r4, #25]
4301:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_NumHeads, 255);		/* Number of heads */
 7068              		.loc 1 4301 0
 7069 02aa A276     		strb	r2, [r4, #26]
 7070 02ac E376     		strb	r3, [r4, #27]
4302:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_DWORD(tbl + BPB_HiddSec, b_vol);		/* Hidden sectors */
 7071              		.loc 1 4302 0
 7072 02ae 6377     		strb	r3, [r4, #29]
 7073 02b0 A377     		strb	r3, [r4, #30]
 7074 02b2 E377     		strb	r3, [r4, #31]
4299:Middlewares/Third_Party/FatFs/src/ff.c **** 	tbl[BPB_Media] = md;					/* Media descriptor */
 7075              		.loc 1 4299 0
 7076 02b4 84F815B0 		strb	fp, [r4, #21]
4302:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_DWORD(tbl + BPB_HiddSec, b_vol);		/* Hidden sectors */
 7077              		.loc 1 4302 0
 7078 02b8 84F81C90 		strb	r9, [r4, #28]
4303:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = GET_FATTIME();						/* Use current time as VSN */
 7079              		.loc 1 4303 0
 7080 02bc 0293     		str	r3, [sp, #8]
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 225


 7081 02be FFF7FEFF 		bl	get_fattime
 7082              	.LVL966:
4304:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32) {
 7083              		.loc 1 4304 0
 7084 02c2 032E     		cmp	r6, #3
4303:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = GET_FATTIME();						/* Use current time as VSN */
 7085              		.loc 1 4303 0
 7086 02c4 0690     		str	r0, [sp, #24]
 7087 02c6 82B2     		uxth	r2, r0
4304:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32) {
 7088              		.loc 1 4304 0
 7089 02c8 029B     		ldr	r3, [sp, #8]
 7090 02ca 3FD1     		bne	.L837
4305:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BS_VolID32, n);		/* VSN */
 7091              		.loc 1 4305 0
 7092 02cc 120A     		lsrs	r2, r2, #8
 7093 02ce 84F84420 		strb	r2, [r4, #68]
 7094 02d2 020C     		lsrs	r2, r0, #16
 7095 02d4 84F84520 		strb	r2, [r4, #69]
4306:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BPB_FATSz32, n_fat);	/* Number of sectors per FAT */
 7096              		.loc 1 4306 0
 7097 02d8 C8F30722 		ubfx	r2, r8, #8, #8
 7098 02dc 84F82520 		strb	r2, [r4, #37]
 7099 02e0 4FEA1842 		lsr	r2, r8, #16
 7100 02e4 84F82620 		strb	r2, [r4, #38]
 7101 02e8 4FEA1862 		lsr	r2, r8, #24
 7102 02ec 84F82720 		strb	r2, [r4, #39]
4307:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BPB_RootClus, 2);	/* Root directory start cluster (2) */
 7103              		.loc 1 4307 0
 7104 02f0 0222     		movs	r2, #2
 7105 02f2 84F82C20 		strb	r2, [r4, #44]
 7106 02f6 84F82D30 		strb	r3, [r4, #45]
4308:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_FSInfo, 1);		/* FSINFO record offset (VBR + 1) */
 7107              		.loc 1 4308 0
 7108 02fa 0122     		movs	r2, #1
4307:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BPB_RootClus, 2);	/* Root directory start cluster (2) */
 7109              		.loc 1 4307 0
 7110 02fc 84F82E30 		strb	r3, [r4, #46]
 7111 0300 84F82F30 		strb	r3, [r4, #47]
4308:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_FSInfo, 1);		/* FSINFO record offset (VBR + 1) */
 7112              		.loc 1 4308 0
 7113 0304 84F83130 		strb	r3, [r4, #49]
4309:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_BkBootSec, 6);	/* Backup boot record offset (VBR + 6) */
 7114              		.loc 1 4309 0
 7115 0308 84F83330 		strb	r3, [r4, #51]
4310:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[BS_DrvNum32] = 0x80;			/* Drive number */
 7116              		.loc 1 4310 0
 7117 030c 8023     		movs	r3, #128
4305:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BS_VolID32, n);		/* VSN */
 7118              		.loc 1 4305 0
 7119 030e 84F84300 		strb	r0, [r4, #67]
4308:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_FSInfo, 1);		/* FSINFO record offset (VBR + 1) */
 7120              		.loc 1 4308 0
 7121 0312 84F83020 		strb	r2, [r4, #48]
4305:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BS_VolID32, n);		/* VSN */
 7122              		.loc 1 4305 0
 7123 0316 000E     		lsrs	r0, r0, #24
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 226


4309:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_BkBootSec, 6);	/* Backup boot record offset (VBR + 6) */
 7124              		.loc 1 4309 0
 7125 0318 0622     		movs	r2, #6
4310:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[BS_DrvNum32] = 0x80;			/* Drive number */
 7126              		.loc 1 4310 0
 7127 031a 84F84030 		strb	r3, [r4, #64]
4311:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[BS_BootSig32] = 0x29;			/* Extended boot signature */
 7128              		.loc 1 4311 0
 7129 031e 2923     		movs	r3, #41
4305:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BS_VolID32, n);		/* VSN */
 7130              		.loc 1 4305 0
 7131 0320 84F84600 		strb	r0, [r4, #70]
4306:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BPB_FATSz32, n_fat);	/* Number of sectors per FAT */
 7132              		.loc 1 4306 0
 7133 0324 84F82480 		strb	r8, [r4, #36]
4309:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_BkBootSec, 6);	/* Backup boot record offset (VBR + 6) */
 7134              		.loc 1 4309 0
 7135 0328 84F83220 		strb	r2, [r4, #50]
4311:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[BS_BootSig32] = 0x29;			/* Extended boot signature */
 7136              		.loc 1 4311 0
 7137 032c 84F84230 		strb	r3, [r4, #66]
4312:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(tbl + BS_VolLab32, "NO NAME    " "FAT32   ", 19);	/* Volume label, FAT signature */
 7138              		.loc 1 4312 0
 7139 0330 04F14700 		add	r0, r4, #71
 7140 0334 0449     		ldr	r1, .L871+16
 7141 0336 22E0     		b	.L867
 7142              	.L872:
 7143              		.align	2
 7144              	.L871:
 7145 0338 00000000 		.word	.LANCHOR1
 7146 033c 00000000 		.word	.LANCHOR4
 7147 0340 00000000 		.word	.LANCHOR5
 7148 0344 0F000000 		.word	.LC1
 7149 0348 1B000000 		.word	.LC2
 7150              	.L837:
4314:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BS_VolID, n);		/* VSN */
 7151              		.loc 1 4314 0
 7152 034c 030C     		lsrs	r3, r0, #16
 7153 034e 84F82930 		strb	r3, [r4, #41]
4315:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_FATSz16, n_fat);	/* Number of sectors per FAT */
 7154              		.loc 1 4315 0
 7155 0352 C8F30723 		ubfx	r3, r8, #8, #8
 7156 0356 E375     		strb	r3, [r4, #23]
4316:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[BS_DrvNum] = 0x80;				/* Drive number */
 7157              		.loc 1 4316 0
 7158 0358 8023     		movs	r3, #128
4314:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BS_VolID, n);		/* VSN */
 7159              		.loc 1 4314 0
 7160 035a 84F82700 		strb	r0, [r4, #39]
 7161 035e 120A     		lsrs	r2, r2, #8
 7162 0360 000E     		lsrs	r0, r0, #24
4316:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[BS_DrvNum] = 0x80;				/* Drive number */
 7163              		.loc 1 4316 0
 7164 0362 84F82430 		strb	r3, [r4, #36]
4318:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(tbl + BS_VolLab, "NO NAME    " "FAT     ", 19);	/* Volume label, FAT signature */
 7165              		.loc 1 4318 0
 7166 0366 8449     		ldr	r1, .L873
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 227


4314:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BS_VolID, n);		/* VSN */
 7167              		.loc 1 4314 0
 7168 0368 84F82A00 		strb	r0, [r4, #42]
4317:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[BS_BootSig] = 0x29;				/* Extended boot signature */
 7169              		.loc 1 4317 0
 7170 036c 2923     		movs	r3, #41
4314:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BS_VolID, n);		/* VSN */
 7171              		.loc 1 4314 0
 7172 036e 84F82820 		strb	r2, [r4, #40]
4315:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_FATSz16, n_fat);	/* Number of sectors per FAT */
 7173              		.loc 1 4315 0
 7174 0372 84F81680 		strb	r8, [r4, #22]
4317:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[BS_BootSig] = 0x29;				/* Extended boot signature */
 7175              		.loc 1 4317 0
 7176 0376 84F82630 		strb	r3, [r4, #38]
4318:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(tbl + BS_VolLab, "NO NAME    " "FAT     ", 19);	/* Volume label, FAT signature */
 7177              		.loc 1 4318 0
 7178 037a 04F12B00 		add	r0, r4, #43
 7179              	.L867:
 7180 037e 1322     		movs	r2, #19
 7181 0380 FFF7FEFF 		bl	mem_cpy
 7182              	.LVL967:
4320:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BS_55AA, 0xAA55);			/* Signature (Offset is fixed here regardless of sector size) */
 7183              		.loc 1 4320 0
 7184 0384 5523     		movs	r3, #85
 7185 0386 84F8FE31 		strb	r3, [r4, #510]
 7186 038a AA23     		movs	r3, #170
 7187 038c 84F8FF31 		strb	r3, [r4, #511]
4321:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_write(pdrv, tbl, b_vol, 1) != RES_OK)	/* Write it to the VBR sector */
 7188              		.loc 1 4321 0
 7189 0390 3846     		mov	r0, r7
 7190 0392 2146     		mov	r1, r4
 7191 0394 4A46     		mov	r2, r9
 7192 0396 0123     		movs	r3, #1
 7193 0398 FFF7FEFF 		bl	disk_write
 7194              	.LVL968:
 7195 039c 0028     		cmp	r0, #0
 7196 039e 7FF459AE 		bne	.L810
4323:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32)					/* Write backup VBR if needed (VBR + 6) */
 7197              		.loc 1 4323 0
 7198 03a2 032E     		cmp	r6, #3
 7199 03a4 06D1     		bne	.L839
4324:Middlewares/Third_Party/FatFs/src/ff.c **** 		disk_write(pdrv, tbl, b_vol + 6, 1);
 7200              		.loc 1 4324 0
 7201 03a6 3846     		mov	r0, r7
 7202 03a8 2146     		mov	r1, r4
 7203 03aa 09F10602 		add	r2, r9, #6
 7204 03ae 0123     		movs	r3, #1
 7205 03b0 FFF7FEFF 		bl	disk_write
 7206              	.LVL969:
 7207              	.L839:
4329:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_set(tbl, 0, SS(fs));			/* 1st sector of the FAT  */
 7208              		.loc 1 4329 0 discriminator 1
 7209 03b4 2046     		mov	r0, r4
 7210 03b6 0021     		movs	r1, #0
 7211 03b8 4FF40072 		mov	r2, #512
 7212 03bc FFF7FEFF 		bl	mem_set
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 228


 7213              	.LVL970:
4331:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt != FS_FAT32) {
 7214              		.loc 1 4331 0 discriminator 1
 7215 03c0 032E     		cmp	r6, #3
 7216 03c2 13D0     		beq	.L840
4332:Middlewares/Third_Party/FatFs/src/ff.c **** 			n |= (fmt == FS_FAT12) ? 0x00FFFF00 : 0xFFFFFF00;
 7217              		.loc 1 4332 0
 7218 03c4 6D4B     		ldr	r3, .L873+4
 7219 03c6 012E     		cmp	r6, #1
 7220 03c8 18BF     		it	ne
 7221 03ca 6FF0FF03 		mvnne	r3, #255
 7222 03ce 43EA0B03 		orr	r3, r3, fp
 7223 03d2 0693     		str	r3, [sp, #24]
4333:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 0, n);			/* Reserve cluster #0-1 (FAT12/16) */
 7224              		.loc 1 4333 0
 7225 03d4 2370     		strb	r3, [r4]
 7226 03d6 BDF81830 		ldrh	r3, [sp, #24]
 7227 03da 1B0A     		lsrs	r3, r3, #8
 7228 03dc 6370     		strb	r3, [r4, #1]
 7229 03de BDF81A30 		ldrh	r3, [sp, #26]
 7230 03e2 A370     		strb	r3, [r4, #2]
 7231 03e4 9DF81B30 		ldrb	r3, [sp, #27]	@ zero_extendqisi2
 7232 03e8 E370     		strb	r3, [r4, #3]
 7233 03ea 17E0     		b	.L842
 7234              	.L840:
4335:Middlewares/Third_Party/FatFs/src/ff.c **** 			n |= 0xFFFFFF00;
 7235              		.loc 1 4335 0
 7236 03ec 6BF0FF03 		orn	r3, fp, #255
 7237 03f0 0693     		str	r3, [sp, #24]
4336:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 0, n);			/* Reserve cluster #0-1 (FAT32) */
 7238              		.loc 1 4336 0
 7239 03f2 2370     		strb	r3, [r4]
 7240 03f4 BDF81830 		ldrh	r3, [sp, #24]
 7241 03f8 1B0A     		lsrs	r3, r3, #8
 7242 03fa 6370     		strb	r3, [r4, #1]
 7243 03fc BDF81A30 		ldrh	r3, [sp, #26]
 7244 0400 A370     		strb	r3, [r4, #2]
 7245 0402 9DF81B30 		ldrb	r3, [sp, #27]	@ zero_extendqisi2
 7246 0406 E370     		strb	r3, [r4, #3]
4337:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 4, 0xFFFFFFFF);
 7247              		.loc 1 4337 0
 7248 0408 FF23     		movs	r3, #255
 7249 040a 2371     		strb	r3, [r4, #4]
 7250 040c 6371     		strb	r3, [r4, #5]
 7251 040e A371     		strb	r3, [r4, #6]
 7252 0410 E371     		strb	r3, [r4, #7]
4338:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 8, 0x0FFFFFFF);	/* Reserve cluster #2 for root directory */
 7253              		.loc 1 4338 0
 7254 0412 2372     		strb	r3, [r4, #8]
 7255 0414 6372     		strb	r3, [r4, #9]
 7256 0416 A372     		strb	r3, [r4, #10]
 7257 0418 0F23     		movs	r3, #15
 7258 041a E372     		strb	r3, [r4, #11]
 7259              	.L842:
4340:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(pdrv, tbl, wsect++, 1) != RES_OK)
 7260              		.loc 1 4340 0
 7261 041c 039B     		ldr	r3, [sp, #12]
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 229


 7262 041e 2146     		mov	r1, r4
 7263 0420 1A46     		mov	r2, r3
 7264 0422 03F1010B 		add	fp, r3, #1
 7265              	.LVL971:
 7266 0426 3846     		mov	r0, r7
 7267 0428 0123     		movs	r3, #1
 7268 042a FFF7FEFF 		bl	disk_write
 7269              	.LVL972:
 7270 042e 0146     		mov	r1, r0
 7271 0430 0028     		cmp	r0, #0
 7272 0432 7FF40FAE 		bne	.L810
4342:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_set(tbl, 0, SS(fs));			/* Fill following FAT entries with zero */
 7273              		.loc 1 4342 0
 7274 0436 2046     		mov	r0, r4
 7275 0438 4FF40072 		mov	r2, #512
 7276 043c FFF7FEFF 		bl	mem_set
 7277              	.LVL973:
4343:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (n = 1; n < n_fat; n++) {		/* This loop may take a time on FAT32 volume due to many single se
 7278              		.loc 1 4343 0
 7279 0440 0123     		movs	r3, #1
 7280 0442 0693     		str	r3, [sp, #24]
 7281              	.LVL974:
 7282              	.L843:
4343:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (n = 1; n < n_fat; n++) {		/* This loop may take a time on FAT32 volume due to many single se
 7283              		.loc 1 4343 0 is_stmt 0 discriminator 1
 7284 0444 069B     		ldr	r3, [sp, #24]
 7285 0446 4345     		cmp	r3, r8
 7286 0448 13D2     		bcs	.L870
4344:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, tbl, wsect++, 1) != RES_OK)
 7287              		.loc 1 4344 0 is_stmt 1
 7288 044a 0BF1010C 		add	ip, fp, #1
 7289              	.LVL975:
 7290 044e 3846     		mov	r0, r7
 7291 0450 2146     		mov	r1, r4
 7292 0452 5A46     		mov	r2, fp
 7293 0454 0123     		movs	r3, #1
 7294 0456 CDF804C0 		str	ip, [sp, #4]
 7295 045a FFF7FEFF 		bl	disk_write
 7296              	.LVL976:
 7297 045e DDF804C0 		ldr	ip, [sp, #4]
 7298 0462 0028     		cmp	r0, #0
 7299 0464 7FF4F6AD 		bne	.L810
4343:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (n = 1; n < n_fat; n++) {		/* This loop may take a time on FAT32 volume due to many single se
 7300              		.loc 1 4343 0
 7301 0468 069B     		ldr	r3, [sp, #24]
 7302 046a 0133     		adds	r3, r3, #1
 7303 046c 0693     		str	r3, [sp, #24]
4344:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, tbl, wsect++, 1) != RES_OK)
 7304              		.loc 1 4344 0
 7305 046e E346     		mov	fp, ip
 7306              	.LVL977:
 7307 0470 E8E7     		b	.L843
 7308              	.LVL978:
 7309              	.L870:
 7310 0472 D846     		mov	r8, fp
 7311              	.LVL979:
4350:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = (fmt == FS_FAT32) ? au : (UINT)n_dir;
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 230


 7312              		.loc 1 4350 0
 7313 0474 032E     		cmp	r6, #3
 7314 0476 08BF     		it	eq
 7315 0478 AA46     		moveq	r10, r5
 7316              	.LVL980:
 7317              	.L847:
4352:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(pdrv, tbl, wsect++, 1) != RES_OK)
 7318              		.loc 1 4352 0
 7319 047a 3846     		mov	r0, r7
 7320 047c 2146     		mov	r1, r4
 7321 047e 5A46     		mov	r2, fp
 7322 0480 0123     		movs	r3, #1
 7323 0482 0BF10105 		add	r5, fp, #1
 7324              	.LVL981:
 7325 0486 FFF7FEFF 		bl	disk_write
 7326              	.LVL982:
 7327 048a 0028     		cmp	r0, #0
 7328 048c 7FF4E2AD 		bne	.L810
 7329              	.LVL983:
 7330 0490 0AEB0803 		add	r3, r10, r8
4354:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (--i);
 7331              		.loc 1 4354 0
 7332 0494 AB42     		cmp	r3, r5
 7333 0496 01D0     		beq	.L846
4352:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(pdrv, tbl, wsect++, 1) != RES_OK)
 7334              		.loc 1 4352 0
 7335 0498 AB46     		mov	fp, r5
 7336 049a EEE7     		b	.L847
 7337              	.L846:
4364:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32) {
 7338              		.loc 1 4364 0
 7339 049c 032E     		cmp	r6, #3
 7340 049e 3AD1     		bne	.L848
4366:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_StrucSig, 0x61417272);
 7341              		.loc 1 4366 0
 7342 04a0 7221     		movs	r1, #114
4365:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_LeadSig, 0x41615252);
 7343              		.loc 1 4365 0
 7344 04a2 5223     		movs	r3, #82
4366:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_StrucSig, 0x61417272);
 7345              		.loc 1 4366 0
 7346 04a4 84F8E411 		strb	r1, [r4, #484]
 7347 04a8 84F8E511 		strb	r1, [r4, #485]
4367:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_Free_Count, n_clst - 1);	/* Number of free clusters */
 7348              		.loc 1 4367 0
 7349 04ac 0499     		ldr	r1, [sp, #16]
4365:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_LeadSig, 0x41615252);
 7350              		.loc 1 4365 0
 7351 04ae 2370     		strb	r3, [r4]
 7352 04b0 6370     		strb	r3, [r4, #1]
 7353 04b2 6123     		movs	r3, #97
 7354 04b4 4122     		movs	r2, #65
 7355 04b6 A370     		strb	r3, [r4, #2]
4366:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_StrucSig, 0x61417272);
 7356              		.loc 1 4366 0
 7357 04b8 84F8E731 		strb	r3, [r4, #487]
4367:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_Free_Count, n_clst - 1);	/* Number of free clusters */
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 231


 7358              		.loc 1 4367 0
 7359 04bc 4B1E     		subs	r3, r1, #1
4365:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_LeadSig, 0x41615252);
 7360              		.loc 1 4365 0
 7361 04be E270     		strb	r2, [r4, #3]
4366:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_StrucSig, 0x61417272);
 7362              		.loc 1 4366 0
 7363 04c0 84F8E621 		strb	r2, [r4, #486]
4367:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_Free_Count, n_clst - 1);	/* Number of free clusters */
 7364              		.loc 1 4367 0
 7365 04c4 C3F30722 		ubfx	r2, r3, #8, #8
 7366 04c8 84F8E831 		strb	r3, [r4, #488]
 7367 04cc 84F8E921 		strb	r2, [r4, #489]
 7368 04d0 1A0C     		lsrs	r2, r3, #16
 7369 04d2 1B0E     		lsrs	r3, r3, #24
 7370 04d4 84F8EB31 		strb	r3, [r4, #491]
4368:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_Nxt_Free, 2);			/* Last allocated cluster# */
 7371              		.loc 1 4368 0
 7372 04d8 0223     		movs	r3, #2
 7373 04da 84F8EC31 		strb	r3, [r4, #492]
4369:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BS_55AA, 0xAA55);
 7374              		.loc 1 4369 0
 7375 04de 5523     		movs	r3, #85
 7376 04e0 84F8FE31 		strb	r3, [r4, #510]
 7377 04e4 AA23     		movs	r3, #170
4367:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_Free_Count, n_clst - 1);	/* Number of free clusters */
 7378              		.loc 1 4367 0
 7379 04e6 84F8EA21 		strb	r2, [r4, #490]
4368:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_Nxt_Free, 2);			/* Last allocated cluster# */
 7380              		.loc 1 4368 0
 7381 04ea 84F8ED01 		strb	r0, [r4, #493]
 7382 04ee 84F8EE01 		strb	r0, [r4, #494]
 7383 04f2 84F8EF01 		strb	r0, [r4, #495]
4369:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BS_55AA, 0xAA55);
 7384              		.loc 1 4369 0
 7385 04f6 84F8FF31 		strb	r3, [r4, #511]
4370:Middlewares/Third_Party/FatFs/src/ff.c **** 		disk_write(pdrv, tbl, b_vol + 1, 1);	/* Write original (VBR + 1) */
 7386              		.loc 1 4370 0
 7387 04fa 2146     		mov	r1, r4
 7388 04fc 09F10102 		add	r2, r9, #1
 7389 0500 0123     		movs	r3, #1
 7390 0502 3846     		mov	r0, r7
 7391 0504 FFF7FEFF 		bl	disk_write
 7392              	.LVL984:
4371:Middlewares/Third_Party/FatFs/src/ff.c **** 		disk_write(pdrv, tbl, b_vol + 7, 1);	/* Write backup (VBR + 7) */
 7393              		.loc 1 4371 0
 7394 0508 3846     		mov	r0, r7
 7395 050a 2146     		mov	r1, r4
 7396 050c 09F10702 		add	r2, r9, #7
 7397 0510 0123     		movs	r3, #1
 7398 0512 FFF7FEFF 		bl	disk_write
 7399              	.LVL985:
 7400              	.L848:
4374:Middlewares/Third_Party/FatFs/src/ff.c **** 	return (disk_ioctl(pdrv, CTRL_SYNC, 0) == RES_OK) ? FR_OK : FR_DISK_ERR;
 7401              		.loc 1 4374 0
 7402 0516 0021     		movs	r1, #0
 7403 0518 3846     		mov	r0, r7
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 232


 7404 051a 0A46     		mov	r2, r1
 7405 051c FFF7FEFF 		bl	disk_ioctl
 7406              	.LVL986:
 7407 0520 0030     		adds	r0, r0, #0
 7408 0522 18BF     		it	ne
 7409 0524 0120     		movne	r0, #1
 7410 0526 24E0     		b	.L865
 7411              	.LVL987:
 7412              	.L853:
4162:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 7413              		.loc 1 4162 0
 7414 0528 0B20     		movs	r0, #11
 7415              	.LVL988:
 7416 052a 22E0     		b	.L865
 7417              	.LVL989:
 7418              	.L854:
4164:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs) return FR_NOT_ENABLED;
 7419              		.loc 1 4164 0
 7420 052c 0C20     		movs	r0, #12
 7421              	.LVL990:
 7422 052e 20E0     		b	.L865
 7423              	.LVL991:
 7424              	.L855:
4171:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT) return FR_NOT_READY;
 7425              		.loc 1 4171 0
 7426 0530 0320     		movs	r0, #3
 7427              	.LVL992:
 7428 0532 1EE0     		b	.L865
 7429              	.LVL993:
 7430              	.L856:
4172:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_PROTECT) return FR_WRITE_PROTECTED;
 7431              		.loc 1 4172 0
 7432 0534 0A20     		movs	r0, #10
 7433              	.LVL994:
 7434 0536 1CE0     		b	.L865
 7435              	.LVL995:
 7436              	.L820:
4215:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_fat = (fmt == FS_FAT12) ? (n_clst * 3 + 1) / 2 + 3 : (n_clst * 2) + 4;
 7437              		.loc 1 4215 0
 7438 0538 08EB4808 		add	r8, r8, r8, lsl #1
 7439              	.LVL996:
 7440 053c 08F10108 		add	r8, r8, #1
 7441 0540 4FEA5808 		lsr	r8, r8, #1
 7442 0544 08F10308 		add	r8, r8, #3
4205:Middlewares/Third_Party/FatFs/src/ff.c **** 	fmt = FS_FAT12;
 7443              		.loc 1 4205 0
 7444 0548 0126     		movs	r6, #1
 7445              	.LVL997:
 7446              	.L850:
4216:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_fat = (n_fat + SS(fs) - 1) / SS(fs);
 7447              		.loc 1 4216 0 discriminator 3
 7448 054a 08F2FF18 		addw	r8, r8, #511
 7449              	.LVL998:
 7450 054e 4FEA5828 		lsr	r8, r8, #9
 7451              	.LVL999:
4218:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_dir = (DWORD)N_ROOTDIR * SZ_DIRE / SS(fs);
 7452              		.loc 1 4218 0 discriminator 3
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 233


 7453 0552 4FF0200A 		mov	r10, #32
4217:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_rsv = 1;
 7454              		.loc 1 4217 0 discriminator 3
 7455 0556 4FF0010C 		mov	ip, #1
 7456 055a C1E5     		b	.L849
 7457              	.LVL1000:
 7458              	.L869:
4215:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_fat = (fmt == FS_FAT12) ? (n_clst * 3 + 1) / 2 + 3 : (n_clst * 2) + 4;
 7459              		.loc 1 4215 0
 7460 055c 08F10208 		add	r8, r8, #2
 7461              	.LVL1001:
 7462 0560 4FEA4808 		lsl	r8, r8, #1
 7463              	.LVL1002:
4206:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n_clst >= MIN_FAT16) fmt = FS_FAT16;
 7464              		.loc 1 4206 0
 7465 0564 0226     		movs	r6, #2
 7466 0566 F0E7     		b	.L850
 7467              	.LVL1003:
 7468              	.L813:
4199:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (au >= _MIN_SS) au /= SS(fs);	/* Number of sectors per cluster */
 7469              		.loc 1 4199 0
 7470 0568 B5F5007F 		cmp	r5, #512
 7471 056c BFF499AD 		bcs	.L851
 7472 0570 9AE5     		b	.L817
 7473              	.LVL1004:
 7474              	.L865:
4375:Middlewares/Third_Party/FatFs/src/ff.c **** }
 7475              		.loc 1 4375 0
 7476 0572 09B0     		add	sp, sp, #36
 7477              		@ sp needed
 7478 0574 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 7479              	.LVL1005:
 7480              	.L874:
 7481              		.align	2
 7482              	.L873:
 7483 0578 2F000000 		.word	.LC3
 7484 057c 00FFFF00 		.word	16776960
 7485              		.cfi_endproc
 7486              	.LFE177:
 7488              		.section	.text.f_gets,"ax",%progbits
 7489              		.align	1
 7490              		.global	f_gets
 7491              		.thumb
 7492              		.thumb_func
 7494              	f_gets:
 7495              	.LFB178:
4462:Middlewares/Third_Party/FatFs/src/ff.c **** {
 7496              		.loc 1 4462 0
 7497              		.cfi_startproc
 7498              		@ args = 0, pretend = 0, frame = 8
 7499              		@ frame_needed = 0, uses_anonymous_args = 0
 7500              	.LVL1006:
 7501 0000 2DE9F341 		push	{r0, r1, r4, r5, r6, r7, r8, lr}
 7502              	.LCFI52:
 7503              		.cfi_def_cfa_offset 32
 7504              		.cfi_offset 0, -32
 7505              		.cfi_offset 1, -28
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 234


 7506              		.cfi_offset 4, -24
 7507              		.cfi_offset 5, -20
 7508              		.cfi_offset 6, -16
 7509              		.cfi_offset 7, -12
 7510              		.cfi_offset 8, -8
 7511              		.cfi_offset 14, -4
4462:Middlewares/Third_Party/FatFs/src/ff.c **** {
 7512              		.loc 1 4462 0
 7513 0004 0646     		mov	r6, r0
 7514 0006 0F46     		mov	r7, r1
 7515 0008 9046     		mov	r8, r2
4464:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c, *p = buff;
 7516              		.loc 1 4464 0
 7517 000a 0546     		mov	r5, r0
4463:Middlewares/Third_Party/FatFs/src/ff.c **** 	int n = 0;
 7518              		.loc 1 4463 0
 7519 000c 0024     		movs	r4, #0
 7520              	.LVL1007:
 7521              	.L879:
4469:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (n < len - 1) {	/* Read characters until buffer gets filled */
 7522              		.loc 1 4469 0 discriminator 1
 7523 000e 7B1E     		subs	r3, r7, #1
 7524 0010 9C42     		cmp	r4, r3
 7525 0012 12DA     		bge	.L877
4514:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_read(fp, s, 1, &rc);
 7526              		.loc 1 4514 0
 7527 0014 01AB     		add	r3, sp, #4
 7528 0016 4046     		mov	r0, r8
 7529 0018 6946     		mov	r1, sp
 7530 001a 0122     		movs	r2, #1
 7531 001c FFF7FEFF 		bl	f_read
 7532              	.LVL1008:
4515:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rc != 1) break;
 7533              		.loc 1 4515 0
 7534 0020 019B     		ldr	r3, [sp, #4]
 7535 0022 012B     		cmp	r3, #1
 7536 0024 09D1     		bne	.L877
4516:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0];
 7537              		.loc 1 4516 0
 7538 0026 9DF80030 		ldrb	r3, [sp]	@ zero_extendqisi2
 7539              	.LVL1009:
4518:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_USE_STRFUNC == 2 && c == '\r') continue;	/* Strip '\r' */
 7540              		.loc 1 4518 0
 7541 002a 0D2B     		cmp	r3, #13
 7542 002c EFD0     		beq	.L879
 7543              	.LVL1010:
4521:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '\n') break;		/* Break on EOL */
 7544              		.loc 1 4521 0
 7545 002e 0A2B     		cmp	r3, #10
4519:Middlewares/Third_Party/FatFs/src/ff.c **** 		*p++ = c;
 7546              		.loc 1 4519 0
 7547 0030 05F8013B 		strb	r3, [r5], #1
 7548              	.LVL1011:
4520:Middlewares/Third_Party/FatFs/src/ff.c **** 		n++;
 7549              		.loc 1 4520 0
 7550 0034 04F10104 		add	r4, r4, #1
 7551              	.LVL1012:
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 235


4521:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '\n') break;		/* Break on EOL */
 7552              		.loc 1 4521 0
 7553 0038 E9D1     		bne	.L879
 7554              	.LVL1013:
 7555              	.L877:
4523:Middlewares/Third_Party/FatFs/src/ff.c **** 	*p = 0;
 7556              		.loc 1 4523 0
 7557 003a 0023     		movs	r3, #0
4524:Middlewares/Third_Party/FatFs/src/ff.c **** 	return n ? buff : 0;			/* When no data read (eof or error), return with error. */
 7558              		.loc 1 4524 0
 7559 003c 9C42     		cmp	r4, r3
4525:Middlewares/Third_Party/FatFs/src/ff.c **** }
 7560              		.loc 1 4525 0
 7561 003e 14BF     		ite	ne
 7562 0040 3046     		movne	r0, r6
 7563 0042 1846     		moveq	r0, r3
4523:Middlewares/Third_Party/FatFs/src/ff.c **** 	*p = 0;
 7564              		.loc 1 4523 0
 7565 0044 2B70     		strb	r3, [r5]
4525:Middlewares/Third_Party/FatFs/src/ff.c **** }
 7566              		.loc 1 4525 0
 7567 0046 02B0     		add	sp, sp, #8
 7568              		@ sp needed
 7569 0048 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 7570              		.cfi_endproc
 7571              	.LFE178:
 7573              		.section	.text.f_putc,"ax",%progbits
 7574              		.align	1
 7575              		.global	f_putc
 7576              		.thumb
 7577              		.thumb_func
 7579              	f_putc:
 7580              	.LFB180:
4596:Middlewares/Third_Party/FatFs/src/ff.c **** 
4597:Middlewares/Third_Party/FatFs/src/ff.c **** 
4598:Middlewares/Third_Party/FatFs/src/ff.c **** 
4599:Middlewares/Third_Party/FatFs/src/ff.c **** int f_putc (
4600:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c,	/* A character to be output */
4601:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp		/* Pointer to the file object */
4602:Middlewares/Third_Party/FatFs/src/ff.c **** )
4603:Middlewares/Third_Party/FatFs/src/ff.c **** {
 7581              		.loc 1 4603 0
 7582              		.cfi_startproc
 7583              		@ args = 0, pretend = 0, frame = 80
 7584              		@ frame_needed = 0, uses_anonymous_args = 0
 7585              	.LVL1014:
 7586 0000 00B5     		push	{lr}
 7587              	.LCFI53:
 7588              		.cfi_def_cfa_offset 4
 7589              		.cfi_offset 14, -4
 7590 0002 95B0     		sub	sp, sp, #84
 7591              	.LCFI54:
 7592              		.cfi_def_cfa_offset 88
 7593              		.loc 1 4603 0
 7594 0004 0246     		mov	r2, r0
4604:Middlewares/Third_Party/FatFs/src/ff.c **** 	putbuff pb;
4605:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nw;
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 236


4606:Middlewares/Third_Party/FatFs/src/ff.c **** 
4607:Middlewares/Third_Party/FatFs/src/ff.c **** 
4608:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb.fp = fp;			/* Initialize output buffer */
4609:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb.nchr = pb.idx = 0;
 7595              		.loc 1 4609 0
 7596 0006 0023     		movs	r3, #0
4608:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb.fp = fp;			/* Initialize output buffer */
 7597              		.loc 1 4608 0
 7598 0008 0191     		str	r1, [sp, #4]
4610:Middlewares/Third_Party/FatFs/src/ff.c **** 
4611:Middlewares/Third_Party/FatFs/src/ff.c **** 	putc_bfd(&pb, c);	/* Put a character */
 7599              		.loc 1 4611 0
 7600 000a 01A8     		add	r0, sp, #4
 7601              	.LVL1015:
 7602 000c 1146     		mov	r1, r2
 7603              	.LVL1016:
4609:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb.nchr = pb.idx = 0;
 7604              		.loc 1 4609 0
 7605 000e 0293     		str	r3, [sp, #8]
 7606 0010 0393     		str	r3, [sp, #12]
 7607              		.loc 1 4611 0
 7608 0012 FFF7FEFF 		bl	putc_bfd
 7609              	.LVL1017:
4612:Middlewares/Third_Party/FatFs/src/ff.c **** 
4613:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (   pb.idx >= 0	/* Flush buffered characters to the file */
 7610              		.loc 1 4613 0
 7611 0016 029A     		ldr	r2, [sp, #8]
 7612 0018 002A     		cmp	r2, #0
 7613 001a 02DA     		bge	.L887
 7614              	.L889:
4614:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& f_write(pb.fp, pb.buf, (UINT)pb.idx, &nw) == FR_OK
4615:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& (UINT)pb.idx == nw) return pb.nchr;
4616:Middlewares/Third_Party/FatFs/src/ff.c **** 	return EOF;
 7615              		.loc 1 4616 0
 7616 001c 4FF0FF30 		mov	r0, #-1
 7617 0020 0BE0     		b	.L888
 7618              	.L887:
4614:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& f_write(pb.fp, pb.buf, (UINT)pb.idx, &nw) == FR_OK
 7619              		.loc 1 4614 0
 7620 0022 0198     		ldr	r0, [sp, #4]
 7621 0024 04A9     		add	r1, sp, #16
 7622 0026 6B46     		mov	r3, sp
 7623 0028 FFF7FEFF 		bl	f_write
 7624              	.LVL1018:
 7625 002c 0028     		cmp	r0, #0
 7626 002e F5D1     		bne	.L889
4615:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& (UINT)pb.idx == nw) return pb.nchr;
 7627              		.loc 1 4615 0
 7628 0030 009B     		ldr	r3, [sp]
 7629 0032 029A     		ldr	r2, [sp, #8]
 7630 0034 9A42     		cmp	r2, r3
 7631 0036 F1D1     		bne	.L889
4615:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& (UINT)pb.idx == nw) return pb.nchr;
 7632              		.loc 1 4615 0 is_stmt 0 discriminator 1
 7633 0038 0398     		ldr	r0, [sp, #12]
 7634              	.L888:
4617:Middlewares/Third_Party/FatFs/src/ff.c **** }
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 237


 7635              		.loc 1 4617 0 is_stmt 1
 7636 003a 15B0     		add	sp, sp, #84
 7637              		@ sp needed
 7638 003c 5DF804FB 		ldr	pc, [sp], #4
 7639              		.cfi_endproc
 7640              	.LFE180:
 7642              		.section	.text.f_puts,"ax",%progbits
 7643              		.align	1
 7644              		.global	f_puts
 7645              		.thumb
 7646              		.thumb_func
 7648              	f_puts:
 7649              	.LFB181:
4618:Middlewares/Third_Party/FatFs/src/ff.c **** 
4619:Middlewares/Third_Party/FatFs/src/ff.c **** 
4620:Middlewares/Third_Party/FatFs/src/ff.c **** 
4621:Middlewares/Third_Party/FatFs/src/ff.c **** 
4622:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4623:Middlewares/Third_Party/FatFs/src/ff.c **** /* Put a string to the file                                              */
4624:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4625:Middlewares/Third_Party/FatFs/src/ff.c **** 
4626:Middlewares/Third_Party/FatFs/src/ff.c **** int f_puts (
4627:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* str,	/* Pointer to the string to be output */
4628:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp				/* Pointer to the file object */
4629:Middlewares/Third_Party/FatFs/src/ff.c **** )
4630:Middlewares/Third_Party/FatFs/src/ff.c **** {
 7650              		.loc 1 4630 0
 7651              		.cfi_startproc
 7652              		@ args = 0, pretend = 0, frame = 80
 7653              		@ frame_needed = 0, uses_anonymous_args = 0
 7654              	.LVL1019:
 7655 0000 10B5     		push	{r4, lr}
 7656              	.LCFI55:
 7657              		.cfi_def_cfa_offset 8
 7658              		.cfi_offset 4, -8
 7659              		.cfi_offset 14, -4
 7660 0002 94B0     		sub	sp, sp, #80
 7661              	.LCFI56:
 7662              		.cfi_def_cfa_offset 88
4631:Middlewares/Third_Party/FatFs/src/ff.c **** 	putbuff pb;
4632:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nw;
4633:Middlewares/Third_Party/FatFs/src/ff.c **** 
4634:Middlewares/Third_Party/FatFs/src/ff.c **** 
4635:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb.fp = fp;				/* Initialize output buffer */
4636:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb.nchr = pb.idx = 0;
 7663              		.loc 1 4636 0
 7664 0004 0023     		movs	r3, #0
4635:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb.fp = fp;				/* Initialize output buffer */
 7665              		.loc 1 4635 0
 7666 0006 0191     		str	r1, [sp, #4]
 7667              		.loc 1 4636 0
 7668 0008 0293     		str	r3, [sp, #8]
 7669 000a 0393     		str	r3, [sp, #12]
 7670 000c 441E     		subs	r4, r0, #1
 7671              	.LVL1020:
 7672              	.L891:
4637:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 238


4638:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (*str)			/* Put the string */
 7673              		.loc 1 4638 0 discriminator 1
 7674 000e 14F8011F 		ldrb	r1, [r4, #1]!	@ zero_extendqisi2
 7675              	.LVL1021:
 7676 0012 19B1     		cbz	r1, .L896
 7677              	.LVL1022:
4639:Middlewares/Third_Party/FatFs/src/ff.c **** 		putc_bfd(&pb, *str++);
 7678              		.loc 1 4639 0
 7679 0014 01A8     		add	r0, sp, #4
 7680 0016 FFF7FEFF 		bl	putc_bfd
 7681              	.LVL1023:
 7682 001a F8E7     		b	.L891
 7683              	.LVL1024:
 7684              	.L896:
4640:Middlewares/Third_Party/FatFs/src/ff.c **** 
4641:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (   pb.idx >= 0		/* Flush buffered characters to the file */
 7685              		.loc 1 4641 0
 7686 001c 029A     		ldr	r2, [sp, #8]
 7687 001e 002A     		cmp	r2, #0
 7688 0020 02DA     		bge	.L893
 7689              	.L895:
4642:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& f_write(pb.fp, pb.buf, (UINT)pb.idx, &nw) == FR_OK
4643:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& (UINT)pb.idx == nw) return pb.nchr;
4644:Middlewares/Third_Party/FatFs/src/ff.c **** 	return EOF;
 7690              		.loc 1 4644 0
 7691 0022 4FF0FF30 		mov	r0, #-1
 7692 0026 0BE0     		b	.L894
 7693              	.L893:
4642:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& f_write(pb.fp, pb.buf, (UINT)pb.idx, &nw) == FR_OK
 7694              		.loc 1 4642 0
 7695 0028 0198     		ldr	r0, [sp, #4]
 7696 002a 04A9     		add	r1, sp, #16
 7697 002c 6B46     		mov	r3, sp
 7698 002e FFF7FEFF 		bl	f_write
 7699              	.LVL1025:
 7700 0032 0028     		cmp	r0, #0
 7701 0034 F5D1     		bne	.L895
4643:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& (UINT)pb.idx == nw) return pb.nchr;
 7702              		.loc 1 4643 0
 7703 0036 009B     		ldr	r3, [sp]
 7704 0038 029A     		ldr	r2, [sp, #8]
 7705 003a 9A42     		cmp	r2, r3
 7706 003c F1D1     		bne	.L895
4643:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& (UINT)pb.idx == nw) return pb.nchr;
 7707              		.loc 1 4643 0 is_stmt 0 discriminator 1
 7708 003e 0398     		ldr	r0, [sp, #12]
 7709              	.L894:
4645:Middlewares/Third_Party/FatFs/src/ff.c **** }
 7710              		.loc 1 4645 0 is_stmt 1
 7711 0040 14B0     		add	sp, sp, #80
 7712              		@ sp needed
 7713 0042 10BD     		pop	{r4, pc}
 7714              		.cfi_endproc
 7715              	.LFE181:
 7717              		.section	.text.f_printf,"ax",%progbits
 7718              		.align	1
 7719              		.global	f_printf
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 239


 7720              		.thumb
 7721              		.thumb_func
 7723              	f_printf:
 7724              	.LFB182:
4646:Middlewares/Third_Party/FatFs/src/ff.c **** 
4647:Middlewares/Third_Party/FatFs/src/ff.c **** 
4648:Middlewares/Third_Party/FatFs/src/ff.c **** 
4649:Middlewares/Third_Party/FatFs/src/ff.c **** 
4650:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4651:Middlewares/Third_Party/FatFs/src/ff.c **** /* Put a formatted string to the file                                    */
4652:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4653:Middlewares/Third_Party/FatFs/src/ff.c **** 
4654:Middlewares/Third_Party/FatFs/src/ff.c **** int f_printf (
4655:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp,			/* Pointer to the file object */
4656:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* fmt,	/* Pointer to the format string */
4657:Middlewares/Third_Party/FatFs/src/ff.c **** 	...					/* Optional arguments... */
4658:Middlewares/Third_Party/FatFs/src/ff.c **** )
4659:Middlewares/Third_Party/FatFs/src/ff.c **** {
 7725              		.loc 1 4659 0
 7726              		.cfi_startproc
 7727              		@ args = 4, pretend = 12, frame = 104
 7728              		@ frame_needed = 0, uses_anonymous_args = 1
 7729              	.LVL1026:
 7730 0000 0EB4     		push	{r1, r2, r3}
 7731              	.LCFI57:
 7732              		.cfi_def_cfa_offset 12
 7733              		.cfi_offset 1, -12
 7734              		.cfi_offset 2, -8
 7735              		.cfi_offset 3, -4
 7736 0002 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 7737              	.LCFI58:
 7738              		.cfi_def_cfa_offset 48
 7739              		.cfi_offset 4, -48
 7740              		.cfi_offset 5, -44
 7741              		.cfi_offset 6, -40
 7742              		.cfi_offset 7, -36
 7743              		.cfi_offset 8, -32
 7744              		.cfi_offset 9, -28
 7745              		.cfi_offset 10, -24
 7746              		.cfi_offset 11, -20
 7747              		.cfi_offset 14, -16
 7748 0006 9AB0     		sub	sp, sp, #104
 7749              	.LCFI59:
 7750              		.cfi_def_cfa_offset 152
 7751              		.loc 1 4659 0
 7752 0008 23AA     		add	r2, sp, #140
4660:Middlewares/Third_Party/FatFs/src/ff.c **** 	va_list arp;
4661:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE f, r;
4662:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nw, i, j, w;
4663:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD v;
4664:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c, d, s[16], *p;
4665:Middlewares/Third_Party/FatFs/src/ff.c **** 	putbuff pb;
4666:Middlewares/Third_Party/FatFs/src/ff.c **** 
4667:Middlewares/Third_Party/FatFs/src/ff.c **** 
4668:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb.fp = fp;				/* Initialize output buffer */
4669:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb.nchr = pb.idx = 0;
 7753              		.loc 1 4669 0
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 240


 7754 000a 0021     		movs	r1, #0
4659:Middlewares/Third_Party/FatFs/src/ff.c **** {
 7755              		.loc 1 4659 0
 7756 000c 52F8043B 		ldr	r3, [r2], #4
4668:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb.fp = fp;				/* Initialize output buffer */
 7757              		.loc 1 4668 0
 7758 0010 0790     		str	r0, [sp, #28]
 7759              		.loc 1 4669 0
 7760 0012 0891     		str	r1, [sp, #32]
 7761 0014 0991     		str	r1, [sp, #36]
4670:Middlewares/Third_Party/FatFs/src/ff.c **** 
4671:Middlewares/Third_Party/FatFs/src/ff.c **** 	va_start(arp, fmt);
 7762              		.loc 1 4671 0
 7763 0016 0192     		str	r2, [sp, #4]
 7764              	.LVL1027:
 7765              	.L898:
4672:Middlewares/Third_Party/FatFs/src/ff.c **** 
4673:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
4674:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = *fmt++;
 7766              		.loc 1 4674 0
 7767 0018 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 7768              	.LVL1028:
4675:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) break;			/* End of string */
 7769              		.loc 1 4675 0
 7770 001a 0029     		cmp	r1, #0
 7771 001c 00F0E180 		beq	.L899
4676:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c != '%') {				/* Non escape character */
 7772              		.loc 1 4676 0
 7773 0020 2529     		cmp	r1, #37
 7774 0022 01D0     		beq	.L900
4674:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = *fmt++;
 7775              		.loc 1 4674 0
 7776 0024 5D1C     		adds	r5, r3, #1
 7777              	.LVL1029:
 7778 0026 72E0     		b	.L909
 7779              	.LVL1030:
 7780              	.L900:
4677:Middlewares/Third_Party/FatFs/src/ff.c **** 			putc_bfd(&pb, c);
4678:Middlewares/Third_Party/FatFs/src/ff.c **** 			continue;
4679:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4680:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = f = 0;
4681:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = *fmt++;
 7781              		.loc 1 4681 0
 7782 0028 5978     		ldrb	r1, [r3, #1]	@ zero_extendqisi2
 7783              	.LVL1031:
4682:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '0') {				/* Flag: '0' padding */
 7784              		.loc 1 4682 0
 7785 002a 3029     		cmp	r1, #48
 7786 002c 03D1     		bne	.L902
 7787              	.LVL1032:
4683:Middlewares/Third_Party/FatFs/src/ff.c **** 			f = 1; c = *fmt++;
 7788              		.loc 1 4683 0
 7789 002e DD1C     		adds	r5, r3, #3
 7790              	.LVL1033:
 7791 0030 9978     		ldrb	r1, [r3, #2]	@ zero_extendqisi2
 7792              	.LVL1034:
 7793 0032 0124     		movs	r4, #1
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 241


 7794 0034 07E0     		b	.L903
 7795              	.LVL1035:
 7796              	.L902:
4684:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
4685:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c == '-') {			/* Flag: left justified */
 7797              		.loc 1 4685 0
 7798 0036 2D29     		cmp	r1, #45
 7799 0038 02D0     		beq	.L904
4681:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = *fmt++;
 7800              		.loc 1 4681 0
 7801 003a 9D1C     		adds	r5, r3, #2
4680:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = f = 0;
 7802              		.loc 1 4680 0
 7803 003c 0024     		movs	r4, #0
 7804 003e 02E0     		b	.L903
 7805              	.L904:
 7806              	.LVL1036:
4686:Middlewares/Third_Party/FatFs/src/ff.c **** 				f = 2; c = *fmt++;
 7807              		.loc 1 4686 0
 7808 0040 9978     		ldrb	r1, [r3, #2]	@ zero_extendqisi2
 7809 0042 DD1C     		adds	r5, r3, #3
 7810              	.LVL1037:
 7811 0044 0224     		movs	r4, #2
 7812              	.LVL1038:
 7813              	.L903:
4683:Middlewares/Third_Party/FatFs/src/ff.c **** 			f = 1; c = *fmt++;
 7814              		.loc 1 4683 0 discriminator 1
 7815 0046 0027     		movs	r7, #0
 7816              	.LVL1039:
 7817              	.L905:
4687:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4688:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4689:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (IsDigit(c)) {		/* Precision */
 7818              		.loc 1 4689 0 discriminator 1
 7819 0048 A1F13003 		sub	r3, r1, #48
 7820 004c 092B     		cmp	r3, #9
 7821 004e 06D8     		bhi	.L977
4690:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = w * 10 + c - '0';
 7822              		.loc 1 4690 0
 7823 0050 0A23     		movs	r3, #10
 7824 0052 03FB0717 		mla	r7, r3, r7, r1
 7825              	.LVL1040:
 7826 0056 303F     		subs	r7, r7, #48
 7827              	.LVL1041:
4691:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = *fmt++;
 7828              		.loc 1 4691 0
 7829 0058 15F8011B 		ldrb	r1, [r5], #1	@ zero_extendqisi2
 7830              	.LVL1042:
 7831 005c F4E7     		b	.L905
 7832              	.LVL1043:
 7833              	.L977:
4692:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4693:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 'l' || c == 'L') {	/* Prefix: Size is long int */
 7834              		.loc 1 4693 0 discriminator 1
 7835 005e 01F0DF02 		and	r2, r1, #223
 7836 0062 4C2A     		cmp	r2, #76
 7837 0064 2B46     		mov	r3, r5
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 242


 7838 0066 03D1     		bne	.L907
 7839              	.LVL1044:
4694:Middlewares/Third_Party/FatFs/src/ff.c **** 			f |= 4; c = *fmt++;
 7840              		.loc 1 4694 0
 7841 0068 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 7842              	.LVL1045:
 7843 006a 44F00404 		orr	r4, r4, #4
 7844              	.LVL1046:
 7845 006e 0135     		adds	r5, r5, #1
 7846              	.LVL1047:
 7847              	.L907:
4695:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4696:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!c) break;
 7848              		.loc 1 4696 0
 7849 0070 0029     		cmp	r1, #0
 7850 0072 00F0B680 		beq	.L899
 7851              	.LVL1048:
4697:Middlewares/Third_Party/FatFs/src/ff.c **** 		d = c;
4698:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsLower(d)) d -= 0x20;
 7852              		.loc 1 4698 0
 7853 0076 A1F16103 		sub	r3, r1, #97
 7854 007a 192B     		cmp	r3, #25
 7855 007c 9ABF     		itte	ls
 7856 007e A1F12003 		subls	r3, r1, #32
 7857 0082 DBB2     		uxtbls	r3, r3
 7858              	.LVL1049:
 7859 0084 0B46     		movhi	r3, r1
 7860              	.LVL1050:
4699:Middlewares/Third_Party/FatFs/src/ff.c **** 		switch (d) {				/* Type is... */
 7861              		.loc 1 4699 0
 7862 0086 4F2B     		cmp	r3, #79
 7863 0088 47D0     		beq	.L947
 7864 008a 06D8     		bhi	.L911
 7865 008c 432B     		cmp	r3, #67
 7866 008e 36D0     		beq	.L912
 7867 0090 442B     		cmp	r3, #68
 7868 0092 0FD0     		beq	.L913
 7869 0094 422B     		cmp	r3, #66
 7870 0096 3ED0     		beq	.L914
 7871 0098 39E0     		b	.L909
 7872              	.L911:
 7873 009a 552B     		cmp	r3, #85
 7874 009c 0AD0     		beq	.L913
 7875 009e 582B     		cmp	r3, #88
 7876 00a0 33D0     		beq	.L915
 7877 00a2 532B     		cmp	r3, #83
 7878 00a4 33D1     		bne	.L909
4700:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'S' :					/* String */
4701:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = va_arg(arp, TCHAR*);
 7879              		.loc 1 4701 0
 7880 00a6 019B     		ldr	r3, [sp, #4]
 7881              	.LVL1051:
 7882 00a8 1A1D     		adds	r2, r3, #4
 7883 00aa 0192     		str	r2, [sp, #4]
 7884 00ac D3F80080 		ldr	r8, [r3]
 7885              	.LVL1052:
4702:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (j = 0; p[j]; j++) ;
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 243


 7886              		.loc 1 4702 0
 7887 00b0 0026     		movs	r6, #0
 7888 00b2 01E0     		b	.L917
 7889              	.LVL1053:
 7890              	.L913:
4703:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!(f & 2)) {
4704:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (j++ < w) putc_bfd(&pb, ' ');
4705:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4706:Middlewares/Third_Party/FatFs/src/ff.c **** 			while (*p) putc_bfd(&pb, *p++);
4707:Middlewares/Third_Party/FatFs/src/ff.c **** 			while (j++ < w) putc_bfd(&pb, ' ');
4708:Middlewares/Third_Party/FatFs/src/ff.c **** 			continue;
4709:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'C' :					/* Character */
4710:Middlewares/Third_Party/FatFs/src/ff.c **** 			putc_bfd(&pb, (TCHAR)va_arg(arp, int)); continue;
4711:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'B' :					/* Binary */
4712:Middlewares/Third_Party/FatFs/src/ff.c **** 			r = 2; break;
4713:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'O' :					/* Octal */
4714:Middlewares/Third_Party/FatFs/src/ff.c **** 			r = 8; break;
4715:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'D' :					/* Signed decimal */
4716:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'U' :					/* Unsigned decimal */
4717:Middlewares/Third_Party/FatFs/src/ff.c **** 			r = 10; break;
 7891              		.loc 1 4717 0
 7892 00b4 0A20     		movs	r0, #10
 7893 00b6 31E0     		b	.L910
 7894              	.LVL1054:
 7895              	.L917:
4702:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (j = 0; p[j]; j++) ;
 7896              		.loc 1 4702 0 discriminator 1
 7897 00b8 18F80630 		ldrb	r3, [r8, r6]	@ zero_extendqisi2
 7898 00bc 0BB1     		cbz	r3, .L978
4702:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (j = 0; p[j]; j++) ;
 7899              		.loc 1 4702 0 is_stmt 0 discriminator 2
 7900 00be 0136     		adds	r6, r6, #1
 7901              	.LVL1055:
 7902 00c0 FAE7     		b	.L917
 7903              	.L978:
4703:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!(f & 2)) {
 7904              		.loc 1 4703 0 is_stmt 1
 7905 00c2 A107     		lsls	r1, r4, #30
 7906              	.LVL1056:
 7907 00c4 09D4     		bmi	.L919
 7908              	.L974:
4704:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (j++ < w) putc_bfd(&pb, ' ');
 7909              		.loc 1 4704 0 discriminator 2
 7910 00c6 3346     		mov	r3, r6
 7911              	.LVL1057:
 7912 00c8 BB42     		cmp	r3, r7
 7913 00ca 06F10106 		add	r6, r6, #1
 7914              	.LVL1058:
 7915 00ce 04D2     		bcs	.L919
 7916 00d0 07A8     		add	r0, sp, #28
 7917 00d2 2021     		movs	r1, #32
 7918 00d4 FFF7FEFF 		bl	putc_bfd
 7919              	.LVL1059:
 7920 00d8 F5E7     		b	.L974
 7921              	.L919:
 7922 00da 08F1FF34 		add	r4, r8, #-1
 7923              	.LVL1060:
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 244


 7924              	.L922:
4706:Middlewares/Third_Party/FatFs/src/ff.c **** 			while (*p) putc_bfd(&pb, *p++);
 7925              		.loc 1 4706 0 discriminator 1
 7926 00de 14F8011F 		ldrb	r1, [r4, #1]!	@ zero_extendqisi2
 7927              	.LVL1061:
 7928 00e2 41B1     		cbz	r1, .L924
 7929              	.LVL1062:
4706:Middlewares/Third_Party/FatFs/src/ff.c **** 			while (*p) putc_bfd(&pb, *p++);
 7930              		.loc 1 4706 0 is_stmt 0 discriminator 2
 7931 00e4 07A8     		add	r0, sp, #28
 7932 00e6 FFF7FEFF 		bl	putc_bfd
 7933              	.LVL1063:
 7934 00ea F8E7     		b	.L922
 7935              	.LVL1064:
 7936              	.L925:
4707:Middlewares/Third_Party/FatFs/src/ff.c **** 			while (j++ < w) putc_bfd(&pb, ' ');
 7937              		.loc 1 4707 0 is_stmt 1 discriminator 2
 7938 00ec 07A8     		add	r0, sp, #28
 7939 00ee 2021     		movs	r1, #32
 7940 00f0 FFF7FEFF 		bl	putc_bfd
 7941              	.LVL1065:
 7942 00f4 0136     		adds	r6, r6, #1
 7943              	.LVL1066:
 7944              	.L924:
4707:Middlewares/Third_Party/FatFs/src/ff.c **** 			while (j++ < w) putc_bfd(&pb, ' ');
 7945              		.loc 1 4707 0 is_stmt 0 discriminator 1
 7946 00f6 BE42     		cmp	r6, r7
 7947 00f8 F8D3     		bcc	.L925
 7948              	.LVL1067:
 7949              	.L901:
4659:Middlewares/Third_Party/FatFs/src/ff.c **** {
 7950              		.loc 1 4659 0 is_stmt 1
 7951 00fa 2B46     		mov	r3, r5
 7952 00fc 8CE7     		b	.L898
 7953              	.LVL1068:
 7954              	.L912:
4710:Middlewares/Third_Party/FatFs/src/ff.c **** 			putc_bfd(&pb, (TCHAR)va_arg(arp, int)); continue;
 7955              		.loc 1 4710 0
 7956 00fe 019B     		ldr	r3, [sp, #4]
 7957              	.LVL1069:
 7958 0100 1A1D     		adds	r2, r3, #4
 7959 0102 0192     		str	r2, [sp, #4]
 7960 0104 07A8     		add	r0, sp, #28
 7961 0106 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 7962              	.LVL1070:
 7963 0108 02E0     		b	.L973
 7964              	.LVL1071:
 7965              	.L915:
4718:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'X' :					/* Hexdecimal */
4719:Middlewares/Third_Party/FatFs/src/ff.c **** 			r = 16; break;
 7966              		.loc 1 4719 0
 7967 010a 1020     		movs	r0, #16
 7968 010c 06E0     		b	.L910
 7969              	.LVL1072:
 7970              	.L909:
4720:Middlewares/Third_Party/FatFs/src/ff.c **** 		default:					/* Unknown type (pass-through) */
4721:Middlewares/Third_Party/FatFs/src/ff.c **** 			putc_bfd(&pb, c); continue;
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 245


 7971              		.loc 1 4721 0
 7972 010e 07A8     		add	r0, sp, #28
 7973              	.L973:
 7974 0110 FFF7FEFF 		bl	putc_bfd
 7975              	.LVL1073:
 7976 0114 F1E7     		b	.L901
 7977              	.LVL1074:
 7978              	.L914:
4712:Middlewares/Third_Party/FatFs/src/ff.c **** 			r = 2; break;
 7979              		.loc 1 4712 0
 7980 0116 0220     		movs	r0, #2
 7981 0118 00E0     		b	.L910
 7982              	.L947:
4714:Middlewares/Third_Party/FatFs/src/ff.c **** 			r = 8; break;
 7983              		.loc 1 4714 0
 7984 011a 0820     		movs	r0, #8
 7985              	.L910:
 7986              	.LVL1075:
4722:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4723:Middlewares/Third_Party/FatFs/src/ff.c **** 
4724:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Get an argument and put it in numeral */
4725:Middlewares/Third_Party/FatFs/src/ff.c **** 		v = (f & 4) ? (DWORD)va_arg(arp, long) : ((d == 'D') ? (DWORD)(long)va_arg(arp, int) : (DWORD)va_
 7987              		.loc 1 4725 0
 7988 011c 14F0040F 		tst	r4, #4
 7989 0120 019A     		ldr	r2, [sp, #4]
 7990 0122 04D0     		beq	.L926
 7991              		.loc 1 4725 0 is_stmt 0 discriminator 1
 7992 0124 161D     		adds	r6, r2, #4
 7993 0126 0196     		str	r6, [sp, #4]
 7994 0128 1268     		ldr	r2, [r2]
 7995              	.LVL1076:
4726:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (d == 'D' && (v & 0x80000000)) {
 7996              		.loc 1 4726 0 is_stmt 1 discriminator 1
 7997 012a 442B     		cmp	r3, #68
 7998 012c 04E0     		b	.L976
 7999              	.LVL1077:
 8000              	.L926:
4725:Middlewares/Third_Party/FatFs/src/ff.c **** 		v = (f & 4) ? (DWORD)va_arg(arp, long) : ((d == 'D') ? (DWORD)(long)va_arg(arp, int) : (DWORD)va_
 8001              		.loc 1 4725 0 discriminator 2
 8002 012e 442B     		cmp	r3, #68
 8003 0130 02F10403 		add	r3, r2, #4
 8004              	.LVL1078:
 8005 0134 1268     		ldr	r2, [r2]
 8006 0136 0193     		str	r3, [sp, #4]
 8007              	.L976:
 8008 0138 04D1     		bne	.L928
 8009              	.LVL1079:
 8010              		.loc 1 4726 0 discriminator 1
 8011 013a 002A     		cmp	r2, #0
4727:Middlewares/Third_Party/FatFs/src/ff.c **** 			v = 0 - v;
 8012              		.loc 1 4727 0 discriminator 1
 8013 013c BCBF     		itt	lt
 8014 013e 5242     		rsblt	r2, r2, #0
 8015              	.LVL1080:
4728:Middlewares/Third_Party/FatFs/src/ff.c **** 			f |= 8;
 8016              		.loc 1 4728 0 discriminator 1
 8017 0140 44F00804 		orrlt	r4, r4, #8
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 246


 8018              	.LVL1081:
 8019              	.L928:
4729:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4730:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = 0;
 8020              		.loc 1 4730 0
 8021 0144 0023     		movs	r3, #0
 8022              	.LVL1082:
 8023              	.L933:
4731:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
4732:Middlewares/Third_Party/FatFs/src/ff.c **** 			d = (TCHAR)(v % r); v /= r;
 8024              		.loc 1 4732 0
 8025 0146 B2FBF0FC 		udiv	ip, r2, r0
 8026 014a 00FB1C22 		mls	r2, r0, ip, r2
 8027              	.LVL1083:
 8028 014e 5FFA82FE 		uxtb	lr, r2
 8029              	.LVL1084:
4733:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (d > 9) d += (c == 'x') ? 0x27 : 0x07;
 8030              		.loc 1 4733 0
 8031 0152 BEF1090F 		cmp	lr, #9
4732:Middlewares/Third_Party/FatFs/src/ff.c **** 			d = (TCHAR)(v % r); v /= r;
 8032              		.loc 1 4732 0
 8033 0156 6246     		mov	r2, ip
 8034              	.LVL1085:
 8035              		.loc 1 4733 0
 8036 0158 06D9     		bls	.L930
 8037              		.loc 1 4733 0 is_stmt 0 discriminator 1
 8038 015a 7829     		cmp	r1, #120
 8039 015c 14BF     		ite	ne
 8040 015e 0726     		movne	r6, #7
 8041 0160 2726     		moveq	r6, #39
 8042 0162 B644     		add	lr, lr, r6
 8043              	.LVL1086:
 8044 0164 5FFA8EFE 		uxtb	lr, lr
 8045              	.LVL1087:
 8046              	.L930:
 8047 0168 0DF10C09 		add	r9, sp, #12
4734:Middlewares/Third_Party/FatFs/src/ff.c **** 			s[i++] = d + '0';
 8048              		.loc 1 4734 0 is_stmt 1
 8049 016c 0EF1300E 		add	lr, lr, #48
 8050              	.LVL1088:
 8051 0170 5E1C     		adds	r6, r3, #1
 8052              	.LVL1089:
 8053 0172 09F803E0 		strb	lr, [r9, r3]
4735:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (v && i < sizeof s / sizeof s[0]);
 8054              		.loc 1 4735 0
 8055 0176 BCF1000F 		cmp	ip, #0
 8056 017a 04D0     		beq	.L932
 8057              		.loc 1 4735 0 is_stmt 0 discriminator 1
 8058 017c 102E     		cmp	r6, #16
 8059 017e 01D0     		beq	.L949
4734:Middlewares/Third_Party/FatFs/src/ff.c **** 			s[i++] = d + '0';
 8060              		.loc 1 4734 0 is_stmt 1
 8061 0180 3346     		mov	r3, r6
 8062 0182 E0E7     		b	.L933
 8063              	.L949:
 8064 0184 0F23     		movs	r3, #15
 8065              	.L932:
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 247


4736:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (f & 8) s[i++] = '-';
 8066              		.loc 1 4736 0
 8067 0186 2207     		lsls	r2, r4, #28
 8068              	.LVL1090:
 8069 0188 05D5     		bpl	.L934
 8070              	.LVL1091:
 8071              		.loc 1 4736 0 is_stmt 0 discriminator 1
 8072 018a 1AAA     		add	r2, sp, #104
 8073 018c 1644     		add	r6, r6, r2
 8074 018e 2D22     		movs	r2, #45
 8075 0190 06F85C2C 		strb	r2, [r6, #-92]
 8076 0194 9E1C     		adds	r6, r3, #2
 8077              	.LVL1092:
 8078              	.L934:
4737:Middlewares/Third_Party/FatFs/src/ff.c **** 		j = i; d = (f & 1) ? '0' : ' ';
 8079              		.loc 1 4737 0 is_stmt 1
 8080 0196 14F0010F 		tst	r4, #1
 8081 019a 0CBF     		ite	eq
 8082 019c 4FF0200A 		moveq	r10, #32
 8083 01a0 4FF0300A 		movne	r10, #48
 8084              	.LVL1093:
 8085 01a4 B046     		mov	r8, r6
 8086              	.LVL1094:
 8087              	.L936:
4738:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (!(f & 2) && j++ < w) putc_bfd(&pb, d);
 8088              		.loc 1 4738 0 discriminator 1
 8089 01a6 A307     		lsls	r3, r4, #30
 8090 01a8 0AD4     		bmi	.L941
 8091              		.loc 1 4738 0 is_stmt 0 discriminator 2
 8092 01aa B845     		cmp	r8, r7
 8093 01ac 08F1010B 		add	fp, r8, #1
 8094              	.LVL1095:
 8095 01b0 05D2     		bcs	.L979
 8096              		.loc 1 4738 0 discriminator 1
 8097 01b2 07A8     		add	r0, sp, #28
 8098 01b4 5146     		mov	r1, r10
 8099 01b6 FFF7FEFF 		bl	putc_bfd
 8100              	.LVL1096:
 8101 01ba D846     		mov	r8, fp
 8102 01bc F3E7     		b	.L936
 8103              	.L979:
 8104              		.loc 1 4738 0
 8105 01be D846     		mov	r8, fp
 8106              	.LVL1097:
 8107              	.L941:
4739:Middlewares/Third_Party/FatFs/src/ff.c **** 		do putc_bfd(&pb, s[--i]); while (i);
 8108              		.loc 1 4739 0 is_stmt 1 discriminator 1
 8109 01c0 013E     		subs	r6, r6, #1
 8110              	.LVL1098:
 8111 01c2 07A8     		add	r0, sp, #28
 8112 01c4 19F80610 		ldrb	r1, [r9, r6]	@ zero_extendqisi2
 8113 01c8 FFF7FEFF 		bl	putc_bfd
 8114              	.LVL1099:
 8115 01cc 002E     		cmp	r6, #0
 8116 01ce F7D1     		bne	.L941
 8117              	.L940:
 8118              	.LVL1100:
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 248


4740:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (j++ < w) putc_bfd(&pb, d);
 8119              		.loc 1 4740 0 discriminator 1
 8120 01d0 B845     		cmp	r8, r7
 8121 01d2 92D2     		bcs	.L901
 8122              		.loc 1 4740 0 is_stmt 0 discriminator 2
 8123 01d4 07A8     		add	r0, sp, #28
 8124 01d6 5146     		mov	r1, r10
 8125 01d8 FFF7FEFF 		bl	putc_bfd
 8126              	.LVL1101:
 8127 01dc 08F10108 		add	r8, r8, #1
 8128              	.LVL1102:
 8129 01e0 F6E7     		b	.L940
 8130              	.LVL1103:
 8131              	.L899:
4741:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4742:Middlewares/Third_Party/FatFs/src/ff.c **** 
4743:Middlewares/Third_Party/FatFs/src/ff.c **** 	va_end(arp);
4744:Middlewares/Third_Party/FatFs/src/ff.c **** 
4745:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (   pb.idx >= 0		/* Flush buffered characters to the file */
 8132              		.loc 1 4745 0 is_stmt 1
 8133 01e2 089A     		ldr	r2, [sp, #32]
 8134 01e4 002A     		cmp	r2, #0
 8135 01e6 02DA     		bge	.L943
 8136              	.L945:
4746:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& f_write(pb.fp, pb.buf, (UINT)pb.idx, &nw) == FR_OK
4747:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& (UINT)pb.idx == nw) return pb.nchr;
4748:Middlewares/Third_Party/FatFs/src/ff.c **** 	return EOF;
 8137              		.loc 1 4748 0
 8138 01e8 4FF0FF30 		mov	r0, #-1
 8139 01ec 0BE0     		b	.L944
 8140              	.L943:
4746:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& f_write(pb.fp, pb.buf, (UINT)pb.idx, &nw) == FR_OK
 8141              		.loc 1 4746 0
 8142 01ee 0798     		ldr	r0, [sp, #28]
 8143 01f0 0AA9     		add	r1, sp, #40
 8144 01f2 02AB     		add	r3, sp, #8
 8145 01f4 FFF7FEFF 		bl	f_write
 8146              	.LVL1104:
 8147 01f8 0028     		cmp	r0, #0
 8148 01fa F5D1     		bne	.L945
4747:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& (UINT)pb.idx == nw) return pb.nchr;
 8149              		.loc 1 4747 0
 8150 01fc 029B     		ldr	r3, [sp, #8]
 8151 01fe 089A     		ldr	r2, [sp, #32]
 8152 0200 9A42     		cmp	r2, r3
 8153 0202 F1D1     		bne	.L945
4747:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& (UINT)pb.idx == nw) return pb.nchr;
 8154              		.loc 1 4747 0 is_stmt 0 discriminator 1
 8155 0204 0998     		ldr	r0, [sp, #36]
 8156              	.L944:
4749:Middlewares/Third_Party/FatFs/src/ff.c **** }
 8157              		.loc 1 4749 0 is_stmt 1
 8158 0206 1AB0     		add	sp, sp, #104
 8159              		@ sp needed
 8160 0208 BDE8F04F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 8161 020c 03B0     		add	sp, sp, #12
 8162 020e 7047     		bx	lr
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 249


 8163              		.cfi_endproc
 8164              	.LFE182:
 8166              		.section	.rodata.vst.8367,"a",%progbits
 8167              		.align	1
 8168              		.set	.LANCHOR4,. + 0
 8171              	vst.8367:
 8172 0000 0004     		.short	1024
 8173 0002 0002     		.short	512
 8174 0004 0001     		.short	256
 8175 0006 8000     		.short	128
 8176 0008 4000     		.short	64
 8177 000a 2000     		.short	32
 8178 000c 1000     		.short	16
 8179 000e 0800     		.short	8
 8180 0010 0400     		.short	4
 8181 0012 0200     		.short	2
 8182 0014 0000     		.short	0
 8183              		.section	.rodata.str1.1,"aMS",%progbits,1
 8184              	.LC0:
 8185 0000 222A2B2C 		.ascii	"\"*+,:;<=>?[]|\177\000"
 8185      3A3B3C3D 
 8185      3E3F5B5D 
 8185      7C7F00
 8186              	.LC1:
 8187 000f EBFE904D 		.ascii	"\353\376\220MSDOS5.0\000"
 8187      53444F53 
 8187      352E3000 
 8188              	.LC2:
 8189 001b 4E4F204E 		.ascii	"NO NAME    FAT32   \000"
 8189      414D4520 
 8189      20202046 
 8189      41543332 
 8189      20202000 
 8190              	.LC3:
 8191 002f 4E4F204E 		.ascii	"NO NAME    FAT     \000"
 8191      414D4520 
 8191      20202046 
 8191      41542020 
 8191      20202000 
 8192              		.section	.bss.Fsid,"aw",%nobits
 8193              		.align	1
 8194              		.set	.LANCHOR2,. + 0
 8197              	Fsid:
 8198 0000 0000     		.space	2
 8199              		.section	.rodata.ExCvt,"a",%progbits
 8200              		.set	.LANCHOR3,. + 0
 8203              	ExCvt:
 8204 0000 80       		.byte	-128
 8205 0001 81       		.byte	-127
 8206 0002 82       		.byte	-126
 8207 0003 83       		.byte	-125
 8208 0004 84       		.byte	-124
 8209 0005 85       		.byte	-123
 8210 0006 86       		.byte	-122
 8211 0007 87       		.byte	-121
 8212 0008 88       		.byte	-120
 8213 0009 89       		.byte	-119
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 250


 8214 000a 8A       		.byte	-118
 8215 000b 8B       		.byte	-117
 8216 000c 8C       		.byte	-116
 8217 000d 8D       		.byte	-115
 8218 000e 8E       		.byte	-114
 8219 000f 8F       		.byte	-113
 8220 0010 90       		.byte	-112
 8221 0011 91       		.byte	-111
 8222 0012 92       		.byte	-110
 8223 0013 93       		.byte	-109
 8224 0014 94       		.byte	-108
 8225 0015 95       		.byte	-107
 8226 0016 96       		.byte	-106
 8227 0017 97       		.byte	-105
 8228 0018 98       		.byte	-104
 8229 0019 99       		.byte	-103
 8230 001a AD       		.byte	-83
 8231 001b 9B       		.byte	-101
 8232 001c 8C       		.byte	-116
 8233 001d 9D       		.byte	-99
 8234 001e AE       		.byte	-82
 8235 001f 9F       		.byte	-97
 8236 0020 A0       		.byte	-96
 8237 0021 21       		.byte	33
 8238 0022 A2       		.byte	-94
 8239 0023 A3       		.byte	-93
 8240 0024 A4       		.byte	-92
 8241 0025 A5       		.byte	-91
 8242 0026 A6       		.byte	-90
 8243 0027 A7       		.byte	-89
 8244 0028 A8       		.byte	-88
 8245 0029 A9       		.byte	-87
 8246 002a AA       		.byte	-86
 8247 002b AB       		.byte	-85
 8248 002c AC       		.byte	-84
 8249 002d AD       		.byte	-83
 8250 002e AE       		.byte	-82
 8251 002f AF       		.byte	-81
 8252 0030 B0       		.byte	-80
 8253 0031 B1       		.byte	-79
 8254 0032 B2       		.byte	-78
 8255 0033 B3       		.byte	-77
 8256 0034 B4       		.byte	-76
 8257 0035 B5       		.byte	-75
 8258 0036 B6       		.byte	-74
 8259 0037 B7       		.byte	-73
 8260 0038 B8       		.byte	-72
 8261 0039 B9       		.byte	-71
 8262 003a BA       		.byte	-70
 8263 003b BB       		.byte	-69
 8264 003c BC       		.byte	-68
 8265 003d BD       		.byte	-67
 8266 003e BE       		.byte	-66
 8267 003f BF       		.byte	-65
 8268 0040 C0       		.byte	-64
 8269 0041 C1       		.byte	-63
 8270 0042 C2       		.byte	-62
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 251


 8271 0043 C3       		.byte	-61
 8272 0044 C4       		.byte	-60
 8273 0045 C5       		.byte	-59
 8274 0046 C6       		.byte	-58
 8275 0047 C7       		.byte	-57
 8276 0048 C8       		.byte	-56
 8277 0049 C9       		.byte	-55
 8278 004a CA       		.byte	-54
 8279 004b CB       		.byte	-53
 8280 004c CC       		.byte	-52
 8281 004d CD       		.byte	-51
 8282 004e CE       		.byte	-50
 8283 004f CF       		.byte	-49
 8284 0050 D0       		.byte	-48
 8285 0051 D1       		.byte	-47
 8286 0052 D2       		.byte	-46
 8287 0053 D3       		.byte	-45
 8288 0054 D4       		.byte	-44
 8289 0055 D5       		.byte	-43
 8290 0056 D6       		.byte	-42
 8291 0057 D7       		.byte	-41
 8292 0058 D8       		.byte	-40
 8293 0059 D9       		.byte	-39
 8294 005a DA       		.byte	-38
 8295 005b DB       		.byte	-37
 8296 005c DC       		.byte	-36
 8297 005d DD       		.byte	-35
 8298 005e DE       		.byte	-34
 8299 005f DF       		.byte	-33
 8300 0060 C0       		.byte	-64
 8301 0061 C1       		.byte	-63
 8302 0062 C2       		.byte	-62
 8303 0063 C3       		.byte	-61
 8304 0064 C4       		.byte	-60
 8305 0065 C5       		.byte	-59
 8306 0066 C6       		.byte	-58
 8307 0067 C7       		.byte	-57
 8308 0068 C8       		.byte	-56
 8309 0069 C9       		.byte	-55
 8310 006a CA       		.byte	-54
 8311 006b CB       		.byte	-53
 8312 006c CC       		.byte	-52
 8313 006d CD       		.byte	-51
 8314 006e CE       		.byte	-50
 8315 006f CF       		.byte	-49
 8316 0070 D0       		.byte	-48
 8317 0071 D1       		.byte	-47
 8318 0072 D2       		.byte	-46
 8319 0073 D3       		.byte	-45
 8320 0074 D4       		.byte	-44
 8321 0075 D5       		.byte	-43
 8322 0076 D6       		.byte	-42
 8323 0077 F7       		.byte	-9
 8324 0078 D8       		.byte	-40
 8325 0079 D9       		.byte	-39
 8326 007a DA       		.byte	-38
 8327 007b DB       		.byte	-37
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 252


 8328 007c DC       		.byte	-36
 8329 007d DD       		.byte	-35
 8330 007e DE       		.byte	-34
 8331 007f 9F       		.byte	-97
 8332              		.section	.bss.Files,"aw",%nobits
 8333              		.align	2
 8334              		.set	.LANCHOR0,. + 0
 8337              	Files:
 8338 0000 00000000 		.space	24
 8338      00000000 
 8338      00000000 
 8338      00000000 
 8338      00000000 
 8339              		.section	.rodata.cst.8368,"a",%progbits
 8340              		.align	1
 8341              		.set	.LANCHOR5,. + 0
 8344              	cst.8368:
 8345 0000 0080     		.short	-32768
 8346 0002 0040     		.short	16384
 8347 0004 0020     		.short	8192
 8348 0006 0010     		.short	4096
 8349 0008 0008     		.short	2048
 8350 000a 0040     		.short	16384
 8351 000c 0020     		.short	8192
 8352 000e 0010     		.short	4096
 8353 0010 0008     		.short	2048
 8354 0012 0004     		.short	1024
 8355 0014 0002     		.short	512
 8356              		.section	.bss.FatFs,"aw",%nobits
 8357              		.align	2
 8358              		.set	.LANCHOR1,. + 0
 8361              	FatFs:
 8362 0000 00000000 		.space	4
 8363              		.text
 8364              	.Letext0:
 8365              		.file 2 "Middlewares/Third_Party/FatFs/src/integer.h"
 8366              		.file 3 "/Users/Arethusa/Library/Arduino15/packages/arduino/tools/arm-none-eabi-gcc/4.8.3-2014q1/a
 8367              		.file 4 "/Users/Arethusa/Library/Arduino15/packages/arduino/tools/arm-none-eabi-gcc/4.8.3-2014q1/a
 8368              		.file 5 "/Users/Arethusa/Library/Arduino15/packages/arduino/tools/arm-none-eabi-gcc/4.8.3-2014q1/l
 8369              		.file 6 "Middlewares/Third_Party/FatFs/src/ff.h"
 8370              		.file 7 "Middlewares/Third_Party/FatFs/src/diskio.h"
 8371              		.file 8 "<built-in>"
 8372              		.file 9 "Drivers/CMSIS/Include/core_cm4.h"
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 253


DEFINED SYMBOLS
                            *ABS*:0000000000000000 ff.c
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:19     .text.mem_cpy:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:23     .text.mem_cpy:0000000000000000 mem_cpy
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:58     .text.mem_set:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:62     .text.mem_set:0000000000000000 mem_set
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:88     .text.chk_lock:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:92     .text.chk_lock:0000000000000000 chk_lock
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:183    .text.chk_lock:0000000000000068 $d
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:189    .text.inc_lock:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:193    .text.inc_lock:0000000000000000 inc_lock
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:307    .text.inc_lock:0000000000000088 $d
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:313    .text.dec_lock:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:317    .text.dec_lock:0000000000000000 dec_lock
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:379    .text.dec_lock:0000000000000034 $d
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:384    .text.clmt_clust:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:388    .text.clmt_clust:0000000000000000 clmt_clust
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:439    .text.get_fileinfo:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:443    .text.get_fileinfo:0000000000000000 get_fileinfo
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:537    .text.get_ldnumber:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:541    .text.get_ldnumber:0000000000000000 get_ldnumber
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:603    .text.validate:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:607    .text.validate:0000000000000000 validate
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:651    .text.ld_clust.isra.0:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:655    .text.ld_clust.isra.0:0000000000000000 ld_clust.isra.0
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:687    .text.sync_window.part.2:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:691    .text.sync_window.part.2:0000000000000000 sync_window.part.2
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:768    .text.sync_window:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:772    .text.sync_window:0000000000000000 sync_window
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:794    .text.sync_fs:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:798    .text.sync_fs:0000000000000000 sync_fs
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:916    .text.move_window:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:920    .text.move_window:0000000000000000 move_window
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:986    .text.check_fs:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:990    .text.check_fs:0000000000000000 check_fs
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:1072   .text.check_fs:0000000000000084 $d
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:1078   .text.find_volume:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:1082   .text.find_volume:0000000000000000 find_volume
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:1600   .text.find_volume:0000000000000318 $d
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:1610   .text.clust2sect:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:1615   .text.clust2sect:0000000000000000 clust2sect
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:1645   .text.get_fat:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:1650   .text.get_fat:0000000000000000 get_fat
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:1804   .text.dir_sdi:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:1808   .text.dir_sdi:0000000000000000 dir_sdi
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:1948   .text.dir_remove:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:1952   .text.dir_remove:0000000000000000 dir_remove
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:2014   .text.put_fat:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:2019   .text.put_fat:0000000000000000 put_fat
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:2195   .text.create_chain:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:2199   .text.create_chain:0000000000000000 create_chain
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:2366   .text.dir_next:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:2370   .text.dir_next:0000000000000000 dir_next
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:2567   .text.follow_path:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:2571   .text.follow_path:0000000000000000 follow_path
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:2929   .text.follow_path:000000000000019c $d
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:2935   .text.dir_read.constprop.11:0000000000000000 $t
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 254


/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:2939   .text.dir_read.constprop.11:0000000000000000 dir_read.constprop.11
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:3033   .text.dir_register:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:3037   .text.dir_register:0000000000000000 dir_register
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:3142   .text.remove_chain:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:3146   .text.remove_chain:0000000000000000 remove_chain
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:3254   .text.f_mount:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:3259   .text.f_mount:0000000000000000 f_mount
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:3370   .text.f_mount:000000000000006c $d
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:3376   .text.f_open:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:3381   .text.f_open:0000000000000000 f_open
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:3704   .text.f_open:000000000000019c $d
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:3709   .text.f_read:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:3714   .text.f_read:0000000000000000 f_read
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:3972   .text.f_write:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:3977   .text.f_write:0000000000000000 f_write
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:4273   .text.putc_bfd:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:4277   .text.putc_bfd:0000000000000000 putc_bfd
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:4354   .text.f_sync:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:4359   .text.f_sync:0000000000000000 f_sync
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:4493   .text.f_close:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:4498   .text.f_close:0000000000000000 f_close
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:4540   .text.f_lseek:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:4545   .text.f_lseek:0000000000000000 f_lseek
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:4986   .text.f_opendir:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:4991   .text.f_opendir:0000000000000000 f_opendir
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:5128   .text.f_closedir:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:5133   .text.f_closedir:0000000000000000 f_closedir
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:5181   .text.f_readdir:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:5186   .text.f_readdir:0000000000000000 f_readdir
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:5277   .text.f_stat:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:5282   .text.f_stat:0000000000000000 f_stat
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:5353   .text.f_getfree:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:5358   .text.f_getfree:0000000000000000 f_getfree
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:5556   .text.f_truncate:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:5561   .text.f_truncate:0000000000000000 f_truncate
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:5704   .text.f_unlink:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:5709   .text.f_unlink:0000000000000000 f_unlink
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:5857   .text.f_mkdir:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:5862   .text.f_mkdir:0000000000000000 f_mkdir
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:6202   .text.f_chmod:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:6207   .text.f_chmod:0000000000000000 f_chmod
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:6291   .text.f_rename:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:6296   .text.f_rename:0000000000000000 f_rename
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:6517   .text.f_utime:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:6522   .text.f_utime:0000000000000000 f_utime
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:6604   .text.f_mkfs:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:6609   .text.f_mkfs:0000000000000000 f_mkfs
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:7145   .text.f_mkfs:0000000000000338 $d
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:7152   .text.f_mkfs:000000000000034c $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:7483   .text.f_mkfs:0000000000000578 $d
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:7489   .text.f_gets:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:7494   .text.f_gets:0000000000000000 f_gets
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:7574   .text.f_putc:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:7579   .text.f_putc:0000000000000000 f_putc
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:7643   .text.f_puts:0000000000000000 $t
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:7648   .text.f_puts:0000000000000000 f_puts
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:7718   .text.f_printf:0000000000000000 $t
ARM GAS  /var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s 			page 255


/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:7723   .text.f_printf:0000000000000000 f_printf
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:8167   .rodata.vst.8367:0000000000000000 $d
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:8171   .rodata.vst.8367:0000000000000000 vst.8367
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:8184   .rodata.str1.1:0000000000000000 .LC0
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:8193   .bss.Fsid:0000000000000000 $d
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:8197   .bss.Fsid:0000000000000000 Fsid
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:8203   .rodata.ExCvt:0000000000000000 ExCvt
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:8333   .bss.Files:0000000000000000 $d
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:8337   .bss.Files:0000000000000000 Files
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:8340   .rodata.cst.8368:0000000000000000 $d
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:8344   .rodata.cst.8368:0000000000000000 cst.8368
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:8357   .bss.FatFs:0000000000000000 $d
/var/folders/19/rz7506jh8xn7x1006s6s574h0000gn/T//ccBA9vnM.s:8361   .bss.FatFs:0000000000000000 FatFs
                     .debug_frame:0000000000000010 $d

UNDEFINED SYMBOLS
disk_status
disk_write
disk_ioctl
disk_read
disk_initialize
get_fattime
